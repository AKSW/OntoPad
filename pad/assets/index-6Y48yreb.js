const __vite__fileDeps=["assets/DashboardView-CJW-aeYY.js","assets/Term-CvSgzPul.js","assets/InstanceList-CsnhUEI9.js","assets/DashboardView-D39OJwqc.css","assets/VocPad-Dte0gVtT.js","assets/n3-compare-C8Df7J5Y.js","assets/EditForm-C0dprQlF.js","assets/FormDemo-DkbrQF2A.js","assets/Source-CQ-HaVhT.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var sZ=Object.defineProperty;var oZ=(t,e,n)=>e in t?sZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ir=(t,e,n)=>(oZ(t,typeof e!="symbol"?e+"":e,n),n),DS=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var be=(t,e,n)=>(DS(t,e,"read from private field"),n?n.call(t):e.get(t)),Mt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Tt=(t,e,n,r)=>(DS(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Ob=(t,e,n,r)=>({set _(a){Tt(t,e,a,n)},get _(){return be(t,e,r)}}),gt=(t,e,n)=>(DS(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Kn="top",Si="bottom",Ti="right",Jn="left",Pv="auto",Ol=[Kn,Si,Ti,Jn],Bu="start",rl="end",rH="clippingParents",Qx="viewport",Ic="popper",nH="reference",fR=Ol.reduce(function(t,e){return t.concat([e+"-"+Bu,e+"-"+rl])},[]),zx=[].concat(Ol,[Pv]).reduce(function(t,e){return t.concat([e,e+"-"+Bu,e+"-"+rl])},[]),iH="beforeRead",aH="read",sH="afterRead",oH="beforeMain",uH="main",cH="afterMain",lH="beforeWrite",dH="write",fH="afterWrite",hH=[iH,aH,sH,oH,uH,cH,lH,dH,fH];function Da(t){return t?(t.nodeName||"").toLowerCase():null}function Ei(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $u(t){var e=Ei(t).Element;return t instanceof e||t instanceof Element}function Fi(t){var e=Ei(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Gx(t){if(typeof ShadowRoot>"u")return!1;var e=Ei(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function uZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},a=e.attributes[n]||{},s=e.elements[n];!Fi(s)||!Da(s)||(Object.assign(s.style,r),Object.keys(a).forEach(function(o){var u=a[o];u===!1?s.removeAttribute(o):s.setAttribute(o,u===!0?"":u)}))})}function cZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var a=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),u=o.reduce(function(l,c){return l[c]="",l},{});!Fi(a)||!Da(a)||(Object.assign(a.style,u),Object.keys(s).forEach(function(l){a.removeAttribute(l)}))})}}const Wx={name:"applyStyles",enabled:!0,phase:"write",fn:uZ,effect:cZ,requires:["computeStyles"]};function xa(t){return t.split("-")[0]}var Lu=Math.max,tv=Math.min,nl=Math.round;function hR(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pH(){return!/^((?!chrome|android).)*safari/i.test(hR())}function il(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),a=1,s=1;e&&Fi(t)&&(a=t.offsetWidth>0&&nl(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&nl(r.height)/t.offsetHeight||1);var o=$u(t)?Ei(t):window,u=o.visualViewport,l=!pH()&&n,c=(r.left+(l&&u?u.offsetLeft:0))/a,d=(r.top+(l&&u?u.offsetTop:0))/s,f=r.width/a,h=r.height/s;return{width:f,height:h,top:d,right:c+f,bottom:d+h,left:c,x:c,y:d}}function Kx(t){var e=il(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function yH(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Gx(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function As(t){return Ei(t).getComputedStyle(t)}function lZ(t){return["table","td","th"].indexOf(Da(t))>=0}function wo(t){return(($u(t)?t.ownerDocument:t.document)||window.document).documentElement}function Nv(t){return Da(t)==="html"?t:t.assignedSlot||t.parentNode||(Gx(t)?t.host:null)||wo(t)}function yD(t){return!Fi(t)||As(t).position==="fixed"?null:t.offsetParent}function dZ(t){var e=/firefox/i.test(hR()),n=/Trident/i.test(hR());if(n&&Fi(t)){var r=As(t);if(r.position==="fixed")return null}var a=Nv(t);for(Gx(a)&&(a=a.host);Fi(a)&&["html","body"].indexOf(Da(a))<0;){var s=As(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function p_(t){for(var e=Ei(t),n=yD(t);n&&lZ(n)&&As(n).position==="static";)n=yD(n);return n&&(Da(n)==="html"||Da(n)==="body"&&As(n).position==="static")?e:n||dZ(t)||e}function Jx(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ig(t,e,n){return Lu(t,tv(e,n))}function fZ(t,e,n){var r=Ig(t,e,n);return r>n?n:r}function mH(){return{top:0,right:0,bottom:0,left:0}}function gH(t){return Object.assign({},mH(),t)}function _H(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var hZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,gH(typeof e!="number"?e:_H(e,Ol))};function pZ(t){var e,n=t.state,r=t.name,a=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,u=xa(n.placement),l=Jx(u),c=[Jn,Ti].indexOf(u)>=0,d=c?"height":"width";if(!(!s||!o)){var f=hZ(a.padding,n),h=Kx(s),p=l==="y"?Kn:Jn,m=l==="y"?Si:Ti,y=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],g=o[l]-n.rects.reference[l],_=p_(s),v=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,b=y/2-g/2,w=f[p],S=v-h[d]-f[m],A=v/2-h[d]/2+b,x=Ig(w,A,S),M=l;n.modifiersData[r]=(e={},e[M]=x,e.centerOffset=x-A,e)}}function yZ(t){var e=t.state,n=t.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||yH(e.elements.popper,a)&&(e.elements.arrow=a))}const bH={name:"arrow",enabled:!0,phase:"main",fn:pZ,effect:yZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function al(t){return t.split("-")[1]}var mZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gZ(t,e){var n=t.x,r=t.y,a=e.devicePixelRatio||1;return{x:nl(n*a)/a||0,y:nl(r*a)/a||0}}function mD(t){var e,n=t.popper,r=t.popperRect,a=t.placement,s=t.variation,o=t.offsets,u=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,y=m===void 0?0:m,g=typeof d=="function"?d({x:p,y}):{x:p,y};p=g.x,y=g.y;var _=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),b=Jn,w=Kn,S=window;if(c){var A=p_(n),x="clientHeight",M="clientWidth";if(A===Ei(n)&&(A=wo(n),As(A).position!=="static"&&u==="absolute"&&(x="scrollHeight",M="scrollWidth")),A=A,a===Kn||(a===Jn||a===Ti)&&s===rl){w=Si;var I=f&&A===S&&S.visualViewport?S.visualViewport.height:A[x];y-=I-r.height,y*=l?1:-1}if(a===Jn||(a===Kn||a===Si)&&s===rl){b=Ti;var N=f&&A===S&&S.visualViewport?S.visualViewport.width:A[M];p-=N-r.width,p*=l?1:-1}}var F=Object.assign({position:u},c&&mZ),D=d===!0?gZ({x:p,y},Ei(n)):{x:p,y};if(p=D.x,y=D.y,l){var V;return Object.assign({},F,(V={},V[w]=v?"0":"",V[b]=_?"0":"",V.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",V))}return Object.assign({},F,(e={},e[w]=v?y+"px":"",e[b]=_?p+"px":"",e.transform="",e))}function _Z(t){var e=t.state,n=t.options,r=n.gpuAcceleration,a=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,u=n.roundOffsets,l=u===void 0?!0:u,c={placement:xa(e.placement),variation:al(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mD(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mD(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Xx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_Z,data:{}};var Rb={passive:!0};function bZ(t){var e=t.state,n=t.instance,r=t.options,a=r.scroll,s=a===void 0?!0:a,o=r.resize,u=o===void 0?!0:o,l=Ei(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",n.update,Rb)}),u&&l.addEventListener("resize",n.update,Rb),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Rb)}),u&&l.removeEventListener("resize",n.update,Rb)}}const Yx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bZ,data:{}};var vZ={left:"right",right:"left",bottom:"top",top:"bottom"};function E1(t){return t.replace(/left|right|bottom|top/g,function(e){return vZ[e]})}var wZ={start:"end",end:"start"};function gD(t){return t.replace(/start|end/g,function(e){return wZ[e]})}function Zx(t){var e=Ei(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function eI(t){return il(wo(t)).left+Zx(t).scrollLeft}function SZ(t,e){var n=Ei(t),r=wo(t),a=n.visualViewport,s=r.clientWidth,o=r.clientHeight,u=0,l=0;if(a){s=a.width,o=a.height;var c=pH();(c||!c&&e==="fixed")&&(u=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:u+eI(t),y:l}}function TZ(t){var e,n=wo(t),r=Zx(t),a=(e=t.ownerDocument)==null?void 0:e.body,s=Lu(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Lu(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+eI(t),l=-r.scrollTop;return As(a||n).direction==="rtl"&&(u+=Lu(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:u,y:l}}function tI(t){var e=As(t),n=e.overflow,r=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function vH(t){return["html","body","#document"].indexOf(Da(t))>=0?t.ownerDocument.body:Fi(t)&&tI(t)?t:vH(Nv(t))}function Pg(t,e){var n;e===void 0&&(e=[]);var r=vH(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ei(r),o=a?[s].concat(s.visualViewport||[],tI(r)?r:[]):r,u=e.concat(o);return a?u:u.concat(Pg(Nv(o)))}function pR(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function EZ(t,e){var n=il(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function _D(t,e,n){return e===Qx?pR(SZ(t,n)):$u(e)?EZ(e,n):pR(TZ(wo(t)))}function AZ(t){var e=Pg(Nv(t)),n=["absolute","fixed"].indexOf(As(t).position)>=0,r=n&&Fi(t)?p_(t):t;return $u(r)?e.filter(function(a){return $u(a)&&yH(a,r)&&Da(a)!=="body"}):[]}function OZ(t,e,n,r){var a=e==="clippingParents"?AZ(t):[].concat(e),s=[].concat(a,[n]),o=s[0],u=s.reduce(function(l,c){var d=_D(t,c,r);return l.top=Lu(d.top,l.top),l.right=tv(d.right,l.right),l.bottom=tv(d.bottom,l.bottom),l.left=Lu(d.left,l.left),l},_D(t,o,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function wH(t){var e=t.reference,n=t.element,r=t.placement,a=r?xa(r):null,s=r?al(r):null,o=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,l;switch(a){case Kn:l={x:o,y:e.y-n.height};break;case Si:l={x:o,y:e.y+e.height};break;case Ti:l={x:e.x+e.width,y:u};break;case Jn:l={x:e.x-n.width,y:u};break;default:l={x:e.x,y:e.y}}var c=a?Jx(a):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case Bu:l[c]=l[c]-(e[d]/2-n[d]/2);break;case rl:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function sl(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,u=n.boundary,l=u===void 0?rH:u,c=n.rootBoundary,d=c===void 0?Qx:c,f=n.elementContext,h=f===void 0?Ic:f,p=n.altBoundary,m=p===void 0?!1:p,y=n.padding,g=y===void 0?0:y,_=gH(typeof g!="number"?g:_H(g,Ol)),v=h===Ic?nH:Ic,b=t.rects.popper,w=t.elements[m?v:h],S=OZ($u(w)?w:w.contextElement||wo(t.elements.popper),l,d,o),A=il(t.elements.reference),x=wH({reference:A,element:b,strategy:"absolute",placement:a}),M=pR(Object.assign({},b,x)),I=h===Ic?M:A,N={top:S.top-I.top+_.top,bottom:I.bottom-S.bottom+_.bottom,left:S.left-I.left+_.left,right:I.right-S.right+_.right},F=t.modifiersData.offset;if(h===Ic&&F){var D=F[a];Object.keys(N).forEach(function(V){var k=[Ti,Si].indexOf(V)>=0?1:-1,U=[Kn,Si].indexOf(V)>=0?"y":"x";N[V]+=D[U]*k})}return N}function RZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,a=n.boundary,s=n.rootBoundary,o=n.padding,u=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?zx:l,d=al(r),f=d?u?fR:fR.filter(function(m){return al(m)===d}):Ol,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,y){return m[y]=sl(t,{placement:y,boundary:a,rootBoundary:s,padding:o})[xa(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function xZ(t){if(xa(t)===Pv)return[];var e=E1(t);return[gD(t),e,gD(e)]}function IZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var a=n.mainAxis,s=a===void 0?!0:a,o=n.altAxis,u=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,y=n.allowedAutoPlacements,g=e.options.placement,_=xa(g),v=_===g,b=l||(v||!m?[E1(g)]:xZ(g)),w=[g].concat(b).reduce(function(ue,Ie){return ue.concat(xa(Ie)===Pv?RZ(e,{placement:Ie,boundary:d,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:y}):Ie)},[]),S=e.rects.reference,A=e.rects.popper,x=new Map,M=!0,I=w[0],N=0;N<w.length;N++){var F=w[N],D=xa(F),V=al(F)===Bu,k=[Kn,Si].indexOf(D)>=0,U=k?"width":"height",H=sl(e,{placement:F,boundary:d,rootBoundary:f,altBoundary:h,padding:c}),X=k?V?Ti:Jn:V?Si:Kn;S[U]>A[U]&&(X=E1(X));var ee=E1(X),fe=[];if(s&&fe.push(H[D]<=0),u&&fe.push(H[X]<=0,H[ee]<=0),fe.every(function(ue){return ue})){I=F,M=!1;break}x.set(F,fe)}if(M)for(var Te=m?3:1,De=function(Ie){var Ne=w.find(function(we){var Ae=x.get(we);if(Ae)return Ae.slice(0,Ie).every(function(Se){return Se})});if(Ne)return I=Ne,"break"},Ve=Te;Ve>0;Ve--){var le=De(Ve);if(le==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const SH={name:"flip",enabled:!0,phase:"main",fn:IZ,requiresIfExists:["offset"],data:{_skip:!1}};function bD(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function vD(t){return[Kn,Ti,Si,Jn].some(function(e){return t[e]>=0})}function PZ(t){var e=t.state,n=t.name,r=e.rects.reference,a=e.rects.popper,s=e.modifiersData.preventOverflow,o=sl(e,{elementContext:"reference"}),u=sl(e,{altBoundary:!0}),l=bD(o,r),c=bD(u,a,s),d=vD(l),f=vD(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const TH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:PZ};function NZ(t,e,n){var r=xa(t),a=[Jn,Kn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],u=s[1];return o=o||0,u=(u||0)*a,[Jn,Ti].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}function DZ(t){var e=t.state,n=t.options,r=t.name,a=n.offset,s=a===void 0?[0,0]:a,o=zx.reduce(function(d,f){return d[f]=NZ(f,e.rects,s),d},{}),u=o[e.placement],l=u.x,c=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const EH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:DZ};function CZ(t){var e=t.state,n=t.name;e.modifiersData[n]=wH({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const rI={name:"popperOffsets",enabled:!0,phase:"read",fn:CZ,data:{}};function LZ(t){return t==="x"?"y":"x"}function jZ(t){var e=t.state,n=t.options,r=t.name,a=n.mainAxis,s=a===void 0?!0:a,o=n.altAxis,u=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,y=m===void 0?0:m,g=sl(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),_=xa(e.placement),v=al(e.placement),b=!v,w=Jx(_),S=LZ(w),A=e.modifiersData.popperOffsets,x=e.rects.reference,M=e.rects.popper,I=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,N=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(A){if(s){var V,k=w==="y"?Kn:Jn,U=w==="y"?Si:Ti,H=w==="y"?"height":"width",X=A[w],ee=X+g[k],fe=X-g[U],Te=p?-M[H]/2:0,De=v===Bu?x[H]:M[H],Ve=v===Bu?-M[H]:-x[H],le=e.elements.arrow,ue=p&&le?Kx(le):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mH(),Ne=Ie[k],we=Ie[U],Ae=Ig(0,x[H],ue[H]),Se=b?x[H]/2-Te-Ae-Ne-N.mainAxis:De-Ae-Ne-N.mainAxis,z=b?-x[H]/2+Te+Ae+we+N.mainAxis:Ve+Ae+we+N.mainAxis,L=e.elements.arrow&&p_(e.elements.arrow),B=L?w==="y"?L.clientTop||0:L.clientLeft||0:0,T=(V=F==null?void 0:F[w])!=null?V:0,O=X+Se-T-B,$=X+z-T,G=Ig(p?tv(ee,O):ee,X,p?Lu(fe,$):fe);A[w]=G,D[w]=G-X}if(u){var Q,Y=w==="x"?Kn:Jn,ie=w==="x"?Si:Ti,te=A[S],he=S==="y"?"height":"width",ce=te+g[Y],ve=te-g[ie],Ce=[Kn,Jn].indexOf(_)!==-1,Ee=(Q=F==null?void 0:F[S])!=null?Q:0,Ue=Ce?ce:te-x[he]-M[he]-Ee+N.altAxis,Fe=Ce?te+x[he]+M[he]-Ee-N.altAxis:ve,Qe=p&&Ce?fZ(Ue,te,Fe):Ig(p?Ue:ce,te,p?Fe:ve);A[S]=Qe,D[S]=Qe-te}e.modifiersData[r]=D}}const AH={name:"preventOverflow",enabled:!0,phase:"main",fn:jZ,requiresIfExists:["offset"]};function MZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function FZ(t){return t===Ei(t)||!Fi(t)?Zx(t):MZ(t)}function qZ(t){var e=t.getBoundingClientRect(),n=nl(e.width)/t.offsetWidth||1,r=nl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function BZ(t,e,n){n===void 0&&(n=!1);var r=Fi(e),a=Fi(e)&&qZ(e),s=wo(e),o=il(t,a,n),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Da(e)!=="body"||tI(s))&&(u=FZ(e)),Fi(e)?(l=il(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=eI(s))),{x:o.left+u.scrollLeft-l.x,y:o.top+u.scrollTop-l.y,width:o.width,height:o.height}}function $Z(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function a(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(u){if(!n.has(u)){var l=e.get(u);l&&a(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||a(s)}),r}function UZ(t){var e=$Z(t);return hH.reduce(function(n,r){return n.concat(e.filter(function(a){return a.phase===r}))},[])}function kZ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function VZ(t){var e=t.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var wD={placement:"bottom",modifiers:[],strategy:"absolute"};function SD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Dv(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,a=e.defaultOptions,s=a===void 0?wD:a;return function(u,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},wD,s),modifiersData:{},elements:{reference:u,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(_){var v=typeof _=="function"?_(d.options):_;y(),d.options=Object.assign({},s,d.options,v),d.scrollParents={reference:$u(u)?Pg(u):u.contextElement?Pg(u.contextElement):[],popper:Pg(l)};var b=UZ(VZ([].concat(r,d.options.modifiers)));return d.orderedModifiers=b.filter(function(w){return w.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var _=d.elements,v=_.reference,b=_.popper;if(SD(v,b)){d.rects={reference:BZ(v,p_(b),d.options.strategy==="fixed"),popper:Kx(b)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(N){return d.modifiersData[N.name]=Object.assign({},N.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var S=d.orderedModifiers[w],A=S.fn,x=S.options,M=x===void 0?{}:x,I=S.name;typeof A=="function"&&(d=A({state:d,options:M,name:I,instance:p})||d)}}}},update:kZ(function(){return new Promise(function(g){p.forceUpdate(),g(d)})}),destroy:function(){y(),h=!0}};if(!SD(u,l))return p;p.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function m(){d.orderedModifiers.forEach(function(g){var _=g.name,v=g.options,b=v===void 0?{}:v,w=g.effect;if(typeof w=="function"){var S=w({state:d,name:_,instance:p,options:b}),A=function(){};f.push(S||A)}})}function y(){f.forEach(function(g){return g()}),f=[]}return p}}var HZ=Dv(),QZ=[Yx,rI,Xx,Wx],zZ=Dv({defaultModifiers:QZ}),GZ=[Yx,rI,Xx,Wx,EH,SH,AH,bH,TH],nI=Dv({defaultModifiers:GZ});const OH=Object.freeze(Object.defineProperty({__proto__:null,afterMain:cH,afterRead:sH,afterWrite:fH,applyStyles:Wx,arrow:bH,auto:Pv,basePlacements:Ol,beforeMain:oH,beforeRead:iH,beforeWrite:lH,bottom:Si,clippingParents:rH,computeStyles:Xx,createPopper:nI,createPopperBase:HZ,createPopperLite:zZ,detectOverflow:sl,end:rl,eventListeners:Yx,flip:SH,hide:TH,left:Jn,main:uH,modifierPhases:hH,offset:EH,placements:zx,popper:Ic,popperGenerator:Dv,popperOffsets:rI,preventOverflow:AH,read:aH,reference:nH,right:Ti,start:Bu,top:Kn,variationPlacements:fR,viewport:Qx,write:dH},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Bs=new Map,CS={set(t,e,n){Bs.has(t)||Bs.set(t,new Map);const r=Bs.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get(t,e){return Bs.has(t)&&Bs.get(t).get(e)||null},remove(t,e){if(!Bs.has(t))return;const n=Bs.get(t);n.delete(e),n.size===0&&Bs.delete(t)}},WZ=1e6,KZ=1e3,yR="transitionend",RH=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),JZ=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),XZ=t=>{do t+=Math.floor(Math.random()*WZ);while(document.getElementById(t));return t},YZ=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),a=Number.parseFloat(n);return!r&&!a?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*KZ)},xH=t=>{t.dispatchEvent(new Event(yR))},vs=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),fo=t=>vs(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(RH(t)):null,Rl=t=>{if(!vs(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const r=t.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return e},ho=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",IH=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?IH(t.parentNode):null},rv=()=>{},y_=t=>{t.offsetHeight},PH=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,LS=[],ZZ=t=>{document.readyState==="loading"?(LS.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of LS)e()}),LS.push(t)):t()},$i=()=>document.documentElement.dir==="rtl",Hi=t=>{ZZ(()=>{const e=PH();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},oi=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,NH=(t,e,n=!0)=>{if(!n){oi(t);return}const a=YZ(e)+5;let s=!1;const o=({target:u})=>{u===e&&(s=!0,e.removeEventListener(yR,o),oi(t))};e.addEventListener(yR,o),setTimeout(()=>{s||xH(e)},a)},iI=(t,e,n,r)=>{const a=t.length;let s=t.indexOf(e);return s===-1?!n&&r?t[a-1]:t[0]:(s+=n?1:-1,r&&(s=(s+a)%a),t[Math.max(0,Math.min(s,a-1))])},eee=/[^.]*(?=\..*)\.|.*/,tee=/\..*/,ree=/::\d+$/,jS={};let TD=1;const DH={mouseenter:"mouseover",mouseleave:"mouseout"},nee=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CH(t,e){return e&&`${e}::${TD++}`||t.uidEvent||TD++}function LH(t){const e=CH(t);return t.uidEvent=e,jS[e]=jS[e]||{},jS[e]}function iee(t,e){return function n(r){return aI(r,{delegateTarget:t}),n.oneOff&&Xe.off(t,r.type,e),e.apply(t,[r])}}function aee(t,e,n){return function r(a){const s=t.querySelectorAll(e);for(let{target:o}=a;o&&o!==this;o=o.parentNode)for(const u of s)if(u===o)return aI(a,{delegateTarget:o}),r.oneOff&&Xe.off(t,a.type,e,n),n.apply(o,[a])}}function jH(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function MH(t,e,n){const r=typeof e=="string",a=r?n:e||n;let s=FH(t);return nee.has(s)||(s=t),[r,a,s]}function ED(t,e,n,r,a){if(typeof e!="string"||!t)return;let[s,o,u]=MH(e,n,r);e in DH&&(o=(m=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return m.call(this,y)})(o));const l=LH(t),c=l[u]||(l[u]={}),d=jH(c,o,s?n:null);if(d){d.oneOff=d.oneOff&&a;return}const f=CH(o,e.replace(eee,"")),h=s?aee(t,n,o):iee(t,o);h.delegationSelector=s?n:null,h.callable=o,h.oneOff=a,h.uidEvent=f,c[f]=h,t.addEventListener(u,h,s)}function mR(t,e,n,r,a){const s=jH(e[n],r,a);s&&(t.removeEventListener(n,s,!!a),delete e[n][s.uidEvent])}function see(t,e,n,r){const a=e[n]||{};for(const[s,o]of Object.entries(a))s.includes(r)&&mR(t,e,n,o.callable,o.delegationSelector)}function FH(t){return t=t.replace(tee,""),DH[t]||t}const Xe={on(t,e,n,r){ED(t,e,n,r,!1)},one(t,e,n,r){ED(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[a,s,o]=MH(e,n,r),u=o!==e,l=LH(t),c=l[o]||{},d=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;mR(t,l,o,s,a?n:null);return}if(d)for(const f of Object.keys(l))see(t,l,f,e.slice(1));for(const[f,h]of Object.entries(c)){const p=f.replace(ree,"");(!u||e.includes(p))&&mR(t,l,o,h.callable,h.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=PH(),a=FH(e),s=e!==a;let o=null,u=!0,l=!0,c=!1;s&&r&&(o=r.Event(e,n),r(t).trigger(o),u=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const d=aI(new Event(e,{bubbles:u,cancelable:!0}),n);return c&&d.preventDefault(),l&&t.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function aI(t,e={}){for(const[n,r]of Object.entries(e))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}function AD(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function MS(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ws={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${MS(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${MS(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let a=r.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),e[a]=AD(t.dataset[r])}return e},getDataAttribute(t,e){return AD(t.getAttribute(`data-bs-${MS(e)}`))}};class m_{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const r=vs(n)?ws.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...vs(n)?ws.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[r,a]of Object.entries(n)){const s=e[r],o=vs(s)?"element":JZ(s);if(!new RegExp(a).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${a}".`)}}}const oee="5.3.3";class ua extends m_{constructor(e,n){super(),e=fo(e),e&&(this._element=e,this._config=this._getConfig(n),CS.set(this._element,this.constructor.DATA_KEY,this))}dispose(){CS.remove(this._element,this.constructor.DATA_KEY),Xe.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){NH(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return CS.get(fo(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return oee}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const FS=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>RH(n)).join(","):null},wt={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!ho(n)&&Rl(n))},getSelectorFromElement(t){const e=FS(t);return e&&wt.findOne(e)?e:null},getElementFromSelector(t){const e=FS(t);return e?wt.findOne(e):null},getMultipleElementsFromSelector(t){const e=FS(t);return e?wt.find(e):[]}},Cv=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;Xe.on(document,n,`[data-bs-dismiss="${r}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),ho(this))return;const s=wt.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(s)[e]()})},uee="alert",cee="bs.alert",qH=`.${cee}`,lee=`close${qH}`,dee=`closed${qH}`,fee="fade",hee="show";class Lv extends ua{static get NAME(){return uee}close(){if(Xe.trigger(this._element,lee).defaultPrevented)return;this._element.classList.remove(hee);const n=this._element.classList.contains(fee);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),Xe.trigger(this._element,dee),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Lv.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Cv(Lv,"close");Hi(Lv);const pee="button",yee="bs.button",mee=`.${yee}`,gee=".data-api",_ee="active",OD='[data-bs-toggle="button"]',bee=`click${mee}${gee}`;class jv extends ua{static get NAME(){return pee}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(_ee))}static jQueryInterface(e){return this.each(function(){const n=jv.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}Xe.on(document,bee,OD,t=>{t.preventDefault();const e=t.target.closest(OD);jv.getOrCreateInstance(e).toggle()});Hi(jv);const vee="swipe",xl=".bs.swipe",wee=`touchstart${xl}`,See=`touchmove${xl}`,Tee=`touchend${xl}`,Eee=`pointerdown${xl}`,Aee=`pointerup${xl}`,Oee="touch",Ree="pen",xee="pointer-event",Iee=40,Pee={endCallback:null,leftCallback:null,rightCallback:null},Nee={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class nv extends m_{constructor(e,n){super(),this._element=e,!(!e||!nv.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Pee}static get DefaultType(){return Nee}static get NAME(){return vee}dispose(){Xe.off(this._element,xl)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),oi(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Iee)return;const n=e/this._deltaX;this._deltaX=0,n&&oi(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Xe.on(this._element,Eee,e=>this._start(e)),Xe.on(this._element,Aee,e=>this._end(e)),this._element.classList.add(xee)):(Xe.on(this._element,wee,e=>this._start(e)),Xe.on(this._element,See,e=>this._move(e)),Xe.on(this._element,Tee,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Ree||e.pointerType===Oee)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Dee="carousel",Cee="bs.carousel",So=`.${Cee}`,BH=".data-api",Lee="ArrowLeft",jee="ArrowRight",Mee=500,ld="next",_c="prev",Pc="left",A1="right",Fee=`slide${So}`,qS=`slid${So}`,qee=`keydown${So}`,Bee=`mouseenter${So}`,$ee=`mouseleave${So}`,Uee=`dragstart${So}`,kee=`load${So}${BH}`,Vee=`click${So}${BH}`,$H="carousel",xb="active",Hee="slide",Qee="carousel-item-end",zee="carousel-item-start",Gee="carousel-item-next",Wee="carousel-item-prev",UH=".active",kH=".carousel-item",Kee=UH+kH,Jee=".carousel-item img",Xee=".carousel-indicators",Yee="[data-bs-slide], [data-bs-slide-to]",Zee='[data-bs-ride="carousel"]',ete={[Lee]:A1,[jee]:Pc},tte={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},rte={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class g_ extends ua{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=wt.findOne(Xee,this._element),this._addEventListeners(),this._config.ride===$H&&this.cycle()}static get Default(){return tte}static get DefaultType(){return rte}static get NAME(){return Dee}next(){this._slide(ld)}nextWhenVisible(){!document.hidden&&Rl(this._element)&&this.next()}prev(){this._slide(_c)}pause(){this._isSliding&&xH(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Xe.one(this._element,qS,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){Xe.one(this._element,qS,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const a=e>r?ld:_c;this._slide(a,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Xe.on(this._element,qee,e=>this._keydown(e)),this._config.pause==="hover"&&(Xe.on(this._element,Bee,()=>this.pause()),Xe.on(this._element,$ee,()=>this._maybeEnableCycle())),this._config.touch&&nv.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of wt.find(Jee,this._element))Xe.on(r,Uee,a=>a.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Pc)),rightCallback:()=>this._slide(this._directionToOrder(A1)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Mee+this._config.interval))}};this._swipeHelper=new nv(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=ete[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=wt.findOne(UH,this._indicatorsElement);n.classList.remove(xb),n.removeAttribute("aria-current");const r=wt.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(xb),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const r=this._getActive(),a=e===ld,s=n||iI(this._getItems(),r,a,this._config.wrap);if(s===r)return;const o=this._getItemIndex(s),u=p=>Xe.trigger(this._element,p,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:o});if(u(Fee).defaultPrevented||!r||!s)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const d=a?zee:Qee,f=a?Gee:Wee;s.classList.add(f),y_(s),r.classList.add(d),s.classList.add(d);const h=()=>{s.classList.remove(d,f),s.classList.add(xb),r.classList.remove(xb,f,d),this._isSliding=!1,u(qS)};this._queueCallback(h,r,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(Hee)}_getActive(){return wt.findOne(Kee,this._element)}_getItems(){return wt.find(kH,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return $i()?e===Pc?_c:ld:e===Pc?ld:_c}_orderToDirection(e){return $i()?e===_c?Pc:A1:e===_c?A1:Pc}static jQueryInterface(e){return this.each(function(){const n=g_.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Xe.on(document,Vee,Yee,function(t){const e=wt.getElementFromSelector(this);if(!e||!e.classList.contains($H))return;t.preventDefault();const n=g_.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(ws.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});Xe.on(window,kee,()=>{const t=wt.find(Zee);for(const e of t)g_.getOrCreateInstance(e)});Hi(g_);const nte="collapse",ite="bs.collapse",__=`.${ite}`,ate=".data-api",ste=`show${__}`,ote=`shown${__}`,ute=`hide${__}`,cte=`hidden${__}`,lte=`click${__}${ate}`,BS="show",Mc="collapse",Ib="collapsing",dte="collapsed",fte=`:scope .${Mc} .${Mc}`,hte="collapse-horizontal",pte="width",yte="height",mte=".collapse.show, .collapse.collapsing",gR='[data-bs-toggle="collapse"]',gte={parent:null,toggle:!0},_te={parent:"(null|element)",toggle:"boolean"};class Qg extends ua{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const r=wt.find(gR);for(const a of r){const s=wt.getSelectorFromElement(a),o=wt.find(s).filter(u=>u===this._element);s!==null&&o.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return gte}static get DefaultType(){return _te}static get NAME(){return nte}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(mte).filter(u=>u!==this._element).map(u=>Qg.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||Xe.trigger(this._element,ste).defaultPrevented)return;for(const u of e)u.hide();const r=this._getDimension();this._element.classList.remove(Mc),this._element.classList.add(Ib),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(Ib),this._element.classList.add(Mc,BS),this._element.style[r]="",Xe.trigger(this._element,ote)},o=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[r]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||Xe.trigger(this._element,ute).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,y_(this._element),this._element.classList.add(Ib),this._element.classList.remove(Mc,BS);for(const a of this._triggerArray){const s=wt.getElementFromSelector(a);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Ib),this._element.classList.add(Mc),Xe.trigger(this._element,cte)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(BS)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=fo(e.parent),e}_getDimension(){return this._element.classList.contains(hte)?pte:yte}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(gR);for(const n of e){const r=wt.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){const n=wt.find(fte,this._config.parent);return wt.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const r of e)r.classList.toggle(dte,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const r=Qg.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Xe.on(document,lte,gR,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of wt.getMultipleElementsFromSelector(this))Qg.getOrCreateInstance(e,{toggle:!1}).toggle()});Hi(Qg);const RD="dropdown",bte="bs.dropdown",Ku=`.${bte}`,sI=".data-api",vte="Escape",xD="Tab",wte="ArrowUp",ID="ArrowDown",Ste=2,Tte=`hide${Ku}`,Ete=`hidden${Ku}`,Ate=`show${Ku}`,Ote=`shown${Ku}`,VH=`click${Ku}${sI}`,HH=`keydown${Ku}${sI}`,Rte=`keyup${Ku}${sI}`,Nc="show",xte="dropup",Ite="dropend",Pte="dropstart",Nte="dropup-center",Dte="dropdown-center",Ou='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Cte=`${Ou}.${Nc}`,O1=".dropdown-menu",Lte=".navbar",jte=".navbar-nav",Mte=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Fte=$i()?"top-end":"top-start",qte=$i()?"top-start":"top-end",Bte=$i()?"bottom-end":"bottom-start",$te=$i()?"bottom-start":"bottom-end",Ute=$i()?"left-start":"right-start",kte=$i()?"right-start":"left-start",Vte="top",Hte="bottom",Qte={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},zte={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ia extends ua{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=wt.next(this._element,O1)[0]||wt.prev(this._element,O1)[0]||wt.findOne(O1,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Qte}static get DefaultType(){return zte}static get NAME(){return RD}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ho(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Xe.trigger(this._element,Ate,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(jte))for(const r of[].concat(...document.body.children))Xe.on(r,"mouseover",rv);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Nc),this._element.classList.add(Nc),Xe.trigger(this._element,Ote,e)}}hide(){if(ho(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Xe.trigger(this._element,Tte,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Xe.off(r,"mouseover",rv);this._popper&&this._popper.destroy(),this._menu.classList.remove(Nc),this._element.classList.remove(Nc),this._element.setAttribute("aria-expanded","false"),ws.removeDataAttribute(this._menu,"popper"),Xe.trigger(this._element,Ete,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!vs(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${RD.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof OH>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:vs(this._config.reference)?e=fo(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=nI(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Nc)}_getPlacement(){const e=this._parent;if(e.classList.contains(Ite))return Ute;if(e.classList.contains(Pte))return kte;if(e.classList.contains(Nte))return Vte;if(e.classList.contains(Dte))return Hte;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(xte)?n?qte:Fte:n?$te:Bte}_detectNavbar(){return this._element.closest(Lte)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ws.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...oi(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const r=wt.find(Mte,this._menu).filter(a=>Rl(a));r.length&&iI(r,n,e===ID,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Ia.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===Ste||e.type==="keyup"&&e.key!==xD)return;const n=wt.find(Cte);for(const r of n){const a=Ia.getInstance(r);if(!a||a._config.autoClose===!1)continue;const s=e.composedPath(),o=s.includes(a._menu);if(s.includes(a._element)||a._config.autoClose==="inside"&&!o||a._config.autoClose==="outside"&&o||a._menu.contains(e.target)&&(e.type==="keyup"&&e.key===xD||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:a._element};e.type==="click"&&(u.clickEvent=e),a._completeHide(u)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),r=e.key===vte,a=[wte,ID].includes(e.key);if(!a&&!r||n&&!r)return;e.preventDefault();const s=this.matches(Ou)?this:wt.prev(this,Ou)[0]||wt.next(this,Ou)[0]||wt.findOne(Ou,e.delegateTarget.parentNode),o=Ia.getOrCreateInstance(s);if(a){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}Xe.on(document,HH,Ou,Ia.dataApiKeydownHandler);Xe.on(document,HH,O1,Ia.dataApiKeydownHandler);Xe.on(document,VH,Ia.clearMenus);Xe.on(document,Rte,Ia.clearMenus);Xe.on(document,VH,Ou,function(t){t.preventDefault(),Ia.getOrCreateInstance(this).toggle()});Hi(Ia);const QH="backdrop",Gte="fade",PD="show",ND=`mousedown.bs.${QH}`,Wte={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Kte={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class zH extends m_{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Wte}static get DefaultType(){return Kte}static get NAME(){return QH}show(e){if(!this._config.isVisible){oi(e);return}this._append();const n=this._getElement();this._config.isAnimated&&y_(n),n.classList.add(PD),this._emulateAnimation(()=>{oi(e)})}hide(e){if(!this._config.isVisible){oi(e);return}this._getElement().classList.remove(PD),this._emulateAnimation(()=>{this.dispose(),oi(e)})}dispose(){this._isAppended&&(Xe.off(this._element,ND),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Gte),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=fo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Xe.on(e,ND,()=>{oi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){NH(e,this._getElement(),this._config.isAnimated)}}const Jte="focustrap",Xte="bs.focustrap",iv=`.${Xte}`,Yte=`focusin${iv}`,Zte=`keydown.tab${iv}`,ere="Tab",tre="forward",DD="backward",rre={autofocus:!0,trapElement:null},nre={autofocus:"boolean",trapElement:"element"};class GH extends m_{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rre}static get DefaultType(){return nre}static get NAME(){return Jte}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Xe.off(document,iv),Xe.on(document,Yte,e=>this._handleFocusin(e)),Xe.on(document,Zte,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Xe.off(document,iv))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const r=wt.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===DD?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===ere&&(this._lastTabNavDirection=e.shiftKey?DD:tre)}}const CD=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",LD=".sticky-top",Pb="padding-right",jD="margin-right";class _R{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Pb,n=>n+e),this._setElementAttributes(CD,Pb,n=>n+e),this._setElementAttributes(LD,jD,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Pb),this._resetElementAttributes(CD,Pb),this._resetElementAttributes(LD,jD)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){const a=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+a)return;this._saveInitialAttribute(o,n);const u=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${r(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const r=e.style.getPropertyValue(n);r&&ws.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){const r=a=>{const s=ws.getDataAttribute(a,n);if(s===null){a.style.removeProperty(n);return}ws.removeDataAttribute(a,n),a.style.setProperty(n,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,n){if(vs(e)){n(e);return}for(const r of wt.find(e,this._element))n(r)}}const ire="modal",are="bs.modal",Ui=`.${are}`,sre=".data-api",ore="Escape",ure=`hide${Ui}`,cre=`hidePrevented${Ui}`,WH=`hidden${Ui}`,KH=`show${Ui}`,lre=`shown${Ui}`,dre=`resize${Ui}`,fre=`click.dismiss${Ui}`,hre=`mousedown.dismiss${Ui}`,pre=`keydown.dismiss${Ui}`,yre=`click${Ui}${sre}`,MD="modal-open",mre="fade",FD="show",$S="modal-static",gre=".modal.show",_re=".modal-dialog",bre=".modal-body",vre='[data-bs-toggle="modal"]',wre={backdrop:!0,focus:!0,keyboard:!0},Sre={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class po extends ua{constructor(e,n){super(e,n),this._dialog=wt.findOne(_re,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _R,this._addEventListeners()}static get Default(){return wre}static get DefaultType(){return Sre}static get NAME(){return ire}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Xe.trigger(this._element,KH,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(MD),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Xe.trigger(this._element,ure).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(FD),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Xe.off(window,Ui),Xe.off(this._dialog,Ui),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new zH({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new GH({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=wt.findOne(bre,this._dialog);n&&(n.scrollTop=0),y_(this._element),this._element.classList.add(FD);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Xe.trigger(this._element,lre,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){Xe.on(this._element,pre,e=>{if(e.key===ore){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Xe.on(window,dre,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Xe.on(this._element,hre,e=>{Xe.one(this._element,fre,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(MD),this._resetAdjustments(),this._scrollBar.reset(),Xe.trigger(this._element,WH)})}_isAnimated(){return this._element.classList.contains(mre)}_triggerBackdropTransition(){if(Xe.trigger(this._element,cre).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains($S)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add($S),this._queueCallback(()=>{this._element.classList.remove($S),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){const a=$i()?"paddingLeft":"paddingRight";this._element.style[a]=`${n}px`}if(!r&&e){const a=$i()?"paddingRight":"paddingLeft";this._element.style[a]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const r=po.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}}Xe.on(document,yre,vre,function(t){const e=wt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Xe.one(e,KH,a=>{a.defaultPrevented||Xe.one(e,WH,()=>{Rl(this)&&this.focus()})});const n=wt.findOne(gre);n&&po.getInstance(n).hide(),po.getOrCreateInstance(e).toggle(this)});Cv(po);Hi(po);const Tre="offcanvas",Ere="bs.offcanvas",Ns=`.${Ere}`,JH=".data-api",Are=`load${Ns}${JH}`,Ore="Escape",qD="show",BD="showing",$D="hiding",Rre="offcanvas-backdrop",XH=".offcanvas.show",xre=`show${Ns}`,Ire=`shown${Ns}`,Pre=`hide${Ns}`,UD=`hidePrevented${Ns}`,YH=`hidden${Ns}`,Nre=`resize${Ns}`,Dre=`click${Ns}${JH}`,Cre=`keydown.dismiss${Ns}`,Lre='[data-bs-toggle="offcanvas"]',jre={backdrop:!0,keyboard:!0,scroll:!1},Mre={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yo extends ua{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return jre}static get DefaultType(){return Mre}static get NAME(){return Tre}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Xe.trigger(this._element,xre,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new _R().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(BD);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(qD),this._element.classList.remove(BD),Xe.trigger(this._element,Ire,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||Xe.trigger(this._element,Pre).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add($D),this._backdrop.hide();const n=()=>{this._element.classList.remove(qD,$D),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _R().reset(),Xe.trigger(this._element,YH)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Xe.trigger(this._element,UD);return}this.hide()},n=!!this._config.backdrop;return new zH({className:Rre,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new GH({trapElement:this._element})}_addEventListeners(){Xe.on(this._element,Cre,e=>{if(e.key===Ore){if(this._config.keyboard){this.hide();return}Xe.trigger(this._element,UD)}})}static jQueryInterface(e){return this.each(function(){const n=yo.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Xe.on(document,Dre,Lre,function(t){const e=wt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),ho(this))return;Xe.one(e,YH,()=>{Rl(this)&&this.focus()});const n=wt.findOne(XH);n&&n!==e&&yo.getInstance(n).hide(),yo.getOrCreateInstance(e).toggle(this)});Xe.on(window,Are,()=>{for(const t of wt.find(XH))yo.getOrCreateInstance(t).show()});Xe.on(window,Nre,()=>{for(const t of wt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&yo.getOrCreateInstance(t).hide()});Cv(yo);Hi(yo);const Fre=/^aria-[\w-]*$/i,ZH={"*":["class","dir","id","lang","role",Fre],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qre=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Bre=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,$re=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?qre.has(n)?!!Bre.test(t.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function Ure(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const a=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...a.body.querySelectorAll("*"));for(const o of s){const u=o.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[u]||[]);for(const d of l)$re(d,c)||o.removeAttribute(d.nodeName)}return a.body.innerHTML}const kre="TemplateFactory",Vre={allowList:ZH,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Hre={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Qre={entry:"(string|element|function|null)",selector:"(string|element)"};class zre extends m_{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Vre}static get DefaultType(){return Hre}static get NAME(){return kre}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[a,s]of Object.entries(this._config.content))this._setContent(e,s,a);const n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},Qre)}_setContent(e,n,r){const a=wt.findOne(r,e);if(a){if(n=this._resolvePossibleFunction(n),!n){a.remove();return}if(vs(n)){this._putElementInTemplate(fo(n),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(n);return}a.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Ure(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return oi(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const Gre="tooltip",Wre=new Set(["sanitize","allowList","sanitizeFn"]),US="fade",Kre="modal",Nb="show",Jre=".tooltip-inner",kD=`.${Kre}`,VD="hide.bs.modal",dd="hover",kS="focus",Xre="click",Yre="manual",Zre="hide",ene="hidden",tne="show",rne="shown",nne="inserted",ine="click",ane="focusin",sne="focusout",one="mouseenter",une="mouseleave",cne={AUTO:"auto",TOP:"top",RIGHT:$i()?"left":"right",BOTTOM:"bottom",LEFT:$i()?"right":"left"},lne={allowList:ZH,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},dne={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Il extends ua{constructor(e,n){if(typeof OH>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return lne}static get DefaultType(){return dne}static get NAME(){return Gre}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Xe.off(this._element.closest(kD),VD,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Xe.trigger(this._element,this.constructor.eventName(tne)),r=(IH(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(a),Xe.trigger(this._element,this.constructor.eventName(nne))),this._popper=this._createPopper(a),a.classList.add(Nb),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))Xe.on(u,"mouseover",rv);const o=()=>{Xe.trigger(this._element,this.constructor.eventName(rne)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Xe.trigger(this._element,this.constructor.eventName(Zre)).defaultPrevented)return;if(this._getTipElement().classList.remove(Nb),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))Xe.off(a,"mouseover",rv);this._activeTrigger[Xre]=!1,this._activeTrigger[kS]=!1,this._activeTrigger[dd]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Xe.trigger(this._element,this.constructor.eventName(ene)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(US,Nb),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=XZ(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(US),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new zre({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Jre]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(US)}_isShown(){return this.tip&&this.tip.classList.contains(Nb)}_createPopper(e){const n=oi(this._config.placement,[this,e,this._element]),r=cne[n.toUpperCase()];return nI(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return oi(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...oi(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")Xe.on(this._element,this.constructor.eventName(ine),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==Yre){const r=n===dd?this.constructor.eventName(one):this.constructor.eventName(ane),a=n===dd?this.constructor.eventName(une):this.constructor.eventName(sne);Xe.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?kS:dd]=!0,o._enter()}),Xe.on(this._element,a,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?kS:dd]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Xe.on(this._element.closest(kD),VD,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=ws.getDataAttributes(this._element);for(const r of Object.keys(n))Wre.has(r)&&delete n[r];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:fo(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(e[n]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Il.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Hi(Il);const fne="popover",hne=".popover-header",pne=".popover-body",yne={...Il.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},mne={...Il.DefaultType,content:"(null|string|element|function)"};class oI extends Il{static get Default(){return yne}static get DefaultType(){return mne}static get NAME(){return fne}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[hne]:this._getTitle(),[pne]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=oI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Hi(oI);const gne="scrollspy",_ne="bs.scrollspy",uI=`.${_ne}`,bne=".data-api",vne=`activate${uI}`,HD=`click${uI}`,wne=`load${uI}${bne}`,Sne="dropdown-item",bc="active",Tne='[data-bs-spy="scroll"]',VS="[href]",Ene=".nav, .list-group",QD=".nav-link",Ane=".nav-item",One=".list-group-item",Rne=`${QD}, ${Ane} > ${QD}, ${One}`,xne=".dropdown",Ine=".dropdown-toggle",Pne={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Nne={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Mv extends ua{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Pne}static get DefaultType(){return Nne}static get NAME(){return gne}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=fo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Xe.off(this._config.target,HD),Xe.on(this._config.target,HD,VS,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const r=this._rootElement||window,a=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:a,behavior:"smooth"});return}r.scrollTop=a}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),r=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},a=(this._rootElement||document.documentElement).scrollTop,s=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const u=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&u){if(r(o),!a)return;continue}!s&&!u&&r(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=wt.find(VS,this._config.target);for(const n of e){if(!n.hash||ho(n))continue;const r=wt.findOne(decodeURI(n.hash),this._element);Rl(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(bc),this._activateParents(e),Xe.trigger(this._element,vne,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Sne)){wt.findOne(Ine,e.closest(xne)).classList.add(bc);return}for(const n of wt.parents(e,Ene))for(const r of wt.prev(n,Rne))r.classList.add(bc)}_clearActiveClass(e){e.classList.remove(bc);const n=wt.find(`${VS}.${bc}`,e);for(const r of n)r.classList.remove(bc)}static jQueryInterface(e){return this.each(function(){const n=Mv.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Xe.on(window,wne,()=>{for(const t of wt.find(Tne))Mv.getOrCreateInstance(t)});Hi(Mv);const Dne="tab",Cne="bs.tab",Ju=`.${Cne}`,Lne=`hide${Ju}`,jne=`hidden${Ju}`,Mne=`show${Ju}`,Fne=`shown${Ju}`,qne=`click${Ju}`,Bne=`keydown${Ju}`,$ne=`load${Ju}`,Une="ArrowLeft",zD="ArrowRight",kne="ArrowUp",GD="ArrowDown",HS="Home",WD="End",Ru="active",KD="fade",QS="show",Vne="dropdown",eQ=".dropdown-toggle",Hne=".dropdown-menu",zS=`:not(${eQ})`,Qne='.list-group, .nav, [role="tablist"]',zne=".nav-item, .list-group-item",Gne=`.nav-link${zS}, .list-group-item${zS}, [role="tab"]${zS}`,tQ='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',GS=`${Gne}, ${tQ}`,Wne=`.${Ru}[data-bs-toggle="tab"], .${Ru}[data-bs-toggle="pill"], .${Ru}[data-bs-toggle="list"]`;class ol extends ua{constructor(e){super(e),this._parent=this._element.closest(Qne),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Xe.on(this._element,Bne,n=>this._keydown(n)))}static get NAME(){return Dne}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),r=n?Xe.trigger(n,Lne,{relatedTarget:e}):null;Xe.trigger(e,Mne,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Ru),this._activate(wt.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(QS);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Xe.trigger(e,Fne,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(KD))}_deactivate(e,n){if(!e)return;e.classList.remove(Ru),e.blur(),this._deactivate(wt.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(QS);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Xe.trigger(e,jne,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(KD))}_keydown(e){if(![Une,zD,kne,GD,HS,WD].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(a=>!ho(a));let r;if([HS,WD].includes(e.key))r=n[e.key===HS?0:n.length-1];else{const a=[zD,GD].includes(e.key);r=iI(n,e.target,a,!0)}r&&(r.focus({preventScroll:!0}),ol.getOrCreateInstance(r).show())}_getChildren(){return wt.find(GS,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=wt.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const r=this._getOuterElement(e);if(!r.classList.contains(Vne))return;const a=(s,o)=>{const u=wt.findOne(s,r);u&&u.classList.toggle(o,n)};a(eQ,Ru),a(Hne,QS),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(Ru)}_getInnerElement(e){return e.matches(GS)?e:wt.findOne(GS,e)}_getOuterElement(e){return e.closest(zne)||e}static jQueryInterface(e){return this.each(function(){const n=ol.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Xe.on(document,qne,tQ,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!ho(this)&&ol.getOrCreateInstance(this).show()});Xe.on(window,$ne,()=>{for(const t of wt.find(Wne))ol.getOrCreateInstance(t)});Hi(ol);const Kne="toast",Jne="bs.toast",To=`.${Jne}`,Xne=`mouseover${To}`,Yne=`mouseout${To}`,Zne=`focusin${To}`,eie=`focusout${To}`,tie=`hide${To}`,rie=`hidden${To}`,nie=`show${To}`,iie=`shown${To}`,aie="fade",JD="hide",Db="show",Cb="showing",sie={animation:"boolean",autohide:"boolean",delay:"number"},oie={animation:!0,autohide:!0,delay:5e3};class Fv extends ua{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return oie}static get DefaultType(){return sie}static get NAME(){return Kne}show(){if(Xe.trigger(this._element,nie).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(aie);const n=()=>{this._element.classList.remove(Cb),Xe.trigger(this._element,iie),this._maybeScheduleHide()};this._element.classList.remove(JD),y_(this._element),this._element.classList.add(Db,Cb),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||Xe.trigger(this._element,tie).defaultPrevented)return;const n=()=>{this._element.classList.add(JD),this._element.classList.remove(Cb,Db),Xe.trigger(this._element,rie)};this._element.classList.add(Cb),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Db),super.dispose()}isShown(){return this._element.classList.contains(Db)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){Xe.on(this._element,Xne,e=>this._onInteraction(e,!0)),Xe.on(this._element,Yne,e=>this._onInteraction(e,!1)),Xe.on(this._element,Zne,e=>this._onInteraction(e,!0)),Xe.on(this._element,eie,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Fv.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Cv(Fv);Hi(Fv);const bR=globalThis||void 0||self;/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cI(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const wr={},kc=[],Li=()=>{},uie=()=>!1,qv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lI=t=>t.startsWith("onUpdate:"),gn=Object.assign,dI=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},cie=Object.prototype.hasOwnProperty,Kt=(t,e)=>cie.call(t,e),At=Array.isArray,Vc=t=>b_(t)==="[object Map]",rQ=t=>b_(t)==="[object Set]",XD=t=>b_(t)==="[object Date]",jt=t=>typeof t=="function",Kr=t=>typeof t=="string",Os=t=>typeof t=="symbol",pr=t=>t!==null&&typeof t=="object",nQ=t=>(pr(t)||jt(t))&&jt(t.then)&&jt(t.catch),iQ=Object.prototype.toString,b_=t=>iQ.call(t),lie=t=>b_(t).slice(8,-1),aQ=t=>b_(t)==="[object Object]",fI=t=>Kr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ng=cI(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bv=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},die=/-(\w)/g,Ca=Bv(t=>t.replace(die,(e,n)=>n?n.toUpperCase():"")),fie=/\B([A-Z])/g,Pl=Bv(t=>t.replace(fie,"-$1").toLowerCase()),$v=Bv(t=>t.charAt(0).toUpperCase()+t.slice(1)),WS=Bv(t=>t?`on${$v(t)}`:""),mo=(t,e)=>!Object.is(t,e),R1=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},sQ=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},vR=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let YD;const oQ=()=>YD||(YD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof bR<"u"?bR:{});function Uv(t){if(At(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],a=Kr(r)?mie(r):Uv(r);if(a)for(const s in a)e[s]=a[s]}return e}else if(Kr(t)||pr(t))return t}const hie=/;(?![^(]*\))/g,pie=/:([^]+)/,yie=/\/\*[^]*?\*\//g;function mie(t){const e={};return t.replace(yie,"").split(hie).forEach(n=>{if(n){const r=n.split(pie);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ul(t){let e="";if(Kr(t))e=t;else if(At(t))for(let n=0;n<t.length;n++){const r=ul(t[n]);r&&(e+=r+" ")}else if(pr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const gie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_ie=cI(gie);function uQ(t){return!!t||t===""}function bie(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=av(t[r],e[r]);return n}function av(t,e){if(t===e)return!0;let n=XD(t),r=XD(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Os(t),r=Os(e),n||r)return t===e;if(n=At(t),r=At(e),n||r)return n&&r?bie(t,e):!1;if(n=pr(t),r=pr(e),n||r){if(!n||!r)return!1;const a=Object.keys(t).length,s=Object.keys(e).length;if(a!==s)return!1;for(const o in t){const u=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(u&&!l||!u&&l||!av(t[o],e[o]))return!1}}return String(t)===String(e)}const ZD=t=>Kr(t)?t:t==null?"":At(t)||pr(t)&&(t.toString===iQ||!jt(t.toString))?JSON.stringify(t,cQ,2):String(t),cQ=(t,e)=>e&&e.__v_isRef?cQ(t,e.value):Vc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,a],s)=>(n[KS(r,s)+" =>"]=a,n),{})}:rQ(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>KS(n))}:Os(e)?KS(e):pr(e)&&!At(e)&&!aQ(e)?String(e):e,KS=(t,e="")=>{var n;return Os(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mi;class lQ{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=mi,!e&&mi&&(this.index=(mi.scopes||(mi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=mi;try{return mi=this,e()}finally{mi=n}}}on(){mi=this}off(){mi=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function dQ(t){return new lQ(t)}function vie(t,e=mi){e&&e.active&&e.effects.push(t)}function fQ(){return mi}function wie(t){mi&&mi.cleanups.push(t)}let ju;class hI{constructor(e,n,r,a){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,vie(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Eo();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Sie(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ao()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ao,n=ju;try{return ao=!0,ju=this,this._runnings++,eC(this),this.fn()}finally{tC(this),this._runnings--,ju=n,ao=e}}stop(){var e;this.active&&(eC(this),tC(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Sie(t){return t.value}function eC(t){t._trackId++,t._depsLength=0}function tC(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)hQ(t.deps[e],t);t.deps.length=t._depsLength}}function hQ(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ao=!0,wR=0;const pQ=[];function Eo(){pQ.push(ao),ao=!1}function Ao(){const t=pQ.pop();ao=t===void 0?!0:t}function pI(){wR++}function yI(){for(wR--;!wR&&SR.length;)SR.shift()()}function yQ(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&hQ(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const SR=[];function mQ(t,e,n){pI();for(const r of t.keys()){let a;r._dirtyLevel<e&&(a??(a=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(a??(a=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&SR.push(r.scheduler)))}yI()}const gQ=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},sv=new WeakMap,Mu=Symbol(""),TR=Symbol("");function ui(t,e,n){if(ao&&ju){let r=sv.get(t);r||sv.set(t,r=new Map);let a=r.get(n);a||r.set(n,a=gQ(()=>r.delete(n))),yQ(ju,a)}}function Ss(t,e,n,r,a,s){const o=sv.get(t);if(!o)return;let u=[];if(e==="clear")u=[...o.values()];else if(n==="length"&&At(t)){const l=Number(r);o.forEach((c,d)=>{(d==="length"||!Os(d)&&d>=l)&&u.push(c)})}else switch(n!==void 0&&u.push(o.get(n)),e){case"add":At(t)?fI(n)&&u.push(o.get("length")):(u.push(o.get(Mu)),Vc(t)&&u.push(o.get(TR)));break;case"delete":At(t)||(u.push(o.get(Mu)),Vc(t)&&u.push(o.get(TR)));break;case"set":Vc(t)&&u.push(o.get(Mu));break}pI();for(const l of u)l&&mQ(l,4);yI()}function Tie(t,e){var n;return(n=sv.get(t))==null?void 0:n.get(e)}const Eie=cI("__proto__,__v_isRef,__isVue"),_Q=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Os)),rC=Aie();function Aie(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Jt(this);for(let s=0,o=this.length;s<o;s++)ui(r,"get",s+"");const a=r[e](...n);return a===-1||a===!1?r[e](...n.map(Jt)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Eo(),pI();const r=Jt(this)[e].apply(this,n);return yI(),Ao(),r}}),t}function Oie(t){Os(t)||(t=String(t));const e=Jt(this);return ui(e,"has",t),e.hasOwnProperty(t)}class bQ{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const a=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(a?s?Bie:TQ:s?SQ:wQ).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=At(e);if(!a){if(o&&Kt(rC,n))return Reflect.get(rC,n,r);if(n==="hasOwnProperty")return Oie}const u=Reflect.get(e,n,r);return(Os(n)?_Q.has(n):Eie(n))||(a||ui(e,"get",n),s)?u:rn(u)?o&&fI(n)?u:u.value:pr(u)?a?AQ(u):v_(u):u}}class vQ extends bQ{constructor(e=!1){super(!1,e)}set(e,n,r,a){let s=e[n];if(!this._isShallow){const l=zg(s);if(!ov(r)&&!zg(r)&&(s=Jt(s),r=Jt(r)),!At(e)&&rn(s)&&!rn(r))return l?!1:(s.value=r,!0)}const o=At(e)&&fI(n)?Number(n)<e.length:Kt(e,n),u=Reflect.set(e,n,r,a);return e===Jt(a)&&(o?mo(r,s)&&Ss(e,"set",n,r):Ss(e,"add",n,r)),u}deleteProperty(e,n){const r=Kt(e,n);e[n];const a=Reflect.deleteProperty(e,n);return a&&r&&Ss(e,"delete",n,void 0),a}has(e,n){const r=Reflect.has(e,n);return(!Os(n)||!_Q.has(n))&&ui(e,"has",n),r}ownKeys(e){return ui(e,"iterate",At(e)?"length":Mu),Reflect.ownKeys(e)}}class Rie extends bQ{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const xie=new vQ,Iie=new Rie,Pie=new vQ(!0),mI=t=>t,kv=t=>Reflect.getPrototypeOf(t);function Lb(t,e,n=!1,r=!1){t=t.__v_raw;const a=Jt(t),s=Jt(e);n||(mo(e,s)&&ui(a,"get",e),ui(a,"get",s));const{has:o}=kv(a),u=r?mI:n?vI:Gg;if(o.call(a,e))return u(t.get(e));if(o.call(a,s))return u(t.get(s));t!==a&&t.get(e)}function jb(t,e=!1){const n=this.__v_raw,r=Jt(n),a=Jt(t);return e||(mo(t,a)&&ui(r,"has",t),ui(r,"has",a)),t===a?n.has(t):n.has(t)||n.has(a)}function Mb(t,e=!1){return t=t.__v_raw,!e&&ui(Jt(t),"iterate",Mu),Reflect.get(t,"size",t)}function nC(t){t=Jt(t);const e=Jt(this);return kv(e).has.call(e,t)||(e.add(t),Ss(e,"add",t,t)),this}function iC(t,e){e=Jt(e);const n=Jt(this),{has:r,get:a}=kv(n);let s=r.call(n,t);s||(t=Jt(t),s=r.call(n,t));const o=a.call(n,t);return n.set(t,e),s?mo(e,o)&&Ss(n,"set",t,e):Ss(n,"add",t,e),this}function aC(t){const e=Jt(this),{has:n,get:r}=kv(e);let a=n.call(e,t);a||(t=Jt(t),a=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return a&&Ss(e,"delete",t,void 0),s}function sC(){const t=Jt(this),e=t.size!==0,n=t.clear();return e&&Ss(t,"clear",void 0,void 0),n}function Fb(t,e){return function(r,a){const s=this,o=s.__v_raw,u=Jt(o),l=e?mI:t?vI:Gg;return!t&&ui(u,"iterate",Mu),o.forEach((c,d)=>r.call(a,l(c),l(d),s))}}function qb(t,e,n){return function(...r){const a=this.__v_raw,s=Jt(a),o=Vc(s),u=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=a[t](...r),d=n?mI:e?vI:Gg;return!e&&ui(s,"iterate",l?TR:Mu),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:u?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function $s(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Nie(){const t={get(s){return Lb(this,s)},get size(){return Mb(this)},has:jb,add:nC,set:iC,delete:aC,clear:sC,forEach:Fb(!1,!1)},e={get(s){return Lb(this,s,!1,!0)},get size(){return Mb(this)},has:jb,add:nC,set:iC,delete:aC,clear:sC,forEach:Fb(!1,!0)},n={get(s){return Lb(this,s,!0)},get size(){return Mb(this,!0)},has(s){return jb.call(this,s,!0)},add:$s("add"),set:$s("set"),delete:$s("delete"),clear:$s("clear"),forEach:Fb(!0,!1)},r={get(s){return Lb(this,s,!0,!0)},get size(){return Mb(this,!0)},has(s){return jb.call(this,s,!0)},add:$s("add"),set:$s("set"),delete:$s("delete"),clear:$s("clear"),forEach:Fb(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=qb(s,!1,!1),n[s]=qb(s,!0,!1),e[s]=qb(s,!1,!0),r[s]=qb(s,!0,!0)}),[t,n,e,r]}const[Die,Cie,Lie,jie]=Nie();function gI(t,e){const n=e?t?jie:Lie:t?Cie:Die;return(r,a,s)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?r:Reflect.get(Kt(n,a)&&a in r?n:r,a,s)}const Mie={get:gI(!1,!1)},Fie={get:gI(!1,!0)},qie={get:gI(!0,!1)},wQ=new WeakMap,SQ=new WeakMap,TQ=new WeakMap,Bie=new WeakMap;function $ie(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uie(t){return t.__v_skip||!Object.isExtensible(t)?0:$ie(lie(t))}function v_(t){return zg(t)?t:_I(t,!1,xie,Mie,wQ)}function EQ(t){return _I(t,!1,Pie,Fie,SQ)}function AQ(t){return _I(t,!0,Iie,qie,TQ)}function _I(t,e,n,r,a){if(!pr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=a.get(t);if(s)return s;const o=Uie(t);if(o===0)return t;const u=new Proxy(t,o===2?r:n);return a.set(t,u),u}function Fu(t){return zg(t)?Fu(t.__v_raw):!!(t&&t.__v_isReactive)}function zg(t){return!!(t&&t.__v_isReadonly)}function ov(t){return!!(t&&t.__v_isShallow)}function OQ(t){return t?!!t.__v_raw:!1}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function bI(t){return Object.isExtensible(t)&&sQ(t,"__v_skip",!0),t}const Gg=t=>pr(t)?v_(t):t,vI=t=>pr(t)?AQ(t):t;class RQ{constructor(e,n,r,a){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hI(()=>e(this._value),()=>x1(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const e=Jt(this);return(!e._cacheable||e.effect.dirty)&&mo(e._value,e._value=e.effect.run())&&x1(e,4),xQ(e),e.effect._dirtyLevel>=2&&x1(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function kie(t,e,n=!1){let r,a;const s=jt(t);return s?(r=t,a=Li):(r=t.get,a=t.set),new RQ(r,a,s||!a,n)}function xQ(t){var e;ao&&ju&&(t=Jt(t),yQ(ju,(e=t.dep)!=null?e:t.dep=gQ(()=>t.dep=void 0,t instanceof RQ?t:void 0)))}function x1(t,e=4,n){t=Jt(t);const r=t.dep;r&&mQ(r,e)}function rn(t){return!!(t&&t.__v_isRef===!0)}function Wg(t){return IQ(t,!1)}function Vie(t){return IQ(t,!0)}function IQ(t,e){return rn(t)?t:new Hie(t,e)}class Hie{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Jt(e),this._value=n?e:Gg(e)}get value(){return xQ(this),this._value}set value(e){const n=this.__v_isShallow||ov(e)||zg(e);e=n?e:Jt(e),mo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Gg(e),x1(this,4))}}function zr(t){return rn(t)?t.value:t}const Qie={get:(t,e,n)=>zr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const a=t[e];return rn(a)&&!rn(n)?(a.value=n,!0):Reflect.set(t,e,n,r)}};function PQ(t){return Fu(t)?t:new Proxy(t,Qie)}function zie(t){const e=At(t)?new Array(t.length):{};for(const n in t)e[n]=Wie(t,n);return e}class Gie{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Tie(Jt(this._object),this._key)}}function Wie(t,e,n){const r=t[e];return rn(r)?r:new Gie(t,e,n)}/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function so(t,e,n,r){try{return r?t(...r):t()}catch(a){Vv(a,e,n)}}function ia(t,e,n,r){if(jt(t)){const a=so(t,e,n,r);return a&&nQ(a)&&a.catch(s=>{Vv(s,e,n)}),a}if(At(t)){const a=[];for(let s=0;s<t.length;s++)a.push(ia(t[s],e,n,r));return a}}function Vv(t,e,n,r=!0){const a=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,o,u)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Eo(),so(l,null,10,[t,o,u]),Ao();return}}Kie(t,n,a,r)}function Kie(t,e,n,r=!0){console.error(t)}let Kg=!1,ER=!1;const xn=[];let Ea=0;const Hc=[];let Ys=null,bu=0;const NQ=Promise.resolve();let wI=null;function SI(t){const e=wI||NQ;return t?e.then(this?t.bind(this):t):e}function Jie(t){let e=Ea+1,n=xn.length;for(;e<n;){const r=e+n>>>1,a=xn[r],s=Jg(a);s<t||s===t&&a.pre?e=r+1:n=r}return e}function TI(t){(!xn.length||!xn.includes(t,Kg&&t.allowRecurse?Ea+1:Ea))&&(t.id==null?xn.push(t):xn.splice(Jie(t.id),0,t),DQ())}function DQ(){!Kg&&!ER&&(ER=!0,wI=NQ.then(LQ))}function Xie(t){const e=xn.indexOf(t);e>Ea&&xn.splice(e,1)}function Yie(t){At(t)?Hc.push(...t):(!Ys||!Ys.includes(t,t.allowRecurse?bu+1:bu))&&Hc.push(t),DQ()}function oC(t,e,n=Kg?Ea+1:0){for(;n<xn.length;n++){const r=xn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;xn.splice(n,1),n--,r()}}}function CQ(t){if(Hc.length){const e=[...new Set(Hc)].sort((n,r)=>Jg(n)-Jg(r));if(Hc.length=0,Ys){Ys.push(...e);return}for(Ys=e,bu=0;bu<Ys.length;bu++)Ys[bu]();Ys=null,bu=0}}const Jg=t=>t.id==null?1/0:t.id,Zie=(t,e)=>{const n=Jg(t)-Jg(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function LQ(t){ER=!1,Kg=!0,xn.sort(Zie);try{for(Ea=0;Ea<xn.length;Ea++){const e=xn[Ea];e&&e.active!==!1&&so(e,null,14)}}finally{Ea=0,xn.length=0,CQ(),Kg=!1,wI=null,(xn.length||Hc.length)&&LQ()}}function eae(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||wr;let a=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=r[d]||wr;h&&(a=n.map(p=>Kr(p)?p.trim():p)),f&&(a=n.map(vR))}let u,l=r[u=WS(e)]||r[u=WS(Ca(e))];!l&&s&&(l=r[u=WS(Pl(e))]),l&&ia(l,t,6,a);const c=r[u+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,ia(c,t,6,a)}}function jQ(t,e,n=!1){const r=e.emitsCache,a=r.get(t);if(a!==void 0)return a;const s=t.emits;let o={},u=!1;if(!jt(t)){const l=c=>{const d=jQ(c,e,!0);d&&(u=!0,gn(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!u?(pr(t)&&r.set(t,null),null):(At(s)?s.forEach(l=>o[l]=null):gn(o,s),pr(t)&&r.set(t,o),o)}function Hv(t,e){return!t||!qv(e)?!1:(e=e.slice(2).replace(/Once$/,""),Kt(t,e[0].toLowerCase()+e.slice(1))||Kt(t,Pl(e))||Kt(t,e))}let Gr=null,Qv=null;function uv(t){const e=Gr;return Gr=t,Qv=t&&t.type.__scopeId||null,e}function tae(t){Qv=t}function rae(){Qv=null}function ai(t,e=Gr,n){if(!e||t._n)return t;const r=(...a)=>{r._d&&bC(-1);const s=uv(e);let o;try{o=t(...a)}finally{uv(s),r._d&&bC(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function JS(t){const{type:e,vnode:n,proxy:r,withProxy:a,props:s,propsOptions:[o],slots:u,attrs:l,emit:c,render:d,renderCache:f,data:h,setupState:p,ctx:m,inheritAttrs:y}=t;let g,_;const v=uv(t);try{if(n.shapeFlag&4){const w=a||r,S=w;g=Ta(d.call(S,w,f,s,p,h,m)),_=l}else{const w=e;g=Ta(w.length>1?w(s,{attrs:l,slots:u,emit:c}):w(s,null)),_=e.props?l:nae(l)}}catch(w){jg.length=0,Vv(w,t,1),g=Wt(go)}let b=g;if(_&&y!==!1){const w=Object.keys(_),{shapeFlag:S}=b;w.length&&S&7&&(o&&w.some(lI)&&(_=iae(_,o)),b=cl(b,_))}return n.dirs&&(b=cl(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),g=b,uv(v),g}const nae=t=>{let e;for(const n in t)(n==="class"||n==="style"||qv(n))&&((e||(e={}))[n]=t[n]);return e},iae=(t,e)=>{const n={};for(const r in t)(!lI(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function aae(t,e,n){const{props:r,children:a,component:s}=t,{props:o,children:u,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?uC(r,o,c):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==r[h]&&!Hv(c,h))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:r===o?!1:r?o?uC(r,o,c):!0:!!o;return!1}function uC(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let a=0;a<r.length;a++){const s=r[a];if(e[s]!==t[s]&&!Hv(n,s))return!0}return!1}function sae({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const EI="components";function cC(t,e){return FQ(EI,t,!0,e)||t}const MQ=Symbol.for("v-ndc");function l4e(t){return Kr(t)?FQ(EI,t,!1)||t:t||MQ}function FQ(t,e,n=!0,r=!1){const a=Gr||on;if(a){const s=a.type;if(t===EI){const u=nse(s,!1);if(u&&(u===e||u===Ca(e)||u===$v(Ca(e))))return s}const o=lC(a[t]||s[t],e)||lC(a.appContext[t],e);return!o&&r?s:o}}function lC(t,e){return t&&(t[e]||t[Ca(e)]||t[$v(Ca(e))])}const oae=t=>t.__isSuspense;function uae(t,e){e&&e.pendingBranch?At(t)?e.effects.push(...t):e.effects.push(t):Yie(t)}const cae=Symbol.for("v-scx"),lae=()=>Pa(cae),Bb={};function Dg(t,e,n){return qQ(t,e,n)}function qQ(t,e,{immediate:n,deep:r,flush:a,once:s,onTrack:o,onTrigger:u}=wr){if(e&&s){const A=e;e=(...x)=>{A(...x),S()}}const l=on,c=A=>r===!0?A:xu(A,r===!1?1:void 0);let d,f=!1,h=!1;if(rn(t)?(d=()=>t.value,f=ov(t)):Fu(t)?(d=()=>c(t),f=!0):At(t)?(h=!0,f=t.some(A=>Fu(A)||ov(A)),d=()=>t.map(A=>{if(rn(A))return A.value;if(Fu(A))return c(A);if(jt(A))return so(A,l,2)})):jt(t)?e?d=()=>so(t,l,2):d=()=>(p&&p(),ia(t,l,3,[m])):d=Li,e&&r){const A=d;d=()=>xu(A())}let p,m=A=>{p=b.onStop=()=>{so(A,l,4),p=b.onStop=void 0}},y;if(Wv)if(m=Li,e?n&&ia(e,l,3,[d(),h?[]:void 0,m]):d(),a==="sync"){const A=lae();y=A.__watcherHandles||(A.__watcherHandles=[])}else return Li;let g=h?new Array(t.length).fill(Bb):Bb;const _=()=>{if(!(!b.active||!b.dirty))if(e){const A=b.run();(r||f||(h?A.some((x,M)=>mo(x,g[M])):mo(A,g)))&&(p&&p(),ia(e,l,3,[A,g===Bb?void 0:h&&g[0]===Bb?[]:g,m]),g=A)}else b.run()};_.allowRecurse=!!e;let v;a==="sync"?v=_:a==="post"?v=()=>si(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),v=()=>TI(_));const b=new hI(d,Li,v),w=fQ(),S=()=>{b.stop(),w&&dI(w.effects,b)};return e?n?_():g=b.run():a==="post"?si(b.run.bind(b),l&&l.suspense):b.run(),y&&y.push(S),S}function dae(t,e,n){const r=this.proxy,a=Kr(t)?t.includes(".")?BQ(r,t):()=>r[t]:t.bind(r,r);let s;jt(e)?s=e:(s=e.handler,n=e);const o=w_(this),u=qQ(a,s.bind(r),n);return o(),u}function BQ(t,e){const n=e.split(".");return()=>{let r=t;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function xu(t,e,n=0,r){if(!pr(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),rn(t))xu(t.value,e,n,r);else if(At(t))for(let a=0;a<t.length;a++)xu(t[a],e,n,r);else if(rQ(t)||Vc(t))t.forEach(a=>{xu(a,e,n,r)});else if(aQ(t))for(const a in t)xu(t[a],e,n,r);return t}function Pi(t,e){if(Gr===null)return t;const n=Kv(Gr)||Gr.proxy,r=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[s,o,u,l=wr]=e[a];s&&(jt(s)&&(s={mounted:s,updated:s}),s.deep&&xu(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:u,modifiers:l}))}return t}function Qo(t,e,n,r){const a=t.dirs,s=e&&e.dirs;for(let o=0;o<a.length;o++){const u=a[o];s&&(u.oldValue=s[o].value);let l=u.dir[r];l&&(Eo(),ia(l,n,8,[t.el,u,t,e]),Ao())}}/*! #__NO_SIDE_EFFECTS__ */function $Q(t,e){return jt(t)?gn({name:t.name},e,{setup:t}):t}const Cg=t=>!!t.type.__asyncLoader,UQ=t=>t.type.__isKeepAlive;function fae(t,e){kQ(t,"a",e)}function hae(t,e){kQ(t,"da",e)}function kQ(t,e,n=on){const r=t.__wdc||(t.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(zv(e,r,n),n){let a=n.parent;for(;a&&a.parent;)UQ(a.parent.vnode)&&pae(r,e,n,a),a=a.parent}}function pae(t,e,n,r){const a=zv(e,t,r,!0);VQ(()=>{dI(r[e],a)},n)}function zv(t,e,n=on,r=!1){if(n){const a=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Eo();const u=w_(n),l=ia(e,n,t,o);return u(),Ao(),l});return r?a.unshift(s):a.push(s),s}}const Ds=t=>(e,n=on)=>(!Wv||t==="sp")&&zv(t,(...r)=>e(...r),n),yae=Ds("bm"),mae=Ds("m"),gae=Ds("bu"),_ae=Ds("u"),bae=Ds("bum"),VQ=Ds("um"),vae=Ds("sp"),wae=Ds("rtg"),Sae=Ds("rtc");function Tae(t,e=on){zv("ec",t,e)}function Eae(t,e,n,r){let a;const s=n&&n[r];if(At(t)||Kr(t)){a=new Array(t.length);for(let o=0,u=t.length;o<u;o++)a[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){a=new Array(t);for(let o=0;o<t;o++)a[o]=e(o+1,o,void 0,s&&s[o])}else if(pr(t))if(t[Symbol.iterator])a=Array.from(t,(o,u)=>e(o,u,void 0,s&&s[u]));else{const o=Object.keys(t);a=new Array(o.length);for(let u=0,l=o.length;u<l;u++){const c=o[u];a[u]=e(t[c],c,u,s&&s[u])}}else a=[];return n&&(n[r]=a),a}function d4e(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(At(r))for(let a=0;a<r.length;a++)t[r[a].name]=r[a].fn;else r&&(t[r.name]=r.key?(...a)=>{const s=r.fn(...a);return s&&(s.key=r.key),s}:r.fn)}return t}function Aae(t,e,n={},r,a){if(Gr.isCE||Gr.parent&&Cg(Gr.parent)&&Gr.parent.isCE)return e!=="default"&&(n.name=e),Wt("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),ar();const o=s&&HQ(s(n)),u=RI(Rn,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function HQ(t){return t.some(e=>lv(e)?!(e.type===go||e.type===Rn&&!HQ(e.children)):!0)?t:null}const AR=t=>t?iz(t)?Kv(t)||t.proxy:AR(t.parent):null,Lg=gn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>AR(t.parent),$root:t=>AR(t.root),$emit:t=>t.emit,$options:t=>AI(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,TI(t.update)}),$nextTick:t=>t.n||(t.n=SI.bind(t.proxy)),$watch:t=>dae.bind(t)}),XS=(t,e)=>t!==wr&&!t.__isScriptSetup&&Kt(t,e),Oae={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:s,accessCache:o,type:u,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return a[e];case 4:return n[e];case 3:return s[e]}else{if(XS(r,e))return o[e]=1,r[e];if(a!==wr&&Kt(a,e))return o[e]=2,a[e];if((c=t.propsOptions[0])&&Kt(c,e))return o[e]=3,s[e];if(n!==wr&&Kt(n,e))return o[e]=4,n[e];OR&&(o[e]=0)}}const d=Lg[e];let f,h;if(d)return e==="$attrs"&&ui(t.attrs,"get",""),d(t);if((f=u.__cssModules)&&(f=f[e]))return f;if(n!==wr&&Kt(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Kt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:a,ctx:s}=t;return XS(a,e)?(a[e]=n,!0):r!==wr&&Kt(r,e)?(r[e]=n,!0):Kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:a,propsOptions:s}},o){let u;return!!n[o]||t!==wr&&Kt(t,o)||XS(e,o)||(u=s[0])&&Kt(u,o)||Kt(r,o)||Kt(Lg,o)||Kt(a.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function f4e(){return Rae().slots}function Rae(){const t=Zae();return t.setupContext||(t.setupContext=sz(t))}function dC(t){return At(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let OR=!0;function xae(t){const e=AI(t),n=t.proxy,r=t.ctx;OR=!1,e.beforeCreate&&fC(e.beforeCreate,t,"bc");const{data:a,computed:s,methods:o,watch:u,provide:l,inject:c,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:m,activated:y,deactivated:g,beforeDestroy:_,beforeUnmount:v,destroyed:b,unmounted:w,render:S,renderTracked:A,renderTriggered:x,errorCaptured:M,serverPrefetch:I,expose:N,inheritAttrs:F,components:D,directives:V,filters:k}=e;if(c&&Iae(c,r,null),o)for(const X in o){const ee=o[X];jt(ee)&&(r[X]=ee.bind(n))}if(a){const X=a.call(n,n);pr(X)&&(t.data=v_(X))}if(OR=!0,s)for(const X in s){const ee=s[X],fe=jt(ee)?ee.bind(n,n):jt(ee.get)?ee.get.bind(n,n):Li,Te=!jt(ee)&&jt(ee.set)?ee.set.bind(n):Li,De=Ni({get:fe,set:Te});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>De.value,set:Ve=>De.value=Ve})}if(u)for(const X in u)QQ(u[X],r,n,X);if(l){const X=jt(l)?l.call(n):l;Reflect.ownKeys(X).forEach(ee=>{I1(ee,X[ee])})}d&&fC(d,t,"c");function H(X,ee){At(ee)?ee.forEach(fe=>X(fe.bind(n))):ee&&X(ee.bind(n))}if(H(yae,f),H(mae,h),H(gae,p),H(_ae,m),H(fae,y),H(hae,g),H(Tae,M),H(Sae,A),H(wae,x),H(bae,v),H(VQ,w),H(vae,I),At(N))if(N.length){const X=t.exposed||(t.exposed={});N.forEach(ee=>{Object.defineProperty(X,ee,{get:()=>n[ee],set:fe=>n[ee]=fe})})}else t.exposed||(t.exposed={});S&&t.render===Li&&(t.render=S),F!=null&&(t.inheritAttrs=F),D&&(t.components=D),V&&(t.directives=V)}function Iae(t,e,n=Li){At(t)&&(t=RR(t));for(const r in t){const a=t[r];let s;pr(a)?"default"in a?s=Pa(a.from||r,a.default,!0):s=Pa(a.from||r):s=Pa(a),rn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function fC(t,e,n){ia(At(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function QQ(t,e,n,r){const a=r.includes(".")?BQ(n,r):()=>n[r];if(Kr(t)){const s=e[t];jt(s)&&Dg(a,s)}else if(jt(t))Dg(a,t.bind(n));else if(pr(t))if(At(t))t.forEach(s=>QQ(s,e,n,r));else{const s=jt(t.handler)?t.handler.bind(n):e[t.handler];jt(s)&&Dg(a,s,t)}}function AI(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:a,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,u=s.get(e);let l;return u?l=u:!a.length&&!n&&!r?l=e:(l={},a.length&&a.forEach(c=>cv(l,c,o,!0)),cv(l,e,o)),pr(e)&&s.set(e,l),l}function cv(t,e,n,r=!1){const{mixins:a,extends:s}=e;s&&cv(t,s,n,!0),a&&a.forEach(o=>cv(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const u=Pae[o]||n&&n[o];t[o]=u?u(t[o],e[o]):e[o]}return t}const Pae={data:hC,props:pC,emits:pC,methods:fg,computed:fg,beforeCreate:Vn,created:Vn,beforeMount:Vn,mounted:Vn,beforeUpdate:Vn,updated:Vn,beforeDestroy:Vn,beforeUnmount:Vn,destroyed:Vn,unmounted:Vn,activated:Vn,deactivated:Vn,errorCaptured:Vn,serverPrefetch:Vn,components:fg,directives:fg,watch:Dae,provide:hC,inject:Nae};function hC(t,e){return e?t?function(){return gn(jt(t)?t.call(this,this):t,jt(e)?e.call(this,this):e)}:e:t}function Nae(t,e){return fg(RR(t),RR(e))}function RR(t){if(At(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Vn(t,e){return t?[...new Set([].concat(t,e))]:e}function fg(t,e){return t?gn(Object.create(null),t,e):e}function pC(t,e){return t?At(t)&&At(e)?[...new Set([...t,...e])]:gn(Object.create(null),dC(t),dC(e??{})):e}function Dae(t,e){if(!t)return e;if(!e)return t;const n=gn(Object.create(null),t);for(const r in e)n[r]=Vn(t[r],e[r]);return n}function zQ(){return{app:null,config:{isNativeTag:uie,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cae=0;function Lae(t,e){return function(r,a=null){jt(r)||(r=gn({},r)),a!=null&&!pr(a)&&(a=null);const s=zQ(),o=new WeakSet;let u=!1;const l=s.app={_uid:Cae++,_component:r,_props:a,_container:null,_context:s,_instance:null,version:ase,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&jt(c.install)?(o.add(c),c.install(l,...d)):jt(c)&&(o.add(c),c(l,...d))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,d){return d?(s.components[c]=d,l):s.components[c]},directive(c,d){return d?(s.directives[c]=d,l):s.directives[c]},mount(c,d,f){if(!u){const h=Wt(r,a);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,c):t(h,c,f),u=!0,l._container=c,c.__vue_app__=l,Kv(h.component)||h.component.proxy}},unmount(){u&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,d){return s.provides[c]=d,l},runWithContext(c){const d=Qc;Qc=l;try{return c()}finally{Qc=d}}};return l}}let Qc=null;function I1(t,e){if(on){let n=on.provides;const r=on.parent&&on.parent.provides;r===n&&(n=on.provides=Object.create(r)),n[t]=e}}function Pa(t,e,n=!1){const r=on||Gr;if(r||Qc){const a=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Qc._context.provides;if(a&&t in a)return a[t];if(arguments.length>1)return n&&jt(e)?e.call(r&&r.proxy):e}}function jae(){return!!(on||Gr||Qc)}const GQ=Object.create(null),xR=()=>Object.create(GQ),WQ=t=>Object.getPrototypeOf(t)===GQ;function Mae(t,e,n,r=!1){const a={},s=xR();t.propsDefaults=Object.create(null),KQ(t,e,a,s);for(const o in t.propsOptions[0])o in a||(a[o]=void 0);n?t.props=r?a:EQ(a):t.type.props?t.props=a:t.props=s,t.attrs=s}function Fae(t,e,n,r){const{props:a,attrs:s,vnode:{patchFlag:o}}=t,u=Jt(a),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(Hv(t.emitsOptions,h))continue;const p=e[h];if(l)if(Kt(s,h))p!==s[h]&&(s[h]=p,c=!0);else{const m=Ca(h);a[m]=IR(l,u,m,p,t,!1)}else p!==s[h]&&(s[h]=p,c=!0)}}}else{KQ(t,e,a,s)&&(c=!0);let d;for(const f in u)(!e||!Kt(e,f)&&((d=Pl(f))===f||!Kt(e,d)))&&(l?n&&(n[f]!==void 0||n[d]!==void 0)&&(a[f]=IR(l,u,f,void 0,t,!0)):delete a[f]);if(s!==u)for(const f in s)(!e||!Kt(e,f))&&(delete s[f],c=!0)}c&&Ss(t.attrs,"set","")}function KQ(t,e,n,r){const[a,s]=t.propsOptions;let o=!1,u;if(e)for(let l in e){if(Ng(l))continue;const c=e[l];let d;a&&Kt(a,d=Ca(l))?!s||!s.includes(d)?n[d]=c:(u||(u={}))[d]=c:Hv(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Jt(n),c=u||wr;for(let d=0;d<s.length;d++){const f=s[d];n[f]=IR(a,l,f,c[f],t,!Kt(c,f))}}return o}function IR(t,e,n,r,a,s){const o=t[n];if(o!=null){const u=Kt(o,"default");if(u&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&jt(l)){const{propsDefaults:c}=a;if(n in c)r=c[n];else{const d=w_(a);r=c[n]=l.call(null,e),d()}}else r=l}o[0]&&(s&&!u?r=!1:o[1]&&(r===""||r===Pl(n))&&(r=!0))}return r}function JQ(t,e,n=!1){const r=e.propsCache,a=r.get(t);if(a)return a;const s=t.props,o={},u=[];let l=!1;if(!jt(t)){const d=f=>{l=!0;const[h,p]=JQ(f,e,!0);gn(o,h),p&&u.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return pr(t)&&r.set(t,kc),kc;if(At(s))for(let d=0;d<s.length;d++){const f=Ca(s[d]);yC(f)&&(o[f]=wr)}else if(s)for(const d in s){const f=Ca(d);if(yC(f)){const h=s[d],p=o[f]=At(h)||jt(h)?{type:h}:gn({},h);if(p){const m=_C(Boolean,p.type),y=_C(String,p.type);p[0]=m>-1,p[1]=y<0||m<y,(m>-1||Kt(p,"default"))&&u.push(f)}}}const c=[o,u];return pr(t)&&r.set(t,c),c}function yC(t){return t[0]!=="$"&&!Ng(t)}function mC(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function gC(t,e){return mC(t)===mC(e)}function _C(t,e){return At(e)?e.findIndex(n=>gC(n,t)):jt(e)&&gC(e,t)?0:-1}const XQ=t=>t[0]==="_"||t==="$stable",OI=t=>At(t)?t.map(Ta):[Ta(t)],qae=(t,e,n)=>{if(e._n)return e;const r=ai((...a)=>OI(e(...a)),n);return r._c=!1,r},YQ=(t,e,n)=>{const r=t._ctx;for(const a in t){if(XQ(a))continue;const s=t[a];if(jt(s))e[a]=qae(a,s,r);else if(s!=null){const o=OI(s);e[a]=()=>o}}},ZQ=(t,e)=>{const n=OI(e);t.slots.default=()=>n},Bae=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Jt(e),sQ(t.slots,"_",n)):YQ(e,t.slots=xR())}else t.slots=xR(),e&&ZQ(t,e)},$ae=(t,e,n)=>{const{vnode:r,slots:a}=t;let s=!0,o=wr;if(r.shapeFlag&32){const u=e._;u?n&&u===1?s=!1:(gn(a,e),!n&&u===1&&delete a._):(s=!e.$stable,YQ(e,a)),o=e}else e&&(ZQ(t,e),o={default:1});if(s)for(const u in a)!XQ(u)&&o[u]==null&&delete a[u]};function PR(t,e,n,r,a=!1){if(At(t)){t.forEach((h,p)=>PR(h,e&&(At(e)?e[p]:e),n,r,a));return}if(Cg(r)&&!a)return;const s=r.shapeFlag&4?Kv(r.component)||r.component.proxy:r.el,o=a?null:s,{i:u,r:l}=t,c=e&&e.r,d=u.refs===wr?u.refs={}:u.refs,f=u.setupState;if(c!=null&&c!==l&&(Kr(c)?(d[c]=null,Kt(f,c)&&(f[c]=null)):rn(c)&&(c.value=null)),jt(l))so(l,u,12,[o,d]);else{const h=Kr(l),p=rn(l);if(h||p){const m=()=>{if(t.f){const y=h?Kt(f,l)?f[l]:d[l]:l.value;a?At(y)&&dI(y,s):At(y)?y.includes(s)||y.push(s):h?(d[l]=[s],Kt(f,l)&&(f[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else h?(d[l]=o,Kt(f,l)&&(f[l]=o)):p&&(l.value=o,t.k&&(d[t.k]=o))};o?(m.id=-1,si(m,n)):m()}}}const si=uae;function Uae(t){return kae(t)}function kae(t,e){const n=oQ();n.__VUE__=!0;const{insert:r,remove:a,patchProp:s,createElement:o,createText:u,createComment:l,setText:c,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=Li,insertStaticContent:m}=t,y=(T,O,$,G=null,Q=null,Y=null,ie=void 0,te=null,he=!!O.dynamicChildren)=>{if(T===O)return;T&&!fd(T,O)&&(G=we(T),Ve(T,Q,Y,!0),T=null),O.patchFlag===-2&&(he=!1,O.dynamicChildren=null);const{type:ce,ref:ve,shapeFlag:Ce}=O;switch(ce){case Gv:g(T,O,$,G);break;case go:_(T,O,$,G);break;case ZS:T==null&&v(O,$,G,ie);break;case Rn:D(T,O,$,G,Q,Y,ie,te,he);break;default:Ce&1?S(T,O,$,G,Q,Y,ie,te,he):Ce&6?V(T,O,$,G,Q,Y,ie,te,he):(Ce&64||Ce&128)&&ce.process(T,O,$,G,Q,Y,ie,te,he,z)}ve!=null&&Q&&PR(ve,T&&T.ref,Y,O||T,!O)},g=(T,O,$,G)=>{if(T==null)r(O.el=u(O.children),$,G);else{const Q=O.el=T.el;O.children!==T.children&&c(Q,O.children)}},_=(T,O,$,G)=>{T==null?r(O.el=l(O.children||""),$,G):O.el=T.el},v=(T,O,$,G)=>{[T.el,T.anchor]=m(T.children,O,$,G,T.el,T.anchor)},b=({el:T,anchor:O},$,G)=>{let Q;for(;T&&T!==O;)Q=h(T),r(T,$,G),T=Q;r(O,$,G)},w=({el:T,anchor:O})=>{let $;for(;T&&T!==O;)$=h(T),a(T),T=$;a(O)},S=(T,O,$,G,Q,Y,ie,te,he)=>{O.type==="svg"?ie="svg":O.type==="math"&&(ie="mathml"),T==null?A(O,$,G,Q,Y,ie,te,he):I(T,O,Q,Y,ie,te,he)},A=(T,O,$,G,Q,Y,ie,te)=>{let he,ce;const{props:ve,shapeFlag:Ce,transition:Ee,dirs:Ue}=T;if(he=T.el=o(T.type,Y,ve&&ve.is,ve),Ce&8?d(he,T.children):Ce&16&&M(T.children,he,null,G,Q,YS(T,Y),ie,te),Ue&&Qo(T,null,G,"created"),x(he,T,T.scopeId,ie,G),ve){for(const Qe in ve)Qe!=="value"&&!Ng(Qe)&&s(he,Qe,null,ve[Qe],Y,T.children,G,Q,Ne);"value"in ve&&s(he,"value",null,ve.value,Y),(ce=ve.onVnodeBeforeMount)&&ma(ce,G,T)}Ue&&Qo(T,null,G,"beforeMount");const Fe=Vae(Q,Ee);Fe&&Ee.beforeEnter(he),r(he,O,$),((ce=ve&&ve.onVnodeMounted)||Fe||Ue)&&si(()=>{ce&&ma(ce,G,T),Fe&&Ee.enter(he),Ue&&Qo(T,null,G,"mounted")},Q)},x=(T,O,$,G,Q)=>{if($&&p(T,$),G)for(let Y=0;Y<G.length;Y++)p(T,G[Y]);if(Q){let Y=Q.subTree;if(O===Y){const ie=Q.vnode;x(T,ie,ie.scopeId,ie.slotScopeIds,Q.parent)}}},M=(T,O,$,G,Q,Y,ie,te,he=0)=>{for(let ce=he;ce<T.length;ce++){const ve=T[ce]=te?Zs(T[ce]):Ta(T[ce]);y(null,ve,O,$,G,Q,Y,ie,te)}},I=(T,O,$,G,Q,Y,ie)=>{const te=O.el=T.el;let{patchFlag:he,dynamicChildren:ce,dirs:ve}=O;he|=T.patchFlag&16;const Ce=T.props||wr,Ee=O.props||wr;let Ue;if($&&zo($,!1),(Ue=Ee.onVnodeBeforeUpdate)&&ma(Ue,$,O,T),ve&&Qo(O,T,$,"beforeUpdate"),$&&zo($,!0),ce?N(T.dynamicChildren,ce,te,$,G,YS(O,Q),Y):ie||ee(T,O,te,null,$,G,YS(O,Q),Y,!1),he>0){if(he&16)F(te,O,Ce,Ee,$,G,Q);else if(he&2&&Ce.class!==Ee.class&&s(te,"class",null,Ee.class,Q),he&4&&s(te,"style",Ce.style,Ee.style,Q),he&8){const Fe=O.dynamicProps;for(let Qe=0;Qe<Fe.length;Qe++){const ke=Fe[Qe],K=Ce[ke],C=Ee[ke];(C!==K||ke==="value")&&s(te,ke,K,C,Q,T.children,$,G,Ne)}}he&1&&T.children!==O.children&&d(te,O.children)}else!ie&&ce==null&&F(te,O,Ce,Ee,$,G,Q);((Ue=Ee.onVnodeUpdated)||ve)&&si(()=>{Ue&&ma(Ue,$,O,T),ve&&Qo(O,T,$,"updated")},G)},N=(T,O,$,G,Q,Y,ie)=>{for(let te=0;te<O.length;te++){const he=T[te],ce=O[te],ve=he.el&&(he.type===Rn||!fd(he,ce)||he.shapeFlag&70)?f(he.el):$;y(he,ce,ve,null,G,Q,Y,ie,!0)}},F=(T,O,$,G,Q,Y,ie)=>{if($!==G){if($!==wr)for(const te in $)!Ng(te)&&!(te in G)&&s(T,te,$[te],null,ie,O.children,Q,Y,Ne);for(const te in G){if(Ng(te))continue;const he=G[te],ce=$[te];he!==ce&&te!=="value"&&s(T,te,ce,he,ie,O.children,Q,Y,Ne)}"value"in G&&s(T,"value",$.value,G.value,ie)}},D=(T,O,$,G,Q,Y,ie,te,he)=>{const ce=O.el=T?T.el:u(""),ve=O.anchor=T?T.anchor:u("");let{patchFlag:Ce,dynamicChildren:Ee,slotScopeIds:Ue}=O;Ue&&(te=te?te.concat(Ue):Ue),T==null?(r(ce,$,G),r(ve,$,G),M(O.children||[],$,ve,Q,Y,ie,te,he)):Ce>0&&Ce&64&&Ee&&T.dynamicChildren?(N(T.dynamicChildren,Ee,$,Q,Y,ie,te),(O.key!=null||Q&&O===Q.subTree)&&ez(T,O,!0)):ee(T,O,$,ve,Q,Y,ie,te,he)},V=(T,O,$,G,Q,Y,ie,te,he)=>{O.slotScopeIds=te,T==null?O.shapeFlag&512?Q.ctx.activate(O,$,G,ie,he):k(O,$,G,Q,Y,ie,he):U(T,O,he)},k=(T,O,$,G,Q,Y,ie)=>{const te=T.component=Yae(T,G,Q);if(UQ(T)&&(te.ctx.renderer=z),ese(te),te.asyncDep){if(Q&&Q.registerDep(te,H),!T.el){const he=te.subTree=Wt(go);_(null,he,O,$)}}else H(te,T,O,$,Q,Y,ie)},U=(T,O,$)=>{const G=O.component=T.component;if(aae(T,O,$))if(G.asyncDep&&!G.asyncResolved){X(G,O,$);return}else G.next=O,Xie(G.update),G.effect.dirty=!0,G.update();else O.el=T.el,G.vnode=O},H=(T,O,$,G,Q,Y,ie)=>{const te=()=>{if(T.isMounted){let{next:ve,bu:Ce,u:Ee,parent:Ue,vnode:Fe}=T;{const q=tz(T);if(q){ve&&(ve.el=Fe.el,X(T,ve,ie)),q.asyncDep.then(()=>{T.isUnmounted||te()});return}}let Qe=ve,ke;zo(T,!1),ve?(ve.el=Fe.el,X(T,ve,ie)):ve=Fe,Ce&&R1(Ce),(ke=ve.props&&ve.props.onVnodeBeforeUpdate)&&ma(ke,Ue,ve,Fe),zo(T,!0);const K=JS(T),C=T.subTree;T.subTree=K,y(C,K,f(C.el),we(C),T,Q,Y),ve.el=K.el,Qe===null&&sae(T,K.el),Ee&&si(Ee,Q),(ke=ve.props&&ve.props.onVnodeUpdated)&&si(()=>ma(ke,Ue,ve,Fe),Q)}else{let ve;const{el:Ce,props:Ee}=O,{bm:Ue,m:Fe,parent:Qe}=T,ke=Cg(O);if(zo(T,!1),Ue&&R1(Ue),!ke&&(ve=Ee&&Ee.onVnodeBeforeMount)&&ma(ve,Qe,O),zo(T,!0),Ce&&B){const K=()=>{T.subTree=JS(T),B(Ce,T.subTree,T,Q,null)};ke?O.type.__asyncLoader().then(()=>!T.isUnmounted&&K()):K()}else{const K=T.subTree=JS(T);y(null,K,$,G,T,Q,Y),O.el=K.el}if(Fe&&si(Fe,Q),!ke&&(ve=Ee&&Ee.onVnodeMounted)){const K=O;si(()=>ma(ve,Qe,K),Q)}(O.shapeFlag&256||Qe&&Cg(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&T.a&&si(T.a,Q),T.isMounted=!0,O=$=G=null}},he=T.effect=new hI(te,Li,()=>TI(ce),T.scope),ce=T.update=()=>{he.dirty&&he.run()};ce.id=T.uid,zo(T,!0),ce()},X=(T,O,$)=>{O.component=T;const G=T.vnode.props;T.vnode=O,T.next=null,Fae(T,O.props,G,$),$ae(T,O.children,$),Eo(),oC(T),Ao()},ee=(T,O,$,G,Q,Y,ie,te,he=!1)=>{const ce=T&&T.children,ve=T?T.shapeFlag:0,Ce=O.children,{patchFlag:Ee,shapeFlag:Ue}=O;if(Ee>0){if(Ee&128){Te(ce,Ce,$,G,Q,Y,ie,te,he);return}else if(Ee&256){fe(ce,Ce,$,G,Q,Y,ie,te,he);return}}Ue&8?(ve&16&&Ne(ce,Q,Y),Ce!==ce&&d($,Ce)):ve&16?Ue&16?Te(ce,Ce,$,G,Q,Y,ie,te,he):Ne(ce,Q,Y,!0):(ve&8&&d($,""),Ue&16&&M(Ce,$,G,Q,Y,ie,te,he))},fe=(T,O,$,G,Q,Y,ie,te,he)=>{T=T||kc,O=O||kc;const ce=T.length,ve=O.length,Ce=Math.min(ce,ve);let Ee;for(Ee=0;Ee<Ce;Ee++){const Ue=O[Ee]=he?Zs(O[Ee]):Ta(O[Ee]);y(T[Ee],Ue,$,null,Q,Y,ie,te,he)}ce>ve?Ne(T,Q,Y,!0,!1,Ce):M(O,$,G,Q,Y,ie,te,he,Ce)},Te=(T,O,$,G,Q,Y,ie,te,he)=>{let ce=0;const ve=O.length;let Ce=T.length-1,Ee=ve-1;for(;ce<=Ce&&ce<=Ee;){const Ue=T[ce],Fe=O[ce]=he?Zs(O[ce]):Ta(O[ce]);if(fd(Ue,Fe))y(Ue,Fe,$,null,Q,Y,ie,te,he);else break;ce++}for(;ce<=Ce&&ce<=Ee;){const Ue=T[Ce],Fe=O[Ee]=he?Zs(O[Ee]):Ta(O[Ee]);if(fd(Ue,Fe))y(Ue,Fe,$,null,Q,Y,ie,te,he);else break;Ce--,Ee--}if(ce>Ce){if(ce<=Ee){const Ue=Ee+1,Fe=Ue<ve?O[Ue].el:G;for(;ce<=Ee;)y(null,O[ce]=he?Zs(O[ce]):Ta(O[ce]),$,Fe,Q,Y,ie,te,he),ce++}}else if(ce>Ee)for(;ce<=Ce;)Ve(T[ce],Q,Y,!0),ce++;else{const Ue=ce,Fe=ce,Qe=new Map;for(ce=Fe;ce<=Ee;ce++){const ge=O[ce]=he?Zs(O[ce]):Ta(O[ce]);ge.key!=null&&Qe.set(ge.key,ce)}let ke,K=0;const C=Ee-Fe+1;let q=!1,W=0;const re=new Array(C);for(ce=0;ce<C;ce++)re[ce]=0;for(ce=Ue;ce<=Ce;ce++){const ge=T[ce];if(K>=C){Ve(ge,Q,Y,!0);continue}let qe;if(ge.key!=null)qe=Qe.get(ge.key);else for(ke=Fe;ke<=Ee;ke++)if(re[ke-Fe]===0&&fd(ge,O[ke])){qe=ke;break}qe===void 0?Ve(ge,Q,Y,!0):(re[qe-Fe]=ce+1,qe>=W?W=qe:q=!0,y(ge,O[qe],$,null,Q,Y,ie,te,he),K++)}const pe=q?Hae(re):kc;for(ke=pe.length-1,ce=C-1;ce>=0;ce--){const ge=Fe+ce,qe=O[ge],Z=ge+1<ve?O[ge+1].el:G;re[ce]===0?y(null,qe,$,Z,Q,Y,ie,te,he):q&&(ke<0||ce!==pe[ke]?De(qe,$,Z,2):ke--)}}},De=(T,O,$,G,Q=null)=>{const{el:Y,type:ie,transition:te,children:he,shapeFlag:ce}=T;if(ce&6){De(T.component.subTree,O,$,G);return}if(ce&128){T.suspense.move(O,$,G);return}if(ce&64){ie.move(T,O,$,z);return}if(ie===Rn){r(Y,O,$);for(let Ce=0;Ce<he.length;Ce++)De(he[Ce],O,$,G);r(T.anchor,O,$);return}if(ie===ZS){b(T,O,$);return}if(G!==2&&ce&1&&te)if(G===0)te.beforeEnter(Y),r(Y,O,$),si(()=>te.enter(Y),Q);else{const{leave:Ce,delayLeave:Ee,afterLeave:Ue}=te,Fe=()=>r(Y,O,$),Qe=()=>{Ce(Y,()=>{Fe(),Ue&&Ue()})};Ee?Ee(Y,Fe,Qe):Qe()}else r(Y,O,$)},Ve=(T,O,$,G=!1,Q=!1)=>{const{type:Y,props:ie,ref:te,children:he,dynamicChildren:ce,shapeFlag:ve,patchFlag:Ce,dirs:Ee}=T;if(te!=null&&PR(te,null,$,T,!0),ve&256){O.ctx.deactivate(T);return}const Ue=ve&1&&Ee,Fe=!Cg(T);let Qe;if(Fe&&(Qe=ie&&ie.onVnodeBeforeUnmount)&&ma(Qe,O,T),ve&6)Ie(T.component,$,G);else{if(ve&128){T.suspense.unmount($,G);return}Ue&&Qo(T,null,O,"beforeUnmount"),ve&64?T.type.remove(T,O,$,Q,z,G):ce&&(Y!==Rn||Ce>0&&Ce&64)?Ne(ce,O,$,!1,!0):(Y===Rn&&Ce&384||!Q&&ve&16)&&Ne(he,O,$),G&&le(T)}(Fe&&(Qe=ie&&ie.onVnodeUnmounted)||Ue)&&si(()=>{Qe&&ma(Qe,O,T),Ue&&Qo(T,null,O,"unmounted")},$)},le=T=>{const{type:O,el:$,anchor:G,transition:Q}=T;if(O===Rn){ue($,G);return}if(O===ZS){w(T);return}const Y=()=>{a($),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(T.shapeFlag&1&&Q&&!Q.persisted){const{leave:ie,delayLeave:te}=Q,he=()=>ie($,Y);te?te(T.el,Y,he):he()}else Y()},ue=(T,O)=>{let $;for(;T!==O;)$=h(T),a(T),T=$;a(O)},Ie=(T,O,$)=>{const{bum:G,scope:Q,update:Y,subTree:ie,um:te}=T;G&&R1(G),Q.stop(),Y&&(Y.active=!1,Ve(ie,T,O,$)),te&&si(te,O),si(()=>{T.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Ne=(T,O,$,G=!1,Q=!1,Y=0)=>{for(let ie=Y;ie<T.length;ie++)Ve(T[ie],O,$,G,Q)},we=T=>T.shapeFlag&6?we(T.component.subTree):T.shapeFlag&128?T.suspense.next():h(T.anchor||T.el);let Ae=!1;const Se=(T,O,$)=>{T==null?O._vnode&&Ve(O._vnode,null,null,!0):y(O._vnode||null,T,O,null,null,null,$),Ae||(Ae=!0,oC(),CQ(),Ae=!1),O._vnode=T},z={p:y,um:Ve,m:De,r:le,mt:k,mc:M,pc:ee,pbc:N,n:we,o:t};let L,B;return e&&([L,B]=e(z)),{render:Se,hydrate:L,createApp:Lae(Se,L)}}function YS({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function zo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Vae(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ez(t,e,n=!1){const r=t.children,a=e.children;if(At(r)&&At(a))for(let s=0;s<r.length;s++){const o=r[s];let u=a[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[s]=Zs(a[s]),u.el=o.el),n||ez(o,u)),u.type===Gv&&(u.el=o.el)}}function Hae(t){const e=t.slice(),n=[0];let r,a,s,o,u;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(a=n[n.length-1],t[a]<c){e[r]=a,n.push(r);continue}for(s=0,o=n.length-1;s<o;)u=s+o>>1,t[n[u]]<c?s=u+1:o=u;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function tz(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:tz(e)}const Qae=t=>t.__isTeleport,Rn=Symbol.for("v-fgt"),Gv=Symbol.for("v-txt"),go=Symbol.for("v-cmt"),ZS=Symbol.for("v-stc"),jg=[];let na=null;function ar(t=!1){jg.push(na=t?null:[])}function zae(){jg.pop(),na=jg[jg.length-1]||null}let Xg=1;function bC(t){Xg+=t}function rz(t){return t.dynamicChildren=Xg>0?na||kc:null,zae(),Xg>0&&na&&na.push(t),t}function hr(t,e,n,r,a,s){return rz(ot(t,e,n,r,a,s,!0))}function RI(t,e,n,r,a){return rz(Wt(t,e,n,r,a,!0))}function lv(t){return t?t.__v_isVNode===!0:!1}function fd(t,e){return t.type===e.type&&t.key===e.key}const nz=({key:t})=>t??null,P1=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Kr(t)||rn(t)||jt(t)?{i:Gr,r:t,k:e,f:!!n}:t:null);function ot(t,e=null,n=null,r=0,a=null,s=t===Rn?0:1,o=!1,u=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&nz(e),ref:e&&P1(e),scopeId:Qv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Gr};return u?(xI(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Kr(n)?8:16),Xg>0&&!o&&na&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&na.push(l),l}const Wt=Gae;function Gae(t,e=null,n=null,r=0,a=null,s=!1){if((!t||t===MQ)&&(t=go),lv(t)){const u=cl(t,e,!0);return n&&xI(u,n),Xg>0&&!s&&na&&(u.shapeFlag&6?na[na.indexOf(t)]=u:na.push(u)),u.patchFlag|=-2,u}if(ise(t)&&(t=t.__vccOpts),e){e=Wae(e);let{class:u,style:l}=e;u&&!Kr(u)&&(e.class=ul(u)),pr(l)&&(OQ(l)&&!At(l)&&(l=gn({},l)),e.style=Uv(l))}const o=Kr(t)?1:oae(t)?128:Qae(t)?64:pr(t)?4:jt(t)?2:0;return ot(t,e,n,r,a,o,s,!0)}function Wae(t){return t?OQ(t)||WQ(t)?gn({},t):t:null}function cl(t,e,n=!1){const{props:r,ref:a,patchFlag:s,children:o}=t,u=e?Kae(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&nz(u),ref:e&&e.ref?n&&a?At(a)?a.concat(P1(e)):[a,P1(e)]:P1(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Rn?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cl(t.ssContent),ssFallback:t.ssFallback&&cl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function zs(t=" ",e=0){return Wt(Gv,null,t,e)}function ta(t="",e=!1){return e?(ar(),RI(go,null,t)):Wt(go,null,t)}function Ta(t){return t==null||typeof t=="boolean"?Wt(go):At(t)?Wt(Rn,null,t.slice()):typeof t=="object"?Zs(t):Wt(Gv,null,String(t))}function Zs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cl(t)}function xI(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(At(e))n=16;else if(typeof e=="object")if(r&65){const a=e.default;a&&(a._c&&(a._d=!1),xI(t,a()),a._c&&(a._d=!0));return}else{n=32;const a=e._;!a&&!WQ(e)?e._ctx=Gr:a===3&&Gr&&(Gr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else jt(e)?(e={default:e,_ctx:Gr},n=32):(e=String(e),r&64?(n=16,e=[zs(e)]):n=8);t.children=e,t.shapeFlag|=n}function Kae(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const a in r)if(a==="class")e.class!==r.class&&(e.class=ul([e.class,r.class]));else if(a==="style")e.style=Uv([e.style,r.style]);else if(qv(a)){const s=e[a],o=r[a];o&&s!==o&&!(At(s)&&s.includes(o))&&(e[a]=s?[].concat(s,o):o)}else a!==""&&(e[a]=r[a])}return e}function ma(t,e,n,r=null){ia(t,e,7,[n,r])}const Jae=zQ();let Xae=0;function Yae(t,e,n){const r=t.type,a=(e?e.appContext:t.appContext)||Jae,s={uid:Xae++,vnode:t,type:r,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new lQ(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:JQ(r,a),emitsOptions:jQ(r,a),emit:null,emitted:null,propsDefaults:wr,inheritAttrs:r.inheritAttrs,ctx:wr,data:wr,props:wr,attrs:wr,slots:wr,refs:wr,setupState:wr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=eae.bind(null,s),t.ce&&t.ce(s),s}let on=null;const Zae=()=>on||Gr;let dv,NR;{const t=oQ(),e=(n,r)=>{let a;return(a=t[n])||(a=t[n]=[]),a.push(r),s=>{a.length>1?a.forEach(o=>o(s)):a[0](s)}};dv=e("__VUE_INSTANCE_SETTERS__",n=>on=n),NR=e("__VUE_SSR_SETTERS__",n=>Wv=n)}const w_=t=>{const e=on;return dv(t),t.scope.on(),()=>{t.scope.off(),dv(e)}},vC=()=>{on&&on.scope.off(),dv(null)};function iz(t){return t.vnode.shapeFlag&4}let Wv=!1;function ese(t,e=!1){e&&NR(e);const{props:n,children:r}=t.vnode,a=iz(t);Mae(t,n,a,e),Bae(t,r);const s=a?tse(t,e):void 0;return e&&NR(!1),s}function tse(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Oae);const{setup:r}=n;if(r){const a=t.setupContext=r.length>1?sz(t):null,s=w_(t);Eo();const o=so(r,t,0,[t.props,a]);if(Ao(),s(),nQ(o)){if(o.then(vC,vC),e)return o.then(u=>{wC(t,u,e)}).catch(u=>{Vv(u,t,0)});t.asyncDep=o}else wC(t,o,e)}else az(t,e)}function wC(t,e,n){jt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pr(e)&&(t.setupState=PQ(e)),az(t,n)}let SC;function az(t,e,n){const r=t.type;if(!t.render){if(!e&&SC&&!r.render){const a=r.template||AI(t).template;if(a){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:u,compilerOptions:l}=r,c=gn(gn({isCustomElement:s,delimiters:u},o),l);r.render=SC(a,c)}}t.render=r.render||Li}{const a=w_(t);Eo();try{xae(t)}finally{Ao(),a()}}}const rse={get(t,e){return ui(t,"get",""),t[e]}};function sz(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,rse),slots:t.slots,emit:t.emit,expose:e}}function Kv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(PQ(bI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Lg)return Lg[n](t)},has(e,n){return n in e||n in Lg}}))}function nse(t,e=!0){return jt(t)?t.displayName||t.name:t.name||e&&t.__name}function ise(t){return jt(t)&&"__vccOpts"in t}const Ni=(t,e)=>kie(t,e,Wv);function II(t,e,n){const r=arguments.length;return r===2?pr(e)&&!At(e)?lv(e)?Wt(t,null,[e]):Wt(t,e):Wt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&lv(n)&&(n=[n]),Wt(t,e,n))}const ase="3.4.23";/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const sse="http://www.w3.org/2000/svg",ose="http://www.w3.org/1998/Math/MathML",eo=typeof document<"u"?document:null,TC=eo&&eo.createElement("template"),use={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const a=e==="svg"?eo.createElementNS(sse,t):e==="mathml"?eo.createElementNS(ose,t):eo.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:t=>eo.createTextNode(t),createComment:t=>eo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>eo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,a,s){const o=n?n.previousSibling:e.lastChild;if(a&&(a===s||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),n),!(a===s||!(a=a.nextSibling)););else{TC.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const u=TC.content;if(r==="svg"||r==="mathml"){const l=u.firstChild;for(;l.firstChild;)u.appendChild(l.firstChild);u.removeChild(l)}e.insertBefore(u,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cse=Symbol("_vtc");function lse(t,e,n){const r=t[cse];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const EC=Symbol("_vod"),dse=Symbol("_vsh"),fse=Symbol(""),hse=/(^|;)\s*display\s*:/;function pse(t,e,n){const r=t.style,a=Kr(n);let s=!1;if(n&&!a){if(e)if(Kr(e))for(const o of e.split(";")){const u=o.slice(0,o.indexOf(":")).trim();n[u]==null&&N1(r,u,"")}else for(const o in e)n[o]==null&&N1(r,o,"");for(const o in n)o==="display"&&(s=!0),N1(r,o,n[o])}else if(a){if(e!==n){const o=r[fse];o&&(n+=";"+o),r.cssText=n,s=hse.test(n)}}else e&&t.removeAttribute("style");EC in t&&(t[EC]=s?r.display:"",t[dse]&&(r.display="none"))}const AC=/\s*!important$/;function N1(t,e,n){if(At(n))n.forEach(r=>N1(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=yse(t,e);AC.test(n)?t.setProperty(Pl(r),n.replace(AC,""),"important"):t[r]=n}}const OC=["Webkit","Moz","ms"],e2={};function yse(t,e){const n=e2[e];if(n)return n;let r=Ca(e);if(r!=="filter"&&r in t)return e2[e]=r;r=$v(r);for(let a=0;a<OC.length;a++){const s=OC[a]+r;if(s in t)return e2[e]=s}return e}const RC="http://www.w3.org/1999/xlink";function mse(t,e,n,r,a){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(RC,e.slice(6,e.length)):t.setAttributeNS(RC,e,n);else{const s=_ie(e);n==null||s&&!uQ(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function gse(t,e,n,r,a,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,a,s),t[e]=n??"";return}const u=t.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){const c=u==="OPTION"?t.getAttribute("value")||"":t.value,d=n??"";(c!==d||!("_value"in t))&&(t.value=d),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=uQ(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function vu(t,e,n,r){t.addEventListener(e,n,r)}function _se(t,e,n,r){t.removeEventListener(e,n,r)}const xC=Symbol("_vei");function bse(t,e,n,r,a=null){const s=t[xC]||(t[xC]={}),o=s[e];if(r&&o)o.value=r;else{const[u,l]=vse(e);if(r){const c=s[e]=Tse(r,a);vu(t,u,c,l)}else o&&(_se(t,u,o,l),s[e]=void 0)}}const IC=/(?:Once|Passive|Capture)$/;function vse(t){let e;if(IC.test(t)){e={};let r;for(;r=t.match(IC);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Pl(t.slice(2)),e]}let t2=0;const wse=Promise.resolve(),Sse=()=>t2||(wse.then(()=>t2=0),t2=Date.now());function Tse(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ia(Ese(r,n.value),e,5,[r])};return n.value=t,n.attached=Sse(),n}function Ese(t,e){if(At(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>a=>!a._stopped&&r&&r(a))}else return e}const PC=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ase=(t,e,n,r,a,s,o,u,l)=>{const c=a==="svg";e==="class"?lse(t,r,c):e==="style"?pse(t,n,r):qv(e)?lI(e)||bse(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ose(t,e,r,c))?gse(t,e,r,s,o,u,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),mse(t,e,r,c))};function Ose(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&PC(e)&&jt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return PC(e)&&Kr(n)?!1:e in t}const fv=t=>{const e=t.props["onUpdate:modelValue"]||!1;return At(e)?n=>R1(e,n):e};function Rse(t){t.target.composing=!0}function NC(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const zc=Symbol("_assign"),ps={created(t,{modifiers:{lazy:e,trim:n,number:r}},a){t[zc]=fv(a);const s=r||a.props&&a.props.type==="number";vu(t,e?"change":"input",o=>{if(o.target.composing)return;let u=t.value;n&&(u=u.trim()),s&&(u=vR(u)),t[zc](u)}),n&&vu(t,"change",()=>{t.value=t.value.trim()}),e||(vu(t,"compositionstart",Rse),vu(t,"compositionend",NC),vu(t,"change",NC))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:a}},s){if(t[zc]=fv(s),t.composing)return;const o=(a||t.type==="number")&&!/^0\d/.test(t.value)?vR(t.value):t.value,u=e??"";o!==u&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===u)||(t.value=u))}},r2={created(t,{value:e},n){t.checked=av(e,n.props.value),t[zc]=fv(n),vu(t,"change",()=>{t[zc](xse(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[zc]=fv(r),e!==n&&(t.checked=av(e,r.props.value))}};function xse(t){return"_value"in t?t._value:t.value}const Ise=["ctrl","shift","alt","meta"],Pse={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Ise.some(n=>t[`${n}Key`]&&!e.includes(n))},h4e=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(a,...s)=>{for(let o=0;o<e.length;o++){const u=Pse[e[o]];if(u&&u(a,e))return}return t(a,...s)})},Nse=gn({patchProp:Ase},use);let DC;function Dse(){return DC||(DC=Uae(Nse))}const Cse=(...t)=>{const e=Dse().createApp(...t),{mount:n}=e;return e.mount=r=>{const a=jse(r);if(!a)return;const s=e._component;!jt(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.innerHTML="";const o=n(a,!1,Lse(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},e};function Lse(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function jse(t){return Kr(t)?document.querySelector(t):t}var Mse=!1;let oz;const Jv=t=>oz=t,uz=Symbol();function DR(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Mg;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Mg||(Mg={}));function Fse(){const t=dQ(!0),e=t.run(()=>Wg({}));let n=[],r=[];const a=bI({install(s){Jv(a),a._a=s,s.provide(uz,a),s.config.globalProperties.$pinia=a,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!Mse?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return a}const cz=()=>{};function CC(t,e,n,r=cz){t.push(e);const a=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&fQ()&&wie(a),a}function vc(t,...e){t.slice().forEach(n=>{n(...e)})}const qse=t=>t();function CR(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],a=t[n];DR(a)&&DR(r)&&t.hasOwnProperty(n)&&!rn(r)&&!Fu(r)?t[n]=CR(a,r):t[n]=r}return t}const Bse=Symbol();function $se(t){return!DR(t)||!t.hasOwnProperty(Bse)}const{assign:Gs}=Object;function Use(t){return!!(rn(t)&&t.effect)}function kse(t,e,n,r){const{state:a,actions:s,getters:o}=e,u=n.state.value[t];let l;function c(){u||(n.state.value[t]=a?a():{});const d=zie(n.state.value[t]);return Gs(d,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=bI(Ni(()=>{Jv(n);const p=n._s.get(t);return o[h].call(p,p)})),f),{}))}return l=lz(t,c,e,n,r,!0),l}function lz(t,e,n={},r,a,s){let o;const u=Gs({actions:{}},n),l={deep:!0};let c,d,f=[],h=[],p;const m=r.state.value[t];!s&&!m&&(r.state.value[t]={}),Wg({});let y;function g(M){let I;c=d=!1,typeof M=="function"?(M(r.state.value[t]),I={type:Mg.patchFunction,storeId:t,events:p}):(CR(r.state.value[t],M),I={type:Mg.patchObject,payload:M,storeId:t,events:p});const N=y=Symbol();SI().then(()=>{y===N&&(c=!0)}),d=!0,vc(f,I,r.state.value[t])}const _=s?function(){const{state:I}=n,N=I?I():{};this.$patch(F=>{Gs(F,N)})}:cz;function v(){o.stop(),f=[],h=[],r._s.delete(t)}function b(M,I){return function(){Jv(r);const N=Array.from(arguments),F=[],D=[];function V(H){F.push(H)}function k(H){D.push(H)}vc(h,{args:N,name:M,store:S,after:V,onError:k});let U;try{U=I.apply(this&&this.$id===t?this:S,N)}catch(H){throw vc(D,H),H}return U instanceof Promise?U.then(H=>(vc(F,H),H)).catch(H=>(vc(D,H),Promise.reject(H))):(vc(F,U),U)}}const w={_p:r,$id:t,$onAction:CC.bind(null,h),$patch:g,$reset:_,$subscribe(M,I={}){const N=CC(f,M,I.detached,()=>F()),F=o.run(()=>Dg(()=>r.state.value[t],D=>{(I.flush==="sync"?d:c)&&M({storeId:t,type:Mg.direct,events:p},D)},Gs({},l,I)));return N},$dispose:v},S=v_(w);r._s.set(t,S);const x=(r._a&&r._a.runWithContext||qse)(()=>r._e.run(()=>(o=dQ()).run(e)));for(const M in x){const I=x[M];if(rn(I)&&!Use(I)||Fu(I))s||(m&&$se(I)&&(rn(I)?I.value=m[M]:CR(I,m[M])),r.state.value[t][M]=I);else if(typeof I=="function"){const N=b(M,I);x[M]=N,u.actions[M]=I}}return Gs(S,x),Gs(Jt(S),x),Object.defineProperty(S,"$state",{get:()=>r.state.value[t],set:M=>{g(I=>{Gs(I,M)})}}),r._p.forEach(M=>{Gs(S,o.run(()=>M({store:S,app:r._a,pinia:r,options:u})))}),m&&s&&n.hydrate&&n.hydrate(S.$state,m),c=!0,d=!0,S}function PI(t,e,n){let r,a;const s=typeof e=="function";typeof t=="string"?(r=t,a=s?n:e):(a=t,r=t.id);function o(u,l){const c=jae();return u=u||(c?Pa(uz,null):null),u&&Jv(u),u=oz,u._s.has(r)||(s?lz(r,e,a,u):kse(r,a,u)),u._s.get(r)}return o.$id=r,o}function Xv(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const a=t(this.$pinia),s=e[r];return typeof s=="function"?s.call(this,a):a[s]},n),{})}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Dc=typeof document<"u";function Vse(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ir=Object.assign;function n2(t,e){const n={};for(const r in e){const a=e[r];n[r]=aa(a)?a.map(t):t(a)}return n}const Fg=()=>{},aa=Array.isArray,dz=/#/g,Hse=/&/g,Qse=/\//g,zse=/=/g,Gse=/\?/g,fz=/\+/g,Wse=/%5B/g,Kse=/%5D/g,hz=/%5E/g,Jse=/%60/g,pz=/%7B/g,Xse=/%7C/g,yz=/%7D/g,Yse=/%20/g;function NI(t){return encodeURI(""+t).replace(Xse,"|").replace(Wse,"[").replace(Kse,"]")}function Zse(t){return NI(t).replace(pz,"{").replace(yz,"}").replace(hz,"^")}function LR(t){return NI(t).replace(fz,"%2B").replace(Yse,"+").replace(dz,"%23").replace(Hse,"%26").replace(Jse,"`").replace(pz,"{").replace(yz,"}").replace(hz,"^")}function eoe(t){return LR(t).replace(zse,"%3D")}function toe(t){return NI(t).replace(dz,"%23").replace(Gse,"%3F")}function roe(t){return t==null?"":toe(t).replace(Qse,"%2F")}function Yg(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const noe=/\/$/,ioe=t=>t.replace(noe,"");function i2(t,e,n="/"){let r,a={},s="",o="";const u=e.indexOf("#");let l=e.indexOf("?");return u<l&&u>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,u>-1?u:e.length),a=t(s)),u>-1&&(r=r||e.slice(0,u),o=e.slice(u,e.length)),r=uoe(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:a,hash:Yg(o)}}function aoe(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function LC(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function soe(t,e,n){const r=e.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&ll(e.matched[r],n.matched[a])&&mz(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ll(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mz(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!ooe(t[n],e[n]))return!1;return!0}function ooe(t,e){return aa(t)?jC(t,e):aa(e)?jC(e,t):t===e}function jC(t,e){return aa(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function uoe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let s=n.length-1,o,u;for(o=0;o<r.length;o++)if(u=r[o],u!==".")if(u==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var Zg;(function(t){t.pop="pop",t.push="push"})(Zg||(Zg={}));var qg;(function(t){t.back="back",t.forward="forward",t.unknown=""})(qg||(qg={}));function coe(t){if(!t)if(Dc){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ioe(t)}const loe=/^[^#]+#/;function doe(t,e){return t.replace(loe,"#")+e}function foe(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Yv=()=>({left:window.scrollX,top:window.scrollY});function hoe(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;e=foe(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function MC(t,e){return(history.state?history.state.position-e:-1)+t}const jR=new Map;function poe(t,e){jR.set(t,e)}function yoe(t){const e=jR.get(t);return jR.delete(t),e}let moe=()=>location.protocol+"//"+location.host;function gz(t,e){const{pathname:n,search:r,hash:a}=e,s=t.indexOf("#");if(s>-1){let u=a.includes(t.slice(s))?t.slice(s).length:1,l=a.slice(u);return l[0]!=="/"&&(l="/"+l),LC(l,"")}return LC(n,t)+r+a}function goe(t,e,n,r){let a=[],s=[],o=null;const u=({state:h})=>{const p=gz(t,location),m=n.value,y=e.value;let g=0;if(h){if(n.value=p,e.value=h,o&&o===m){o=null;return}g=y?h.position-y.position:0}else r(p);a.forEach(_=>{_(n.value,m,{delta:g,type:Zg.pop,direction:g?g>0?qg.forward:qg.back:qg.unknown})})};function l(){o=n.value}function c(h){a.push(h);const p=()=>{const m=a.indexOf(h);m>-1&&a.splice(m,1)};return s.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(ir({},h.state,{scroll:Yv()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function FC(t,e,n,r=!1,a=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:a?Yv():null}}function _oe(t){const{history:e,location:n}=window,r={value:gz(t,n)},a={value:e.state};a.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,d){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:moe()+t+l;try{e[d?"replaceState":"pushState"](c,"",h),a.value=c}catch(p){console.error(p),n[d?"replace":"assign"](h)}}function o(l,c){const d=ir({},e.state,FC(a.value.back,l,a.value.forward,!0),c,{position:a.value.position});s(l,d,!0),r.value=l}function u(l,c){const d=ir({},a.value,e.state,{forward:l,scroll:Yv()});s(d.current,d,!0);const f=ir({},FC(r.value,l,null),{position:d.position+1},c);s(l,f,!1),r.value=l}return{location:r,state:a,push:u,replace:o}}function boe(t){t=coe(t);const e=_oe(t),n=goe(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const a=ir({location:"",base:t,go:r,createHref:doe.bind(null,t)},e,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function voe(t){return typeof t=="string"||t&&typeof t=="object"}function _z(t){return typeof t=="string"||typeof t=="symbol"}const Us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bz=Symbol("");var qC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(qC||(qC={}));function dl(t,e){return ir(new Error,{type:t,[bz]:!0},e)}function ns(t,e){return t instanceof Error&&bz in t&&(e==null||!!(t.type&e))}const BC="[^/]+?",woe={sensitive:!1,strict:!1,start:!0,end:!0},Soe=/[.+*?^${}()[\]/\\]/g;function Toe(t,e){const n=ir({},woe,e),r=[];let a=n.start?"^":"";const s=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(a+="/");for(let f=0;f<c.length;f++){const h=c[f];let p=40+(n.sensitive?.25:0);if(h.type===0)f||(a+="/"),a+=h.value.replace(Soe,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:y,optional:g,regexp:_}=h;s.push({name:m,repeatable:y,optional:g});const v=_||BC;if(v!==BC){p+=10;try{new RegExp(`(${v})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${m}" (${v}): `+w.message)}}let b=y?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(b=g&&c.length<2?`(?:/${b})`:"/"+b),g&&(b+="?"),a+=b,p+=20,g&&(p+=-8),y&&(p+=-20),v===".*"&&(p+=-50)}d.push(p)}r.push(d)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function u(c){const d=c.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",m=s[h-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function l(c){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:m,repeatable:y,optional:g}=p,_=m in c?c[m]:"";if(aa(_)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const v=aa(_)?_.join("/"):_;if(!v)if(g)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);d+=v}}return d||"/"}return{re:o,score:r,keys:s,parse:u,stringify:l}}function Eoe(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Aoe(t,e){let n=0;const r=t.score,a=e.score;for(;n<r.length&&n<a.length;){const s=Eoe(r[n],a[n]);if(s)return s;n++}if(Math.abs(a.length-r.length)===1){if($C(r))return 1;if($C(a))return-1}return a.length-r.length}function $C(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ooe={type:0,value:""},Roe=/[a-zA-Z0-9_]/;function xoe(t){if(!t)return[[]];if(t==="/")return[[Ooe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const a=[];let s;function o(){s&&a.push(s),s=[]}let u=0,l,c="",d="";function f(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;u<t.length;){if(l=t[u++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:Roe.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&u--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&u--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),a}function Ioe(t,e,n){const r=Toe(xoe(t.path),n),a=ir(r,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function Poe(t,e){const n=[],r=new Map;e=VC({strict:!1,end:!0,sensitive:!1},e);function a(d){return r.get(d)}function s(d,f,h){const p=!h,m=Noe(d);m.aliasOf=h&&h.record;const y=VC(e,d),g=[m];if("alias"in d){const b=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of b)g.push(ir({},m,{components:h?h.record.components:m.components,path:w,aliasOf:h?h.record:m}))}let _,v;for(const b of g){const{path:w}=b;if(f&&w[0]!=="/"){const S=f.record.path,A=S[S.length-1]==="/"?"":"/";b.path=f.record.path+(w&&A+w)}if(_=Ioe(b,f,y),h?h.alias.push(_):(v=v||_,v!==_&&v.alias.push(_),p&&d.name&&!kC(_)&&o(d.name)),m.children){const S=m.children;for(let A=0;A<S.length;A++)s(S[A],_,h&&h.children[A])}h=h||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return v?()=>{o(v)}:Fg}function o(d){if(_z(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function u(){return n}function l(d){let f=0;for(;f<n.length&&Aoe(d,n[f])>=0&&(d.record.path!==n[f].record.path||!vz(d,n[f]));)f++;n.splice(f,0,d),d.record.name&&!kC(d)&&r.set(d.record.name,d)}function c(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw dl(1,{location:d});y=h.record.name,p=ir(UC(f.params,h.keys.filter(v=>!v.optional).concat(h.parent?h.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&UC(d.params,h.keys.map(v=>v.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=n.find(v=>v.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?r.get(f.name):n.find(v=>v.re.test(f.path)),!h)throw dl(1,{location:d,currentLocation:f});y=h.record.name,p=ir({},f.params,d.params),m=h.stringify(p)}const g=[];let _=h;for(;_;)g.unshift(_.record),_=_.parent;return{name:y,path:m,params:p,matched:g,meta:Coe(g)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:u,getRecordMatcher:a}}function UC(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Noe(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Doe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Doe(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function kC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Coe(t){return t.reduce((e,n)=>ir(e,n.meta),{})}function VC(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function vz(t,e){return e.children.some(n=>n===t||vz(t,n))}function Loe(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<r.length;++a){const s=r[a].replace(fz," "),o=s.indexOf("="),u=Yg(o<0?s:s.slice(0,o)),l=o<0?null:Yg(s.slice(o+1));if(u in e){let c=e[u];aa(c)||(c=e[u]=[c]),c.push(l)}else e[u]=l}return e}function HC(t){let e="";for(let n in t){const r=t[n];if(n=eoe(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(aa(r)?r.map(s=>s&&LR(s)):[r&&LR(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function joe(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=aa(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return e}const Moe=Symbol(""),QC=Symbol(""),DI=Symbol(""),wz=Symbol(""),MR=Symbol("");function hd(){let t=[];function e(r){return t.push(r),()=>{const a=t.indexOf(r);a>-1&&t.splice(a,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function to(t,e,n,r,a,s=o=>o()){const o=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((u,l)=>{const c=h=>{h===!1?l(dl(4,{from:n,to:e})):h instanceof Error?l(h):voe(h)?l(dl(2,{from:e,to:h})):(o&&r.enterCallbacks[a]===o&&typeof h=="function"&&o.push(h),u())},d=s(()=>t.call(r&&r.instances[a],e,n,c));let f=Promise.resolve(d);t.length<3&&(f=f.then(c)),f.catch(h=>l(h))})}function a2(t,e,n,r,a=s=>s()){const s=[];for(const o of t)for(const u in o.components){let l=o.components[u];if(!(e!=="beforeRouteEnter"&&!o.instances[u]))if(Foe(l)){const d=(l.__vccOpts||l)[e];d&&s.push(to(d,n,r,o,u,a))}else{let c=l();s.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${o.path}"`));const f=Vse(d)?d.default:d;o.components[u]=f;const p=(f.__vccOpts||f)[e];return p&&to(p,n,r,o,u,a)()}))}}return s}function Foe(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function zC(t){const e=Pa(DI),n=Pa(wz),r=Ni(()=>{const l=zr(t.to);return e.resolve(l)}),a=Ni(()=>{const{matched:l}=r.value,{length:c}=l,d=l[c-1],f=n.matched;if(!d||!f.length)return-1;const h=f.findIndex(ll.bind(null,d));if(h>-1)return h;const p=GC(l[c-2]);return c>1&&GC(d)===p&&f[f.length-1].path!==p?f.findIndex(ll.bind(null,l[c-2])):h}),s=Ni(()=>a.value>-1&&$oe(n.params,r.value.params)),o=Ni(()=>a.value>-1&&a.value===n.matched.length-1&&mz(n.params,r.value.params));function u(l={}){return Boe(l)?e[zr(t.replace)?"replace":"push"](zr(t.to)).catch(Fg):Promise.resolve()}return{route:r,href:Ni(()=>r.value.href),isActive:s,isExactActive:o,navigate:u}}const qoe=$Q({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zC,setup(t,{slots:e}){const n=v_(zC(t)),{options:r}=Pa(DI),a=Ni(()=>({[WC(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[WC(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:II("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},s)}}}),Ws=qoe;function Boe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function $oe(t,e){for(const n in e){const r=e[n],a=t[n];if(typeof r=="string"){if(r!==a)return!1}else if(!aa(a)||a.length!==r.length||r.some((s,o)=>s!==a[o]))return!1}return!0}function GC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const WC=(t,e,n)=>t??e??n,Uoe=$Q({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Pa(MR),a=Ni(()=>t.route||r.value),s=Pa(QC,0),o=Ni(()=>{let c=zr(s);const{matched:d}=a.value;let f;for(;(f=d[c])&&!f.components;)c++;return c}),u=Ni(()=>a.value.matched[o.value]);I1(QC,Ni(()=>o.value+1)),I1(Moe,u),I1(MR,a);const l=Wg();return Dg(()=>[l.value,u.value,t.name],([c,d,f],[h,p,m])=>{d&&(d.instances[f]=c,p&&p!==d&&c&&c===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!ll(d,p)||!h)&&(d.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=a.value,d=t.name,f=u.value,h=f&&f.components[d];if(!h)return KC(n.default,{Component:h,route:c});const p=f.props[d],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,g=II(h,ir({},m,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return KC(n.default,{Component:g,route:c})||g}}});function KC(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Sz=Uoe;function koe(t){const e=Poe(t.routes,t),n=t.parseQuery||Loe,r=t.stringifyQuery||HC,a=t.history,s=hd(),o=hd(),u=hd(),l=Vie(Us);let c=Us;Dc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=n2.bind(null,we=>""+we),f=n2.bind(null,roe),h=n2.bind(null,Yg);function p(we,Ae){let Se,z;return _z(we)?(Se=e.getRecordMatcher(we),z=Ae):z=we,e.addRoute(z,Se)}function m(we){const Ae=e.getRecordMatcher(we);Ae&&e.removeRoute(Ae)}function y(){return e.getRoutes().map(we=>we.record)}function g(we){return!!e.getRecordMatcher(we)}function _(we,Ae){if(Ae=ir({},Ae||l.value),typeof we=="string"){const O=i2(n,we,Ae.path),$=e.resolve({path:O.path},Ae),G=a.createHref(O.fullPath);return ir(O,$,{params:h($.params),hash:Yg(O.hash),redirectedFrom:void 0,href:G})}let Se;if(we.path!=null)Se=ir({},we,{path:i2(n,we.path,Ae.path).path});else{const O=ir({},we.params);for(const $ in O)O[$]==null&&delete O[$];Se=ir({},we,{params:f(O)}),Ae.params=f(Ae.params)}const z=e.resolve(Se,Ae),L=we.hash||"";z.params=d(h(z.params));const B=aoe(r,ir({},we,{hash:Zse(L),path:z.path})),T=a.createHref(B);return ir({fullPath:B,hash:L,query:r===HC?joe(we.query):we.query||{}},z,{redirectedFrom:void 0,href:T})}function v(we){return typeof we=="string"?i2(n,we,l.value.path):ir({},we)}function b(we,Ae){if(c!==we)return dl(8,{from:Ae,to:we})}function w(we){return x(we)}function S(we){return w(ir(v(we),{replace:!0}))}function A(we){const Ae=we.matched[we.matched.length-1];if(Ae&&Ae.redirect){const{redirect:Se}=Ae;let z=typeof Se=="function"?Se(we):Se;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=v(z):{path:z},z.params={}),ir({query:we.query,hash:we.hash,params:z.path!=null?{}:we.params},z)}}function x(we,Ae){const Se=c=_(we),z=l.value,L=we.state,B=we.force,T=we.replace===!0,O=A(Se);if(O)return x(ir(v(O),{state:typeof O=="object"?ir({},L,O.state):L,force:B,replace:T}),Ae||Se);const $=Se;$.redirectedFrom=Ae;let G;return!B&&soe(r,z,Se)&&(G=dl(16,{to:$,from:z}),De(z,z,!0,!1)),(G?Promise.resolve(G):N($,z)).catch(Q=>ns(Q)?ns(Q,2)?Q:Te(Q):ee(Q,$,z)).then(Q=>{if(Q){if(ns(Q,2))return x(ir({replace:T},v(Q.to),{state:typeof Q.to=="object"?ir({},L,Q.to.state):L,force:B}),Ae||$)}else Q=D($,z,!0,T,L);return F($,z,Q),Q})}function M(we,Ae){const Se=b(we,Ae);return Se?Promise.reject(Se):Promise.resolve()}function I(we){const Ae=ue.values().next().value;return Ae&&typeof Ae.runWithContext=="function"?Ae.runWithContext(we):we()}function N(we,Ae){let Se;const[z,L,B]=Voe(we,Ae);Se=a2(z.reverse(),"beforeRouteLeave",we,Ae);for(const O of z)O.leaveGuards.forEach($=>{Se.push(to($,we,Ae))});const T=M.bind(null,we,Ae);return Se.push(T),Ne(Se).then(()=>{Se=[];for(const O of s.list())Se.push(to(O,we,Ae));return Se.push(T),Ne(Se)}).then(()=>{Se=a2(L,"beforeRouteUpdate",we,Ae);for(const O of L)O.updateGuards.forEach($=>{Se.push(to($,we,Ae))});return Se.push(T),Ne(Se)}).then(()=>{Se=[];for(const O of B)if(O.beforeEnter)if(aa(O.beforeEnter))for(const $ of O.beforeEnter)Se.push(to($,we,Ae));else Se.push(to(O.beforeEnter,we,Ae));return Se.push(T),Ne(Se)}).then(()=>(we.matched.forEach(O=>O.enterCallbacks={}),Se=a2(B,"beforeRouteEnter",we,Ae,I),Se.push(T),Ne(Se))).then(()=>{Se=[];for(const O of o.list())Se.push(to(O,we,Ae));return Se.push(T),Ne(Se)}).catch(O=>ns(O,8)?O:Promise.reject(O))}function F(we,Ae,Se){u.list().forEach(z=>I(()=>z(we,Ae,Se)))}function D(we,Ae,Se,z,L){const B=b(we,Ae);if(B)return B;const T=Ae===Us,O=Dc?history.state:{};Se&&(z||T?a.replace(we.fullPath,ir({scroll:T&&O&&O.scroll},L)):a.push(we.fullPath,L)),l.value=we,De(we,Ae,Se,T),Te()}let V;function k(){V||(V=a.listen((we,Ae,Se)=>{if(!Ie.listening)return;const z=_(we),L=A(z);if(L){x(ir(L,{replace:!0}),z).catch(Fg);return}c=z;const B=l.value;Dc&&poe(MC(B.fullPath,Se.delta),Yv()),N(z,B).catch(T=>ns(T,12)?T:ns(T,2)?(x(T.to,z).then(O=>{ns(O,20)&&!Se.delta&&Se.type===Zg.pop&&a.go(-1,!1)}).catch(Fg),Promise.reject()):(Se.delta&&a.go(-Se.delta,!1),ee(T,z,B))).then(T=>{T=T||D(z,B,!1),T&&(Se.delta&&!ns(T,8)?a.go(-Se.delta,!1):Se.type===Zg.pop&&ns(T,20)&&a.go(-1,!1)),F(z,B,T)}).catch(Fg)}))}let U=hd(),H=hd(),X;function ee(we,Ae,Se){Te(we);const z=H.list();return z.length?z.forEach(L=>L(we,Ae,Se)):console.error(we),Promise.reject(we)}function fe(){return X&&l.value!==Us?Promise.resolve():new Promise((we,Ae)=>{U.add([we,Ae])})}function Te(we){return X||(X=!we,k(),U.list().forEach(([Ae,Se])=>we?Se(we):Ae()),U.reset()),we}function De(we,Ae,Se,z){const{scrollBehavior:L}=t;if(!Dc||!L)return Promise.resolve();const B=!Se&&yoe(MC(we.fullPath,0))||(z||!Se)&&history.state&&history.state.scroll||null;return SI().then(()=>L(we,Ae,B)).then(T=>T&&hoe(T)).catch(T=>ee(T,we,Ae))}const Ve=we=>a.go(we);let le;const ue=new Set,Ie={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:g,getRoutes:y,resolve:_,options:t,push:w,replace:S,go:Ve,back:()=>Ve(-1),forward:()=>Ve(1),beforeEach:s.add,beforeResolve:o.add,afterEach:u.add,onError:H.add,isReady:fe,install(we){const Ae=this;we.component("RouterLink",Ws),we.component("RouterView",Sz),we.config.globalProperties.$router=Ae,Object.defineProperty(we.config.globalProperties,"$route",{enumerable:!0,get:()=>zr(l)}),Dc&&!le&&l.value===Us&&(le=!0,w(a.location).catch(L=>{}));const Se={};for(const L in Us)Object.defineProperty(Se,L,{get:()=>l.value[L],enumerable:!0});we.provide(DI,Ae),we.provide(wz,EQ(Se)),we.provide(MR,l);const z=we.unmount;ue.add(we),we.unmount=function(){ue.delete(we),ue.size<1&&(c=Us,V&&V(),V=null,l.value=Us,le=!1,X=!1),z()}}};function Ne(we){return we.reduce((Ae,Se)=>Ae.then(()=>I(Se)),Promise.resolve())}return Ie}function Voe(t,e){const n=[],r=[],a=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const u=e.matched[o];u&&(t.matched.find(c=>ll(c,u))?r.push(u):n.push(u));const l=t.matched[o];l&&(e.matched.find(c=>ll(c,l))||a.push(l))}return[n,r,a]}var P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var LI={};let Zv=class{constructor(){return Hoe||this}equals(e){return e&&this.termType===e.termType}};Object.defineProperty(Zv.prototype,"value",{enumerable:!0,value:"*"});Object.defineProperty(Zv.prototype,"termType",{enumerable:!0,value:"Wildcard"});var Hoe=new Zv;LI.Wildcard=Zv;var Qoe=function(){var t=function(He,$e,Ge,tt){for(Ge=Ge||{},tt=He.length;tt--;Ge[He[tt]]=$e);return Ge},e=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],n=[2,247],r=[100,110,113,115,116,123,126,131,329,330,331,332,333],a=[2,409],s=[1,18],o=[1,27],u=[13,16,45,197,224,229,308],l=[28,29,53],c=[28,53],d=[1,42],f=[1,45],h=[1,41],p=[1,44],m=[123,126],y=[1,67],g=[39,45,87],_=[13,16,45,197,224,308],v=[1,87],b=[2,281],w=[1,86],S=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],A=[6,28,29,53,63,70,73,81,83,85],x=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],M=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],I=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],N=[13,16,308],F=[112,132,327,334],D=[13,16,112,132,308],V=[1,111],k=[1,117],U=[112,132,327,328,334],H=[13,16,112,132,308,328],X=[28,29,45,53,87],ee=[1,138],fe=[1,151],Te=[1,128],De=[1,127],Ve=[1,129],le=[1,140],ue=[1,141],Ie=[1,142],Ne=[1,143],we=[1,144],Ae=[1,145],Se=[1,147],z=[1,148],L=[2,457],B=[1,158],T=[1,159],O=[1,160],$=[1,152],G=[1,153],Q=[1,156],Y=[1,171],ie=[1,172],te=[1,173],he=[1,174],ce=[1,175],ve=[1,176],Ce=[1,167],Ee=[1,168],Ue=[1,169],Fe=[1,170],Qe=[1,157],ke=[1,166],K=[1,161],C=[1,162],q=[1,163],W=[1,164],re=[1,165],pe=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],ge=[1,195],qe=[6,31,73,81,83,85],Z=[2,285],Oe=[1,199],je=[1,201],Be=[6,31,70,73,81,83,85],Ye=[2,283],ct=[1,207],ft=[1,218],st=[1,223],yt=[1,219],ne=[1,225],E=[1,226],R=[1,224],j=[6,63,70,73,81,83,85],J=[1,236],me=[2,334],ye=[1,243],xe=[1,241],Me=[6,193],Ke=[2,349],et=[2,339],dt=[28,128],it=[47,48,193,272],rt=[47,48,193,242,272],Qr=[47,48,193,242,246,272],Je=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],de=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Pe=[1,271],Le=[1,270],Ze=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],mt=[1,281],xt=[1,280],Nt=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],nn=[45,89],fa=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Cn=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],cr=[31,89],ii=[48,87],Lr=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],wn=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],li=[1,313],Ln=[6,85],cn=[6,31,81,83,85],Ka=[2,361],Sn=[2,353],di=[1,343],jn=[31,112,335],Wi=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],uc=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],oe=[6,109,193],_e=[31,112],Re=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],nt=[1,390],ut=[1,391],ht=[13,16,87,197,308,314],Ct=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Ht=[1,417],rr=[1,418],xr=[13,16,48,197,229,308],Zt=[6,31,85],mr=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Mn=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],Tn=[29,31,85,112,159,160,161,163,164],ln=[1,443],Fn=[1,444],Ki=[1,449],an=[31,112,193,232,318,335],Ja=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],qo=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Bo=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Yt=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],sn=[31,45],Xa=[1,507],Fs=[1,508],hb=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],pb=[29,31,85,112,159,160,161,163,164,335],$o=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],KN=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],JN=[2,352],gS=[13,16,197,308,314],XN=[1,565],cc=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],YN=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Ya=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],ZN=[13,16,87,308],Za=[2,364],lc=[29,31,85,112,159,160,161,163,164,193,232,318,335],yb=[31,112,193,232,272,318,335],es=[2,359],eD=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],mb=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],tD=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],rD=[2,347],_S={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function($e,Ge,tt,_t,St,ae,fi){var se=ae.length-1;switch(St){case 1:if(ae[se-1]=ae[se-1]||{},$t.base&&(ae[se-1].base=$t.base),$t.base="",ae[se-1].prefixes=$t.prefixes,$t.prefixes=null,$t.pathOnly){if(ae[se-1].type==="path"||"termType"in ae[se-1])return ae[se-1];throw new Error("Received full SPARQL query in path only mode")}else if(ae[se-1].type==="path"||"termType"in ae[se-1])throw new Error("Received only path in full SPARQL mode");if(ae[se-1].type==="update"){const qt={};for(const er of ae[se-1].updates)if(er.updateType==="insert"){const Lt={};for(const fn of er.insert)if(fn.type==="bgp"||fn.type==="graph")for(const hn of fn.triples)hn.subject.termType==="BlankNode"&&(Lt[hn.subject.value]=!0),hn.predicate.termType==="BlankNode"&&(Lt[hn.predicate.value]=!0),hn.object.termType==="BlankNode"&&(Lt[hn.object.value]=!0);for(const fn of Object.keys(Lt)){if(qt[fn])throw new Error("Detected reuse blank node across different INSERT DATA clauses");qt[fn]=!0}}}return ae[se-1];case 2:this.$={...ae[se-1],...ae[se],type:"query"};break;case 4:$t.base=od(ae[se]);break;case 5:$t.prefixes||($t.prefixes={}),ae[se-1]=ae[se-1].substr(0,ae[se-1].length-1),ae[se]=od(ae[se]),$t.prefixes[ae[se-1]]=ae[se];break;case 6:this.$={...ae[se-3],...Vo(ae[se-2]),...ae[se-1],...ae[se]};break;case 7:if(!$t.skipValidation&&(OS(ae[se-3].variables.map(er=>AS(er.expression))).some(er=>er.aggregation==="count"&&!(er.expression instanceof gb))||ae[se].group)){for(const er of ae[se-3].variables)if(er.termType==="Variable"){if(!ae[se].group||!ae[se].group.map(Lt=>yc(Lt)).includes(yc(er)))throw Error("Projection of ungrouped variable (?"+yc(er)+")")}else if(AS(er.expression).length===0){const Lt=nZ(er.expression);for(const fn of Lt)if(!ae[se].group||!ae[se].group.map||!ae[se].group.map(hn=>yc(hn)).includes(yc(fn)))throw Error("Use of ungrouped variable in projection of operation (?"+yc(fn)+")")}}const mc=ae[se-1].where.filter(qt=>qt.type==="query");if(mc.length>0){const qt=ae[se-3].variables.filter(Lt=>Lt.variable&&Lt.variable.value).map(Lt=>Lt.variable.value),er=OS(mc.map(Lt=>Lt.variables)).map(Lt=>Lt.value||Lt.variable.value);for(const Lt of qt)if(er.indexOf(Lt)>=0)throw Error("Target id of 'AS' (?"+Lt+") already used in subquery")}this.$=Fr(ae[se-3],Vo(ae[se-2]),ae[se-1],ae[se]);break;case 8:this.$=Fr({queryType:"CONSTRUCT",template:ae[se-3]},Vo(ae[se-2]),ae[se-1],ae[se]);break;case 9:this.$=Fr({queryType:"CONSTRUCT",template:ae[se-2]=ae[se-2]?ae[se-2].triples:[]},Vo(ae[se-5]),{where:[{type:"bgp",triples:dc([],ae[se-2])}]},ae[se]);break;case 10:this.$=Fr({queryType:"DESCRIBE",variables:ae[se-3]==="*"?[new gb]:ae[se-3]},Vo(ae[se-2]),ae[se-1],ae[se]);break;case 11:this.$=Fr({queryType:"ASK"},Vo(ae[se-2]),ae[se-1],ae[se]);break;case 12:this.$=Fr(ae[se-1],{variables:[new gb]});break;case 13:const PS=ae[se].map(qt=>qt.value||qt.variable.value),Tb=iZ(PS);if(Tb.length>0)throw Error("Two or more of the resulting columns have the same name (?"+Tb[0]+")");this.$=Fr(ae[se-1],{variables:ae[se]});break;case 14:this.$=Fr({queryType:"SELECT"},ae[se]&&(ae[se-1]=qn(ae[se]),ae[se]={},ae[se][ae[se-1]]=!0,ae[se]));break;case 16:case 27:this.$=fc(ae[se-3],{variable:ae[se-1]});break;case 17:case 18:this.$=Fr(ae[se-3],ae[se-2],ae[se-1],ae[se],{type:"query"});break;case 19:case 58:this.$={iri:ae[se],named:!!ae[se-1]};break;case 20:this.$={where:ae[se].patterns};break;case 21:this.$=Fr(ae[se-1],ae[se]);break;case 22:this.$=Fr(ae[se-2],ae[se-1],ae[se]);break;case 23:this.$={group:ae[se]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=fc(ae[se]);break;case 26:this.$=fc(ae[se-1]);break;case 29:this.$={having:ae[se]};break;case 30:this.$={order:ae[se]};break;case 32:this.$=fc(ae[se],{descending:!0});break;case 35:this.$={limit:pc(ae[se])};break;case 36:this.$={offset:pc(ae[se])};break;case 37:this.$={limit:pc(ae[se-2]),offset:pc(ae[se])};break;case 38:this.$={limit:pc(ae[se]),offset:pc(ae[se-2])};break;case 39:case 43:this.$={type:"values",values:ae[se]};break;case 40:case 84:this.$=ae[se-1].map(qt=>({[ae[se-3]]:qt}));break;case 41:case 85:this.$=ae[se-1].map(()=>({}));break;case 42:case 86:var qs=ae[se-4].length;ae[se-4]=ae[se-4].map(bS),this.$=ae[se-1].map(function(qt){if(qt.length!==qs)throw Error("Inconsistent VALUES length");for(var er={},Lt=0;Lt<qs;Lt++)er["?"+ae[se-4][Lt].value]=qt[Lt];return er});break;case 44:case 65:case 100:case 126:case 175:this.$=ae[se-1];break;case 45:this.$={type:"update",updates:ko(ae[se-2],ae[se-1])};break;case 46:this.$=Fr({type:"load",silent:!!ae[se-2],source:ae[se-1]},ae[se]&&{destination:ae[se]});break;case 47:this.$={type:qn(ae[se-2]),silent:!!ae[se-1],graph:ae[se]};break;case 48:this.$={type:qn(ae[se-4]),silent:!!ae[se-3],source:ae[se-2],destination:ae[se]};break;case 49:this.$={type:"create",silent:!!ae[se-2],graph:{type:"graph",name:ae[se]}};break;case 50:this.$={updateType:"insert",insert:hD(ae[se])};break;case 51:this.$={updateType:"delete",delete:IS(hD(ae[se]))};break;case 52:this.$={updateType:"deletewhere",delete:IS(ae[se])};break;case 53:this.$={updateType:"insertdelete",...ae[se-4],...ae[se-3],...Vo(ae[se-2],"using"),where:ae[se].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=ae[se];break;case 55:this.$={delete:IS(ae[se-1]),insert:ae[se]||[]};break;case 56:this.$={delete:[],insert:ae[se]};break;case 59:this.$={graph:ae[se]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:ae[se]};break;case 64:this.$={[qn(ae[se])]:!0};break;case 66:this.$=ae[se-1]?ha(ae[se],[ae[se-1]]):ha(ae[se]);break;case 67:var vb=Fr(ae[se-3]||{triples:[]},{type:"graph",name:ae[se-5]});this.$=ae[se]?[vb,ae[se]]:[vb];break;case 68:case 73:this.$={type:"bgp",triples:ha(ae[se-2],[ae[se-1]])};break;case 69:this.$={type:"group",patterns:[ae[se-1]]};break;case 70:for(const qt of ae[se-1].filter(er=>er.type==="bind")){const er=ae[se-1].indexOf(qt),Lt=new Set;for(const fn of ae[se-1].slice(0,er))(fn.type==="group"||fn.type==="bgp")&&dD(fn).forEach(hn=>Lt.add(hn));if(Lt.has(qt.variable.value))throw Error("Variable used to bind is already bound (?"+qt.variable.value+")")}this.$={type:"group",patterns:ae[se-1]};break;case 71:this.$=ae[se-1]?ha([ae[se-1]],ae[se]):ha(ae[se]);break;case 72:this.$=ae[se]?[ae[se-2],ae[se]]:ae[se-2];break;case 75:this.$=Fr(ae[se],{type:"optional"});break;case 76:this.$=Fr(ae[se],{type:"minus"});break;case 77:this.$=Fr(ae[se],{type:"graph",name:ae[se-1]});break;case 78:this.$=Fr(ae[se],{type:"service",name:ae[se-1],silent:!!ae[se-2]});break;case 79:this.$={type:"filter",expression:ae[se]};break;case 80:this.$={type:"bind",variable:ae[se-1],expression:ae[se-3]};break;case 89:this.$=cd(ae[se]);break;case 90:this.$=void 0;break;case 91:this.$=ae[se-1].length?{type:"union",patterns:ha(ae[se-1].map(wS),[wS(ae[se])])}:ae[se];break;case 95:this.$={...ae[se],function:ae[se-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:ko(ae[se-2],ae[se-1]),distinct:!!ae[se-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=ko(ae[se-2],ae[se-1]);break;case 101:this.$=ha(ae[se-2],[ae[se-1]]);break;case 102:case 112:this.$=xS(ae[se].map(qt=>Fr(ts(ae[se-1]),qt)));break;case 103:this.$=xS(dc(ae[se].map(qt=>Fr(ts(ae[se-1].entity),qt)),ae[se-1].triples));break;case 105:this.$=ha([ae[se-1]],ae[se]);break;case 106:this.$=ha(ae[se]);break;case 107:this.$=ES(ae[se-1],ae[se]);break;case 109:case 237:this.$=$t.factory.namedNode(GY);break;case 110:case 118:this.$=ko(ae[se-1],ae[se]);break;case 111:this.$=ae[se]?{annotation:ae[se],object:ae[se-1]}:ae[se-1];break;case 113:this.$=ae[se]?xS(dc(ae[se].map(qt=>Fr(ts(ae[se-1].entity),qt)),ae[se-1].triples)):ae[se-1].triples;break;case 114:this.$=ES(...ae[se-1],ae[se]);break;case 116:this.$=ES(...ae[se]);break;case 117:case 159:case 163:this.$=[ae[se-1],ae[se]];break;case 119:this.$=ae[se]?{object:ae[se-1],annotation:ae[se]}:ae[se-1];break;case 120:this.$=ae[se-1].length?hc("|",ko(ae[se-1],ae[se])):ae[se];break;case 121:this.$=ae[se-1].length?hc("/",ko(ae[se-1],ae[se])):ae[se];break;case 122:this.$=ae[se]?hc(ae[se],[ae[se-1]]):ae[se-1];break;case 123:this.$=ae[se-1]?hc(ae[se-1],[ae[se]]):ae[se];break;case 125:case 131:this.$=hc(ae[se-1],[ae[se]]);break;case 129:this.$=hc("|",ko(ae[se-2],ae[se-1]));break;case 132:case 134:this.$=tZ(ae[se-1]);break;case 133:case 135:this.$=rZ(ae[se-1]);break;case 140:this.$={entity:ae[se],triples:[]};break;case 145:this.$=bS(ae[se]);break;case 149:this.$=$t.factory.namedNode(nD);break;case 151:case 153:case 158:case 162:this.$=vS(ae[se-1],ae[se]);break;case 152:this.$=["||",ae[se]];break;case 154:this.$=["&&",ae[se]];break;case 156:this.$=dn(ae[se-1],[ae[se-2],ae[se]]);break;case 157:this.$=dn(ae[se-2]?"notin":"in",[ae[se-3],ae[se]]);break;case 160:this.$=["+",vS(ae[se-1],ae[se])];break;case 161:var wb=pa(ae[se-1].value.replace("-",""),ae[se-1].datatype);this.$=["-",vS(wb,ae[se])];break;case 164:this.$=dn("UPLUS",[ae[se]]);break;case 165:this.$=dn(ae[se-1],[ae[se]]);break;case 166:this.$=dn("UMINUS",[ae[se]]);break;case 177:this.$=dn(qn(ae[se-1]));break;case 178:this.$=dn(qn(ae[se-3]),[ae[se-1]]);break;case 179:this.$=cd(dn(qn(ae[se-3]),[ae[se-1]]));break;case 180:this.$=dn(qn(ae[se-5]),[ae[se-3],ae[se-1]]);break;case 181:this.$=dn(qn(ae[se-7]),[ae[se-5],ae[se-3],ae[se-1]]);break;case 182:this.$=cd(dn(qn(ae[se-7]),[ae[se-5],ae[se-3],ae[se-1]]));break;case 183:this.$=dn(qn(ae[se-1]),ae[se]);break;case 184:this.$=dn("bound",[bS(ae[se-1])]);break;case 185:this.$=dn(ae[se-1],[]);break;case 186:this.$=dn(ae[se-3],[ae[se-1]]);break;case 187:this.$=dn(ae[se-2]?"notexists":"exists",[wS(ae[se])]);break;case 188:case 189:this.$=fc(ae[se-1],{type:"aggregate",aggregation:qn(ae[se-4]),distinct:!!ae[se-2]});break;case 190:this.$=fc(ae[se-2],{type:"aggregate",aggregation:qn(ae[se-5]),distinct:!!ae[se-3],separator:typeof ae[se-1]=="string"?ae[se-1]:" "});break;case 192:this.$=pa(ae[se]);break;case 193:this.$=XY(ae[se-1],qn(ae[se].substr(1)));break;case 194:this.$=pa(ae[se-2],ae[se]);break;case 195:case 204:this.$=pa(ae[se],iD);break;case 196:case 205:this.$=pa(ae[se],aD);break;case 197:case 206:this.$=pa(qn(ae[se]),sD);break;case 200:this.$=pa(ae[se].toLowerCase(),JY);break;case 201:this.$=pa(ae[se].substr(1),iD);break;case 202:this.$=pa(ae[se].substr(1),aD);break;case 203:this.$=pa(ae[se].substr(1).toLowerCase(),sD);break;case 207:case 208:this.$=lD(ae[se],1);break;case 209:case 210:this.$=lD(ae[se],3);break;case 211:this.$=$t.factory.namedNode(od(ae[se]));break;case 213:var Sb=ae[se].indexOf(":"),qr=ae[se].substr(0,Sb),ya=$t.prefixes[qr];if(!ya)throw new Error("Unknown prefix: "+qr);var Ho=od(ya+ae[se].substr(Sb+1));this.$=$t.factory.namedNode(Ho);break;case 214:if(ae[se]=ae[se].substr(0,ae[se].length-1),!(ae[se]in $t.prefixes))throw new Error("Unknown prefix: "+ae[se]);var Ho=od($t.prefixes[ae[se]]);this.$=$t.factory.namedNode(Ho);break;case 215:this.$=ud(ae[se].replace(/^(_:)/,""));break;case 216:this.$=ud();break;case 217:case 218:case 232:this.$=cd(SS(ae[se-3],ae[se-2],ae[se-1]));break;case 230:case 231:this.$=cd(ae[se-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:ae[se-1].push(ae[se]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[ae[se]];break;case 308:ae[se-3].push(ae[se-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:ae[se-2].push(ae[se-1]);break}},table:[t(e,n,{3:1,4:2,10:3}),{1:[3]},t(r,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:a,16:a,45:a,197:a,224:a,229:a,308:a,24:[1,13],32:[1,14],36:[1,15],41:s}),t([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:o},{6:[2,239]},t(u,[2,411],{216:28,217:29}),t(l,[2,249],{18:30}),t(l,[2,251],{22:31}),t(c,[2,255],{25:32,27:33,29:[1,34]}),{13:d,16:f,33:35,39:[1,37],44:39,55:40,87:h,139:38,307:43,308:p,323:36},t(l,[2,267],{37:46}),t(m,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:y,87:h},t(g,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),t(e,[2,248]),t(e,[2,245]),t(e,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),t(_,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:v,29:b,52:84,53:w,56:85},{19:88,28:v,29:b,52:89,53:w,56:85},t(l,[2,253],{26:90}),{28:[1,91],52:92,53:w},t(S,[2,385],{181:93,182:94,183:95,31:[2,383]}),t(A,[2,263],{34:96}),t(A,[2,261],{44:39,55:40,307:43,139:97,13:d,16:f,87:h,308:p}),t(A,[2,262]),t(x,[2,259]),t(M,[2,143]),t(M,[2,144]),t([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),t(I,[2,211]),t(I,[2,212]),t(I,[2,213]),t(I,[2,214]),{19:98,28:v,29:b,52:99,53:w,56:85},{6:[2,309],99:100,193:[1,101]},t(N,[2,311],{101:102,328:[1,103]}),t(F,[2,317],{104:104,328:[1,105]}),t(D,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:V,114:110},{29:V,114:112},{29:V,114:113},{118:114,123:[1,115],125:116,126:k},t(U,[2,315]),t(U,[2,316]),t(H,[2,319]),t(H,[2,320]),t(H,[2,321]),t(m,[2,327]),{13:d,16:f,55:118,307:43,308:p},t(l,[2,12]),t(l,[2,13],{44:66,43:119,45:y,87:h}),t(X,[2,269]),t(X,[2,15]),{13:d,16:f,44:136,45:ee,46:120,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(g,[2,14]),t(g,[2,274]),t(g,[2,271]),t(g,[2,272]),t(e,[2,4]),{13:[1,177]},t(pe,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},t(u,[2,410]),t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:d,16:f,45:[1,193],55:194,197:ge,219:189,220:190,223:191,224:[1,192],307:43,308:p},t(_,[2,419]),t(qe,Z,{20:196,59:197,69:198,70:Oe}),t(l,[2,250]),{29:je,57:200},t(N,[2,279],{54:202,327:[1,203]}),{29:[2,282]},t(Be,Ye,{23:204,58:205,62:206,63:ct}),t(l,[2,252]),{19:208,28:v,29:b,52:209,53:w,56:85},{29:[1,210]},t(c,[2,256]),{31:[1,211]},{31:[2,384]},{13:d,16:f,44:215,45:ft,55:220,82:fe,87:h,89:st,145:212,172:221,185:213,187:214,231:yt,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},t(j,[2,265],{56:85,35:227,52:228,19:229,28:v,29:b,53:w}),t(x,[2,260]),t(Be,Ye,{58:205,62:206,23:230,63:ct}),t(l,[2,268]),{6:[2,45]},t(e,n,{10:3,4:231}),{13:d,16:f,55:232,307:43,308:p},t(N,[2,312]),{105:233,112:J,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},t(F,[2,318]),t(N,me,{108:240,133:242,112:ye,132:xe}),t(D,[2,323]),{112:[1,244]},{112:[2,325]},t(Me,[2,50]),t(S,Ke,{135:245,136:246,143:247,144:248,31:et,112:et}),t(Me,[2,51]),t(Me,[2,52]),t(dt,[2,328],{119:249}),{29:V,114:250},t(dt,[2,56]),{29:V,114:251},t(m,[2,59]),t(X,[2,270]),{47:[1,252]},t(it,[2,150]),t(rt,[2,428],{240:253}),t(Qr,[2,430],{244:254}),t(Qr,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),t(Je,[2,440],{252:264}),t(de,[2,448],{260:265}),{13:d,16:f,44:136,45:ee,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,255:154,257:155,264:266,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,255:154,257:155,264:267,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,255:154,257:155,264:268,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(de,[2,167]),t(de,[2,168]),t(de,[2,169]),t(de,[2,170],{176:269,45:Pe,89:Le}),t(de,[2,171]),t(de,[2,172]),t(de,[2,173]),t(de,[2,174]),{13:d,16:f,44:136,45:ee,46:272,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Ze,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:mt,89:xt,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},t(Nt,[2,192],{292:[1,286],293:[1,287]}),t(Nt,[2,195]),t(Nt,[2,196]),t(Nt,[2,197]),t(Nt,[2,198]),t(Nt,[2,199]),t(Nt,[2,200]),{13:d,16:f,44:39,55:40,82:fe,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},t(nn,[2,452]),t(nn,[2,453]),t(nn,[2,454]),t(nn,[2,455]),t(nn,[2,456]),{279:[2,458]},t(fa,[2,207]),t(fa,[2,208]),t(fa,[2,209]),t(fa,[2,210]),t(Nt,[2,201]),t(Nt,[2,202]),t(Nt,[2,203]),t(Nt,[2,204]),t(Nt,[2,205]),t(Nt,[2,206]),t(e,[2,5]),t(Cn,[2,297],{88:295}),t(cr,[2,299],{90:296}),{48:[1,297],87:[1,298]},t(ii,[2,301]),t(pe,[2,43]),t(pe,[2,82]),t(pe,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},t(u,[2,412]),t(Lr,[2,123]),t(Lr,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),t(wn,[2,124]),{13:d,16:f,45:[1,311],55:194,89:[1,310],197:ge,223:312,225:308,226:309,229:li,307:43,308:p},t(u,a,{215:10,214:314}),t(wn,[2,236]),t(wn,[2,237]),t(Ln,[2,6]),t(cn,[2,287],{60:315,72:316,73:[1,317]}),t(qe,[2,286]),{13:d,16:f,45:ee,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,307:43,308:p,346:ke,347:K,348:C,349:q,350:W,351:re},t([6,31,63,70,73,81,83,85],[2,20]),t(S,Ka,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:Sn,31:Sn,85:Sn,112:Sn,159:Sn,160:Sn,161:Sn,163:Sn,164:Sn,41:s}),{13:d,16:f,55:331,307:43,308:p},t(N,[2,280]),t(Ln,[2,7]),t(qe,Z,{59:197,69:198,20:332,70:Oe}),t(Be,[2,284]),{64:[1,333]},t(Be,Ye,{58:205,62:206,23:334,63:ct}),t(l,[2,254]),t(S,Ke,{144:248,30:335,143:336,31:[2,257]}),t(l,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:d,16:f,44:39,55:40,87:h,139:342,186:339,190:340,195:341,197:di,307:43,308:p},t(jn,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:d,16:f,87:h,197:di,308:p}),t(Wi,[2,227]),t(Wi,[2,228]),t(Wi,[2,229]),{13:d,16:f,44:215,45:ft,55:220,82:fe,87:h,89:st,172:221,185:351,187:350,200:348,230:347,231:yt,234:349,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},{13:d,16:f,44:39,55:40,87:h,139:342,186:352,190:340,195:341,197:di,307:43,308:p},t(Wi,[2,146]),t(Wi,[2,147]),t(Wi,[2,148]),t(Wi,[2,149]),{13:d,16:f,44:354,55:355,82:fe,87:h,172:357,237:356,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:358,312:R,313:353},t(uc,[2,215]),t(uc,[2,216]),t(Be,Ye,{58:205,62:206,23:359,63:ct}),t(A,[2,264]),t(j,[2,266]),t(Ln,[2,11]),t(r,[2,308],{6:[2,310]}),t(Me,[2,313],{102:360,120:361,121:[1,362]}),t(Me,[2,47]),t(Me,[2,63]),t(Me,[2,64]),{13:d,16:f,55:363,307:43,308:p},t(Me,[2,336]),t(Me,[2,337]),t(Me,[2,338]),{109:[1,364]},t(oe,[2,60]),{13:d,16:f,55:365,307:43,308:p},t(N,[2,335]),{13:d,16:f,55:366,307:43,308:p},{31:[1,367]},t(_e,[2,341],{137:368}),t(_e,[2,340]),{13:d,16:f,44:215,45:ft,55:220,82:fe,87:h,89:st,145:369,172:221,185:213,187:214,231:yt,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},{28:[1,370],127:371,128:[1,372]},t(dt,[2,330],{124:373,125:374,126:k}),t(dt,[2,57]),{44:375,87:h},t(it,[2,151],{241:376,242:[1,377]}),t(rt,[2,153],{245:378,246:[1,379]}),{13:d,16:f,44:136,45:ee,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,247:380,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{250:[1,381]},t(Re,[2,432]),t(Re,[2,433]),t(Re,[2,434]),t(Re,[2,435]),t(Re,[2,436]),t(Re,[2,437]),{250:[2,439]},t([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:Y,298:ie,299:te,300:he,301:ce,302:ve}),t(Je,[2,162],{261:388,262:389,39:nt,338:ut}),t(de,[2,164]),t(de,[2,165]),t(de,[2,166]),t(Ze,[2,95]),t(Ze,[2,96]),t(Re,[2,377],{177:392,325:[1,393]}),{48:[1,394]},t(Ze,[2,177]),{13:d,16:f,44:136,45:ee,46:395,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,46:396,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,46:397,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,46:398,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,46:399,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Ze,[2,183]),t(Ze,[2,98]),t(Re,[2,381],{180:400}),{87:[1,401]},t(Ze,[2,185]),{13:d,16:f,44:136,45:ee,46:402,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{29:je,57:403},t(Nt,[2,193]),{13:d,16:f,55:404,307:43,308:p},{13:d,16:f,44:39,55:40,87:h,139:342,195:405,197:di,307:43,308:p},t(ht,[2,233]),t(ht,[2,234]),t(ht,[2,235]),t(Ct,[2,459],{281:406,325:[1,407]}),t(Re,[2,463],{284:408,325:[1,409]}),t(Re,[2,465],{286:410,325:[1,411]}),{13:d,16:f,31:[1,412],55:414,82:fe,171:413,172:415,173:416,174:Ht,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:rr},{31:[1,419],89:[1,420]},{29:[1,421]},t(ii,[2,302]),t(Cn,[2,367],{167:422}),t(cr,[2,369],{168:423}),{48:[1,424],87:[1,425]},t(ii,[2,371]),t(Lr,[2,122]),t(Lr,[2,417]),t(Lr,[2,413]),t(Lr,[2,414]),t(Lr,[2,415]),t(wn,[2,125]),t(wn,[2,127]),t(wn,[2,128]),t(xr,[2,420],{227:426}),t(wn,[2,130]),{13:d,16:f,55:194,197:ge,223:427,307:43,308:p},{48:[1,428]},t(Zt,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),t(cn,[2,288]),{64:[1,433]},t(qe,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:d,16:f,45:ee,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,276:Se,277:z,279:L,280:B,283:T,285:O,308:p,346:ke,347:K,348:C,349:q,350:W,351:re}),t(mr,[2,293]),t(Mn,[2,92]),t(Mn,[2,93]),t(Mn,[2,94]),{45:Pe,89:Le,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:v,29:b,56:85},{19:438,28:v,29:b,56:85},t(Tn,[2,355],{149:439}),t(Tn,[2,354]),{13:d,16:f,44:215,45:ln,55:220,82:fe,87:h,89:st,156:440,172:221,185:441,203:442,231:Fn,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},t(A,[2,19]),t(Zt,[2,21]),{13:d,16:f,44:450,45:Ki,55:323,65:445,66:446,67:447,68:448,87:h,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,307:43,308:p,346:ke,347:K,348:C,349:q,350:W,351:re},t(Ln,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},t(S,[2,386],{31:[2,388]}),t(jn,[2,102]),t(an,[2,391],{191:452}),t(S,[2,395],{196:453,198:454}),t(S,[2,108]),t(S,[2,109]),t(jn,[2,103]),t(jn,[2,104]),t(jn,[2,390]),{13:d,16:f,44:215,45:ft,48:[1,455],55:220,82:fe,87:h,89:st,172:221,185:351,187:350,200:456,231:yt,234:349,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},t(Ja,[2,424]),t(qo,[2,136]),t(qo,[2,137]),t(Bo,[2,140]),{232:[1,457]},{13:d,16:f,44:39,55:40,87:h,139:342,195:458,197:di,307:43,308:p},t(ht,[2,219]),t(ht,[2,220]),t(ht,[2,221]),t(ht,[2,222]),t(ht,[2,223]),t(Ln,[2,10]),t(Me,[2,46]),t(Me,[2,314]),{112:J,122:459},t(Me,[2,62]),t(N,me,{133:242,108:460,112:ye,132:xe}),t(oe,[2,61]),t(Me,[2,49]),t([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},t(_e,[2,351],{146:463,335:[1,464]}),{29:je,57:465},t(dt,[2,329]),t(N,[2,332],{129:466,327:[1,467]}),t(dt,[2,55]),t(dt,[2,331]),{48:[1,468]},t(rt,[2,429]),{13:d,16:f,44:136,45:ee,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Qr,[2,431]),{13:d,16:f,44:136,45:ee,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,243:470,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Qr,[2,156]),{45:mt,89:xt,179:471},t(Je,[2,441]),{13:d,16:f,44:136,45:ee,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,251:472,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(de,[2,444],{256:473}),t(de,[2,446],{258:474}),t(Re,[2,442]),t(Re,[2,443]),t(de,[2,449]),{13:d,16:f,44:136,45:ee,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,255:154,257:155,259:475,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Re,[2,450]),t(Re,[2,451]),t(Re,[2,379],{178:476}),t(Re,[2,378]),t([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:d,16:f,44:136,45:ee,46:482,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{48:[1,483]},{48:[1,484]},t(Ze,[2,187]),t(Nt,[2,194]),{13:d,16:f,44:39,55:40,82:fe,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,320:485},{13:d,16:f,39:[1,487],44:136,45:ee,46:488,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,282:486,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Ct,[2,460]),{13:d,16:f,44:136,45:ee,46:489,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Re,[2,464]),{13:d,16:f,44:136,45:ee,46:490,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Re,[2,466]),t(pe,[2,40]),t(Cn,[2,298]),t(Yt,[2,87]),t(Yt,[2,88]),t(Yt,[2,89]),t(Yt,[2,90]),{13:d,16:f,55:492,82:fe,172:493,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,311:494,312:R,315:491},t(pe,[2,41]),t(cr,[2,300]),t(sn,[2,303],{92:495}),{13:d,16:f,31:[1,496],55:414,82:fe,171:497,172:415,173:416,174:Ht,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:rr},{31:[1,498],89:[1,499]},{29:[1,500]},t(ii,[2,372]),{13:d,16:f,48:[2,422],55:194,197:ge,223:312,226:502,228:501,229:li,307:43,308:p},t(wn,[2,131]),t(wn,[2,126]),t(Zt,[2,22]),t(Zt,[2,290]),{82:[1,503]},{82:[1,504]},{13:d,16:f,44:510,45:ee,55:323,67:321,68:322,74:505,75:506,76:Xa,77:320,78:Fs,79:509,87:h,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,307:43,308:p,346:ke,347:K,348:C,349:q,350:W,351:re},t(mr,[2,294]),t(hb,[2,69]),t(hb,[2,70]),t(qe,Z,{59:197,69:198,20:511,70:Oe}),t(Be,Ye,{58:205,62:206,23:512,63:ct}),{29:[2,375],31:[2,71],84:522,85:o,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},t(Tn,[2,363],{157:524,335:[1,525]}),t(u,a,{215:10,202:526,205:527,208:528,214:529,44:530,87:h}),t(pb,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),{13:d,16:f,44:215,45:ln,55:220,82:fe,87:h,89:st,172:221,185:351,203:536,212:534,231:Fn,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},t(u,a,{215:10,205:527,208:528,214:529,44:530,202:537,87:h}),t(Be,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:d,16:f,45:Ki,87:h,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,276:Se,277:z,279:L,280:B,283:T,285:O,308:p,346:ke,347:K,348:C,349:q,350:W,351:re}),t($o,[2,291]),t($o,[2,24]),t($o,[2,25]),{13:d,16:f,44:136,45:ee,46:539,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t($o,[2,28]),t(Be,Ye,{58:205,62:206,23:540,63:ct}),t([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),t(an,[2,107]),{13:d,16:f,44:215,45:ft,55:220,82:fe,87:h,89:st,172:221,185:351,187:350,199:543,200:544,231:yt,234:349,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},t(KN,[2,132]),t(Ja,[2,425]),t(KN,[2,133]),{13:d,16:f,44:354,55:355,82:fe,87:h,172:357,237:356,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:358,312:R,313:545},t(Me,[2,54]),t(Me,[2,48]),t(_e,[2,342]),{13:d,16:f,44:39,55:40,87:h,139:546,307:43,308:p},t(_e,[2,68]),t(S,[2,350],{31:JN,112:JN}),t(Me,[2,53]),{13:d,16:f,55:547,307:43,308:p},t(N,[2,333]),t(X,[2,16]),t(rt,[2,152]),t(Qr,[2,154]),t(Qr,[2,157]),t(Je,[2,159]),t(Je,[2,160],{262:389,261:548,39:nt,338:ut}),t(Je,[2,161],{262:389,261:549,39:nt,338:ut}),t(de,[2,163]),{13:d,16:f,44:136,45:ee,46:550,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Ze,[2,178]),t(Ze,[2,179]),{13:d,16:f,44:136,45:ee,46:551,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,46:552,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,46:553,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{48:[1,554],272:[1,555]},t(Ze,[2,184]),t(Ze,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:d,16:f,55:194,197:ge,223:562,307:43,308:p},t(gS,[2,224]),t(gS,[2,225]),t(gS,[2,226]),{31:[1,563],45:XN,94:564},t(pe,[2,84]),t(Cn,[2,368]),t(pe,[2,85]),t(cr,[2,370]),t(sn,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},t(Zt,[2,35],{83:[1,569]}),t(Zt,[2,36],{81:[1,570]}),t(cn,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:d,16:f,45:ee,76:Xa,78:Fs,87:h,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,276:Se,277:z,279:L,280:B,283:T,285:O,308:p,346:ke,347:K,348:C,349:q,350:W,351:re}),t(cc,[2,295]),{45:ee,77:572},{45:ee,77:573},t(cc,[2,33]),t(cc,[2,34]),{31:[2,275],50:574,84:575,85:o},{31:[2,277],51:576,84:577,85:o},t(Tn,[2,356]),t(YN,[2,357],{152:578,335:[1,579]}),t(Ya,[2,74]),{29:je,57:580},{29:je,57:581},{13:d,16:f,44:39,55:40,87:h,139:582,307:43,308:p},t(ZN,[2,365],{162:583,328:[1,584]}),{13:d,16:f,45:ee,55:323,67:321,68:322,77:320,79:585,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,307:43,308:p,346:ke,347:K,348:C,349:q,350:W,351:re},{45:[1,586]},t(Ya,[2,81]),{29:je,57:587},t(Tn,[2,73]),t(S,[2,362],{29:Za,31:Za,85:Za,112:Za,159:Za,160:Za,161:Za,163:Za,164:Za}),t(pb,[2,112]),t(lc,[2,401],{206:588}),t(S,[2,405],{209:589,210:590}),t(S,[2,403]),t(S,[2,404]),t(pb,[2,113]),t(pb,[2,400]),{13:d,16:f,44:215,45:ln,48:[1,591],55:220,82:fe,87:h,89:st,172:221,185:351,203:536,212:592,231:Fn,234:535,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},t(Ja,[2,426]),t(Bo,[2,138]),t(Bo,[2,139]),{232:[1,593]},t($o,[2,292]),{47:[1,595],48:[1,594]},t(Ln,[2,9]),t(an,[2,392]),t(an,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:d,16:f,87:h,197:di,308:p}),t(an,[2,110],{272:[1,598]}),t(yb,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},t(dt,[2,58]),t(de,[2,445]),t(de,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},t(Ze,[2,99]),t(Re,[2,382]),t([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),t(Ze,[2,188]),t(Ze,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:d,16:f,55:492,82:fe,172:493,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,311:494,312:R,315:611},t(pe,[2,42]),t(sn,[2,304]),{13:d,16:f,55:414,82:fe,95:612,171:613,172:415,173:416,174:Ht,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:rr},{31:[1,614],45:XN,94:615},t(wn,[2,129]),t(xr,[2,421]),{82:[1,616]},{82:[1,617]},t(cc,[2,296]),t(cc,[2,31]),t(cc,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},t(S,Ka,{155:330,153:618,154:619,29:es,31:es,85:es,112:es,159:es,160:es,161:es,163:es,164:es}),t(YN,[2,358]),t(Ya,[2,75]),t(Ya,[2,76]),{29:je,57:620},{13:d,16:f,44:39,55:40,87:h,139:621,307:43,308:p},t(ZN,[2,366]),t(Ya,[2,79]),{13:d,16:f,44:136,45:ee,46:622,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Ya,[2,91],{336:[1,623]}),t([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),t(lc,[2,117]),{13:d,16:f,44:215,45:ln,55:220,82:fe,87:h,89:st,172:221,185:351,203:536,211:626,212:627,231:Fn,234:535,236:216,237:222,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,309:ne,310:E,311:217,312:R},t(Wi,[2,134]),t(Ja,[2,427]),t(Wi,[2,135]),t($o,[2,26]),{44:628,87:h},t(an,[2,106]),t(an,[2,394]),t(S,[2,396]),t(yb,[2,111]),t(yb,[2,398]),{13:d,16:f,44:39,55:40,87:h,139:342,186:629,190:340,195:341,197:di,307:43,308:p},t(uc,[2,217]),t(S,Ke,{144:248,140:630,143:631,31:[2,343]}),t(Ze,[2,97]),t(Re,[2,380]),t(Ze,[2,180]),{13:d,16:f,44:136,45:ee,46:632,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},{13:d,16:f,44:136,45:ee,46:633,55:133,67:132,68:134,77:131,82:fe,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:De,264:130,265:Ve,266:137,267:139,268:le,269:ue,270:Ie,271:Ne,273:we,274:Ae,275:146,276:Se,277:z,278:149,279:L,280:B,283:T,285:O,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:Qe,346:ke,347:K,348:C,349:q,350:W,351:re},t(Ze,[2,190]),{290:[1,634]},{314:[1,635]},{13:d,16:f,48:[1,636],55:414,82:fe,171:637,172:415,173:416,174:Ht,255:154,257:155,291:150,294:$,295:G,296:Q,297:Y,298:ie,299:te,300:he,301:ce,302:ve,303:Ce,304:Ee,305:Ue,306:Fe,307:43,308:p,312:rr},t(eD,[2,305]),t(pe,[2,86]),t(sn,[2,374]),t(Zt,[2,37]),t(Zt,[2,38]),t(Tn,[2,72]),t(Tn,[2,360]),t(Ya,[2,77]),{29:je,57:638},{47:[1,639]},{29:[2,376]},t(lc,[2,402]),t(lc,[2,115],{215:10,208:528,214:529,44:530,205:640,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),t(lc,[2,118],{272:[1,641]}),t(mb,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Ce,304:Ee,305:Ue,306:Fe},t(Yt,[2,218]),t(sn,[2,44]),t(eD,[2,306]),t(Ya,[2,78]),{44:651,87:h},t(lc,[2,116]),t(S,[2,406]),t(mb,[2,119]),t(mb,[2,408]),t(u,a,{215:10,205:527,208:528,214:529,44:530,202:652,87:h}),t($o,[2,27]),t(yb,[2,230]),t(tD,[2,345],{141:653,335:[1,654]}),t(Ze,[2,181]),t(Ze,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},t(S,Ke,{144:248,142:657,143:658,31:rD,112:rD}),t(tD,[2,346]),t(Ya,[2,80]),t(mb,[2,231]),t(_e,[2,67]),t(_e,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function($e,Ge){if(Ge.recoverable)this.trace($e);else{var tt=new Error($e);throw tt.hash=Ge,tt}},parse:function($e){var Ge=this,tt=[0],_t=[null],St=[],ae=this.table,fi="",se=0,qs=0,vb=2,wb=1,Sb=St.slice.call(arguments,1),qr=Object.create(this.lexer),ya={yy:{}};for(var Ho in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ho)&&(ya.yy[Ho]=this.yy[Ho]);qr.setInput($e,ya.yy),ya.yy.lexer=qr,ya.yy.parser=this,typeof qr.yylloc>"u"&&(qr.yylloc={});var mc=qr.yylloc;St.push(mc);var PS=qr.options&&qr.options.ranges;typeof ya.yy.parseError=="function"?this.parseError=ya.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Tb=function(){var gc;return gc=qr.lex()||wb,typeof gc!="number"&&(gc=Ge.symbols_[gc]||gc),gc},qt,er,Lt,fn,hn={},Eb,rs,pD,Ab;;){if(er=tt[tt.length-1],this.defaultActions[er]?Lt=this.defaultActions[er]:((qt===null||typeof qt>"u")&&(qt=Tb()),Lt=ae[er]&&ae[er][qt]),typeof Lt>"u"||!Lt.length||!Lt[0]){var NS="";Ab=[];for(Eb in ae[er])this.terminals_[Eb]&&Eb>vb&&Ab.push("'"+this.terminals_[Eb]+"'");qr.showPosition?NS="Parse error on line "+(se+1)+`:
`+qr.showPosition()+`
Expecting `+Ab.join(", ")+", got '"+(this.terminals_[qt]||qt)+"'":NS="Parse error on line "+(se+1)+": Unexpected "+(qt==wb?"end of input":"'"+(this.terminals_[qt]||qt)+"'"),this.parseError(NS,{text:qr.match,token:this.terminals_[qt]||qt,line:qr.yylineno,loc:mc,expected:Ab})}if(Lt[0]instanceof Array&&Lt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+er+", token: "+qt);switch(Lt[0]){case 1:tt.push(qt),_t.push(qr.yytext),St.push(qr.yylloc),tt.push(Lt[1]),qt=null,qs=qr.yyleng,fi=qr.yytext,se=qr.yylineno,mc=qr.yylloc;break;case 2:if(rs=this.productions_[Lt[1]][1],hn.$=_t[_t.length-rs],hn._$={first_line:St[St.length-(rs||1)].first_line,last_line:St[St.length-1].last_line,first_column:St[St.length-(rs||1)].first_column,last_column:St[St.length-1].last_column},PS&&(hn._$.range=[St[St.length-(rs||1)].range[0],St[St.length-1].range[1]]),fn=this.performAction.apply(hn,[fi,qs,se,ya.yy,Lt[1],_t,St].concat(Sb)),typeof fn<"u")return fn;rs&&(tt=tt.slice(0,-1*rs*2),_t=_t.slice(0,-1*rs),St=St.slice(0,-1*rs)),tt.push(this.productions_[Lt[1]][0]),_t.push(hn.$),St.push(hn._$),pD=ae[tt[tt.length-2]][tt[tt.length-1]],tt.push(pD);break;case 3:return!0}}return!0}},gb=LI.Wildcard,_b="http://www.w3.org/1999/02/22-rdf-syntax-ns#",GY=_b+"type",WY=_b+"first",KY=_b+"rest",nD=_b+"nil",bb="http://www.w3.org/2001/XMLSchema#",iD=bb+"integer",aD=bb+"decimal",sD=bb+"double",JY=bb+"boolean",Uo="",oD="",uD="";function qn(He){return He.toLowerCase()}function ko(He,$e){return He.push($e),He}function dc(He,$e){return He.push.apply(He,$e),He}function Fr(He){He||(He={});for(var $e=1,Ge=arguments.length,tt;$e<Ge&&(tt=arguments[$e]||{});$e++)for(var _t in tt)He[_t]=tt[_t];return He}function ha(){for(var He=[],$e=0,Ge=arguments.length;$e<Ge;$e++)He=He.concat.apply(He,arguments[$e]);return He}function od(He){if(He[0]==="<"&&(He=He.substring(1,He.length-1)),/^[a-z]+:/i.test(He))return He;if(!$t.base)throw new Error("Cannot resolve relative IRI "+He+" because no base IRI was set.");switch(Uo!==$t.base&&(Uo=$t.base,oD=Uo.replace(/[^\/:]*$/,""),uD=Uo.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),He[0]){case void 0:return Uo;case"#":return Uo+He;case"?":return Uo.replace(/(?:\?.*)?$/,He);case"/":return uD+He;default:return oD+He}}function bS(He){if(He){var $e=He[0];if($e==="?"||$e==="$")return $t.factory.variable(He.substr(1))}return He}function dn(He,$e){return{type:"operation",operator:He,args:$e||[]}}function fc(He,$e){var Ge={expression:He==="*"?new gb:He};if($e)for(var tt in $e)Ge[tt]=$e[tt];return Ge}function hc(He,$e){return{type:"path",pathType:He,items:$e}}function vS(He,$e){for(var Ge=0,tt=$e.length,_t;Ge<tt&&(_t=$e[Ge]);Ge++)He=dn(_t[0],[He,_t[1]]);return He}function Vo(He,$e){var Ge=[],tt=[],_t=He.length,St,ae={};if(!_t)return null;for(var fi=0;fi<_t&&(St=He[fi]);fi++)(St.named?tt:Ge).push(St.iri);return ae[$e||"from"]={default:Ge,named:tt},ae}function pc(He){return parseInt(He,10)}function wS(He){return He.type==="group"&&He.patterns.length===1?He.patterns[0]:He}function pa(He,$e){return $e&&$e.termType!=="NamedNode"&&($e=$t.factory.namedNode($e)),$t.factory.literal(He,$e)}function XY(He,$e){return $t.factory.literal(He,$e)}function SS(He,$e,Ge){if(!("termType"in $e))throw new Error("Nested triples cannot contain paths");return $t.factory.quad(He,$e,Ge)}function ts(He,$e,Ge,tt){var _t={};return He!=null&&(_t.subject=He),$e!=null&&(_t.predicate=$e),Ge!=null&&(_t.object=Ge),tt!=null&&(_t.annotations=tt),_t}function ud(He){return typeof He=="string"?He.startsWith("e_")?$t.factory.blankNode(He):$t.factory.blankNode("e_"+He):$t.factory.blankNode("g_"+cD++)}var cD=0;$t._resetBlanks=function(){cD=0};var YY=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,ZY={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},eZ=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,TS=String.fromCharCode;function lD(He,$e){He=He.substring($e,He.length-$e);try{He=He.replace(YY,function(Ge,tt,_t,St){var ae;if(tt){if(ae=parseInt(tt,16),isNaN(ae))throw new Error;return TS(ae)}else if(_t){if(ae=parseInt(_t,16),isNaN(ae))throw new Error;return ae<65535?TS(ae):TS(55296+((ae-=65536)>>10),56320+(ae&1023))}else{var fi=ZY[St];if(!fi)throw new Error;return fi}})}catch{return""}if(eZ.exec(He))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+He);return He}function tZ(He){var $e=ud(),Ge=$e,tt=[],_t,St=[];He.forEach(function(qs){tt.push(qs.entity),dc(St,qs.triples)});for(var ae=0,fi=0,se=tt.length,_t=Array(se*2);ae<se;)_t[fi++]=ts(Ge,$t.factory.namedNode(WY),tt[ae]),_t[fi++]=ts(Ge,$t.factory.namedNode(KY),Ge=++ae<se?ud():$t.factory.namedNode(nD));return{entity:$e,triples:dc(_t,St)}}function rZ(He){var $e=ud();return{entity:$e,triples:He.map(function(Ge){return Fr(ts($e),Ge)})}}function ES(He,$e,Ge){var tt=[],_t=[];return $e.forEach(function(St){let ae=null;St.annotation&&(ae=St.annotation,St=St.object),tt.push(ts(null,He,St.entity,ae)),dc(_t,St.triples)}),ha(tt,Ge||[],_t)}function yc(He){return He.variable?He.variable.value:He.value||He.expression.value}function AS(He){if(!He)return[];if(He.type==="aggregate")return[He];if(He.type==="operation"){const $e=[];for(const Ge of He.args)$e.push(...AS(Ge));return $e}return[]}function nZ(He){const $e=new Set,Ge=function(tt){tt&&(tt.termType==="Variable"?$e.add(tt):tt.type==="operation"&&tt.args.forEach(Ge))};return Ge(He),$e}function OS(He,$e=1,Ge=[]){for(const tt of He)$e>0&&tt instanceof Array?OS(tt,$e-1,Ge):Ge.push(tt);return Ge}function RS(He){return He.termType==="Variable"}function dD(He){if(He.triples){const $e=[];for(const Ge of He.triples)RS(Ge.subject)&&$e.push(Ge.subject.value),RS(Ge.predicate)&&$e.push(Ge.predicate.value),RS(Ge.object)&&$e.push(Ge.object.value);return $e}else if(He.patterns){const $e=[];for(const Ge of He.patterns)$e.push(...dD(Ge));return $e}return[]}function iZ(He){const $e=He.slice().sort(),Ge=[];for(let tt=0;tt<$e.length-1;tt++)$e[tt+1]==$e[tt]&&Ge.push($e[tt]);return Ge}function cd(He){if(!$t.sparqlStar)throw new Error("SPARQL-star support is not enabled");return He}function fD(He,$e,Ge){for(const tt of $e){const _t=ts("subject"in tt?tt.subject:He,tt.predicate,tt.object);Ge.push(_t),tt.annotations&&fD(SS(He,tt.predicate,tt.object),tt.annotations,Ge)}}function xS(He){if($t.sparqlStar){const $e=[];return He.forEach(Ge=>{const tt=ts(Ge.subject,Ge.predicate,Ge.object);$e.push(tt),Ge.annotations&&fD(SS(Ge.subject,Ge.predicate,Ge.object),Ge.annotations,$e)}),$e}return He}function hD(He){for(const $e of He){if($e.type==="graph"&&$e.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if($e.type==="bgp"||$e.type==="graph"){for(const Ge of $e.triples)if(Ge.subject.termType==="Variable"||Ge.predicate.termType==="Variable"||Ge.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return He}function IS(He){for(const $e of He)if($e.type==="bgp"){for(const Ge of $e.triples)if(Ge.subject.termType==="BlankNode"||Ge.predicate.termType==="BlankNode"||Ge.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return He}var aZ=function(){var He={EOF:1,parseError:function(Ge,tt){if(this.yy.parser)this.yy.parser.parseError(Ge,tt);else throw new Error(Ge)},setInput:function($e,Ge){return this.yy=Ge||this.yy||{},this._input=$e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var $e=this._input[0];this.yytext+=$e,this.yyleng++,this.offset++,this.match+=$e,this.matched+=$e;var Ge=$e.match(/(?:\r\n?|\n).*/g);return Ge?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$e},unput:function($e){var Ge=$e.length,tt=$e.split(/(?:\r\n?|\n)/g);this._input=$e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ge),this.offset-=Ge;var _t=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),tt.length-1&&(this.yylineno-=tt.length-1);var St=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:tt?(tt.length===_t.length?this.yylloc.first_column:0)+_t[_t.length-tt.length].length-tt[0].length:this.yylloc.first_column-Ge},this.options.ranges&&(this.yylloc.range=[St[0],St[0]+this.yyleng-Ge]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($e){this.unput(this.match.slice($e))},pastInput:function(){var $e=this.matched.substr(0,this.matched.length-this.match.length);return($e.length>20?"...":"")+$e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $e=this.match;return $e.length<20&&($e+=this._input.substr(0,20-$e.length)),($e.substr(0,20)+($e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var $e=this.pastInput(),Ge=new Array($e.length+1).join("-");return $e+this.upcomingInput()+`
`+Ge+"^"},test_match:function($e,Ge){var tt,_t,St;if(this.options.backtrack_lexer&&(St={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(St.yylloc.range=this.yylloc.range.slice(0))),_t=$e[0].match(/(?:\r\n?|\n).*/g),_t&&(this.yylineno+=_t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_t?_t[_t.length-1].length-_t[_t.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$e[0].length},this.yytext+=$e[0],this.match+=$e[0],this.matches=$e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($e[0].length),this.matched+=$e[0],tt=this.performAction.call(this,this.yy,this,Ge,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),tt)return tt;if(this._backtrack){for(var ae in St)this[ae]=St[ae];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $e,Ge,tt,_t;this._more||(this.yytext="",this.match="");for(var St=this._currentRules(),ae=0;ae<St.length;ae++)if(tt=this._input.match(this.rules[St[ae]]),tt&&(!Ge||tt[0].length>Ge[0].length)){if(Ge=tt,_t=ae,this.options.backtrack_lexer){if($e=this.test_match(tt,St[ae]),$e!==!1)return $e;if(this._backtrack){Ge=!1;continue}else return!1}else if(!this.options.flex)break}return Ge?($e=this.test_match(Ge,St[_t]),$e!==!1?$e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ge=this.next();return Ge||this.lex()},begin:function(Ge){this.conditionStack.push(Ge)},popState:function(){var Ge=this.conditionStack.length-1;return Ge>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ge){return Ge=this.conditionStack.length-1-Math.abs(Ge||0),Ge>=0?this.conditionStack[Ge]:"INITIAL"},pushState:function(Ge){this.begin(Ge)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Ge,tt,_t,St){switch(_t){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(tt.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return He}();_S.lexer=aZ;function $t(){this.yy={}}return $t.prototype=_S,_S.Parser=$t,new $t}(),zoe=Qoe,Goe="http://www.w3.org/2001/XMLSchema#integer",Woe="http://www.w3.org/2001/XMLSchema#string";function Ar(t){this._options=t=t||{};var e=t.prefixes||{};this._prefixByIri={};var n=[];for(var r in e){var a=e[r];Bg(a)&&(this._prefixByIri[a]=r,n.push(a))}var s=n.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=t.sparqlStar,this._indent=Bg(t.indent)?t.indent:"  ",this._newline=Bg(t.newline)?t.newline:`
`,this._explicitDatatype=!!t.explicitDatatype}Ar.prototype.toQuery=function(t){var e="";return t.queryType&&(e+=t.queryType.toUpperCase()+" "),t.reduced&&(e+="REDUCED "),t.distinct&&(e+="DISTINCT "),t.variables?e+=_i(t.variables,void 0,function(n){return oo(n)?this.toEntity(n):"("+this.toExpression(n.expression)+" AS "+hv(n.variable)+")"},this)+" ":t.template&&(e+=this.group(t.template,!0)+this._newline),t.from&&(e+=this.graphs("FROM ",t.from.default)+this.graphs("FROM NAMED ",t.from.named)),t.where&&(e+="WHERE "+this.group(t.where,!0)+this._newline),t.updates&&(e+=_i(t.updates,";"+this._newline,this.toUpdate,this)),t.group&&(e+="GROUP BY "+_i(t.group,void 0,function(n){var r=oo(n.expression)?this.toEntity(n.expression):"("+this.toExpression(n.expression)+")";return n.variable?"("+r+" AS "+hv(n.variable)+")":r},this)+this._newline),t.having&&(e+="HAVING ("+_i(t.having,void 0,this.toExpression,this)+")"+this._newline),t.order&&(e+="ORDER BY "+_i(t.order,void 0,function(n){var r="("+this.toExpression(n.expression)+")";return n.descending?"DESC "+r:r},this)+this._newline),t.offset&&(e+="OFFSET "+t.offset+this._newline),t.limit&&(e+="LIMIT "+t.limit+this._newline),t.values&&(e+=this.values(t)),e=this.baseAndPrefixes(t)+e,e.trim()};Ar.prototype.baseAndPrefixes=function(t){var e=t.base?"BASE <"+t.base+">"+this._newline:"",n="";for(var r in t.prefixes)(this._options.allPrefixes||this._usedPrefixes[r])&&(n+="PREFIX "+r+": <"+t.prefixes[r]+">"+this._newline);return e+n};Ar.prototype.toPattern=function(t){var e=t.type||t instanceof Array&&"array"||(t.subject&&t.predicate&&t.object?"triple":"");if(!(e in this))throw new Error("Unknown entry type: "+e);return this[e](t)};Ar.prototype.triple=function(t){return this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+"."};Ar.prototype.array=function(t){return _i(t,this._newline,this.toPattern,this)};Ar.prototype.bgp=function(t){return this.encodeTriples(t.triples)};Ar.prototype.encodeTriples=function(t){if(!t.length)return"";for(var e=[],n=void 0,r=void 0,a=0;a<t.length;a++){var s=t[a];wu(s.subject,n)?wu(s.predicate,r)?e.push(","):(r=s.predicate,e.push(";"+this._newline,this._indent,this.toEntity(r))):(n&&e.push("."+this._newline),n=s.subject,r=s.predicate,e.push(this.toEntity(n)," ",this.toEntity(r))),e.push(" ",this.toEntity(s.object))}return e.push("."),e.join("")};Ar.prototype.graph=function(t){return"GRAPH "+this.toEntity(t.name)+" "+this.group(t)};Ar.prototype.graphs=function(t,e){return!e||e.length===0?"":_i(e,"",function(n){return t+this.toEntity(n)+this._newline},this)};Ar.prototype.group=function(t,e){return t=e!==!0?this.array(t.patterns||t.triples):this.toPattern(t.type!=="group"?t:t.patterns),t.indexOf(this._newline)===-1?"{ "+t+" }":"{"+this._newline+this.indent(t)+this._newline+"}"};Ar.prototype.query=function(t){return this.toQuery(t)};Ar.prototype.filter=function(t){return"FILTER("+this.toExpression(t.expression)+")"};Ar.prototype.bind=function(t){return"BIND("+this.toExpression(t.expression)+" AS "+hv(t.variable)+")"};Ar.prototype.optional=function(t){return"OPTIONAL "+this.group(t)};Ar.prototype.union=function(t){return _i(t.patterns,this._newline+"UNION"+this._newline,function(e){return this.group(e,!0)},this)};Ar.prototype.minus=function(t){return"MINUS "+this.group(t)};Ar.prototype.values=function(t){var e=Object.keys(t.values.reduce(function(a,s){for(var o in s)a[o]=!0;return a},{})),n,r;return e.length===1?n=r="":(n="(",r=")"),"VALUES "+n+e.join(" ")+r+" {"+this._newline+_i(t.values,this._newline,function(a){return"  "+n+_i(e,void 0,function(s){return a[s]?this.toEntity(a[s]):"UNDEF"},this)+r},this)+this._newline+"}"};Ar.prototype.service=function(t){return"SERVICE "+(t.silent?"SILENT ":"")+this.toEntity(t.name)+" "+this.group(t)};Ar.prototype.toExpression=function(t){if(oo(t))return this.toEntity(t);switch(t.type.toLowerCase()){case"aggregate":return t.aggregation.toUpperCase()+"("+(t.distinct?"DISTINCT ":"")+this.toExpression(t.expression)+(typeof t.separator=="string"?'; SEPARATOR = "'+t.separator.replace(Ez,Az)+'"':"")+")";case"functioncall":return this.toEntity(t.function)+"("+_i(t.args,", ",this.toExpression,this)+")";case"operation":var e=t.operator.toUpperCase(),n=t.args||[];switch(t.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(oo(n[0])?this.toEntity(n[0]):"("+this.toExpression(n[0])+")")+" "+e+" "+(oo(n[1])?this.toEntity(n[1]):"("+this.toExpression(n[1])+")");case"!":return"!("+this.toExpression(n[0])+")";case"uplus":return"+("+this.toExpression(n[0])+")";case"uminus":return"-("+this.toExpression(n[0])+")";case"notin":e="NOT IN";case"in":return this.toExpression(n[0])+" "+e+"("+(Bg(n[1])?n[1]:_i(n[1],", ",this.toExpression,this))+")";case"notexists":e="NOT EXISTS";case"exists":return e+" "+this.group(n[0],!0);default:return e+"("+_i(n,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+t.type)}};Ar.prototype.toEntity=function(t){if(oo(t))switch(t.termType){case"Wildcard":return"*";case"Variable":return hv(t);case"BlankNode":return"_:"+t.value;case"Literal":var e=t.value||"",n=t.language||"",r=t.datatype;if(t='"'+e.replace(Ez,Az)+'"',n)t+="@"+n;else if(r){if(!this._explicitDatatype)switch(r.value){case Woe:return t;case Goe:if(/^\d+$/.test(e))return e+" "}t+="^^"+this.encodeIRI(r.value)}return t;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return t.graph&&t.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(t.graph)+" { "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" }  >>":"<< "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" >>";default:return this.encodeIRI(t.value)}else{var a=t.items.map(this.toEntity,this),s=t.pathType;switch(s){case"^":case"!":return s+a[0];case"*":case"+":case"?":return"("+a[0]+s+")";default:return"("+a.join(s)+")"}}};var Ez=/["\\\t\n\r\b\f]/g,Az=function(t){return Koe[t]},Koe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};Ar.prototype.encodeIRI=function(t){var e=this._prefixRegex.exec(t);if(e){var n=this._prefixByIri[e[1]];return this._usedPrefixes[n]=!0,n+":"+e[2]}return"<"+t+">"};Ar.prototype.toUpdate=function(t){switch(t.type||t.updateType){case"load":return"LOAD"+(t.source?" "+this.toEntity(t.source):"")+(t.destination?" INTO GRAPH "+this.toEntity(t.destination):"");case"insert":return"INSERT DATA "+this.group(t.insert,!0);case"delete":return"DELETE DATA "+this.group(t.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(t.delete,!0);case"insertdelete":return(t.graph?"WITH "+this.toEntity(t.graph)+this._newline:"")+(t.delete.length?"DELETE "+this.group(t.delete,!0)+this._newline:"")+(t.insert.length?"INSERT "+this.group(t.insert,!0)+this._newline:"")+(t.using?this.graphs("USING ",t.using.default):"")+(t.using?this.graphs("USING NAMED ",t.using.named):"")+"WHERE "+this.group(t.where,!0);case"add":case"copy":case"move":return t.type.toUpperCase()+" "+(t.silent?"SILENT ":"")+(t.source.default?"DEFAULT":this.toEntity(t.source.name))+" TO "+this.toEntity(t.destination.name);case"create":case"clear":case"drop":return t.type.toUpperCase()+(t.silent?" SILENT ":" ")+(t.graph.default?"DEFAULT":t.graph.named?"NAMED":t.graph.all?"ALL":"GRAPH "+this.toEntity(t.graph.name));default:throw new Error("Unknown update query type: "+t.type)}};Ar.prototype.indent=function(t){return t.replace(/^/gm,this._indent)};function hv(t){return"?"+t.value}function Bg(t){return typeof t=="string"}function oo(t){return typeof t.termType=="string"}function wu(t,e){if(!t||!oo(t)||!e||!oo(e)||t.termType!==e.termType)return!1;switch(t.termType){case"Literal":return t.value===e.value&&t.language===e.language&&wu(t.datatype,e.datatype);case"Quad":return wu(t.subject,e.subject)&&wu(t.predicate,e.predicate)&&wu(t.object,e.object)&&wu(t.graph,e.graph);default:return t.value===e.value}}function _i(t,e,n,r){return t.map(n,r).join(Bg(e)?e:" ")}var Joe=function(e={}){return{stringify:function(n){var r=Object.create(e);return r.prefixes=n.prefixes,new Ar(r).toQuery(n)},createGenerator:function(){return new Ar(e)}}},Rt={},S_={};Object.defineProperty(S_,"__esModule",{value:!0});S_.BlankNode=void 0;let Xoe=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}};S_.BlankNode=Xoe;var ew={},T_={};Object.defineProperty(T_,"__esModule",{value:!0});T_.DefaultGraph=void 0;let FR=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&e.termType==="DefaultGraph"}};T_.DefaultGraph=FR;FR.INSTANCE=new FR;var E_={},Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.NamedNode=void 0;let Yoe=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&e.termType==="NamedNode"&&e.value===this.value}};Nl.NamedNode=Yoe;Object.defineProperty(E_,"__esModule",{value:!0});E_.Literal=void 0;const Oz=Nl;let jI=class qR{constructor(e,n){this.termType="Literal",this.value=e,typeof n=="string"?(this.language=n,this.datatype=qR.RDF_LANGUAGE_STRING):n?(this.language="",this.datatype=n):(this.language="",this.datatype=qR.XSD_STRING)}equals(e){return!!e&&e.termType==="Literal"&&e.value===this.value&&e.language===this.language&&this.datatype.equals(e.datatype)}};E_.Literal=jI;jI.RDF_LANGUAGE_STRING=new Oz.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");jI.XSD_STRING=new Oz.NamedNode("http://www.w3.org/2001/XMLSchema#string");var A_={};Object.defineProperty(A_,"__esModule",{value:!0});A_.Quad=void 0;let Zoe=class{constructor(e,n,r,a){this.termType="Quad",this.value="",this.subject=e,this.predicate=n,this.object=r,this.graph=a}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}};A_.Quad=Zoe;var O_={};Object.defineProperty(O_,"__esModule",{value:!0});O_.Variable=void 0;let eue=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&e.termType==="Variable"&&e.value===this.value}};O_.Variable=eue;Object.defineProperty(ew,"__esModule",{value:!0});ew.DataFactory=void 0;const tue=S_,rue=T_,JC=E_,nue=Nl,iue=A_,aue=O_;let sue=0,oue=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${sue++}_`}namedNode(e){return new nue.NamedNode(e)}blankNode(e){return new tue.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,n){return new JC.Literal(e,n)}variable(e){return new aue.Variable(e)}defaultGraph(){return rue.DefaultGraph.INSTANCE}quad(e,n,r,a){return new iue.Quad(e,n,r,a||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(JC.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}};ew.DataFactory=oue;(function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(S_,t),n(ew,t),n(T_,t),n(E_,t),n(Nl,t),n(A_,t),n(O_,t)})(Rt);var is=zoe.Parser,uue=Joe,cue=LI.Wildcard,{DataFactory:lue}=Rt,Xu={Parser:function({prefixes:t,baseIRI:e,factory:n,sparqlStar:r,skipValidation:a,skipUngroupedVariableCheck:s,pathOnly:o}={}){var u={};for(var l in t||{})u[l]=t[l];var c=new is;return c.parse=function(){return is.base=e||"",is.prefixes=Object.create(u),is.factory=n||new lue,is.sparqlStar=!!r,is.pathOnly=!!o,is.skipValidation=!!a||!!s,is.prototype.parse.apply(c,arguments)},c._resetBlanks=is._resetBlanks,c},Generator:uue,Wildcard:cue},Rz={exports:{}},s2={exports:{}},Ma={};(function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},n={};n.byteLength=d,n.toByteArray=h,n.fromByteArray=y;for(var r=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=o.length;u<l;++u)r[u]=o[u],a[o.charCodeAt(u)]=u;a[45]=62,a[95]=63;function c(v){var b=v.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=v.indexOf("=");w===-1&&(w=b);var S=w===b?0:4-w%4;return[w,S]}function d(v){var b=c(v),w=b[0],S=b[1];return(w+S)*3/4-S}function f(v,b,w){return(b+w)*3/4-w}function h(v){var b,w=c(v),S=w[0],A=w[1],x=new s(f(v,S,A)),M=0,I=A>0?S-4:S,N;for(N=0;N<I;N+=4)b=a[v.charCodeAt(N)]<<18|a[v.charCodeAt(N+1)]<<12|a[v.charCodeAt(N+2)]<<6|a[v.charCodeAt(N+3)],x[M++]=b>>16&255,x[M++]=b>>8&255,x[M++]=b&255;return A===2&&(b=a[v.charCodeAt(N)]<<2|a[v.charCodeAt(N+1)]>>4,x[M++]=b&255),A===1&&(b=a[v.charCodeAt(N)]<<10|a[v.charCodeAt(N+1)]<<4|a[v.charCodeAt(N+2)]>>2,x[M++]=b>>8&255,x[M++]=b&255),x}function p(v){return r[v>>18&63]+r[v>>12&63]+r[v>>6&63]+r[v&63]}function m(v,b,w){for(var S,A=[],x=b;x<w;x+=3)S=(v[x]<<16&16711680)+(v[x+1]<<8&65280)+(v[x+2]&255),A.push(p(S));return A.join("")}function y(v){for(var b,w=v.length,S=w%3,A=[],x=16383,M=0,I=w-S;M<I;M+=x)A.push(m(v,M,M+x>I?I:M+x));return S===1?(b=v[w-1],A.push(r[b>>2]+r[b<<4&63]+"==")):S===2&&(b=(v[w-2]<<8)+v[w-1],A.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),A.join("")}var g={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(v,b,w,S,A){var x,M,I=A*8-S-1,N=(1<<I)-1,F=N>>1,D=-7,V=w?A-1:0,k=w?-1:1,U=v[b+V];for(V+=k,x=U&(1<<-D)-1,U>>=-D,D+=I;D>0;x=x*256+v[b+V],V+=k,D-=8);for(M=x&(1<<-D)-1,x>>=-D,D+=S;D>0;M=M*256+v[b+V],V+=k,D-=8);if(x===0)x=1-F;else{if(x===N)return M?NaN:(U?-1:1)*(1/0);M=M+Math.pow(2,S),x=x-F}return(U?-1:1)*M*Math.pow(2,x-S)},g.write=function(v,b,w,S,A,x){var M,I,N,F=x*8-A-1,D=(1<<F)-1,V=D>>1,k=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=S?0:x-1,H=S?1:-1,X=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(I=isNaN(b)?1:0,M=D):(M=Math.floor(Math.log(b)/Math.LN2),b*(N=Math.pow(2,-M))<1&&(M--,N*=2),M+V>=1?b+=k/N:b+=k*Math.pow(2,1-V),b*N>=2&&(M++,N/=2),M+V>=D?(I=0,M=D):M+V>=1?(I=(b*N-1)*Math.pow(2,A),M=M+V):(I=b*Math.pow(2,V-1)*Math.pow(2,A),M=0));A>=8;v[w+U]=I&255,U+=H,I/=256,A-=8);for(M=M<<A|I,F+=A;F>0;v[w+U]=M&255,U+=H,M/=256,F-=8);v[w+U-H]|=X*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(v){const b=n,w=g,S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;v.Buffer=D,v.SlowBuffer=le,v.INSPECT_MAX_BYTES=50;const A=2147483647;v.kMaxLength=A;const{Uint8Array:x,ArrayBuffer:M,SharedArrayBuffer:I}=globalThis;D.TYPED_ARRAY_SUPPORT=N(),!D.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function N(){try{const E=new x(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,x.prototype),Object.setPrototypeOf(E,R),E.foo()===42}catch{return!1}}Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}});function F(E){if(E>A)throw new RangeError('The value "'+E+'" is invalid for option "size"');const R=new x(E);return Object.setPrototypeOf(R,D.prototype),R}function D(E,R,j){if(typeof E=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return H(E)}return V(E,R,j)}D.poolSize=8192;function V(E,R,j){if(typeof E=="string")return X(E,R);if(M.isView(E))return fe(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(ct(E,M)||E&&ct(E.buffer,M)||typeof I<"u"&&(ct(E,I)||E&&ct(E.buffer,I)))return Te(E,R,j);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=E.valueOf&&E.valueOf();if(J!=null&&J!==E)return D.from(J,R,j);const me=De(E);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return D.from(E[Symbol.toPrimitive]("string"),R,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}D.from=function(E,R,j){return V(E,R,j)},Object.setPrototypeOf(D.prototype,x.prototype),Object.setPrototypeOf(D,x);function k(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function U(E,R,j){return k(E),E<=0?F(E):R!==void 0?typeof j=="string"?F(E).fill(R,j):F(E).fill(R):F(E)}D.alloc=function(E,R,j){return U(E,R,j)};function H(E){return k(E),F(E<0?0:Ve(E)|0)}D.allocUnsafe=function(E){return H(E)},D.allocUnsafeSlow=function(E){return H(E)};function X(E,R){if((typeof R!="string"||R==="")&&(R="utf8"),!D.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const j=ue(E,R)|0;let J=F(j);const me=J.write(E,R);return me!==j&&(J=J.slice(0,me)),J}function ee(E){const R=E.length<0?0:Ve(E.length)|0,j=F(R);for(let J=0;J<R;J+=1)j[J]=E[J]&255;return j}function fe(E){if(ct(E,x)){const R=new x(E);return Te(R.buffer,R.byteOffset,R.byteLength)}return ee(E)}function Te(E,R,j){if(R<0||E.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<R+(j||0))throw new RangeError('"length" is outside of buffer bounds');let J;return R===void 0&&j===void 0?J=new x(E):j===void 0?J=new x(E,R):J=new x(E,R,j),Object.setPrototypeOf(J,D.prototype),J}function De(E){if(D.isBuffer(E)){const R=Ve(E.length)|0,j=F(R);return j.length===0||E.copy(j,0,0,R),j}if(E.length!==void 0)return typeof E.length!="number"||ft(E.length)?F(0):ee(E);if(E.type==="Buffer"&&Array.isArray(E.data))return ee(E.data)}function Ve(E){if(E>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return E|0}function le(E){return+E!=E&&(E=0),D.alloc(+E)}D.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==D.prototype},D.compare=function(R,j){if(ct(R,x)&&(R=D.from(R,R.offset,R.byteLength)),ct(j,x)&&(j=D.from(j,j.offset,j.byteLength)),!D.isBuffer(R)||!D.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===j)return 0;let J=R.length,me=j.length;for(let ye=0,xe=Math.min(J,me);ye<xe;++ye)if(R[ye]!==j[ye]){J=R[ye],me=j[ye];break}return J<me?-1:me<J?1:0},D.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(R,j){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return D.alloc(0);let J;if(j===void 0)for(j=0,J=0;J<R.length;++J)j+=R[J].length;const me=D.allocUnsafe(j);let ye=0;for(J=0;J<R.length;++J){let xe=R[J];if(ct(xe,x))ye+xe.length>me.length?(D.isBuffer(xe)||(xe=D.from(xe)),xe.copy(me,ye)):x.prototype.set.call(me,xe,ye);else if(D.isBuffer(xe))xe.copy(me,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=xe.length}return me};function ue(E,R){if(D.isBuffer(E))return E.length;if(M.isView(E)||ct(E,M))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const j=E.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&j===0)return 0;let me=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return Z(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return Be(E).length;default:if(me)return J?-1:Z(E).length;R=(""+R).toLowerCase(),me=!0}}D.byteLength=ue;function Ie(E,R,j){let J=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,R>>>=0,j<=R))return"";for(E||(E="utf8");;)switch(E){case"hex":return te(this,R,j);case"utf8":case"utf-8":return $(this,R,j);case"ascii":return Y(this,R,j);case"latin1":case"binary":return ie(this,R,j);case"base64":return O(this,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,R,j);default:if(J)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),J=!0}}D.prototype._isBuffer=!0;function Ne(E,R,j){const J=E[R];E[R]=E[j],E[j]=J}D.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let j=0;j<R;j+=2)Ne(this,j,j+1);return this},D.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let j=0;j<R;j+=4)Ne(this,j,j+3),Ne(this,j+1,j+2);return this},D.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let j=0;j<R;j+=8)Ne(this,j,j+7),Ne(this,j+1,j+6),Ne(this,j+2,j+5),Ne(this,j+3,j+4);return this},D.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?$(this,0,R):Ie.apply(this,arguments)},D.prototype.toLocaleString=D.prototype.toString,D.prototype.equals=function(R){if(!D.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:D.compare(this,R)===0},D.prototype.inspect=function(){let R="";const j=v.INSPECT_MAX_BYTES;return R=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim(),this.length>j&&(R+=" ... "),"<Buffer "+R+">"},S&&(D.prototype[S]=D.prototype.inspect),D.prototype.compare=function(R,j,J,me,ye){if(ct(R,x)&&(R=D.from(R,R.offset,R.byteLength)),!D.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(j===void 0&&(j=0),J===void 0&&(J=R?R.length:0),me===void 0&&(me=0),ye===void 0&&(ye=this.length),j<0||J>R.length||me<0||ye>this.length)throw new RangeError("out of range index");if(me>=ye&&j>=J)return 0;if(me>=ye)return-1;if(j>=J)return 1;if(j>>>=0,J>>>=0,me>>>=0,ye>>>=0,this===R)return 0;let xe=ye-me,Me=J-j;const Ke=Math.min(xe,Me),et=this.slice(me,ye),dt=R.slice(j,J);for(let it=0;it<Ke;++it)if(et[it]!==dt[it]){xe=et[it],Me=dt[it];break}return xe<Me?-1:Me<xe?1:0};function we(E,R,j,J,me){if(E.length===0)return-1;if(typeof j=="string"?(J=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,ft(j)&&(j=me?0:E.length-1),j<0&&(j=E.length+j),j>=E.length){if(me)return-1;j=E.length-1}else if(j<0)if(me)j=0;else return-1;if(typeof R=="string"&&(R=D.from(R,J)),D.isBuffer(R))return R.length===0?-1:Ae(E,R,j,J,me);if(typeof R=="number")return R=R&255,typeof x.prototype.indexOf=="function"?me?x.prototype.indexOf.call(E,R,j):x.prototype.lastIndexOf.call(E,R,j):Ae(E,[R],j,J,me);throw new TypeError("val must be string, number or Buffer")}function Ae(E,R,j,J,me){let ye=1,xe=E.length,Me=R.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(E.length<2||R.length<2)return-1;ye=2,xe/=2,Me/=2,j/=2}function Ke(dt,it){return ye===1?dt[it]:dt.readUInt16BE(it*ye)}let et;if(me){let dt=-1;for(et=j;et<xe;et++)if(Ke(E,et)===Ke(R,dt===-1?0:et-dt)){if(dt===-1&&(dt=et),et-dt+1===Me)return dt*ye}else dt!==-1&&(et-=et-dt),dt=-1}else for(j+Me>xe&&(j=xe-Me),et=j;et>=0;et--){let dt=!0;for(let it=0;it<Me;it++)if(Ke(E,et+it)!==Ke(R,it)){dt=!1;break}if(dt)return et}return-1}D.prototype.includes=function(R,j,J){return this.indexOf(R,j,J)!==-1},D.prototype.indexOf=function(R,j,J){return we(this,R,j,J,!0)},D.prototype.lastIndexOf=function(R,j,J){return we(this,R,j,J,!1)};function Se(E,R,j,J){j=Number(j)||0;const me=E.length-j;J?(J=Number(J),J>me&&(J=me)):J=me;const ye=R.length;J>ye/2&&(J=ye/2);let xe;for(xe=0;xe<J;++xe){const Me=parseInt(R.substr(xe*2,2),16);if(ft(Me))return xe;E[j+xe]=Me}return xe}function z(E,R,j,J){return Ye(Z(R,E.length-j),E,j,J)}function L(E,R,j,J){return Ye(Oe(R),E,j,J)}function B(E,R,j,J){return Ye(Be(R),E,j,J)}function T(E,R,j,J){return Ye(je(R,E.length-j),E,j,J)}D.prototype.write=function(R,j,J,me){if(j===void 0)me="utf8",J=this.length,j=0;else if(J===void 0&&typeof j=="string")me=j,J=this.length,j=0;else if(isFinite(j))j=j>>>0,isFinite(J)?(J=J>>>0,me===void 0&&(me="utf8")):(me=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-j;if((J===void 0||J>ye)&&(J=ye),R.length>0&&(J<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let xe=!1;for(;;)switch(me){case"hex":return Se(this,R,j,J);case"utf8":case"utf-8":return z(this,R,j,J);case"ascii":case"latin1":case"binary":return L(this,R,j,J);case"base64":return B(this,R,j,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,R,j,J);default:if(xe)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),xe=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(E,R,j){return R===0&&j===E.length?b.fromByteArray(E):b.fromByteArray(E.slice(R,j))}function $(E,R,j){j=Math.min(E.length,j);const J=[];let me=R;for(;me<j;){const ye=E[me];let xe=null,Me=ye>239?4:ye>223?3:ye>191?2:1;if(me+Me<=j){let Ke,et,dt,it;switch(Me){case 1:ye<128&&(xe=ye);break;case 2:Ke=E[me+1],(Ke&192)===128&&(it=(ye&31)<<6|Ke&63,it>127&&(xe=it));break;case 3:Ke=E[me+1],et=E[me+2],(Ke&192)===128&&(et&192)===128&&(it=(ye&15)<<12|(Ke&63)<<6|et&63,it>2047&&(it<55296||it>57343)&&(xe=it));break;case 4:Ke=E[me+1],et=E[me+2],dt=E[me+3],(Ke&192)===128&&(et&192)===128&&(dt&192)===128&&(it=(ye&15)<<18|(Ke&63)<<12|(et&63)<<6|dt&63,it>65535&&it<1114112&&(xe=it))}}xe===null?(xe=65533,Me=1):xe>65535&&(xe-=65536,J.push(xe>>>10&1023|55296),xe=56320|xe&1023),J.push(xe),me+=Me}return Q(J)}const G=4096;function Q(E){const R=E.length;if(R<=G)return String.fromCharCode.apply(String,E);let j="",J=0;for(;J<R;)j+=String.fromCharCode.apply(String,E.slice(J,J+=G));return j}function Y(E,R,j){let J="";j=Math.min(E.length,j);for(let me=R;me<j;++me)J+=String.fromCharCode(E[me]&127);return J}function ie(E,R,j){let J="";j=Math.min(E.length,j);for(let me=R;me<j;++me)J+=String.fromCharCode(E[me]);return J}function te(E,R,j){const J=E.length;(!R||R<0)&&(R=0),(!j||j<0||j>J)&&(j=J);let me="";for(let ye=R;ye<j;++ye)me+=st[E[ye]];return me}function he(E,R,j){const J=E.slice(R,j);let me="";for(let ye=0;ye<J.length-1;ye+=2)me+=String.fromCharCode(J[ye]+J[ye+1]*256);return me}D.prototype.slice=function(R,j){const J=this.length;R=~~R,j=j===void 0?J:~~j,R<0?(R+=J,R<0&&(R=0)):R>J&&(R=J),j<0?(j+=J,j<0&&(j=0)):j>J&&(j=J),j<R&&(j=R);const me=this.subarray(R,j);return Object.setPrototypeOf(me,D.prototype),me};function ce(E,R,j){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+R>j)throw new RangeError("Trying to access beyond buffer length")}D.prototype.readUintLE=D.prototype.readUIntLE=function(R,j,J){R=R>>>0,j=j>>>0,J||ce(R,j,this.length);let me=this[R],ye=1,xe=0;for(;++xe<j&&(ye*=256);)me+=this[R+xe]*ye;return me},D.prototype.readUintBE=D.prototype.readUIntBE=function(R,j,J){R=R>>>0,j=j>>>0,J||ce(R,j,this.length);let me=this[R+--j],ye=1;for(;j>0&&(ye*=256);)me+=this[R+--j]*ye;return me},D.prototype.readUint8=D.prototype.readUInt8=function(R,j){return R=R>>>0,j||ce(R,1,this.length),this[R]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(R,j){return R=R>>>0,j||ce(R,2,this.length),this[R]|this[R+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(R,j){return R=R>>>0,j||ce(R,2,this.length),this[R]<<8|this[R+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(R,j){return R=R>>>0,j||ce(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(R,j){return R=R>>>0,j||ce(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},D.prototype.readBigUInt64LE=yt(function(R){R=R>>>0,re(R,"offset");const j=this[R],J=this[R+7];(j===void 0||J===void 0)&&pe(R,this.length-8);const me=j+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,ye=this[++R]+this[++R]*2**8+this[++R]*2**16+J*2**24;return BigInt(me)+(BigInt(ye)<<BigInt(32))}),D.prototype.readBigUInt64BE=yt(function(R){R=R>>>0,re(R,"offset");const j=this[R],J=this[R+7];(j===void 0||J===void 0)&&pe(R,this.length-8);const me=j*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],ye=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+J;return(BigInt(me)<<BigInt(32))+BigInt(ye)}),D.prototype.readIntLE=function(R,j,J){R=R>>>0,j=j>>>0,J||ce(R,j,this.length);let me=this[R],ye=1,xe=0;for(;++xe<j&&(ye*=256);)me+=this[R+xe]*ye;return ye*=128,me>=ye&&(me-=Math.pow(2,8*j)),me},D.prototype.readIntBE=function(R,j,J){R=R>>>0,j=j>>>0,J||ce(R,j,this.length);let me=j,ye=1,xe=this[R+--me];for(;me>0&&(ye*=256);)xe+=this[R+--me]*ye;return ye*=128,xe>=ye&&(xe-=Math.pow(2,8*j)),xe},D.prototype.readInt8=function(R,j){return R=R>>>0,j||ce(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},D.prototype.readInt16LE=function(R,j){R=R>>>0,j||ce(R,2,this.length);const J=this[R]|this[R+1]<<8;return J&32768?J|4294901760:J},D.prototype.readInt16BE=function(R,j){R=R>>>0,j||ce(R,2,this.length);const J=this[R+1]|this[R]<<8;return J&32768?J|4294901760:J},D.prototype.readInt32LE=function(R,j){return R=R>>>0,j||ce(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},D.prototype.readInt32BE=function(R,j){return R=R>>>0,j||ce(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},D.prototype.readBigInt64LE=yt(function(R){R=R>>>0,re(R,"offset");const j=this[R],J=this[R+7];(j===void 0||J===void 0)&&pe(R,this.length-8);const me=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(J<<24);return(BigInt(me)<<BigInt(32))+BigInt(j+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),D.prototype.readBigInt64BE=yt(function(R){R=R>>>0,re(R,"offset");const j=this[R],J=this[R+7];(j===void 0||J===void 0)&&pe(R,this.length-8);const me=(j<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(me)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+J)}),D.prototype.readFloatLE=function(R,j){return R=R>>>0,j||ce(R,4,this.length),w.read(this,R,!0,23,4)},D.prototype.readFloatBE=function(R,j){return R=R>>>0,j||ce(R,4,this.length),w.read(this,R,!1,23,4)},D.prototype.readDoubleLE=function(R,j){return R=R>>>0,j||ce(R,8,this.length),w.read(this,R,!0,52,8)},D.prototype.readDoubleBE=function(R,j){return R=R>>>0,j||ce(R,8,this.length),w.read(this,R,!1,52,8)};function ve(E,R,j,J,me,ye){if(!D.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>me||R<ye)throw new RangeError('"value" argument is out of bounds');if(j+J>E.length)throw new RangeError("Index out of range")}D.prototype.writeUintLE=D.prototype.writeUIntLE=function(R,j,J,me){if(R=+R,j=j>>>0,J=J>>>0,!me){const Me=Math.pow(2,8*J)-1;ve(this,R,j,J,Me,0)}let ye=1,xe=0;for(this[j]=R&255;++xe<J&&(ye*=256);)this[j+xe]=R/ye&255;return j+J},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(R,j,J,me){if(R=+R,j=j>>>0,J=J>>>0,!me){const Me=Math.pow(2,8*J)-1;ve(this,R,j,J,Me,0)}let ye=J-1,xe=1;for(this[j+ye]=R&255;--ye>=0&&(xe*=256);)this[j+ye]=R/xe&255;return j+J},D.prototype.writeUint8=D.prototype.writeUInt8=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,1,255,0),this[j]=R&255,j+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,2,65535,0),this[j]=R&255,this[j+1]=R>>>8,j+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,2,65535,0),this[j]=R>>>8,this[j+1]=R&255,j+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,4,4294967295,0),this[j+3]=R>>>24,this[j+2]=R>>>16,this[j+1]=R>>>8,this[j]=R&255,j+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,4,4294967295,0),this[j]=R>>>24,this[j+1]=R>>>16,this[j+2]=R>>>8,this[j+3]=R&255,j+4};function Ce(E,R,j,J,me){W(R,J,me,E,j,7);let ye=Number(R&BigInt(4294967295));E[j++]=ye,ye=ye>>8,E[j++]=ye,ye=ye>>8,E[j++]=ye,ye=ye>>8,E[j++]=ye;let xe=Number(R>>BigInt(32)&BigInt(4294967295));return E[j++]=xe,xe=xe>>8,E[j++]=xe,xe=xe>>8,E[j++]=xe,xe=xe>>8,E[j++]=xe,j}function Ee(E,R,j,J,me){W(R,J,me,E,j,7);let ye=Number(R&BigInt(4294967295));E[j+7]=ye,ye=ye>>8,E[j+6]=ye,ye=ye>>8,E[j+5]=ye,ye=ye>>8,E[j+4]=ye;let xe=Number(R>>BigInt(32)&BigInt(4294967295));return E[j+3]=xe,xe=xe>>8,E[j+2]=xe,xe=xe>>8,E[j+1]=xe,xe=xe>>8,E[j]=xe,j+8}D.prototype.writeBigUInt64LE=yt(function(R,j=0){return Ce(this,R,j,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeBigUInt64BE=yt(function(R,j=0){return Ee(this,R,j,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeIntLE=function(R,j,J,me){if(R=+R,j=j>>>0,!me){const Ke=Math.pow(2,8*J-1);ve(this,R,j,J,Ke-1,-Ke)}let ye=0,xe=1,Me=0;for(this[j]=R&255;++ye<J&&(xe*=256);)R<0&&Me===0&&this[j+ye-1]!==0&&(Me=1),this[j+ye]=(R/xe>>0)-Me&255;return j+J},D.prototype.writeIntBE=function(R,j,J,me){if(R=+R,j=j>>>0,!me){const Ke=Math.pow(2,8*J-1);ve(this,R,j,J,Ke-1,-Ke)}let ye=J-1,xe=1,Me=0;for(this[j+ye]=R&255;--ye>=0&&(xe*=256);)R<0&&Me===0&&this[j+ye+1]!==0&&(Me=1),this[j+ye]=(R/xe>>0)-Me&255;return j+J},D.prototype.writeInt8=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,1,127,-128),R<0&&(R=255+R+1),this[j]=R&255,j+1},D.prototype.writeInt16LE=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,2,32767,-32768),this[j]=R&255,this[j+1]=R>>>8,j+2},D.prototype.writeInt16BE=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,2,32767,-32768),this[j]=R>>>8,this[j+1]=R&255,j+2},D.prototype.writeInt32LE=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,4,2147483647,-2147483648),this[j]=R&255,this[j+1]=R>>>8,this[j+2]=R>>>16,this[j+3]=R>>>24,j+4},D.prototype.writeInt32BE=function(R,j,J){return R=+R,j=j>>>0,J||ve(this,R,j,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[j]=R>>>24,this[j+1]=R>>>16,this[j+2]=R>>>8,this[j+3]=R&255,j+4},D.prototype.writeBigInt64LE=yt(function(R,j=0){return Ce(this,R,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeBigInt64BE=yt(function(R,j=0){return Ee(this,R,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ue(E,R,j,J,me,ye){if(j+J>E.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function Fe(E,R,j,J,me){return R=+R,j=j>>>0,me||Ue(E,R,j,4),w.write(E,R,j,J,23,4),j+4}D.prototype.writeFloatLE=function(R,j,J){return Fe(this,R,j,!0,J)},D.prototype.writeFloatBE=function(R,j,J){return Fe(this,R,j,!1,J)};function Qe(E,R,j,J,me){return R=+R,j=j>>>0,me||Ue(E,R,j,8),w.write(E,R,j,J,52,8),j+8}D.prototype.writeDoubleLE=function(R,j,J){return Qe(this,R,j,!0,J)},D.prototype.writeDoubleBE=function(R,j,J){return Qe(this,R,j,!1,J)},D.prototype.copy=function(R,j,J,me){if(!D.isBuffer(R))throw new TypeError("argument should be a Buffer");if(J||(J=0),!me&&me!==0&&(me=this.length),j>=R.length&&(j=R.length),j||(j=0),me>0&&me<J&&(me=J),me===J||R.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),R.length-j<me-J&&(me=R.length-j+J);const ye=me-J;return this===R&&typeof x.prototype.copyWithin=="function"?this.copyWithin(j,J,me):x.prototype.set.call(R,this.subarray(J,me),j),ye},D.prototype.fill=function(R,j,J,me){if(typeof R=="string"){if(typeof j=="string"?(me=j,j=0,J=this.length):typeof J=="string"&&(me=J,J=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!D.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(R.length===1){const xe=R.charCodeAt(0);(me==="utf8"&&xe<128||me==="latin1")&&(R=xe)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(j<0||this.length<j||this.length<J)throw new RangeError("Out of range index");if(J<=j)return this;j=j>>>0,J=J===void 0?this.length:J>>>0,R||(R=0);let ye;if(typeof R=="number")for(ye=j;ye<J;++ye)this[ye]=R;else{const xe=D.isBuffer(R)?R:D.from(R,me),Me=xe.length;if(Me===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(ye=0;ye<J-j;++ye)this[ye+j]=xe[ye%Me]}return this};const ke={};function K(E,R,j){ke[E]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}K("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(E,R){return`The "${E}" argument must be of type number. Received type ${typeof R}`},TypeError),K("ERR_OUT_OF_RANGE",function(E,R,j){let J=`The value of "${E}" is out of range.`,me=j;return Number.isInteger(j)&&Math.abs(j)>2**32?me=C(String(j)):typeof j=="bigint"&&(me=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(me=C(me)),me+="n"),J+=` It must be ${R}. Received ${me}`,J},RangeError);function C(E){let R="",j=E.length;const J=E[0]==="-"?1:0;for(;j>=J+4;j-=3)R=`_${E.slice(j-3,j)}${R}`;return`${E.slice(0,j)}${R}`}function q(E,R,j){re(R,"offset"),(E[R]===void 0||E[R+j]===void 0)&&pe(R,E.length-(j+1))}function W(E,R,j,J,me,ye){if(E>j||E<R){const xe=typeof R=="bigint"?"n":"";let Me;throw ye>3?R===0||R===BigInt(0)?Me=`>= 0${xe} and < 2${xe} ** ${(ye+1)*8}${xe}`:Me=`>= -(2${xe} ** ${(ye+1)*8-1}${xe}) and < 2 ** ${(ye+1)*8-1}${xe}`:Me=`>= ${R}${xe} and <= ${j}${xe}`,new ke.ERR_OUT_OF_RANGE("value",Me,E)}q(J,me,ye)}function re(E,R){if(typeof E!="number")throw new ke.ERR_INVALID_ARG_TYPE(R,"number",E)}function pe(E,R,j){throw Math.floor(E)!==E?(re(E,j),new ke.ERR_OUT_OF_RANGE(j||"offset","an integer",E)):R<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE(j||"offset",`>= ${j?1:0} and <= ${R}`,E)}const ge=/[^+/0-9A-Za-z-_]/g;function qe(E){if(E=E.split("=")[0],E=E.trim().replace(ge,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function Z(E,R){R=R||1/0;let j;const J=E.length;let me=null;const ye=[];for(let xe=0;xe<J;++xe){if(j=E.charCodeAt(xe),j>55295&&j<57344){if(!me){if(j>56319){(R-=3)>-1&&ye.push(239,191,189);continue}else if(xe+1===J){(R-=3)>-1&&ye.push(239,191,189);continue}me=j;continue}if(j<56320){(R-=3)>-1&&ye.push(239,191,189),me=j;continue}j=(me-55296<<10|j-56320)+65536}else me&&(R-=3)>-1&&ye.push(239,191,189);if(me=null,j<128){if((R-=1)<0)break;ye.push(j)}else if(j<2048){if((R-=2)<0)break;ye.push(j>>6|192,j&63|128)}else if(j<65536){if((R-=3)<0)break;ye.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((R-=4)<0)break;ye.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return ye}function Oe(E){const R=[];for(let j=0;j<E.length;++j)R.push(E.charCodeAt(j)&255);return R}function je(E,R){let j,J,me;const ye=[];for(let xe=0;xe<E.length&&!((R-=2)<0);++xe)j=E.charCodeAt(xe),J=j>>8,me=j%256,ye.push(me),ye.push(J);return ye}function Be(E){return b.toByteArray(qe(E))}function Ye(E,R,j,J){let me;for(me=0;me<J&&!(me+j>=R.length||me>=E.length);++me)R[me+j]=E[me];return me}function ct(E,R){return E instanceof R||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===R.name}function ft(E){return E!==E}const st=function(){const E="0123456789abcdef",R=new Array(256);for(let j=0;j<16;++j){const J=j*16;for(let me=0;me<16;++me)R[J+me]=E[j]+E[me]}return R}();function yt(E){return typeof BigInt>"u"?ne:E}function ne(){throw new Error("BigInt not supported")}})(e);const _=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=_,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode})(Ma);var jr={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Boolean,Uint8Array},xz={exports:{}},pd={exports:{}},XC;function fl(){if(XC)return pd.exports;XC=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return pd.exports=t,pd.exports.AbortSignal=e,pd.exports.default=t,pd.exports}var MI={exports:{}},Gc=typeof Reflect=="object"?Reflect:null,YC=Gc&&typeof Gc.apply=="function"?Gc.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},D1;Gc&&typeof Gc.ownKeys=="function"?D1=Gc.ownKeys:Object.getOwnPropertySymbols?D1=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:D1=function(e){return Object.getOwnPropertyNames(e)};function due(t){console&&console.warn&&console.warn(t)}var Iz=Number.isNaN||function(e){return e!==e};function ur(){ur.init.call(this)}MI.exports=ur;MI.exports.once=yue;ur.EventEmitter=ur;ur.prototype._events=void 0;ur.prototype._eventsCount=0;ur.prototype._maxListeners=void 0;var ZC=10;function tw(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ur,"defaultMaxListeners",{enumerable:!0,get:function(){return ZC},set:function(t){if(typeof t!="number"||t<0||Iz(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ZC=t}});ur.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ur.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Iz(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Pz(t){return t._maxListeners===void 0?ur.defaultMaxListeners:t._maxListeners}ur.prototype.getMaxListeners=function(){return Pz(this)};ur.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var a=e==="error",s=this._events;if(s!==void 0)a=a&&s.error===void 0;else if(!a)return!1;if(a){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")YC(l,this,n);else for(var c=l.length,d=jz(l,c),r=0;r<c;++r)YC(d[r],this,n);return!0};function Nz(t,e,n,r){var a,s,o;if(tw(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),a=Pz(t),a>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,due(u)}return t}ur.prototype.addListener=function(e,n){return Nz(this,e,n,!1)};ur.prototype.on=ur.prototype.addListener;ur.prototype.prependListener=function(e,n){return Nz(this,e,n,!0)};function fue(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Dz(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},a=fue.bind(r);return a.listener=n,r.wrapFn=a,a}ur.prototype.once=function(e,n){return tw(n),this.on(e,Dz(this,e,n)),this};ur.prototype.prependOnceListener=function(e,n){return tw(n),this.prependListener(e,Dz(this,e,n)),this};ur.prototype.removeListener=function(e,n){var r,a,s,o,u;if(tw(n),a=this._events,a===void 0)return this;if(r=a[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){u=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():hue(r,s),r.length===1&&(a[e]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",e,u||n)}return this};ur.prototype.off=ur.prototype.removeListener;ur.prototype.removeAllListeners=function(e){var n,r,a;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(a=0;a<s.length;++a)o=s[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(a=n.length-1;a>=0;a--)this.removeListener(e,n[a]);return this};function Cz(t,e,n){var r=t._events;if(r===void 0)return[];var a=r[e];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?pue(a):jz(a,a.length)}ur.prototype.listeners=function(e){return Cz(this,e,!0)};ur.prototype.rawListeners=function(e){return Cz(this,e,!1)};ur.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Lz.call(t,e)};ur.prototype.listenerCount=Lz;function Lz(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ur.prototype.eventNames=function(){return this._eventsCount>0?D1(this._events):[]};function jz(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function hue(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function pue(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function yue(t,e){return new Promise(function(n,r){function a(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",a),n([].slice.call(arguments))}Mz(t,e,s,{once:!0}),e!=="error"&&mue(t,a,{once:!0})})}function mue(t,e,n){typeof t.on=="function"&&Mz(t,"error",e,n)}function Mz(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(s){r.once&&t.removeEventListener(e,a),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var R_=MI.exports;(function(t){const e=Ma,{kResistStopPropagation:n,SymbolDispose:r}=jr,a=globalThis.AbortSignal||fl().AbortSignal,s=globalThis.AbortController||fl().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,u=globalThis.Blob||e.Blob,l=typeof u<"u"?function(p){return p instanceof u}:function(p){return!1},c=(h,p)=>{if(h!==void 0&&(h===null||typeof h!="object"||!("aborted"in h)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",h)},d=(h,p)=>{if(typeof h!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",h)};class f extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let m="";for(let y=0;y<p.length;y++)m+=`    ${p[y].stack}
`;super(m),this.name="AggregateError",this.errors=p}}t.exports={AggregateError:f,kEmptyObject:Object.freeze({}),once(h){let p=!1;return function(...m){p||(p=!0,h.apply(this,m))}},createDeferredPromise:function(){let h,p;return{promise:new Promise((y,g)=>{h=y,p=g}),resolve:h,reject:p}},promisify(h){return new Promise((p,m)=>{h((y,...g)=>y?m(y):p(...g))})},debuglog(){return function(){}},format(h,...p){return h.replace(/%([sdifj])/g,function(...[m,y]){const g=p.shift();return y==="f"?g.toFixed(6):y==="j"?JSON.stringify(g):y==="s"&&typeof g=="object"?`${g.constructor!==Object?g.constructor.name:""} {}`.trim():g.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof o},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:l,deprecate(h,p){return h},addAbortListener:R_.addAbortListener||function(p,m){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);c(p,"signal"),d(m,"listener");let y;return p.aborted?queueMicrotask(()=>m()):(p.addEventListener("abort",m,{__proto__:null,once:!0,[n]:!0}),y=()=>{p.removeEventListener("abort",m)}),{__proto__:null,[r](){var g;(g=y)===null||g===void 0||g()}}},AbortSignalAny:a.any||function(p){if(p.length===1)return p[0];const m=new s,y=()=>m.abort();return p.forEach(g=>{c(g,"signals"),g.addEventListener("abort",y,{once:!0})}),m.signal.addEventListener("abort",()=>{p.forEach(g=>g.removeEventListener("abort",y))},{once:!0}),m.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(xz);var ti=xz.exports,FI={};const{format:gue,inspect:pv,AggregateError:_ue}=ti,bue=globalThis.AggregateError||_ue,vue=Symbol("kIsNodeError"),wue=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Sue=/^([A-Z][a-z0-9]*)+$/,Tue="__node_internal_",rw={};function qu(t,e){if(!t)throw new rw.ERR_INTERNAL_ASSERTION(e)}function e4(t){let e="",n=t.length;const r=t[0]==="-"?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function Eue(t,e,n){if(typeof e=="function")return qu(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);const r=(e.match(/%[dfijoOs]/g)||[]).length;return qu(r===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${r}).`),n.length===0?e:gue(e,...n)}function bn(t,e,n){n||(n=Error);class r extends n{constructor(...s){super(Eue(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=t,r.prototype[vue]=!0,rw[t]=r}function t4(t){const e=Tue+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Aue(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const n=new bue([e,t],e.message);return n.code=e.code,n}return t||e}let Oue=class extends Error{constructor(e="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new rw.ERR_INVALID_ARG_TYPE("options","Object",n);super(e,n),this.code="ABORT_ERR",this.name="AbortError"}};bn("ERR_ASSERTION","%s",Error);bn("ERR_INVALID_ARG_TYPE",(t,e,n)=>{qu(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";const a=[],s=[],o=[];for(const l of e)qu(typeof l=="string","All expected entries have to be of type string"),wue.includes(l)?a.push(l.toLowerCase()):Sue.test(l)?s.push(l):(qu(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){const l=a.indexOf("object");l!==-1&&(a.splice(a,l,1),s.push("Object"))}if(a.length>0){switch(a.length){case 1:r+=`of type ${a[0]}`;break;case 2:r+=`one of type ${a[0]} or ${a[1]}`;break;default:{const l=a.pop();r+=`one of type ${a.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(r+=" or ")}if(s.length>0){switch(s.length){case 1:r+=`an instance of ${s[0]}`;break;case 2:r+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const l=s.pop();r+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(r+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(r+="an "),r+=`${o[0]}`;break;case 2:r+=`one of ${o[0]} or ${o[1]}`;break;default:{const l=o.pop();r+=`one of ${o.join(", ")}, or ${l}`}}if(n==null)r+=`. Received ${n}`;else if(typeof n=="function"&&n.name)r+=`. Received function ${n.name}`;else if(typeof n=="object"){var u;if((u=n.constructor)!==null&&u!==void 0&&u.name)r+=`. Received an instance of ${n.constructor.name}`;else{const l=pv(n,{depth:-1});r+=`. Received ${l}`}}else{let l=pv(n,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),r+=`. Received type ${typeof n} (${l})`}return r},TypeError);bn("ERR_INVALID_ARG_VALUE",(t,e,n="is invalid")=>{let r=pv(e);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`},TypeError);bn("ERR_INVALID_RETURN_VALUE",(t,e,n)=>{var r;const a=n!=null&&(r=n.constructor)!==null&&r!==void 0&&r.name?`instance of ${n.constructor.name}`:`type ${typeof n}`;return`Expected ${t} to be returned from the "${e}" function but got ${a}.`},TypeError);bn("ERR_MISSING_ARGS",(...t)=>{qu(t.length>0,"At least one arg needs to be specified");let e;const n=t.length;switch(t=(Array.isArray(t)?t:[t]).map(r=>`"${r}"`).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}break}return`${e} must be specified`},TypeError);bn("ERR_OUT_OF_RANGE",(t,e,n)=>{qu(e,'Missing "range" argument');let r;return Number.isInteger(n)&&Math.abs(n)>2**32?r=e4(String(n)):typeof n=="bigint"?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=e4(r)),r+="n"):r=pv(n),`The value of "${t}" is out of range. It must be ${e}. Received ${r}`},RangeError);bn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);bn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);bn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);bn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);bn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);bn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);bn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);bn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);bn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);bn("ERR_STREAM_WRITE_AFTER_END","write after end",Error);bn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var ci={AbortError:Oue,aggregateTwoErrors:t4(Aue),hideStackFrames:t4,codes:rw};const{ArrayIsArray:qI,ArrayPrototypeIncludes:Fz,ArrayPrototypeJoin:qz,ArrayPrototypeMap:Rue,NumberIsInteger:BI,NumberIsNaN:xue,NumberMAX_SAFE_INTEGER:Iue,NumberMIN_SAFE_INTEGER:Pue,NumberParseInt:Nue,ObjectPrototypeHasOwnProperty:Due,RegExpPrototypeExec:Bz,String:Cue,StringPrototypeToUpperCase:Lue,StringPrototypeTrim:jue}=jr,{hideStackFrames:Qi,codes:{ERR_SOCKET_BAD_PORT:Mue,ERR_INVALID_ARG_TYPE:Dn,ERR_INVALID_ARG_VALUE:Dl,ERR_OUT_OF_RANGE:Uu,ERR_UNKNOWN_SIGNAL:r4}}=ci,{normalizeEncoding:Fue}=ti,{isAsyncFunction:que,isArrayBufferView:Bue}=ti.types,n4={};function $ue(t){return t===(t|0)}function Uue(t){return t===t>>>0}const kue=/^[0-7]+$/,Vue="must be a 32-bit unsigned integer or an octal string";function Hue(t,e,n){if(typeof t>"u"&&(t=n),typeof t=="string"){if(Bz(kue,t)===null)throw new Dl(e,t,Vue);t=Nue(t,8)}return $z(t,e),t}const Que=Qi((t,e,n=Pue,r=Iue)=>{if(typeof t!="number")throw new Dn(e,"number",t);if(!BI(t))throw new Uu(e,"an integer",t);if(t<n||t>r)throw new Uu(e,`>= ${n} && <= ${r}`,t)}),zue=Qi((t,e,n=-2147483648,r=2147483647)=>{if(typeof t!="number")throw new Dn(e,"number",t);if(!BI(t))throw new Uu(e,"an integer",t);if(t<n||t>r)throw new Uu(e,`>= ${n} && <= ${r}`,t)}),$z=Qi((t,e,n=!1)=>{if(typeof t!="number")throw new Dn(e,"number",t);if(!BI(t))throw new Uu(e,"an integer",t);const r=n?1:0,a=4294967295;if(t<r||t>a)throw new Uu(e,`>= ${r} && <= ${a}`,t)});function $I(t,e){if(typeof t!="string")throw new Dn(e,"string",t)}function Gue(t,e,n=void 0,r){if(typeof t!="number")throw new Dn(e,"number",t);if(n!=null&&t<n||r!=null&&t>r||(n!=null||r!=null)&&xue(t))throw new Uu(e,`${n!=null?`>= ${n}`:""}${n!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,t)}const Wue=Qi((t,e,n)=>{if(!Fz(n,t)){const a="must be one of: "+qz(Rue(n,s=>typeof s=="string"?`'${s}'`:Cue(s)),", ");throw new Dl(e,t,a)}});function Uz(t,e){if(typeof t!="boolean")throw new Dn(e,"boolean",t)}function o2(t,e,n){return t==null||!Due(t,e)?n:t[e]}const Kue=Qi((t,e,n=null)=>{const r=o2(n,"allowArray",!1),a=o2(n,"allowFunction",!1);if(!o2(n,"nullable",!1)&&t===null||!r&&qI(t)||typeof t!="object"&&(!a||typeof t!="function"))throw new Dn(e,"Object",t)}),Jue=Qi((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Dn(e,"a dictionary",t)}),nw=Qi((t,e,n=0)=>{if(!qI(t))throw new Dn(e,"Array",t);if(t.length<n){const r=`must be longer than ${n}`;throw new Dl(e,t,r)}});function Xue(t,e){nw(t,e);for(let n=0;n<t.length;n++)$I(t[n],`${e}[${n}]`)}function Yue(t,e){nw(t,e);for(let n=0;n<t.length;n++)Uz(t[n],`${e}[${n}]`)}function Zue(t,e){nw(t,e);for(let n=0;n<t.length;n++){const r=t[n],a=`${e}[${n}]`;if(r==null)throw new Dn(a,"AbortSignal",r);kz(r,a)}}function ece(t,e="signal"){if($I(t,e),n4[t]===void 0)throw n4[Lue(t)]!==void 0?new r4(t+" (signals must use all capital letters)"):new r4(t)}const tce=Qi((t,e="buffer")=>{if(!Bue(t))throw new Dn(e,["Buffer","TypedArray","DataView"],t)});function rce(t,e){const n=Fue(e),r=t.length;if(n==="hex"&&r%2!==0)throw new Dl("encoding",e,`is invalid for data of length ${r}`)}function nce(t,e="Port",n=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&jue(t).length===0||+t!==+t>>>0||t>65535||t===0&&!n)throw new Mue(e,t,n);return t|0}const kz=Qi((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Dn(e,"AbortSignal",t)}),ice=Qi((t,e)=>{if(typeof t!="function")throw new Dn(e,"Function",t)}),ace=Qi((t,e)=>{if(typeof t!="function"||que(t))throw new Dn(e,"Function",t)}),sce=Qi((t,e)=>{if(t!==void 0)throw new Dn(e,"undefined",t)});function oce(t,e,n){if(!Fz(n,t))throw new Dn(e,`('${qz(n,"|")}')`,t)}const uce=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function i4(t,e){if(typeof t>"u"||!Bz(uce,t))throw new Dl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function cce(t){if(typeof t=="string")return i4(t,"hints"),t;if(qI(t)){const e=t.length;let n="";if(e===0)return n;for(let r=0;r<e;r++){const a=t[r];i4(a,"hints"),n+=a,r!==e-1&&(n+=", ")}return n}throw new Dl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var x_={isInt32:$ue,isUint32:Uue,parseFileMode:Hue,validateArray:nw,validateStringArray:Xue,validateBooleanArray:Yue,validateAbortSignalArray:Zue,validateBoolean:Uz,validateBuffer:tce,validateDictionary:Jue,validateEncoding:rce,validateFunction:ice,validateInt32:zue,validateInteger:Que,validateNumber:Gue,validateObject:Kue,validateOneOf:Wue,validatePlainFunction:ace,validatePort:nce,validateSignalName:ece,validateString:$I,validateUint32:$z,validateUndefined:sce,validateUnion:oce,validateAbortSignal:kz,validateLinkHeaderValue:cce},UI={exports:{}},Vz={exports:{}},Vr=Vz.exports={},ba,va;function BR(){throw new Error("setTimeout has not been defined")}function $R(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ba=setTimeout:ba=BR}catch{ba=BR}try{typeof clearTimeout=="function"?va=clearTimeout:va=$R}catch{va=$R}})();function Hz(t){if(ba===setTimeout)return setTimeout(t,0);if((ba===BR||!ba)&&setTimeout)return ba=setTimeout,setTimeout(t,0);try{return ba(t,0)}catch{try{return ba.call(null,t,0)}catch{return ba.call(this,t,0)}}}function lce(t){if(va===clearTimeout)return clearTimeout(t);if((va===$R||!va)&&clearTimeout)return va=clearTimeout,clearTimeout(t);try{return va(t)}catch{try{return va.call(null,t)}catch{return va.call(this,t)}}}var ys=[],Wc=!1,Iu,C1=-1;function dce(){!Wc||!Iu||(Wc=!1,Iu.length?ys=Iu.concat(ys):C1=-1,ys.length&&Qz())}function Qz(){if(!Wc){var t=Hz(dce);Wc=!0;for(var e=ys.length;e;){for(Iu=ys,ys=[];++C1<e;)Iu&&Iu[C1].run();C1=-1,e=ys.length}Iu=null,Wc=!1,lce(t)}}Vr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ys.push(new zz(t,e)),ys.length===1&&!Wc&&Hz(Qz)};function zz(t,e){this.fun=t,this.array=e}zz.prototype.run=function(){this.fun.apply(null,this.array)};Vr.title="browser";Vr.browser=!0;Vr.env={};Vr.argv=[];Vr.version="";Vr.versions={};function Cs(){}Vr.on=Cs;Vr.addListener=Cs;Vr.once=Cs;Vr.off=Cs;Vr.removeListener=Cs;Vr.removeAllListeners=Cs;Vr.emit=Cs;Vr.prependListener=Cs;Vr.prependOnceListener=Cs;Vr.listeners=function(t){return[]};Vr.binding=function(t){throw new Error("process.binding is not supported")};Vr.cwd=function(){return"/"};Vr.chdir=function(t){throw new Error("process.chdir is not supported")};Vr.umask=function(){return 0};var Ls=Vz.exports;const{SymbolAsyncIterator:a4,SymbolIterator:s4,SymbolFor:Yu}=jr,Gz=Yu("nodejs.stream.destroyed"),Wz=Yu("nodejs.stream.errored"),UR=Yu("nodejs.stream.readable"),kR=Yu("nodejs.stream.writable"),Kz=Yu("nodejs.stream.disturbed"),fce=Yu("nodejs.webstream.isClosedPromise"),hce=Yu("nodejs.webstream.controllerErrorFunction");function iw(t,e=!1){var n;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((n=t._readableState)===null||n===void 0?void 0:n.readable)!==!1)&&(!t._writableState||t._readableState))}function aw(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function pce(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Fa(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function Jz(t){return!!(t&&!Fa(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Xz(t){return!!(t&&!Fa(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function Yz(t){return!!(t&&!Fa(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function yce(t){return Jz(t)||Xz(t)||Yz(t)}function mce(t,e){return t==null?!1:e===!0?typeof t[a4]=="function":e===!1?typeof t[s4]=="function":typeof t[a4]=="function"||typeof t[s4]=="function"}function sw(t){if(!Fa(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!!(t.destroyed||t[Gz]||r!=null&&r.destroyed)}function Zz(t){if(!aw(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function gce(t,e){if(!aw(t))return null;if(t.writableFinished===!0)return!0;const n=t._writableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.finished)!="boolean"?null:!!(n.finished||e===!1&&n.ended===!0&&n.length===0)}function _ce(t){if(!iw(t))return null;if(t.readableEnded===!0)return!0;const e=t._readableState;return!e||e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function eG(t,e){if(!iw(t))return null;const n=t._readableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.endEmitted)!="boolean"?null:!!(n.endEmitted||e===!1&&n.ended===!0&&n.length===0)}function tG(t){return t&&t[UR]!=null?t[UR]:typeof(t==null?void 0:t.readable)!="boolean"?null:sw(t)?!1:iw(t)&&t.readable&&!eG(t)}function rG(t){return t&&t[kR]!=null?t[kR]:typeof(t==null?void 0:t.writable)!="boolean"?null:sw(t)?!1:aw(t)&&t.writable&&!Zz(t)}function bce(t,e){return Fa(t)?sw(t)?!0:!((e==null?void 0:e.readable)!==!1&&tG(t)||(e==null?void 0:e.writable)!==!1&&rG(t)):null}function vce(t){var e,n;return Fa(t)?t.writableErrored?t.writableErrored:(e=(n=t._writableState)===null||n===void 0?void 0:n.errored)!==null&&e!==void 0?e:null:null}function wce(t){var e,n;return Fa(t)?t.readableErrored?t.readableErrored:(e=(n=t._readableState)===null||n===void 0?void 0:n.errored)!==null&&e!==void 0?e:null:null}function Sce(t){if(!Fa(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,n=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(n==null?void 0:n.closed)=="boolean"?(e==null?void 0:e.closed)||(n==null?void 0:n.closed):typeof t._closed=="boolean"&&nG(t)?t._closed:null}function nG(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function iG(t){return typeof t._sent100=="boolean"&&nG(t)}function Tce(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Ece(t){if(!Fa(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!r&&iG(t)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}function Ace(t){var e;return!!(t&&((e=t[Kz])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Oce(t){var e,n,r,a,s,o,u,l,c,d;return!!(t&&((e=(n=(r=(a=(s=(o=t[Wz])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&a!==void 0?a:(u=t._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((d=t._writableState)===null||d===void 0)&&d.errored))}var js={isDestroyed:sw,kIsDestroyed:Gz,isDisturbed:Ace,kIsDisturbed:Kz,isErrored:Oce,kIsErrored:Wz,isReadable:tG,kIsReadable:UR,kIsClosedPromise:fce,kControllerErrorFunction:hce,kIsWritable:kR,isClosed:Sce,isDuplexNodeStream:pce,isFinished:bce,isIterable:mce,isReadableNodeStream:iw,isReadableStream:Jz,isReadableEnded:_ce,isReadableFinished:eG,isReadableErrored:wce,isNodeStream:Fa,isWebStream:yce,isWritable:rG,isWritableNodeStream:aw,isWritableStream:Xz,isWritableEnded:Zz,isWritableFinished:gce,isWritableErrored:vce,isServerRequest:Tce,isServerResponse:iG,willEmitClose:Ece,isTransformStream:Yz};const ro=Ls,{AbortError:aG,codes:Rce}=ci,{ERR_INVALID_ARG_TYPE:xce,ERR_STREAM_PREMATURE_CLOSE:o4}=Rce,{kEmptyObject:VR,once:HR}=ti,{validateAbortSignal:Ice,validateFunction:Pce,validateObject:Nce,validateBoolean:Dce}=x_,{Promise:Cce,PromisePrototypeThen:Lce,SymbolDispose:sG}=jr,{isClosed:jce,isReadable:u4,isReadableNodeStream:u2,isReadableStream:Mce,isReadableFinished:c4,isReadableErrored:l4,isWritable:d4,isWritableNodeStream:f4,isWritableStream:Fce,isWritableFinished:h4,isWritableErrored:p4,isNodeStream:qce,willEmitClose:Bce,kIsClosedPromise:$ce}=js;let Kc;function Uce(t){return t.setHeader&&typeof t.abort=="function"}const QR=()=>{};function oG(t,e,n){var r,a;if(arguments.length===2?(n=e,e=VR):e==null?e=VR:Nce(e,"options"),Pce(n,"callback"),Ice(e.signal,"options.signal"),n=HR(n),Mce(t)||Fce(t))return kce(t,e,n);if(!qce(t))throw new xce("stream",["ReadableStream","WritableStream","Stream"],t);const s=(r=e.readable)!==null&&r!==void 0?r:u2(t),o=(a=e.writable)!==null&&a!==void 0?a:f4(t),u=t._writableState,l=t._readableState,c=()=>{t.writable||h()};let d=Bce(t)&&u2(t)===s&&f4(t)===o,f=h4(t,!1);const h=()=>{f=!0,t.destroyed&&(d=!1),!(d&&(!t.readable||s))&&(!s||p)&&n.call(t)};let p=c4(t,!1);const m=()=>{p=!0,t.destroyed&&(d=!1),!(d&&(!t.writable||o))&&(!o||f)&&n.call(t)},y=S=>{n.call(t,S)};let g=jce(t);const _=()=>{g=!0;const S=p4(t)||l4(t);if(S&&typeof S!="boolean")return n.call(t,S);if(s&&!p&&u2(t,!0)&&!c4(t,!1))return n.call(t,new o4);if(o&&!f&&!h4(t,!1))return n.call(t,new o4);n.call(t)},v=()=>{g=!0;const S=p4(t)||l4(t);if(S&&typeof S!="boolean")return n.call(t,S);n.call(t)},b=()=>{t.req.on("finish",h)};Uce(t)?(t.on("complete",h),d||t.on("abort",_),t.req?b():t.on("request",b)):o&&!u&&(t.on("end",c),t.on("close",c)),!d&&typeof t.aborted=="boolean"&&t.on("aborted",_),t.on("end",m),t.on("finish",h),e.error!==!1&&t.on("error",y),t.on("close",_),g?ro.nextTick(_):u!=null&&u.errorEmitted||l!=null&&l.errorEmitted?d||ro.nextTick(v):(!s&&(!d||u4(t))&&(f||d4(t)===!1)||!o&&(!d||d4(t))&&(p||u4(t)===!1)||l&&t.req&&t.aborted)&&ro.nextTick(v);const w=()=>{n=QR,t.removeListener("aborted",_),t.removeListener("complete",h),t.removeListener("abort",_),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",m),t.removeListener("error",y),t.removeListener("close",_)};if(e.signal&&!g){const S=()=>{const A=n;w(),A.call(t,new aG(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)ro.nextTick(S);else{Kc=Kc||ti.addAbortListener;const A=Kc(e.signal,S),x=n;n=HR((...M)=>{A[sG](),x.apply(t,M)})}}return w}function kce(t,e,n){let r=!1,a=QR;if(e.signal)if(a=()=>{r=!0,n.call(t,new aG(void 0,{cause:e.signal.reason}))},e.signal.aborted)ro.nextTick(a);else{Kc=Kc||ti.addAbortListener;const o=Kc(e.signal,a),u=n;n=HR((...l)=>{o[sG](),u.apply(t,l)})}const s=(...o)=>{r||ro.nextTick(()=>n.apply(t,o))};return Lce(t[$ce].promise,s,s),QR}function Vce(t,e){var n;let r=!1;return e===null&&(e=VR),(n=e)!==null&&n!==void 0&&n.cleanup&&(Dce(e.cleanup,"cleanup"),r=e.cleanup),new Cce((a,s)=>{const o=oG(t,e,u=>{r&&o(),u?s(u):a()})})}UI.exports=oG;UI.exports.finished=Vce;var Oo=UI.exports;const Na=Ls,{aggregateTwoErrors:Hce,codes:{ERR_MULTIPLE_CALLBACK:Qce},AbortError:zce}=ci,{Symbol:uG}=jr,{kIsDestroyed:Gce,isDestroyed:Wce,isFinished:Kce,isServerRequest:Jce}=js,cG=uG("kDestroy"),zR=uG("kConstruct");function lG(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function Xce(t,e){const n=this._readableState,r=this._writableState,a=r||n;return r!=null&&r.destroyed||n!=null&&n.destroyed?(typeof e=="function"&&e(),this):(lG(t,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),a.constructed?y4(this,t,e):this.once(cG,function(s){y4(this,Hce(s,t),e)}),this)}function y4(t,e,n){let r=!1;function a(s){if(r)return;r=!0;const o=t._readableState,u=t._writableState;lG(s,u,o),u&&(u.closed=!0),o&&(o.closed=!0),typeof n=="function"&&n(s),s?Na.nextTick(Yce,t,s):Na.nextTick(dG,t)}try{t._destroy(e||null,a)}catch(s){a(s)}}function Yce(t,e){GR(t,e),dG(t)}function dG(t){const e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(n!=null&&n.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function GR(t,e){const n=t._readableState,r=t._writableState;r!=null&&r.errorEmitted||n!=null&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function Zce(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function WR(t,e,n){const r=t._readableState,a=t._writableState;if(a!=null&&a.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||a!=null&&a.autoDestroy?t.destroy(e):e&&(e.stack,a&&!a.errored&&(a.errored=e),r&&!r.errored&&(r.errored=e),n?Na.nextTick(GR,t,e):GR(t,e))}function ele(t,e){if(typeof t._construct!="function")return;const n=t._readableState,r=t._writableState;n&&(n.constructed=!1),r&&(r.constructed=!1),t.once(zR,e),!(t.listenerCount(zR)>1)&&Na.nextTick(tle,t)}function tle(t){let e=!1;function n(r){if(e){WR(t,r??new Qce);return}e=!0;const a=t._readableState,s=t._writableState,o=s||a;a&&(a.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(cG,r):r?WR(t,r,!0):Na.nextTick(rle,t)}try{t._construct(r=>{Na.nextTick(n,r)})}catch(r){Na.nextTick(n,r)}}function rle(t){t.emit(zR)}function m4(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function fG(t){t.emit("close")}function nle(t,e){t.emit("error",e),Na.nextTick(fG,t)}function ile(t,e){!t||Wce(t)||(!e&&!Kce(t)&&(e=new zce),Jce(t)?(t.socket=null,t.destroy(e)):m4(t)?t.abort():m4(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Na.nextTick(nle,t,e):Na.nextTick(fG,t),t.destroyed||(t[Gce]=!0))}var Cl={construct:ele,destroyer:ile,destroy:Xce,undestroy:Zce,errorOrDestroy:WR};const{ArrayIsArray:ale,ObjectSetPrototypeOf:hG}=jr,{EventEmitter:ow}=R_;function uw(t){ow.call(this,t)}hG(uw.prototype,ow.prototype);hG(uw,ow);uw.prototype.pipe=function(t,e){const n=this;function r(d){t.writable&&t.write(d)===!1&&n.pause&&n.pause()}n.on("data",r);function a(){n.readable&&n.resume&&n.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",o),n.on("close",u));let s=!1;function o(){s||(s=!0,t.end())}function u(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(d){c(),ow.listenerCount(this,"error")===0&&this.emit("error",d)}KR(n,"error",l),KR(t,"error",l);function c(){n.removeListener("data",r),t.removeListener("drain",a),n.removeListener("end",o),n.removeListener("close",u),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t};function KR(t,e,n){if(typeof t.prependListener=="function")return t.prependListener(e,n);!t._events||!t._events[e]?t.on(e,n):ale(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]}var kI={Stream:uw,prependListener:KR},pG={exports:{}};(function(t){const{SymbolDispose:e}=jr,{AbortError:n,codes:r}=ci,{isNodeStream:a,isWebStream:s,kControllerErrorFunction:o}=js,u=Oo,{ERR_INVALID_ARG_TYPE:l}=r;let c;const d=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new l(h,"AbortSignal",f)};t.exports.addAbortSignal=function(h,p){if(d(h,"signal"),!a(p)&&!s(p))throw new l("stream",["ReadableStream","WritableStream","Stream"],p);return t.exports.addAbortSignalNoValidate(h,p)},t.exports.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;const p=a(h)?()=>{h.destroy(new n(void 0,{cause:f.reason}))}:()=>{h[o](new n(void 0,{cause:f.reason}))};if(f.aborted)p();else{c=c||ti.addAbortListener;const m=c(f,p);u(h,m[e])}return h}})(pG);var cw=pG.exports;const{StringPrototypeSlice:g4,SymbolIterator:sle,TypedArrayPrototypeSet:$b,Uint8Array:ole}=jr,{Buffer:c2}=Ma,{inspect:ule}=ti;var cle=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const n={data:e,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}unshift(e){const n={data:e,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let n=this.head,r=""+n.data;for(;(n=n.next)!==null;)r+=e+n.data;return r}concat(e){if(this.length===0)return c2.alloc(0);const n=c2.allocUnsafe(e>>>0);let r=this.head,a=0;for(;r;)$b(n,r.data,a),a+=r.data.length,r=r.next;return n}consume(e,n){const r=this.head.data;if(e<r.length){const a=r.slice(0,e);return this.head.data=r.slice(e),a}return e===r.length?this.shift():n?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[sle](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let n="",r=this.head,a=0;do{const s=r.data;if(e>s.length)n+=s,e-=s.length;else{e===s.length?(n+=s,++a,r.next?this.head=r.next:this.head=this.tail=null):(n+=g4(s,0,e),this.head=r,r.data=g4(s,e));break}++a}while((r=r.next)!==null);return this.length-=a,n}_getBuffer(e){const n=c2.allocUnsafe(e),r=e;let a=this.head,s=0;do{const o=a.data;if(e>o.length)$b(n,o,r-e),e-=o.length;else{e===o.length?($b(n,o,r-e),++s,a.next?this.head=a.next:this.head=this.tail=null):($b(n,new ole(o.buffer,o.byteOffset,e),r-e),this.head=a,a.data=o.slice(e));break}++s}while((a=a.next)!==null);return this.length-=s,n}[Symbol.for("nodejs.util.inspect.custom")](e,n){return ule(this,{...n,depth:0,customInspect:!1})}};const{MathFloor:lle,NumberIsInteger:dle}=jr,{validateInteger:fle}=x_,{ERR_INVALID_ARG_VALUE:hle}=ci.codes;let yG=16*1024,mG=16;function ple(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function gG(t){return t?mG:yG}function yle(t,e){fle(e,"value",0),t?mG=e:yG=e}function mle(t,e,n,r){const a=ple(e,r,n);if(a!=null){if(!dle(a)||a<0){const s=r?`options.${n}`:"options.highWaterMark";throw new hle(s,a)}return lle(a)}return gG(t.objectMode)}var lw={getHighWaterMark:mle,getDefaultHighWaterMark:gG,setDefaultHighWaterMark:yle},_G={},JR={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Ma,r=n.Buffer;function a(o,u){for(var l in o)u[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=s);function s(o,u,l){return r(o,u,l)}s.prototype=Object.create(r.prototype),a(r,s),s.from=function(o,u,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,u,l)},s.alloc=function(o,u,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return u!==void 0?typeof l=="string"?c.fill(u,l):c.fill(u):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(JR,JR.exports);var gle=JR.exports,VI=gle.Buffer,_4=VI.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _le(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function ble(t){var e=_le(t);if(typeof e!="string"&&(VI.isEncoding===_4||!_4(t)))throw new Error("Unknown encoding: "+t);return e||t}_G.StringDecoder=I_;function I_(t){this.encoding=ble(t);var e;switch(this.encoding){case"utf16le":this.text=Ale,this.end=Ole,e=4;break;case"utf8":this.fillLast=Sle,e=4;break;case"base64":this.text=Rle,this.end=xle,e=3;break;default:this.write=Ile,this.end=Ple;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=VI.allocUnsafe(e)}I_.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};I_.prototype.end=Ele;I_.prototype.text=Tle;I_.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function l2(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function vle(t,e,n){var r=e.length-1;if(r<n)return 0;var a=l2(e[r]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--r<n||a===-2?0:(a=l2(e[r]),a>=0?(a>0&&(t.lastNeed=a-2),a):--r<n||a===-2?0:(a=l2(e[r]),a>=0?(a>0&&(a===2?a=0:t.lastNeed=a-3),a):0))}function wle(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function Sle(t){var e=this.lastTotal-this.lastNeed,n=wle(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Tle(t,e){var n=vle(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function Ele(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function Ale(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Ole(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function Rle(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function xle(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Ile(t){return t.toString(this.encoding)}function Ple(t){return t&&t.length?this.write(t):""}const b4=Ls,{PromisePrototypeThen:Nle,SymbolAsyncIterator:v4,SymbolIterator:w4}=jr,{Buffer:Dle}=Ma,{ERR_INVALID_ARG_TYPE:Cle,ERR_STREAM_NULL_VALUES:Lle}=ci.codes;function jle(t,e,n){let r;if(typeof e=="string"||e instanceof Dle)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});let a;if(e&&e[v4])a=!0,r=e[v4]();else if(e&&e[w4])a=!1,r=e[w4]();else throw new Cle("iterable",["Iterable"],e);const s=new t({objectMode:!0,highWaterMark:1,...n});let o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,d){Nle(u(c),()=>b4.nextTick(d,c),f=>b4.nextTick(d,f||c))};async function u(c){const d=c!=null,f=typeof r.throw=="function";if(d&&f){const{value:h,done:p}=await r.throw(c);if(await h,p)return}if(typeof r.return=="function"){const{value:h}=await r.return();await h}}async function l(){for(;;){try{const{value:c,done:d}=a?await r.next():r.next();if(d)s.push(null);else{const f=c&&typeof c.then=="function"?await c:c;if(f===null)throw o=!1,new Lle;if(s.push(f))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}var bG=jle,d2,S4;function dw(){if(S4)return d2;S4=1;const t=Ls,{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:a,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:u,Promise:l,SafeSet:c,SymbolAsyncDispose:d,SymbolAsyncIterator:f,Symbol:h}=jr;d2=ce,ce.ReadableState=he;const{EventEmitter:p}=R_,{Stream:m,prependListener:y}=kI,{Buffer:g}=Ma,{addAbortSignal:_}=cw,v=Oo;let b=ti.debuglog("stream",ne=>{b=ne});const w=cle,S=Cl,{getHighWaterMark:A,getDefaultHighWaterMark:x}=lw,{aggregateTwoErrors:M,codes:{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_OUT_OF_RANGE:F,ERR_STREAM_PUSH_AFTER_EOF:D,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:k}=ci,{validateObject:U}=x_,H=h("kPaused"),{StringDecoder:X}=_G,ee=bG;u(ce.prototype,m.prototype),u(ce,m);const fe=()=>{},{errorOrDestroy:Te}=S,De=1,Ve=2,le=4,ue=8,Ie=16,Ne=32,we=64,Ae=128,Se=256,z=512,L=1024,B=2048,T=4096,O=8192,$=16384,G=32768,Q=65536,Y=1<<17,ie=1<<18;function te(ne){return{enumerable:!1,get(){return(this.state&ne)!==0},set(E){E?this.state|=ne:this.state&=~ne}}}s(he.prototype,{objectMode:te(De),ended:te(Ve),endEmitted:te(le),reading:te(ue),constructed:te(Ie),sync:te(Ne),needReadable:te(we),emittedReadable:te(Ae),readableListening:te(Se),resumeScheduled:te(z),errorEmitted:te(L),emitClose:te(B),autoDestroy:te(T),destroyed:te(O),closed:te($),closeEmitted:te(G),multiAwaitDrain:te(Q),readingMore:te(Y),dataEmitted:te(ie)});function he(ne,E,R){typeof R!="boolean"&&(R=E instanceof Rs()),this.state=B|T|Ie|Ne,ne&&ne.objectMode&&(this.state|=De),R&&ne&&ne.readableObjectMode&&(this.state|=De),this.highWaterMark=ne?A(this,ne,"readableHighWaterMark",R):x(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this[H]=null,ne&&ne.emitClose===!1&&(this.state&=~B),ne&&ne.autoDestroy===!1&&(this.state&=~T),this.errored=null,this.defaultEncoding=ne&&ne.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ne&&ne.encoding&&(this.decoder=new X(ne.encoding),this.encoding=ne.encoding)}function ce(ne){if(!(this instanceof ce))return new ce(ne);const E=this instanceof Rs();this._readableState=new he(ne,this,E),ne&&(typeof ne.read=="function"&&(this._read=ne.read),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.construct=="function"&&(this._construct=ne.construct),ne.signal&&!E&&_(ne.signal,this)),m.call(this,ne),S.construct(this,()=>{this._readableState.needReadable&&C(this,this._readableState)})}ce.prototype.destroy=S.destroy,ce.prototype._undestroy=S.undestroy,ce.prototype._destroy=function(ne,E){E(ne)},ce.prototype[p.captureRejectionSymbol]=function(ne){this.destroy(ne)},ce.prototype[d]=function(){let ne;return this.destroyed||(ne=this.readableEnded?null:new k,this.destroy(ne)),new l((E,R)=>v(this,j=>j&&j!==ne?R(j):E(null)))},ce.prototype.push=function(ne,E){return ve(this,ne,E,!1)},ce.prototype.unshift=function(ne,E){return ve(this,ne,E,!0)};function ve(ne,E,R,j){b("readableAddChunk",E);const J=ne._readableState;let me;if(J.state&De||(typeof E=="string"?(R=R||J.defaultEncoding,J.encoding!==R&&(j&&J.encoding?E=g.from(E,R).toString(J.encoding):(E=g.from(E,R),R=""))):E instanceof g?R="":m._isUint8Array(E)?(E=m._uint8ArrayToBuffer(E),R=""):E!=null&&(me=new I("chunk",["string","Buffer","Uint8Array"],E))),me)Te(ne,me);else if(E===null)J.state&=~ue,Qe(ne,J);else if(J.state&De||E&&E.length>0)if(j)if(J.state&le)Te(ne,new V);else{if(J.destroyed||J.errored)return!1;Ce(ne,J,E,!0)}else if(J.ended)Te(ne,new D);else{if(J.destroyed||J.errored)return!1;J.state&=~ue,J.decoder&&!R?(E=J.decoder.write(E),J.objectMode||E.length!==0?Ce(ne,J,E,!1):C(ne,J)):Ce(ne,J,E,!1)}else j||(J.state&=~ue,C(ne,J));return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function Ce(ne,E,R,j){E.flowing&&E.length===0&&!E.sync&&ne.listenerCount("data")>0?(E.state&Q?E.awaitDrainWriters.clear():E.awaitDrainWriters=null,E.dataEmitted=!0,ne.emit("data",R)):(E.length+=E.objectMode?1:R.length,j?E.buffer.unshift(R):E.buffer.push(R),E.state&we&&ke(ne)),C(ne,E)}ce.prototype.isPaused=function(){const ne=this._readableState;return ne[H]===!0||ne.flowing===!1},ce.prototype.setEncoding=function(ne){const E=new X(ne);this._readableState.decoder=E,this._readableState.encoding=this._readableState.decoder.encoding;const R=this._readableState.buffer;let j="";for(const J of R)j+=E.write(J);return R.clear(),j!==""&&R.push(j),this._readableState.length=j.length,this};const Ee=1073741824;function Ue(ne){if(ne>Ee)throw new F("size","<= 1GiB",ne);return ne--,ne|=ne>>>1,ne|=ne>>>2,ne|=ne>>>4,ne|=ne>>>8,ne|=ne>>>16,ne++,ne}function Fe(ne,E){return ne<=0||E.length===0&&E.ended?0:E.state&De?1:r(ne)?E.flowing&&E.length?E.buffer.first().length:E.length:ne<=E.length?ne:E.ended?E.length:0}ce.prototype.read=function(ne){b("read",ne),ne===void 0?ne=NaN:n(ne)||(ne=a(ne,10));const E=this._readableState,R=ne;if(ne>E.highWaterMark&&(E.highWaterMark=Ue(ne)),ne!==0&&(E.state&=~Ae),ne===0&&E.needReadable&&((E.highWaterMark!==0?E.length>=E.highWaterMark:E.length>0)||E.ended))return b("read: emitReadable",E.length,E.ended),E.length===0&&E.ended?Ye(this):ke(this),null;if(ne=Fe(ne,E),ne===0&&E.ended)return E.length===0&&Ye(this),null;let j=(E.state&we)!==0;if(b("need readable",j),(E.length===0||E.length-ne<E.highWaterMark)&&(j=!0,b("length less than watermark",j)),E.ended||E.reading||E.destroyed||E.errored||!E.constructed)j=!1,b("reading, ended or constructing",j);else if(j){b("do read"),E.state|=ue|Ne,E.length===0&&(E.state|=we);try{this._read(E.highWaterMark)}catch(me){Te(this,me)}E.state&=~Ne,E.reading||(ne=Fe(R,E))}let J;return ne>0?J=Be(ne,E):J=null,J===null?(E.needReadable=E.length<=E.highWaterMark,ne=0):(E.length-=ne,E.multiAwaitDrain?E.awaitDrainWriters.clear():E.awaitDrainWriters=null),E.length===0&&(E.ended||(E.needReadable=!0),R!==ne&&E.ended&&Ye(this)),J!==null&&!E.errorEmitted&&!E.closeEmitted&&(E.dataEmitted=!0,this.emit("data",J)),J};function Qe(ne,E){if(b("onEofChunk"),!E.ended){if(E.decoder){const R=E.decoder.end();R&&R.length&&(E.buffer.push(R),E.length+=E.objectMode?1:R.length)}E.ended=!0,E.sync?ke(ne):(E.needReadable=!1,E.emittedReadable=!0,K(ne))}}function ke(ne){const E=ne._readableState;b("emitReadable",E.needReadable,E.emittedReadable),E.needReadable=!1,E.emittedReadable||(b("emitReadable",E.flowing),E.emittedReadable=!0,t.nextTick(K,ne))}function K(ne){const E=ne._readableState;b("emitReadable_",E.destroyed,E.length,E.ended),!E.destroyed&&!E.errored&&(E.length||E.ended)&&(ne.emit("readable"),E.emittedReadable=!1),E.needReadable=!E.flowing&&!E.ended&&E.length<=E.highWaterMark,Z(ne)}function C(ne,E){!E.readingMore&&E.constructed&&(E.readingMore=!0,t.nextTick(q,ne,E))}function q(ne,E){for(;!E.reading&&!E.ended&&(E.length<E.highWaterMark||E.flowing&&E.length===0);){const R=E.length;if(b("maybeReadMore read 0"),ne.read(0),R===E.length)break}E.readingMore=!1}ce.prototype._read=function(ne){throw new N("_read()")},ce.prototype.pipe=function(ne,E){const R=this,j=this._readableState;j.pipes.length===1&&(j.multiAwaitDrain||(j.multiAwaitDrain=!0,j.awaitDrainWriters=new c(j.awaitDrainWriters?[j.awaitDrainWriters]:[]))),j.pipes.push(ne),b("pipe count=%d opts=%j",j.pipes.length,E);const me=(!E||E.end!==!1)&&ne!==t.stdout&&ne!==t.stderr?xe:de;j.endEmitted?t.nextTick(me):R.once("end",me),ne.on("unpipe",ye);function ye(Pe,Le){b("onunpipe"),Pe===R&&Le&&Le.hasUnpiped===!1&&(Le.hasUnpiped=!0,et())}function xe(){b("onend"),ne.end()}let Me,Ke=!1;function et(){b("cleanup"),ne.removeListener("close",Qr),ne.removeListener("finish",Je),Me&&ne.removeListener("drain",Me),ne.removeListener("error",rt),ne.removeListener("unpipe",ye),R.removeListener("end",xe),R.removeListener("end",de),R.removeListener("data",it),Ke=!0,Me&&j.awaitDrainWriters&&(!ne._writableState||ne._writableState.needDrain)&&Me()}function dt(){Ke||(j.pipes.length===1&&j.pipes[0]===ne?(b("false write response, pause",0),j.awaitDrainWriters=ne,j.multiAwaitDrain=!1):j.pipes.length>1&&j.pipes.includes(ne)&&(b("false write response, pause",j.awaitDrainWriters.size),j.awaitDrainWriters.add(ne)),R.pause()),Me||(Me=W(R,ne),ne.on("drain",Me))}R.on("data",it);function it(Pe){b("ondata");const Le=ne.write(Pe);b("dest.write",Le),Le===!1&&dt()}function rt(Pe){if(b("onerror",Pe),de(),ne.removeListener("error",rt),ne.listenerCount("error")===0){const Le=ne._writableState||ne._readableState;Le&&!Le.errorEmitted?Te(ne,Pe):ne.emit("error",Pe)}}y(ne,"error",rt);function Qr(){ne.removeListener("finish",Je),de()}ne.once("close",Qr);function Je(){b("onfinish"),ne.removeListener("close",Qr),de()}ne.once("finish",Je);function de(){b("unpipe"),R.unpipe(ne)}return ne.emit("pipe",R),ne.writableNeedDrain===!0?dt():j.flowing||(b("pipe resume"),R.resume()),ne};function W(ne,E){return function(){const j=ne._readableState;j.awaitDrainWriters===E?(b("pipeOnDrain",1),j.awaitDrainWriters=null):j.multiAwaitDrain&&(b("pipeOnDrain",j.awaitDrainWriters.size),j.awaitDrainWriters.delete(E)),(!j.awaitDrainWriters||j.awaitDrainWriters.size===0)&&ne.listenerCount("data")&&ne.resume()}}ce.prototype.unpipe=function(ne){const E=this._readableState,R={hasUnpiped:!1};if(E.pipes.length===0)return this;if(!ne){const J=E.pipes;E.pipes=[],this.pause();for(let me=0;me<J.length;me++)J[me].emit("unpipe",this,{hasUnpiped:!1});return this}const j=e(E.pipes,ne);return j===-1?this:(E.pipes.splice(j,1),E.pipes.length===0&&this.pause(),ne.emit("unpipe",this,R),this)},ce.prototype.on=function(ne,E){const R=m.prototype.on.call(this,ne,E),j=this._readableState;return ne==="data"?(j.readableListening=this.listenerCount("readable")>0,j.flowing!==!1&&this.resume()):ne==="readable"&&!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.flowing=!1,j.emittedReadable=!1,b("on readable",j.length,j.reading),j.length?ke(this):j.reading||t.nextTick(pe,this)),R},ce.prototype.addListener=ce.prototype.on,ce.prototype.removeListener=function(ne,E){const R=m.prototype.removeListener.call(this,ne,E);return ne==="readable"&&t.nextTick(re,this),R},ce.prototype.off=ce.prototype.removeListener,ce.prototype.removeAllListeners=function(ne){const E=m.prototype.removeAllListeners.apply(this,arguments);return(ne==="readable"||ne===void 0)&&t.nextTick(re,this),E};function re(ne){const E=ne._readableState;E.readableListening=ne.listenerCount("readable")>0,E.resumeScheduled&&E[H]===!1?E.flowing=!0:ne.listenerCount("data")>0?ne.resume():E.readableListening||(E.flowing=null)}function pe(ne){b("readable nexttick read 0"),ne.read(0)}ce.prototype.resume=function(){const ne=this._readableState;return ne.flowing||(b("resume"),ne.flowing=!ne.readableListening,ge(this,ne)),ne[H]=!1,this};function ge(ne,E){E.resumeScheduled||(E.resumeScheduled=!0,t.nextTick(qe,ne,E))}function qe(ne,E){b("resume",E.reading),E.reading||ne.read(0),E.resumeScheduled=!1,ne.emit("resume"),Z(ne),E.flowing&&!E.reading&&ne.read(0)}ce.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[H]=!0,this};function Z(ne){const E=ne._readableState;for(b("flow",E.flowing);E.flowing&&ne.read()!==null;);}ce.prototype.wrap=function(ne){let E=!1;ne.on("data",j=>{!this.push(j)&&ne.pause&&(E=!0,ne.pause())}),ne.on("end",()=>{this.push(null)}),ne.on("error",j=>{Te(this,j)}),ne.on("close",()=>{this.destroy()}),ne.on("destroy",()=>{this.destroy()}),this._read=()=>{E&&ne.resume&&(E=!1,ne.resume())};const R=o(ne);for(let j=1;j<R.length;j++){const J=R[j];this[J]===void 0&&typeof ne[J]=="function"&&(this[J]=ne[J].bind(ne))}return this},ce.prototype[f]=function(){return Oe(this)},ce.prototype.iterator=function(ne){return ne!==void 0&&U(ne,"options"),Oe(this,ne)};function Oe(ne,E){typeof ne.read!="function"&&(ne=ce.wrap(ne,{objectMode:!0}));const R=je(ne,E);return R.stream=ne,R}async function*je(ne,E){let R=fe;function j(ye){this===ne?(R(),R=fe):R=ye}ne.on("readable",j);let J;const me=v(ne,{writable:!1},ye=>{J=ye?M(J,ye):null,R(),R=fe});try{for(;;){const ye=ne.destroyed?null:ne.read();if(ye!==null)yield ye;else{if(J)throw J;if(J===null)return;await new l(j)}}}catch(ye){throw J=M(J,ye),J}finally{(J||(E==null?void 0:E.destroyOnReturn)!==!1)&&(J===void 0||ne._readableState.autoDestroy)?S.destroyer(ne,null):(ne.off("readable",j),me())}}s(ce.prototype,{readable:{__proto__:null,get(){const ne=this._readableState;return!!ne&&ne.readable!==!1&&!ne.destroyed&&!ne.errorEmitted&&!ne.endEmitted},set(ne){this._readableState&&(this._readableState.readable=!!ne)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ne){this._readableState&&(this._readableState.flowing=ne)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ne){this._readableState&&(this._readableState.destroyed=ne)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(he.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[H]!==!1},set(ne){this[H]=!!ne}}}),ce._fromList=Be;function Be(ne,E){if(E.length===0)return null;let R;return E.objectMode?R=E.buffer.shift():!ne||ne>=E.length?(E.decoder?R=E.buffer.join(""):E.buffer.length===1?R=E.buffer.first():R=E.buffer.concat(E.length),E.buffer.clear()):R=E.buffer.consume(ne,E.decoder),R}function Ye(ne){const E=ne._readableState;b("endReadable",E.endEmitted),E.endEmitted||(E.ended=!0,t.nextTick(ct,E,ne))}function ct(ne,E){if(b("endReadableNT",ne.endEmitted,ne.length),!ne.errored&&!ne.closeEmitted&&!ne.endEmitted&&ne.length===0){if(ne.endEmitted=!0,E.emit("end"),E.writable&&E.allowHalfOpen===!1)t.nextTick(ft,E);else if(ne.autoDestroy){const R=E._writableState;(!R||R.autoDestroy&&(R.finished||R.writable===!1))&&E.destroy()}}}function ft(ne){ne.writable&&!ne.writableEnded&&!ne.destroyed&&ne.end()}ce.from=function(ne,E){return ee(ce,ne,E)};let st;function yt(){return st===void 0&&(st={}),st}return ce.fromWeb=function(ne,E){return yt().newStreamReadableFromReadableStream(ne,E)},ce.toWeb=function(ne,E){return yt().newReadableStreamFromStreamReadable(ne,E)},ce.wrap=function(ne,E){var R,j;return new ce({objectMode:(R=(j=ne.readableObjectMode)!==null&&j!==void 0?j:ne.objectMode)!==null&&R!==void 0?R:!0,...E,destroy(J,me){S.destroyer(ne,J),me(J)}}).wrap(ne)},d2}var f2,T4;function HI(){if(T4)return f2;T4=1;const t=Ls,{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:a,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:u,Symbol:l,SymbolHasInstance:c}=jr;f2=U,U.WritableState=V;const{EventEmitter:d}=R_,f=kI.Stream,{Buffer:h}=Ma,p=Cl,{addAbortSignal:m}=cw,{getHighWaterMark:y,getDefaultHighWaterMark:g}=lw,{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:b,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:I}=ci.codes,{errorOrDestroy:N}=p;o(U.prototype,f.prototype),o(U,f);function F(){}const D=l("kOnFinished");function V(T,O,$){typeof $!="boolean"&&($=O instanceof Rs()),this.objectMode=!!(T&&T.objectMode),$&&(this.objectMode=this.objectMode||!!(T&&T.writableObjectMode)),this.highWaterMark=T?y(this,T,"writableHighWaterMark",$):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const G=!!(T&&T.decodeStrings===!1);this.decodeStrings=!G,this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Te.bind(void 0,O),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,k(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!T||T.emitClose!==!1,this.autoDestroy=!T||T.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function k(T){T.buffered=[],T.bufferedIndex=0,T.allBuffers=!0,T.allNoop=!0}V.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},a(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function U(T){const O=this instanceof Rs();if(!O&&!r(U,this))return new U(T);this._writableState=new V(T,this,O),T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final),typeof T.construct=="function"&&(this._construct=T.construct),T.signal&&m(T.signal,this)),f.call(this,T),p.construct(this,()=>{const $=this._writableState;$.writing||ue(this,$),Ae(this,$)})}a(U,c,{__proto__:null,value:function(T){return r(this,T)?!0:this!==U?!1:T&&T._writableState instanceof V}}),U.prototype.pipe=function(){N(this,new w)};function H(T,O,$,G){const Q=T._writableState;if(typeof $=="function")G=$,$=Q.defaultEncoding;else{if(!$)$=Q.defaultEncoding;else if($!=="buffer"&&!h.isEncoding($))throw new I($);typeof G!="function"&&(G=F)}if(O===null)throw new x;if(!Q.objectMode)if(typeof O=="string")Q.decodeStrings!==!1&&(O=h.from(O,$),$="buffer");else if(O instanceof h)$="buffer";else if(f._isUint8Array(O))O=f._uint8ArrayToBuffer(O),$="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],O);let Y;return Q.ending?Y=new M:Q.destroyed&&(Y=new S("write")),Y?(t.nextTick(G,Y),N(T,Y,!0),Y):(Q.pendingcb++,X(T,Q,O,$,G))}U.prototype.write=function(T,O,$){return H(this,T,O,$)===!0},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){const T=this._writableState;T.corked&&(T.corked--,T.writing||ue(this,T))},U.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=u(O)),!h.isEncoding(O))throw new I(O);return this._writableState.defaultEncoding=O,this};function X(T,O,$,G,Q){const Y=O.objectMode?1:$.length;O.length+=Y;const ie=O.length<O.highWaterMark;return ie||(O.needDrain=!0),O.writing||O.corked||O.errored||!O.constructed?(O.buffered.push({chunk:$,encoding:G,callback:Q}),O.allBuffers&&G!=="buffer"&&(O.allBuffers=!1),O.allNoop&&Q!==F&&(O.allNoop=!1)):(O.writelen=Y,O.writecb=Q,O.writing=!0,O.sync=!0,T._write($,G,O.onwrite),O.sync=!1),ie&&!O.errored&&!O.destroyed}function ee(T,O,$,G,Q,Y,ie){O.writelen=G,O.writecb=ie,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new S("write")):$?T._writev(Q,O.onwrite):T._write(Q,Y,O.onwrite),O.sync=!1}function fe(T,O,$,G){--O.pendingcb,G($),le(O),N(T,$)}function Te(T,O){const $=T._writableState,G=$.sync,Q=$.writecb;if(typeof Q!="function"){N(T,new b);return}$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0,O?(O.stack,$.errored||($.errored=O),T._readableState&&!T._readableState.errored&&(T._readableState.errored=O),G?t.nextTick(fe,T,$,O,Q):fe(T,$,O,Q)):($.buffered.length>$.bufferedIndex&&ue(T,$),G?$.afterWriteTickInfo!==null&&$.afterWriteTickInfo.cb===Q?$.afterWriteTickInfo.count++:($.afterWriteTickInfo={count:1,cb:Q,stream:T,state:$},t.nextTick(De,$.afterWriteTickInfo)):Ve(T,$,1,Q))}function De({stream:T,state:O,count:$,cb:G}){return O.afterWriteTickInfo=null,Ve(T,O,$,G)}function Ve(T,O,$,G){for(!O.ending&&!T.destroyed&&O.length===0&&O.needDrain&&(O.needDrain=!1,T.emit("drain"));$-- >0;)O.pendingcb--,G();O.destroyed&&le(O),Ae(T,O)}function le(T){if(T.writing)return;for(let Q=T.bufferedIndex;Q<T.buffered.length;++Q){var O;const{chunk:Y,callback:ie}=T.buffered[Q],te=T.objectMode?1:Y.length;T.length-=te,ie((O=T.errored)!==null&&O!==void 0?O:new S("write"))}const $=T[D].splice(0);for(let Q=0;Q<$.length;Q++){var G;$[Q]((G=T.errored)!==null&&G!==void 0?G:new S("end"))}k(T)}function ue(T,O){if(O.corked||O.bufferProcessing||O.destroyed||!O.constructed)return;const{buffered:$,bufferedIndex:G,objectMode:Q}=O,Y=$.length-G;if(!Y)return;let ie=G;if(O.bufferProcessing=!0,Y>1&&T._writev){O.pendingcb-=Y-1;const te=O.allNoop?F:ce=>{for(let ve=ie;ve<$.length;++ve)$[ve].callback(ce)},he=O.allNoop&&ie===0?$:e($,ie);he.allBuffers=O.allBuffers,ee(T,O,!0,O.length,he,"",te),k(O)}else{do{const{chunk:te,encoding:he,callback:ce}=$[ie];$[ie++]=null;const ve=Q?1:te.length;ee(T,O,!1,ve,te,he,ce)}while(ie<$.length&&!O.writing);ie===$.length?k(O):ie>256?($.splice(0,ie),O.bufferedIndex=0):O.bufferedIndex=ie}O.bufferProcessing=!1}U.prototype._write=function(T,O,$){if(this._writev)this._writev([{chunk:T,encoding:O}],$);else throw new v("_write()")},U.prototype._writev=null,U.prototype.end=function(T,O,$){const G=this._writableState;typeof T=="function"?($=T,T=null,O=null):typeof O=="function"&&($=O,O=null);let Q;if(T!=null){const Y=H(this,T,O);Y instanceof n&&(Q=Y)}return G.corked&&(G.corked=1,this.uncork()),Q||(!G.errored&&!G.ending?(G.ending=!0,Ae(this,G,!0),G.ended=!0):G.finished?Q=new A("end"):G.destroyed&&(Q=new S("end"))),typeof $=="function"&&(Q||G.finished?t.nextTick($,Q):G[D].push($)),this};function Ie(T){return T.ending&&!T.destroyed&&T.constructed&&T.length===0&&!T.errored&&T.buffered.length===0&&!T.finished&&!T.writing&&!T.errorEmitted&&!T.closeEmitted}function Ne(T,O){let $=!1;function G(Q){if($){N(T,Q??b());return}if($=!0,O.pendingcb--,Q){const Y=O[D].splice(0);for(let ie=0;ie<Y.length;ie++)Y[ie](Q);N(T,Q,O.sync)}else Ie(O)&&(O.prefinished=!0,T.emit("prefinish"),O.pendingcb++,t.nextTick(Se,T,O))}O.sync=!0,O.pendingcb++;try{T._final(G)}catch(Q){G(Q)}O.sync=!1}function we(T,O){!O.prefinished&&!O.finalCalled&&(typeof T._final=="function"&&!O.destroyed?(O.finalCalled=!0,Ne(T,O)):(O.prefinished=!0,T.emit("prefinish")))}function Ae(T,O,$){Ie(O)&&(we(T,O),O.pendingcb===0&&($?(O.pendingcb++,t.nextTick((G,Q)=>{Ie(Q)?Se(G,Q):Q.pendingcb--},T,O)):Ie(O)&&(O.pendingcb++,Se(T,O))))}function Se(T,O){O.pendingcb--,O.finished=!0;const $=O[D].splice(0);for(let G=0;G<$.length;G++)$[G]();if(T.emit("finish"),O.autoDestroy){const G=T._readableState;(!G||G.autoDestroy&&(G.endEmitted||G.readable===!1))&&T.destroy()}}s(U.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(T){this._writableState&&(this._writableState.destroyed=T)}},writable:{__proto__:null,get(){const T=this._writableState;return!!T&&T.writable!==!1&&!T.destroyed&&!T.errored&&!T.ending&&!T.ended},set(T){this._writableState&&(this._writableState.writable=!!T)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const T=this._writableState;return T?!T.destroyed&&!T.ending&&T.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const z=p.destroy;U.prototype.destroy=function(T,O){const $=this._writableState;return!$.destroyed&&($.bufferedIndex<$.buffered.length||$[D].length)&&t.nextTick(le,$),z.call(this,T,O),this},U.prototype._undestroy=p.undestroy,U.prototype._destroy=function(T,O){O(T)},U.prototype[d.captureRejectionSymbol]=function(T){this.destroy(T)};let L;function B(){return L===void 0&&(L={}),L}return U.fromWeb=function(T,O){return B().newStreamWritableFromWritableStream(T,O)},U.toWeb=function(T){return B().newWritableStreamFromStreamWritable(T)},f2}var h2,E4;function Mle(){if(E4)return h2;E4=1;const t=Ls,e=Ma,{isReadable:n,isWritable:r,isIterable:a,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:u,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:d}=js,f=Oo,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:m}}=ci,{destroyer:y}=Cl,g=Rs(),_=dw(),v=HI(),{createDeferredPromise:b}=ti,w=bG,S=globalThis.Blob||e.Blob,A=typeof S<"u"?function(V){return V instanceof S}:function(V){return!1},x=globalThis.AbortController||fl().AbortController,{FunctionPrototypeCall:M}=jr;class I extends g{constructor(V){super(V),(V==null?void 0:V.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(V==null?void 0:V.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}h2=function D(V,k){if(l(V))return V;if(o(V))return F({readable:V});if(u(V))return F({writable:V});if(s(V))return F({writable:!1,readable:!1});if(c(V))return F({readable:_.fromWeb(V)});if(d(V))return F({writable:v.fromWeb(V)});if(typeof V=="function"){const{value:H,write:X,final:ee,destroy:fe}=N(V);if(a(H))return w(I,H,{objectMode:!0,write:X,final:ee,destroy:fe});const Te=H==null?void 0:H.then;if(typeof Te=="function"){let De;const Ve=M(Te,H,le=>{if(le!=null)throw new m("nully","body",le)},le=>{y(De,le)});return De=new I({objectMode:!0,readable:!1,write:X,final(le){ee(async()=>{try{await Ve,t.nextTick(le,null)}catch(ue){t.nextTick(le,ue)}})},destroy:fe})}throw new m("Iterable, AsyncIterable or AsyncFunction",k,H)}if(A(V))return D(V.arrayBuffer());if(a(V))return w(I,V,{objectMode:!0,writable:!1});if(c(V==null?void 0:V.readable)&&d(V==null?void 0:V.writable))return I.fromWeb(V);if(typeof(V==null?void 0:V.writable)=="object"||typeof(V==null?void 0:V.readable)=="object"){const H=V!=null&&V.readable?o(V==null?void 0:V.readable)?V==null?void 0:V.readable:D(V.readable):void 0,X=V!=null&&V.writable?u(V==null?void 0:V.writable)?V==null?void 0:V.writable:D(V.writable):void 0;return F({readable:H,writable:X})}const U=V==null?void 0:V.then;if(typeof U=="function"){let H;return M(U,V,X=>{X!=null&&H.push(X),H.push(null)},X=>{y(H,X)}),H=new I({objectMode:!0,writable:!1,read(){}})}throw new p(k,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function N(D){let{promise:V,resolve:k}=b();const U=new x,H=U.signal;return{value:D(async function*(){for(;;){const ee=V;V=null;const{chunk:fe,done:Te,cb:De}=await ee;if(t.nextTick(De),Te)return;if(H.aborted)throw new h(void 0,{cause:H.reason});({promise:V,resolve:k}=b()),yield fe}}(),{signal:H}),write(ee,fe,Te){const De=k;k=null,De({chunk:ee,done:!1,cb:Te})},final(ee){const fe=k;k=null,fe({done:!0,cb:ee})},destroy(ee,fe){U.abort(),fe(ee)}}}function F(D){const V=D.readable&&typeof D.readable.read!="function"?_.wrap(D.readable):D.readable,k=D.writable;let U=!!n(V),H=!!r(k),X,ee,fe,Te,De;function Ve(le){const ue=Te;Te=null,ue?ue(le):le&&De.destroy(le)}return De=new I({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(k!=null&&k.writableObjectMode),readable:U,writable:H}),H&&(f(k,le=>{H=!1,le&&y(V,le),Ve(le)}),De._write=function(le,ue,Ie){k.write(le,ue)?Ie():X=Ie},De._final=function(le){k.end(),ee=le},k.on("drain",function(){if(X){const le=X;X=null,le()}}),k.on("finish",function(){if(ee){const le=ee;ee=null,le()}})),U&&(f(V,le=>{U=!1,le&&y(V,le),Ve(le)}),V.on("readable",function(){if(fe){const le=fe;fe=null,le()}}),V.on("end",function(){De.push(null)}),De._read=function(){for(;;){const le=V.read();if(le===null){fe=De._read;return}if(!De.push(le))return}}),De._destroy=function(le,ue){!le&&Te!==null&&(le=new h),fe=null,X=null,ee=null,Te===null?ue(le):(Te=ue,y(k,le),y(V,le))},De}return h2}var p2,A4;function Rs(){if(A4)return p2;A4=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=jr;p2=o;const a=dw(),s=HI();r(o.prototype,a.prototype),r(o,a);{const d=n(s.prototype);for(let f=0;f<d.length;f++){const h=d[f];o.prototype[h]||(o.prototype[h]=s.prototype[h])}}function o(d){if(!(this instanceof o))return new o(d);a.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let u;function l(){return u===void 0&&(u={}),u}o.fromWeb=function(d,f){return l().newStreamDuplexFromReadableWritablePair(d,f)},o.toWeb=function(d){return l().newReadableWritablePairFromDuplex(d)};let c;return o.from=function(d){return c||(c=Mle()),c(d,"body")},p2}const{ObjectSetPrototypeOf:vG,Symbol:Fle}=jr;var wG=xs;const{ERR_METHOD_NOT_IMPLEMENTED:qle}=ci.codes,QI=Rs(),{getHighWaterMark:Ble}=lw;vG(xs.prototype,QI.prototype);vG(xs,QI);const $g=Fle("kCallback");function xs(t){if(!(this instanceof xs))return new xs(t);const e=t?Ble(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),QI.call(this,t),this._readableState.sync=!1,this[$g]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",$le)}function XR(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,n)=>{if(e){t?t(e):this.destroy(e);return}n!=null&&this.push(n),this.push(null),t&&t()}):(this.push(null),t&&t())}function $le(){this._final!==XR&&XR.call(this)}xs.prototype._final=XR;xs.prototype._transform=function(t,e,n){throw new qle("_transform()")};xs.prototype._write=function(t,e,n){const r=this._readableState,a=this._writableState,s=r.length;this._transform(t,e,(o,u)=>{if(o){n(o);return}u!=null&&this.push(u),a.ended||s===r.length||r.length<r.highWaterMark?n():this[$g]=n})};xs.prototype._read=function(){if(this[$g]){const t=this[$g];this[$g]=null,t()}};const{ObjectSetPrototypeOf:SG}=jr;var TG=hl;const zI=wG;SG(hl.prototype,zI.prototype);SG(hl,zI);function hl(t){if(!(this instanceof hl))return new hl(t);zI.call(this,t)}hl.prototype._transform=function(t,e,n){n(null,t)};const hg=Ls,{ArrayIsArray:Ule,Promise:kle,SymbolAsyncIterator:Vle,SymbolDispose:Hle}=jr,yv=Oo,{once:Qle}=ti,zle=Cl,O4=Rs(),{aggregateTwoErrors:Gle,codes:{ERR_INVALID_ARG_TYPE:YR,ERR_INVALID_RETURN_VALUE:y2,ERR_MISSING_ARGS:Wle,ERR_STREAM_DESTROYED:Kle,ERR_STREAM_PREMATURE_CLOSE:Jle},AbortError:Xle}=ci,{validateFunction:Yle,validateAbortSignal:Zle}=x_,{isIterable:lu,isReadable:m2,isReadableNodeStream:L1,isNodeStream:R4,isTransformStream:Cc,isWebStream:ede,isReadableStream:g2,isReadableFinished:tde}=js,rde=globalThis.AbortController||fl().AbortController;let _2,b2,v2;function x4(t,e,n){let r=!1;t.on("close",()=>{r=!0});const a=yv(t,{readable:e,writable:n},s=>{r=!s});return{destroy:s=>{r||(r=!0,zle.destroyer(t,s||new Kle("pipe")))},cleanup:a}}function nde(t){return Yle(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function w2(t){if(lu(t))return t;if(L1(t))return ide(t);throw new YR("val",["Readable","Iterable","AsyncIterable"],t)}async function*ide(t){b2||(b2=dw()),yield*b2.prototype[Vle].call(t)}async function Ub(t,e,n,{end:r}){let a,s=null;const o=c=>{if(c&&(a=c),s){const d=s;s=null,d()}},u=()=>new kle((c,d)=>{a?d(a):s=()=>{a?d(a):c()}});e.on("drain",o);const l=yv(e,{readable:!1},o);try{e.writableNeedDrain&&await u();for await(const c of t)e.write(c)||await u();r&&(e.end(),await u()),n()}catch(c){n(a!==c?Gle(a,c):c)}finally{l(),e.off("drain",o)}}async function S2(t,e,n,{end:r}){Cc(e)&&(e=e.writable);const a=e.getWriter();try{for await(const s of t)await a.ready,a.write(s).catch(()=>{});await a.ready,r&&await a.close(),n()}catch(s){try{await a.abort(s),n(s)}catch(o){n(o)}}}function ade(...t){return EG(t,Qle(nde(t)))}function EG(t,e,n){if(t.length===1&&Ule(t[0])&&(t=t[0]),t.length<2)throw new Wle("streams");const r=new rde,a=r.signal,s=n==null?void 0:n.signal,o=[];Zle(s,"options.signal");function u(){m(new Xle)}v2=v2||ti.addAbortListener;let l;s&&(l=v2(s,u));let c,d;const f=[];let h=0;function p(v){m(v,--h===0)}function m(v,b){var w;if(v&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=v),!(!c&&!b)){for(;f.length;)f.shift()(c);(w=l)===null||w===void 0||w[Hle](),r.abort(),b&&(c||o.forEach(S=>S()),hg.nextTick(e,c,d))}}let y;for(let v=0;v<t.length;v++){const b=t[v],w=v<t.length-1,S=v>0,A=w||(n==null?void 0:n.end)!==!1,x=v===t.length-1;if(R4(b)){let M=function(I){I&&I.name!=="AbortError"&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(I)};if(A){const{destroy:I,cleanup:N}=x4(b,w,S);f.push(I),m2(b)&&x&&o.push(N)}b.on("error",M),m2(b)&&x&&o.push(()=>{b.removeListener("error",M)})}if(v===0)if(typeof b=="function"){if(y=b({signal:a}),!lu(y))throw new y2("Iterable, AsyncIterable or Stream","source",y)}else lu(b)||L1(b)||Cc(b)?y=b:y=O4.from(b);else if(typeof b=="function"){if(Cc(y)){var g;y=w2((g=y)===null||g===void 0?void 0:g.readable)}else y=w2(y);if(y=b(y,{signal:a}),w){if(!lu(y,!0))throw new y2("AsyncIterable",`transform[${v-1}]`,y)}else{var _;_2||(_2=TG);const M=new _2({objectMode:!0}),I=(_=y)===null||_===void 0?void 0:_.then;if(typeof I=="function")h++,I.call(y,D=>{d=D,D!=null&&M.write(D),A&&M.end(),hg.nextTick(p)},D=>{M.destroy(D),hg.nextTick(p,D)});else if(lu(y,!0))h++,Ub(y,M,p,{end:A});else if(g2(y)||Cc(y)){const D=y.readable||y;h++,Ub(D,M,p,{end:A})}else throw new y2("AsyncIterable or Promise","destination",y);y=M;const{destroy:N,cleanup:F}=x4(y,!1,!0);f.push(N),x&&o.push(F)}}else if(R4(b)){if(L1(y)){h+=2;const M=sde(y,b,p,{end:A});m2(b)&&x&&o.push(M)}else if(Cc(y)||g2(y)){const M=y.readable||y;h++,Ub(M,b,p,{end:A})}else if(lu(y))h++,Ub(y,b,p,{end:A});else throw new YR("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=b}else if(ede(b)){if(L1(y))h++,S2(w2(y),b,p,{end:A});else if(g2(y)||lu(y))h++,S2(y,b,p,{end:A});else if(Cc(y))h++,S2(y.readable,b,p,{end:A});else throw new YR("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=b}else y=O4.from(b)}return(a!=null&&a.aborted||s!=null&&s.aborted)&&hg.nextTick(u),y}function sde(t,e,n,{end:r}){let a=!1;if(e.on("close",()=>{a||n(new Jle)}),t.pipe(e,{end:!1}),r){let s=function(){a=!0,e.end()};tde(t)?hg.nextTick(s):t.once("end",s)}else n();return yv(t,{readable:!0,writable:!1},s=>{const o=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?t.once("end",n).once("error",n):n(s)}),yv(e,{readable:!1,writable:!0},n)}var GI={pipelineImpl:EG,pipeline:ade};const{pipeline:ode}=GI,kb=Rs(),{destroyer:ude}=Cl,{isNodeStream:Vb,isReadable:I4,isWritable:P4,isWebStream:T2,isTransformStream:Go,isWritableStream:N4,isReadableStream:D4}=js,{AbortError:cde,codes:{ERR_INVALID_ARG_VALUE:C4,ERR_MISSING_ARGS:lde}}=ci,dde=Oo;var AG=function(...e){if(e.length===0)throw new lde("streams");if(e.length===1)return kb.from(e[0]);const n=[...e];if(typeof e[0]=="function"&&(e[0]=kb.from(e[0])),typeof e[e.length-1]=="function"){const p=e.length-1;e[p]=kb.from(e[p])}for(let p=0;p<e.length;++p)if(!(!Vb(e[p])&&!T2(e[p]))){if(p<e.length-1&&!(I4(e[p])||D4(e[p])||Go(e[p])))throw new C4(`streams[${p}]`,n[p],"must be readable");if(p>0&&!(P4(e[p])||N4(e[p])||Go(e[p])))throw new C4(`streams[${p}]`,n[p],"must be writable")}let r,a,s,o,u;function l(p){const m=o;o=null,m?m(p):p?u.destroy(p):!h&&!f&&u.destroy()}const c=e[0],d=ode(e,l),f=!!(P4(c)||N4(c)||Go(c)),h=!!(I4(d)||D4(d)||Go(d));if(u=new kb({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:f,readable:h}),f){if(Vb(c))u._write=function(m,y,g){c.write(m,y)?g():r=g},u._final=function(m){c.end(),a=m},c.on("drain",function(){if(r){const m=r;r=null,m()}});else if(T2(c)){const y=(Go(c)?c.writable:c).getWriter();u._write=async function(g,_,v){try{await y.ready,y.write(g).catch(()=>{}),v()}catch(b){v(b)}},u._final=async function(g){try{await y.ready,y.close().catch(()=>{}),a=g}catch(_){g(_)}}}const p=Go(d)?d.readable:d;dde(p,()=>{if(a){const m=a;a=null,m()}})}if(h){if(Vb(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){u.push(null)}),u._read=function(){for(;;){const p=d.read();if(p===null){s=u._read;return}if(!u.push(p))return}};else if(T2(d)){const m=(Go(d)?d.readable:d).getReader();u._read=async function(){for(;;)try{const{value:y,done:g}=await m.read();if(!u.push(y))return;if(g){u.push(null);return}}catch{return}}}}return u._destroy=function(p,m){!p&&o!==null&&(p=new cde),s=null,r=null,a=null,o===null?m(p):(o=m,Vb(d)&&ude(d,p))},u};const fde=globalThis.AbortController||fl().AbortController,{codes:{ERR_INVALID_ARG_VALUE:hde,ERR_INVALID_ARG_TYPE:P_,ERR_MISSING_ARGS:pde,ERR_OUT_OF_RANGE:yde},AbortError:La}=ci,{validateAbortSignal:Zu,validateInteger:L4,validateObject:ec}=x_,mde=jr.Symbol("kWeak"),gde=jr.Symbol("kResistStopPropagation"),{finished:_de}=Oo,bde=AG,{addAbortSignalNoValidate:vde}=cw,{isWritable:wde,isNodeStream:Sde}=js,{deprecate:Tde}=ti,{ArrayPrototypePush:Ede,Boolean:Ade,MathFloor:j4,Number:Ode,NumberIsNaN:Rde,Promise:M4,PromiseReject:F4,PromiseResolve:xde,PromisePrototypeThen:q4,Symbol:OG}=jr,mv=OG("kEmpty"),B4=OG("kEof");function Ide(t,e){if(e!=null&&ec(e,"options"),(e==null?void 0:e.signal)!=null&&Zu(e.signal,"options.signal"),Sde(t)&&!wde(t))throw new hde("stream",t,"must be writable");const n=bde(this,t);return e!=null&&e.signal&&vde(e.signal,n),n}function fw(t,e){if(typeof t!="function")throw new P_("fn",["Function","AsyncFunction"],t);e!=null&&ec(e,"options"),(e==null?void 0:e.signal)!=null&&Zu(e.signal,"options.signal");let n=1;(e==null?void 0:e.concurrency)!=null&&(n=j4(e.concurrency));let r=n-1;return(e==null?void 0:e.highWaterMark)!=null&&(r=j4(e.highWaterMark)),L4(n,"options.concurrency",1),L4(r,"options.highWaterMark",0),r+=n,(async function*(){const s=ti.AbortSignalAny([e==null?void 0:e.signal].filter(Ade)),o=this,u=[],l={signal:s};let c,d,f=!1,h=0;function p(){f=!0,m()}function m(){h-=1,y()}function y(){d&&!f&&h<n&&u.length<r&&(d(),d=null)}async function g(){try{for await(let _ of o){if(f)return;if(s.aborted)throw new La;try{if(_=t(_,l),_===mv)continue;_=xde(_)}catch(v){_=F4(v)}h+=1,q4(_,m,p),u.push(_),c&&(c(),c=null),!f&&(u.length>=r||h>=n)&&await new M4(v=>{d=v})}u.push(B4)}catch(_){const v=F4(_);q4(v,m,p),u.push(v)}finally{f=!0,c&&(c(),c=null)}}g();try{for(;;){for(;u.length>0;){const _=await u[0];if(_===B4)return;if(s.aborted)throw new La;_!==mv&&(yield _),u.shift(),y()}await new M4(_=>{c=_})}}finally{f=!0,d&&(d(),d=null)}}).call(this)}function Pde(t=void 0){return t!=null&&ec(t,"options"),(t==null?void 0:t.signal)!=null&&Zu(t.signal,"options.signal"),(async function*(){let n=0;for await(const a of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new La({cause:t.signal.reason});yield[n++,a]}}).call(this)}async function RG(t,e=void 0){for await(const n of WI.call(this,t,e))return!0;return!1}async function Nde(t,e=void 0){if(typeof t!="function")throw new P_("fn",["Function","AsyncFunction"],t);return!await RG.call(this,async(...n)=>!await t(...n),e)}async function Dde(t,e){for await(const n of WI.call(this,t,e))return n}async function Cde(t,e){if(typeof t!="function")throw new P_("fn",["Function","AsyncFunction"],t);async function n(r,a){return await t(r,a),mv}for await(const r of fw.call(this,n,e));}function WI(t,e){if(typeof t!="function")throw new P_("fn",["Function","AsyncFunction"],t);async function n(r,a){return await t(r,a)?r:mv}return fw.call(this,n,e)}class Lde extends pde{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function jde(t,e,n){var r;if(typeof t!="function")throw new P_("reducer",["Function","AsyncFunction"],t);n!=null&&ec(n,"options"),(n==null?void 0:n.signal)!=null&&Zu(n.signal,"options.signal");let a=arguments.length>1;if(n!=null&&(r=n.signal)!==null&&r!==void 0&&r.aborted){const c=new La(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await _de(this.destroy(c)),c}const s=new fde,o=s.signal;if(n!=null&&n.signal){const c={once:!0,[mde]:this,[gde]:!0};n.signal.addEventListener("abort",()=>s.abort(),c)}let u=!1;try{for await(const c of this){var l;if(u=!0,n!=null&&(l=n.signal)!==null&&l!==void 0&&l.aborted)throw new La;a?e=await t(e,c,{signal:o}):(e=c,a=!0)}if(!u&&!a)throw new Lde}finally{s.abort()}return e}async function Mde(t){t!=null&&ec(t,"options"),(t==null?void 0:t.signal)!=null&&Zu(t.signal,"options.signal");const e=[];for await(const r of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new La(void 0,{cause:t.signal.reason});Ede(e,r)}return e}function Fde(t,e){const n=fw.call(this,t,e);return(async function*(){for await(const a of n)yield*a}).call(this)}function xG(t){if(t=Ode(t),Rde(t))return 0;if(t<0)throw new yde("number",">= 0",t);return t}function qde(t,e=void 0){return e!=null&&ec(e,"options"),(e==null?void 0:e.signal)!=null&&Zu(e.signal,"options.signal"),t=xG(t),(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new La;for await(const s of this){var a;if(e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted)throw new La;t--<=0&&(yield s)}}).call(this)}function Bde(t,e=void 0){return e!=null&&ec(e,"options"),(e==null?void 0:e.signal)!=null&&Zu(e.signal,"options.signal"),t=xG(t),(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new La;for await(const s of this){var a;if(e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted)throw new La;if(t-- >0&&(yield s),t<=0)return}}).call(this)}FI.streamReturningOperators={asIndexedPairs:Tde(Pde,"readable.asIndexedPairs will be removed in a future version."),drop:qde,filter:WI,flatMap:Fde,map:fw,take:Bde,compose:Ide};FI.promiseReturningOperators={every:Nde,forEach:Cde,reduce:jde,toArray:Mde,some:RG,find:Dde};var E2,$4;function IG(){if($4)return E2;$4=1;const{ArrayPrototypePop:t,Promise:e}=jr,{isIterable:n,isNodeStream:r,isWebStream:a}=js,{pipelineImpl:s}=GI,{finished:o}=Oo;PG();function u(...l){return new e((c,d)=>{let f,h;const p=l[l.length-1];if(p&&typeof p=="object"&&!r(p)&&!n(p)&&!a(p)){const m=t(l);f=m.signal,h=m.end}s(l,(m,y)=>{m?d(m):c(y)},{signal:f,end:h})})}return E2={finished:o,pipeline:u},E2}var U4;function PG(){if(U4)return s2.exports;U4=1;const{Buffer:t}=Ma,{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=jr,{promisify:{custom:a}}=ti,{streamReturningOperators:s,promiseReturningOperators:o}=FI,{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=ci,l=AG,{setDefaultHighWaterMark:c,getDefaultHighWaterMark:d}=lw,{pipeline:f}=GI,{destroyer:h}=Cl,p=Oo,m=IG(),y=js,g=s2.exports=kI.Stream;g.isDestroyed=y.isDestroyed,g.isDisturbed=y.isDisturbed,g.isErrored=y.isErrored,g.isReadable=y.isReadable,g.isWritable=y.isWritable,g.Readable=dw();for(const v of n(s)){let w=function(...S){if(new.target)throw u();return g.Readable.from(r(b,this,S))};const b=s[v];e(w,"name",{__proto__:null,value:b.name}),e(w,"length",{__proto__:null,value:b.length}),e(g.Readable.prototype,v,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const v of n(o)){let w=function(...S){if(new.target)throw u();return r(b,this,S)};const b=o[v];e(w,"name",{__proto__:null,value:b.name}),e(w,"length",{__proto__:null,value:b.length}),e(g.Readable.prototype,v,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}g.Writable=HI(),g.Duplex=Rs(),g.Transform=wG,g.PassThrough=TG,g.pipeline=f;const{addAbortSignal:_}=cw;return g.addAbortSignal=_,g.finished=p,g.destroy=h,g.compose=l,g.setDefaultHighWaterMark=c,g.getDefaultHighWaterMark=d,e(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),e(f,a,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),e(p,a,{__proto__:null,enumerable:!0,get(){return m.finished}}),g.Stream=g,g._isUint8Array=function(b){return b instanceof Uint8Array},g._uint8ArrayToBuffer=function(b){return t.from(b.buffer,b.byteOffset,b.byteLength)},s2.exports}(function(t){const e=PG(),n=IG(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(Rz);var Dt=Rz.exports;let NG=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};NG.prototype.termType="BlankNode";let KI=class{equals(e){return!!e&&e.termType===this.termType}};KI.prototype.termType="DefaultGraph";KI.prototype.value="";function k4(t,e){if(!e)return null;if(e.termType==="BlankNode")return t.blankNode(e.value);if(e.termType==="DefaultGraph")return t.defaultGraph();if(e.termType==="Literal")return t.literal(e.value,e.language||t.namedNode(e.datatype.value));if(e.termType==="NamedNode")return t.namedNode(e.value);if(e.termType==="Quad"){const n=t.fromTerm(e.subject),r=t.fromTerm(e.predicate),a=t.fromTerm(e.object),s=t.fromTerm(e.graph);return t.quad(n,r,a,s)}if(e.termType==="Variable")return t.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}let ZR=class{constructor(e,n,r){this.value=e,this.language=n,this.datatype=r}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}};ZR.prototype.termType="Literal";let hw=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};hw.prototype.termType="NamedNode";let JI=class{constructor(e,n,r,a){this.subject=e,this.predicate=n,this.object=r,this.graph=a}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}};JI.prototype.termType="Quad";JI.prototype.value="";let DG=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};DG.prototype.termType="Variable";const $de=new hw("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),Ude=new hw("http://www.w3.org/2001/XMLSchema#string");let CG=class{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new KI}}namedNode(e){return new hw(e)}blankNode(e){return e=e||"b"+ ++this._data.blankNodeCounter,new NG(e)}literal(e,n){return typeof n=="string"?new ZR(e,n,$de):new ZR(e,"",n||Ude)}variable(e){return new DG(e)}defaultGraph(){return this._data.defaultGraph}quad(e,n,r,a=this.defaultGraph()){return new JI(e,n,r,a)}fromTerm(e){return k4(this,e)}fromQuad(e){return k4(this,e)}};CG.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"];const Cr=new CG;class A2 extends Dt.Transform{constructor(e,{factory:n=Cr}={}){super({objectMode:!0}),this.factory=n,this.graph=e||this.factory.defaultGraph(),this.on("pipe",r=>{r.on("error",a=>{this.emit("error",a)})})}_transform(e,n,r){const a=this.factory.quad(e.subject,e.predicate,e.object,this.graph);r(null,a)}}function kde(){this.__data__=[],this.size=0}var Vde=kde;function Hde(t,e){return t===e||t!==t&&e!==e}var LG=Hde,Qde=LG;function zde(t,e){for(var n=t.length;n--;)if(Qde(t[n][0],e))return n;return-1}var pw=zde,Gde=pw,Wde=Array.prototype,Kde=Wde.splice;function Jde(t){var e=this.__data__,n=Gde(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kde.call(e,n,1),--this.size,!0}var Xde=Jde,Yde=pw;function Zde(t){var e=this.__data__,n=Yde(e,t);return n<0?void 0:e[n][1]}var efe=Zde,tfe=pw;function rfe(t){return tfe(this.__data__,t)>-1}var nfe=rfe,ife=pw;function afe(t,e){var n=this.__data__,r=ife(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var sfe=afe,ofe=Vde,ufe=Xde,cfe=efe,lfe=nfe,dfe=sfe;function Ll(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ll.prototype.clear=ofe;Ll.prototype.delete=ufe;Ll.prototype.get=cfe;Ll.prototype.has=lfe;Ll.prototype.set=dfe;var yw=Ll,ffe=yw;function hfe(){this.__data__=new ffe,this.size=0}var pfe=hfe;function yfe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var mfe=yfe;function gfe(t){return this.__data__.get(t)}var _fe=gfe;function bfe(t){return this.__data__.has(t)}var vfe=bfe,wfe=typeof P=="object"&&P&&P.Object===Object&&P,jG=wfe,Sfe=jG,Tfe=typeof self=="object"&&self&&self.Object===Object&&self,Efe=Sfe||Tfe||Function("return this")(),qa=Efe,Afe=qa,Ofe=Afe.Symbol,XI=Ofe,V4=XI,MG=Object.prototype,Rfe=MG.hasOwnProperty,xfe=MG.toString,yd=V4?V4.toStringTag:void 0;function Ife(t){var e=Rfe.call(t,yd),n=t[yd];try{t[yd]=void 0;var r=!0}catch{}var a=xfe.call(t);return r&&(e?t[yd]=n:delete t[yd]),a}var Pfe=Ife,Nfe=Object.prototype,Dfe=Nfe.toString;function Cfe(t){return Dfe.call(t)}var Lfe=Cfe,H4=XI,jfe=Pfe,Mfe=Lfe,Ffe="[object Null]",qfe="[object Undefined]",Q4=H4?H4.toStringTag:void 0;function Bfe(t){return t==null?t===void 0?qfe:Ffe:Q4&&Q4 in Object(t)?jfe(t):Mfe(t)}var mw=Bfe;function $fe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var N_=$fe,Ufe=mw,kfe=N_,Vfe="[object AsyncFunction]",Hfe="[object Function]",Qfe="[object GeneratorFunction]",zfe="[object Proxy]";function Gfe(t){if(!kfe(t))return!1;var e=Ufe(t);return e==Hfe||e==Qfe||e==Vfe||e==zfe}var FG=Gfe,Wfe=qa,Kfe=Wfe["__core-js_shared__"],Jfe=Kfe,O2=Jfe,z4=function(){var t=/[^.]+$/.exec(O2&&O2.keys&&O2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Xfe(t){return!!z4&&z4 in t}var Yfe=Xfe,Zfe=Function.prototype,ehe=Zfe.toString;function the(t){if(t!=null){try{return ehe.call(t)}catch{}try{return t+""}catch{}}return""}var qG=the,rhe=FG,nhe=Yfe,ihe=N_,ahe=qG,she=/[\\^$.*+?()[\]{}|]/g,ohe=/^\[object .+?Constructor\]$/,uhe=Function.prototype,che=Object.prototype,lhe=uhe.toString,dhe=che.hasOwnProperty,fhe=RegExp("^"+lhe.call(dhe).replace(she,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hhe(t){if(!ihe(t)||nhe(t))return!1;var e=rhe(t)?fhe:ohe;return e.test(ahe(t))}var phe=hhe;function yhe(t,e){return t==null?void 0:t[e]}var mhe=yhe,ghe=phe,_he=mhe;function bhe(t,e){var n=_he(t,e);return ghe(n)?n:void 0}var tc=bhe,vhe=tc,whe=qa,She=vhe(whe,"Map"),YI=She,The=tc,Ehe=The(Object,"create"),gw=Ehe,G4=gw;function Ahe(){this.__data__=G4?G4(null):{},this.size=0}var Ohe=Ahe;function Rhe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xhe=Rhe,Ihe=gw,Phe="__lodash_hash_undefined__",Nhe=Object.prototype,Dhe=Nhe.hasOwnProperty;function Che(t){var e=this.__data__;if(Ihe){var n=e[t];return n===Phe?void 0:n}return Dhe.call(e,t)?e[t]:void 0}var Lhe=Che,jhe=gw,Mhe=Object.prototype,Fhe=Mhe.hasOwnProperty;function qhe(t){var e=this.__data__;return jhe?e[t]!==void 0:Fhe.call(e,t)}var Bhe=qhe,$he=gw,Uhe="__lodash_hash_undefined__";function khe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$he&&e===void 0?Uhe:e,this}var Vhe=khe,Hhe=Ohe,Qhe=xhe,zhe=Lhe,Ghe=Bhe,Whe=Vhe;function jl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jl.prototype.clear=Hhe;jl.prototype.delete=Qhe;jl.prototype.get=zhe;jl.prototype.has=Ghe;jl.prototype.set=Whe;var Khe=jl,W4=Khe,Jhe=yw,Xhe=YI;function Yhe(){this.size=0,this.__data__={hash:new W4,map:new(Xhe||Jhe),string:new W4}}var Zhe=Yhe;function epe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var tpe=epe,rpe=tpe;function npe(t,e){var n=t.__data__;return rpe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var _w=npe,ipe=_w;function ape(t){var e=ipe(this,t).delete(t);return this.size-=e?1:0,e}var spe=ape,ope=_w;function upe(t){return ope(this,t).get(t)}var cpe=upe,lpe=_w;function dpe(t){return lpe(this,t).has(t)}var fpe=dpe,hpe=_w;function ppe(t,e){var n=hpe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ype=ppe,mpe=Zhe,gpe=spe,_pe=cpe,bpe=fpe,vpe=ype;function Ml(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ml.prototype.clear=mpe;Ml.prototype.delete=gpe;Ml.prototype.get=_pe;Ml.prototype.has=bpe;Ml.prototype.set=vpe;var wpe=Ml,Spe=yw,Tpe=YI,Epe=wpe,Ape=200;function Ope(t,e){var n=this.__data__;if(n instanceof Spe){var r=n.__data__;if(!Tpe||r.length<Ape-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Epe(r)}return n.set(t,e),this.size=n.size,this}var Rpe=Ope,xpe=yw,Ipe=pfe,Ppe=mfe,Npe=_fe,Dpe=vfe,Cpe=Rpe;function Fl(t){var e=this.__data__=new xpe(t);this.size=e.size}Fl.prototype.clear=Ipe;Fl.prototype.delete=Ppe;Fl.prototype.get=Npe;Fl.prototype.has=Dpe;Fl.prototype.set=Cpe;var Lpe=Fl;function jpe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Mpe=jpe,Fpe=tc,qpe=function(){try{var t=Fpe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Bpe=qpe,K4=Bpe;function $pe(t,e,n){e=="__proto__"&&K4?K4(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var BG=$pe,Upe=BG,kpe=LG,Vpe=Object.prototype,Hpe=Vpe.hasOwnProperty;function Qpe(t,e,n){var r=t[e];(!(Hpe.call(t,e)&&kpe(r,n))||n===void 0&&!(e in t))&&Upe(t,e,n)}var $G=Qpe,zpe=$G,Gpe=BG;function Wpe(t,e,n,r){var a=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var u=e[s],l=r?r(n[u],t[u],u,n,t):void 0;l===void 0&&(l=t[u]),a?Gpe(n,u,l):zpe(n,u,l)}return n}var bw=Wpe;function Kpe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jpe=Kpe;function Xpe(t){return t!=null&&typeof t=="object"}var D_=Xpe,Ype=mw,Zpe=D_,e0e="[object Arguments]";function t0e(t){return Zpe(t)&&Ype(t)==e0e}var r0e=t0e,J4=r0e,n0e=D_,UG=Object.prototype,i0e=UG.hasOwnProperty,a0e=UG.propertyIsEnumerable,s0e=J4(function(){return arguments}())?J4:function(t){return n0e(t)&&i0e.call(t,"callee")&&!a0e.call(t,"callee")},o0e=s0e,u0e=Array.isArray,ZI=u0e,gv={exports:{}};function c0e(){return!1}var l0e=c0e;gv.exports;(function(t,e){var n=qa,r=l0e,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===a,u=o?n.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||r;t.exports=c})(gv,gv.exports);var kG=gv.exports,d0e=9007199254740991,f0e=/^(?:0|[1-9]\d*)$/;function h0e(t,e){var n=typeof t;return e=e??d0e,!!e&&(n=="number"||n!="symbol"&&f0e.test(t))&&t>-1&&t%1==0&&t<e}var p0e=h0e,y0e=9007199254740991;function m0e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=y0e}var VG=m0e,g0e=mw,_0e=VG,b0e=D_,v0e="[object Arguments]",w0e="[object Array]",S0e="[object Boolean]",T0e="[object Date]",E0e="[object Error]",A0e="[object Function]",O0e="[object Map]",R0e="[object Number]",x0e="[object Object]",I0e="[object RegExp]",P0e="[object Set]",N0e="[object String]",D0e="[object WeakMap]",C0e="[object ArrayBuffer]",L0e="[object DataView]",j0e="[object Float32Array]",M0e="[object Float64Array]",F0e="[object Int8Array]",q0e="[object Int16Array]",B0e="[object Int32Array]",$0e="[object Uint8Array]",U0e="[object Uint8ClampedArray]",k0e="[object Uint16Array]",V0e="[object Uint32Array]",vr={};vr[j0e]=vr[M0e]=vr[F0e]=vr[q0e]=vr[B0e]=vr[$0e]=vr[U0e]=vr[k0e]=vr[V0e]=!0;vr[v0e]=vr[w0e]=vr[C0e]=vr[S0e]=vr[L0e]=vr[T0e]=vr[E0e]=vr[A0e]=vr[O0e]=vr[R0e]=vr[x0e]=vr[I0e]=vr[P0e]=vr[N0e]=vr[D0e]=!1;function H0e(t){return b0e(t)&&_0e(t.length)&&!!vr[g0e(t)]}var Q0e=H0e;function z0e(t){return function(e){return t(e)}}var eP=z0e,_v={exports:{}};_v.exports;(function(t,e){var n=jG,r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===r,o=s&&n.process,u=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u})(_v,_v.exports);var tP=_v.exports,G0e=Q0e,W0e=eP,X4=tP,Y4=X4&&X4.isTypedArray,K0e=Y4?W0e(Y4):G0e,J0e=K0e,X0e=Jpe,Y0e=o0e,Z0e=ZI,eye=kG,tye=p0e,rye=J0e,nye=Object.prototype,iye=nye.hasOwnProperty;function aye(t,e){var n=Z0e(t),r=!n&&Y0e(t),a=!n&&!r&&eye(t),s=!n&&!r&&!a&&rye(t),o=n||r||a||s,u=o?X0e(t.length,String):[],l=u.length;for(var c in t)(e||iye.call(t,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||tye(c,l)))&&u.push(c);return u}var HG=aye,sye=Object.prototype;function oye(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||sye;return t===n}var rP=oye;function uye(t,e){return function(n){return t(e(n))}}var QG=uye,cye=QG,lye=cye(Object.keys,Object),dye=lye,fye=rP,hye=dye,pye=Object.prototype,yye=pye.hasOwnProperty;function mye(t){if(!fye(t))return hye(t);var e=[];for(var n in Object(t))yye.call(t,n)&&n!="constructor"&&e.push(n);return e}var gye=mye,_ye=FG,bye=VG;function vye(t){return t!=null&&bye(t.length)&&!_ye(t)}var zG=vye,wye=HG,Sye=gye,Tye=zG;function Eye(t){return Tye(t)?wye(t):Sye(t)}var nP=Eye,Aye=bw,Oye=nP;function Rye(t,e){return t&&Aye(e,Oye(e),t)}var xye=Rye;function Iye(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Pye=Iye,Nye=N_,Dye=rP,Cye=Pye,Lye=Object.prototype,jye=Lye.hasOwnProperty;function Mye(t){if(!Nye(t))return Cye(t);var e=Dye(t),n=[];for(var r in t)r=="constructor"&&(e||!jye.call(t,r))||n.push(r);return n}var Fye=Mye,qye=HG,Bye=Fye,$ye=zG;function Uye(t){return $ye(t)?qye(t,!0):Bye(t)}var iP=Uye,kye=bw,Vye=iP;function Hye(t,e){return t&&kye(e,Vye(e),t)}var Qye=Hye,bv={exports:{}};bv.exports;(function(t,e){var n=qa,r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===r,o=s?n.Buffer:void 0,u=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var f=c.length,h=u?u(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(bv,bv.exports);var zye=bv.exports;function Gye(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Wye=Gye;function Kye(t,e){for(var n=-1,r=t==null?0:t.length,a=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[a++]=o)}return s}var Jye=Kye;function Xye(){return[]}var GG=Xye,Yye=Jye,Zye=GG,eme=Object.prototype,tme=eme.propertyIsEnumerable,Z4=Object.getOwnPropertySymbols,rme=Z4?function(t){return t==null?[]:(t=Object(t),Yye(Z4(t),function(e){return tme.call(t,e)}))}:Zye,aP=rme,nme=bw,ime=aP;function ame(t,e){return nme(t,ime(t),e)}var sme=ame;function ome(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var WG=ome,ume=QG,cme=ume(Object.getPrototypeOf,Object),KG=cme,lme=WG,dme=KG,fme=aP,hme=GG,pme=Object.getOwnPropertySymbols,yme=pme?function(t){for(var e=[];t;)lme(e,fme(t)),t=dme(t);return e}:hme,JG=yme,mme=bw,gme=JG;function _me(t,e){return mme(t,gme(t),e)}var bme=_me,vme=WG,wme=ZI;function Sme(t,e,n){var r=e(t);return wme(t)?r:vme(r,n(t))}var XG=Sme,Tme=XG,Eme=aP,Ame=nP;function Ome(t){return Tme(t,Ame,Eme)}var Rme=Ome,xme=XG,Ime=JG,Pme=iP;function Nme(t){return xme(t,Pme,Ime)}var Dme=Nme,Cme=tc,Lme=qa,jme=Cme(Lme,"DataView"),Mme=jme,Fme=tc,qme=qa,Bme=Fme(qme,"Promise"),$me=Bme,Ume=tc,kme=qa,Vme=Ume(kme,"Set"),Hme=Vme,Qme=tc,zme=qa,Gme=Qme(zme,"WeakMap"),Wme=Gme,ex=Mme,tx=YI,rx=$me,nx=Hme,ix=Wme,YG=mw,ql=qG,e6="[object Map]",Kme="[object Object]",t6="[object Promise]",r6="[object Set]",n6="[object WeakMap]",i6="[object DataView]",Jme=ql(ex),Xme=ql(tx),Yme=ql(rx),Zme=ql(nx),ege=ql(ix),du=YG;(ex&&du(new ex(new ArrayBuffer(1)))!=i6||tx&&du(new tx)!=e6||rx&&du(rx.resolve())!=t6||nx&&du(new nx)!=r6||ix&&du(new ix)!=n6)&&(du=function(t){var e=YG(t),n=e==Kme?t.constructor:void 0,r=n?ql(n):"";if(r)switch(r){case Jme:return i6;case Xme:return e6;case Yme:return t6;case Zme:return r6;case ege:return n6}return e});var sP=du,tge=Object.prototype,rge=tge.hasOwnProperty;function nge(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&rge.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ige=nge,age=qa,sge=age.Uint8Array,oge=sge,a6=oge;function uge(t){var e=new t.constructor(t.byteLength);return new a6(e).set(new a6(t)),e}var oP=uge,cge=oP;function lge(t,e){var n=e?cge(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var dge=lge,fge=/\w*$/;function hge(t){var e=new t.constructor(t.source,fge.exec(t));return e.lastIndex=t.lastIndex,e}var pge=hge,s6=XI,o6=s6?s6.prototype:void 0,u6=o6?o6.valueOf:void 0;function yge(t){return u6?Object(u6.call(t)):{}}var mge=yge,gge=oP;function _ge(t,e){var n=e?gge(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var bge=_ge,vge=oP,wge=dge,Sge=pge,Tge=mge,Ege=bge,Age="[object Boolean]",Oge="[object Date]",Rge="[object Map]",xge="[object Number]",Ige="[object RegExp]",Pge="[object Set]",Nge="[object String]",Dge="[object Symbol]",Cge="[object ArrayBuffer]",Lge="[object DataView]",jge="[object Float32Array]",Mge="[object Float64Array]",Fge="[object Int8Array]",qge="[object Int16Array]",Bge="[object Int32Array]",$ge="[object Uint8Array]",Uge="[object Uint8ClampedArray]",kge="[object Uint16Array]",Vge="[object Uint32Array]";function Hge(t,e,n){var r=t.constructor;switch(e){case Cge:return vge(t);case Age:case Oge:return new r(+t);case Lge:return wge(t,n);case jge:case Mge:case Fge:case qge:case Bge:case $ge:case Uge:case kge:case Vge:return Ege(t,n);case Rge:return new r;case xge:case Nge:return new r(t);case Ige:return Sge(t);case Pge:return new r;case Dge:return Tge(t)}}var Qge=Hge,zge=N_,c6=Object.create,Gge=function(){function t(){}return function(e){if(!zge(e))return{};if(c6)return c6(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Wge=Gge,Kge=Wge,Jge=KG,Xge=rP;function Yge(t){return typeof t.constructor=="function"&&!Xge(t)?Kge(Jge(t)):{}}var Zge=Yge,e_e=sP,t_e=D_,r_e="[object Map]";function n_e(t){return t_e(t)&&e_e(t)==r_e}var i_e=n_e,a_e=i_e,s_e=eP,l6=tP,d6=l6&&l6.isMap,o_e=d6?s_e(d6):a_e,u_e=o_e,c_e=sP,l_e=D_,d_e="[object Set]";function f_e(t){return l_e(t)&&c_e(t)==d_e}var h_e=f_e,p_e=h_e,y_e=eP,f6=tP,h6=f6&&f6.isSet,m_e=h6?y_e(h6):p_e,g_e=m_e,__e=Lpe,b_e=Mpe,v_e=$G,w_e=xye,S_e=Qye,T_e=zye,E_e=Wye,A_e=sme,O_e=bme,R_e=Rme,x_e=Dme,I_e=sP,P_e=ige,N_e=Qge,D_e=Zge,C_e=ZI,L_e=kG,j_e=u_e,M_e=N_,F_e=g_e,q_e=nP,B_e=iP,$_e=1,U_e=2,k_e=4,ZG="[object Arguments]",V_e="[object Array]",H_e="[object Boolean]",Q_e="[object Date]",z_e="[object Error]",eW="[object Function]",G_e="[object GeneratorFunction]",W_e="[object Map]",K_e="[object Number]",tW="[object Object]",J_e="[object RegExp]",X_e="[object Set]",Y_e="[object String]",Z_e="[object Symbol]",ebe="[object WeakMap]",tbe="[object ArrayBuffer]",rbe="[object DataView]",nbe="[object Float32Array]",ibe="[object Float64Array]",abe="[object Int8Array]",sbe="[object Int16Array]",obe="[object Int32Array]",ube="[object Uint8Array]",cbe="[object Uint8ClampedArray]",lbe="[object Uint16Array]",dbe="[object Uint32Array]",fr={};fr[ZG]=fr[V_e]=fr[tbe]=fr[rbe]=fr[H_e]=fr[Q_e]=fr[nbe]=fr[ibe]=fr[abe]=fr[sbe]=fr[obe]=fr[W_e]=fr[K_e]=fr[tW]=fr[J_e]=fr[X_e]=fr[Y_e]=fr[Z_e]=fr[ube]=fr[cbe]=fr[lbe]=fr[dbe]=!0;fr[z_e]=fr[eW]=fr[ebe]=!1;function j1(t,e,n,r,a,s){var o,u=e&$_e,l=e&U_e,c=e&k_e;if(n&&(o=a?n(t,r,a,s):n(t)),o!==void 0)return o;if(!M_e(t))return t;var d=C_e(t);if(d){if(o=P_e(t),!u)return E_e(t,o)}else{var f=I_e(t),h=f==eW||f==G_e;if(L_e(t))return T_e(t,u);if(f==tW||f==ZG||h&&!a){if(o=l||h?{}:D_e(t),!u)return l?O_e(t,S_e(o,t)):A_e(t,w_e(o,t))}else{if(!fr[f])return a?t:{};o=N_e(t,f,u)}}s||(s=new __e);var p=s.get(t);if(p)return p;s.set(t,o),F_e(t)?t.forEach(function(g){o.add(j1(g,e,n,g,t,s))}):j_e(t)&&t.forEach(function(g,_){o.set(_,j1(g,e,n,_,t,s))});var m=c?l?x_e:R_e:l?B_e:q_e,y=d?void 0:m(t);return b_e(y||t,function(g,_){y&&(_=g,g=t[_]),v_e(o,_,j1(g,e,n,_,t,s))}),o}var fbe=j1,hbe=fbe,pbe=4;function ybe(t){return hbe(t,pbe)}var mbe=ybe;const gbe=Tz(mbe);function _be(t){let e="";for(let n=0;n<t;n++)e+=" ";return e}let Bl=class{constructor({type:e,attr:n={},children:r=[]}={}){this.type=e,this.attr=n,this.children=r}clone(e){const n=new this.constructor;return n.type=this.type,n.attr=gbe(this.attr),n.children=this.children.map(r=>typeof r.clone=="function"?r.clone():r),e&&e(n),n}toStringStart(){return null}toStringChildren({multiline:e=!1,indent:n=!1}={}){const r=e?`
`:" ";let a=this.children.map(s=>s.toString()).filter(Boolean).join(r);return n&&(a=a.split(`
`).map(s=>_be(2)+s).join(`
`)),a}toStringEnd(){return null}toString({multiline:e=!1}={}){const n=e?`
`:" ";return[this.toStringStart(),this.toStringChildren(),this.toStringEnd()].filter(Boolean).join(n)}};function bbe(t){return"_:"+t.value}function vbe(t,e){return[...t].map(n=>e(n)).join(`
`)+`
`}function wbe(){return""}function rW(t){return"<"+t.value+">"}const Sbe=/["\\\\\n\r]/,Tbe=/["\\\\\n\r]/g,Ebe={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function Abe(t){return Ebe[t]}function Obe(t){return Sbe.test(t)?t.replace(Tbe,Abe):t}function Rbe(t){const e=Obe(t.value);return t.datatype.value==="http://www.w3.org/2001/XMLSchema#string"?'"'+e+'"':t.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?'"'+e+'"@'+t.language:'"'+e+'"^^'+rW(t.datatype)}function xbe(t,e){const n=e(t.subject),r=e(t.predicate),a=e(t.object),s=e(t.graph);return`${n} ${r} ${a} ${s?s+" ":""}.`}function Ibe(t){return"?"+t.value}function ax(t){if(!t)return null;if(t.termType==="BlankNode")return bbe(t);if(t.termType==="DefaultGraph")return wbe();if(t.termType==="Literal")return Rbe(t);if(t.termType==="NamedNode")return rW(t);if(t.termType==="Quad"||t.subject&&t.predicate&&t.object&&t.graph)return xbe(t,ax);if(t.termType==="Variable")return Ibe(t);if(t[Symbol.iterator])return vbe(t,ax);throw new Error(`unknown termType ${t.termType}`)}function Ug(t){return t.termType&&ax(t)||t.toString()}class uP extends Bl{constructor({type:e="Patterns"}={}){super({type:e})}add(e){this.children.push(e)}addAll(e=[]){e.forEach(n=>{this.add(n)})}}class cP extends Bl{constructor(e){super({type:"SubQuery"}),this.children=e?[e]:[]}toStringStart(){return this.children.length!==0&&"{"}toStringChildren(){return super.toStringChildren({indent:!0})}toStringEnd(){return this.children.length!==0&&"}"}toString(){return super.toString({multiline:!0})}}class Pbe extends uP{constructor(e=[]){super({type:"GraphPattern"}),this.addAll(e)}get graph(){const e=this.children.filter(n=>n.type==="TriplePattern")[0];return e&&e.attr.graph}add(e){if(e.type==="TriplePattern"&&this.graph&&!this.graph.equals(e.attr.graph))throw new Error(`graph of new pattern ${e.attr.graph.value} doesn't match existing graph ${this.graph.value}`);super.add(e)}toStringStart(){if(!(!this.graph||this.graph.termType==="DefaultGraph"))return`GRAPH ${Ug(this.graph)} {
`}toStringChildren(){if(this.graph)return this.graph.termType==="DefaultGraph"?super.toStringChildren({multiline:!0}):super.toStringChildren({multiline:!0,indent:!0})}toStringEnd(){if(!(!this.graph||this.graph.termType==="DefaultGraph"))return`
}`}}class Hb extends Bl{constructor(e){super({type:"Path"}),this.attr.elements=e}toStringStart(){return this.attr.elements.map(e=>Ug(e)).join("/")}}class p6 extends Bl{constructor(e,n,r,a){super({type:"TriplePattern"}),this.attr.subject=Array.isArray(e)?new Hb(e):e,this.attr.predicate=Array.isArray(n)?new Hb(n):n,this.attr.object=Array.isArray(r)?new Hb(r):r,this.attr.graph=Array.isArray(a)?new Hb(a):a||Cr.defaultGraph()}toStringStart(){return[Ug(this.attr.subject),Ug(this.attr.predicate),Ug(this.attr.object),"."].join(" ")}}function Nbe(t,e){if(Array.isArray(e)&&(e=new p6(...e)),e.termType==="Quad"&&(e=new p6(e.subject,e.predicate,e.object,e.graph)),e.type==="Select")return t.children.push(new cP(e));if(e.type==="TriplePattern"&&t){const n=t.children.slice(-1)[0];return n&&n.type==="GraphPattern"&&n.graph.equals(e.attr.graph)?n.add(e):t.children.push(new Pbe([e]))}return t.children.push(e)}function nW(t,e){return e.forEach(n=>{Nbe(t,n)}),t}class Dbe extends Bl{constructor(e=[],{queryPrefix:n}={}){super({type:"DeleteData"}),this.attr={queryPrefix:n},e.length===0?this.children=[""]:(this.children=[new cP(new uP)],nW(this._patterns,e))}get _patterns(){return this.children[0].children[0]}toStringStart(){return[this.attr.queryPrefix,"DELETE DATA"].filter(Boolean).join("")}}class Cbe extends Bl{constructor(e=[],{queryPrefix:n}={}){super({type:"InsertData"}),this.attr={queryPrefix:n},e.length===0?this.children=[""]:(this.children=[new cP(new uP)],nW(this._patterns,e))}get _patterns(){return this.children[0].children[0]}toStringStart(){return[this.attr.queryPrefix,"INSERT DATA"].filter(Boolean).join("")}}const Lbe=(t,e)=>new Dbe(t,e),jbe=(t,e)=>new Cbe(t,e);function iW(t,e){return function(){return t.apply(e,arguments)}}const{toString:Mbe}=Object.prototype,{getPrototypeOf:lP}=Object,vw=(t=>e=>{const n=Mbe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ba=t=>(t=t.toLowerCase(),e=>vw(e)===t),ww=t=>e=>typeof e===t,{isArray:$l}=Array,e_=ww("undefined");function Fbe(t){return t!==null&&!e_(t)&&t.constructor!==null&&!e_(t.constructor)&&qi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aW=Ba("ArrayBuffer");function qbe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&aW(t.buffer),e}const Bbe=ww("string"),qi=ww("function"),sW=ww("number"),Sw=t=>t!==null&&typeof t=="object",$be=t=>t===!0||t===!1,M1=t=>{if(vw(t)!=="object")return!1;const e=lP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ube=Ba("Date"),kbe=Ba("File"),Vbe=Ba("Blob"),Hbe=Ba("FileList"),Qbe=t=>Sw(t)&&qi(t.pipe),zbe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qi(t.append)&&((e=vw(t))==="formdata"||e==="object"&&qi(t.toString)&&t.toString()==="[object FormData]"))},Gbe=Ba("URLSearchParams"),Wbe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function C_(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),$l(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let u;for(r=0;r<o;r++)u=s[r],e.call(null,t[u],u,t)}}function oW(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const uW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:bR,cW=t=>!e_(t)&&t!==uW;function sx(){const{caseless:t}=cW(this)&&this||{},e={},n=(r,a)=>{const s=t&&oW(e,a)||a;M1(e[s])&&M1(r)?e[s]=sx(e[s],r):M1(r)?e[s]=sx({},r):$l(r)?e[s]=r.slice():e[s]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&C_(arguments[r],n);return e}const Kbe=(t,e,n,{allOwnKeys:r}={})=>(C_(e,(a,s)=>{n&&qi(a)?t[s]=iW(a,n):t[s]=a},{allOwnKeys:r}),t),Jbe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xbe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ybe=(t,e,n,r)=>{let a,s,o;const u={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)o=a[s],(!r||r(o,t,e))&&!u[o]&&(e[o]=t[o],u[o]=!0);t=n!==!1&&lP(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Zbe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},e1e=t=>{if(!t)return null;if($l(t))return t;let e=t.length;if(!sW(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},t1e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lP(Uint8Array)),r1e=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=r.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},n1e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},i1e=Ba("HTMLFormElement"),a1e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),y6=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),s1e=Ba("RegExp"),lW=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};C_(n,(a,s)=>{let o;(o=e(a,s,t))!==!1&&(r[s]=o||a)}),Object.defineProperties(t,r)},o1e=t=>{lW(t,(e,n)=>{if(qi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(qi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},u1e=(t,e)=>{const n={},r=a=>{a.forEach(s=>{n[s]=!0})};return $l(t)?r(t):r(String(t).split(e)),n},c1e=()=>{},l1e=(t,e)=>(t=+t,Number.isFinite(t)?t:e),R2="abcdefghijklmnopqrstuvwxyz",m6="0123456789",dW={DIGIT:m6,ALPHA:R2,ALPHA_DIGIT:R2+R2.toUpperCase()+m6},d1e=(t=16,e=dW.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function f1e(t){return!!(t&&qi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const h1e=t=>{const e=new Array(10),n=(r,a)=>{if(Sw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const s=$l(r)?[]:{};return C_(r,(o,u)=>{const l=n(o,a+1);!e_(l)&&(s[u]=l)}),e[a]=void 0,s}}return r};return n(t,0)},p1e=Ba("AsyncFunction"),y1e=t=>t&&(Sw(t)||qi(t))&&qi(t.then)&&qi(t.catch),We={isArray:$l,isArrayBuffer:aW,isBuffer:Fbe,isFormData:zbe,isArrayBufferView:qbe,isString:Bbe,isNumber:sW,isBoolean:$be,isObject:Sw,isPlainObject:M1,isUndefined:e_,isDate:Ube,isFile:kbe,isBlob:Vbe,isRegExp:s1e,isFunction:qi,isStream:Qbe,isURLSearchParams:Gbe,isTypedArray:t1e,isFileList:Hbe,forEach:C_,merge:sx,extend:Kbe,trim:Wbe,stripBOM:Jbe,inherits:Xbe,toFlatObject:Ybe,kindOf:vw,kindOfTest:Ba,endsWith:Zbe,toArray:e1e,forEachEntry:r1e,matchAll:n1e,isHTMLForm:i1e,hasOwnProperty:y6,hasOwnProp:y6,reduceDescriptors:lW,freezeMethods:o1e,toObjectSet:u1e,toCamelCase:a1e,noop:c1e,toFiniteNumber:l1e,findKey:oW,global:uW,isContextDefined:cW,ALPHABET:dW,generateString:d1e,isSpecCompliantForm:f1e,toJSONObject:h1e,isAsyncFn:p1e,isThenable:y1e};var dP={},Tw={};Tw.byteLength=_1e;Tw.toByteArray=v1e;Tw.fromByteArray=T1e;var Aa=[],Ii=[],m1e=typeof Uint8Array<"u"?Uint8Array:Array,x2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wc=0,g1e=x2.length;wc<g1e;++wc)Aa[wc]=x2[wc],Ii[x2.charCodeAt(wc)]=wc;Ii[45]=62;Ii[95]=63;function fW(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function _1e(t){var e=fW(t),n=e[0],r=e[1];return(n+r)*3/4-r}function b1e(t,e,n){return(e+n)*3/4-n}function v1e(t){var e,n=fW(t),r=n[0],a=n[1],s=new m1e(b1e(t,r,a)),o=0,u=a>0?r-4:r,l;for(l=0;l<u;l+=4)e=Ii[t.charCodeAt(l)]<<18|Ii[t.charCodeAt(l+1)]<<12|Ii[t.charCodeAt(l+2)]<<6|Ii[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return a===2&&(e=Ii[t.charCodeAt(l)]<<2|Ii[t.charCodeAt(l+1)]>>4,s[o++]=e&255),a===1&&(e=Ii[t.charCodeAt(l)]<<10|Ii[t.charCodeAt(l+1)]<<4|Ii[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function w1e(t){return Aa[t>>18&63]+Aa[t>>12&63]+Aa[t>>6&63]+Aa[t&63]}function S1e(t,e,n){for(var r,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),a.push(w1e(r));return a.join("")}function T1e(t){for(var e,n=t.length,r=n%3,a=[],s=16383,o=0,u=n-r;o<u;o+=s)a.push(S1e(t,o,o+s>u?u:o+s));return r===1?(e=t[n-1],a.push(Aa[e>>2]+Aa[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],a.push(Aa[e>>10]+Aa[e>>4&63]+Aa[e<<2&63]+"=")),a.join("")}var fP={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */fP.read=function(t,e,n,r,a){var s,o,u=a*8-r-1,l=(1<<u)-1,c=l>>1,d=-7,f=n?a-1:0,h=n?-1:1,p=t[e+f];for(f+=h,s=p&(1<<-d)-1,p>>=-d,d+=u;d>0;s=s*256+t[e+f],f+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=o*256+t[e+f],f+=h,d-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(p?-1:1)*o*Math.pow(2,s-r)};fP.write=function(t,e,n,r,a,s){var o,u,l,c=s*8-a-1,d=(1<<c)-1,f=d>>1,h=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,m=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=d?(u=0,o=d):o+f>=1?(u=(e*l-1)*Math.pow(2,a),o=o+f):(u=e*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;t[n+p]=u&255,p+=m,u/=256,a-=8);for(o=o<<a|u,c+=a;c>0;t[n+p]=o&255,p+=m,o/=256,c-=8);t[n+p-m]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Tw,n=fP,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:u}=globalThis;d.TYPED_ARRAY_SUPPORT=l(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const K=new s(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,s.prototype),Object.setPrototypeOf(K,C),K.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function c(K){if(K>a)throw new RangeError('The value "'+K+'" is invalid for option "size"');const C=new s(K);return Object.setPrototypeOf(C,d.prototype),C}function d(K,C,q){if(typeof K=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(K)}return f(K,C,q)}d.poolSize=8192;function f(K,C,q){if(typeof K=="string")return y(K,C);if(o.isView(K))return _(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ee(K,o)||K&&Ee(K.buffer,o)||typeof u<"u"&&(Ee(K,u)||K&&Ee(K.buffer,u)))return v(K,C,q);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const W=K.valueOf&&K.valueOf();if(W!=null&&W!==K)return d.from(W,C,q);const re=b(K);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return d.from(K[Symbol.toPrimitive]("string"),C,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}d.from=function(K,C,q){return f(K,C,q)},Object.setPrototypeOf(d.prototype,s.prototype),Object.setPrototypeOf(d,s);function h(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function p(K,C,q){return h(K),K<=0?c(K):C!==void 0?typeof q=="string"?c(K).fill(C,q):c(K).fill(C):c(K)}d.alloc=function(K,C,q){return p(K,C,q)};function m(K){return h(K),c(K<0?0:w(K)|0)}d.allocUnsafe=function(K){return m(K)},d.allocUnsafeSlow=function(K){return m(K)};function y(K,C){if((typeof C!="string"||C==="")&&(C="utf8"),!d.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const q=A(K,C)|0;let W=c(q);const re=W.write(K,C);return re!==q&&(W=W.slice(0,re)),W}function g(K){const C=K.length<0?0:w(K.length)|0,q=c(C);for(let W=0;W<C;W+=1)q[W]=K[W]&255;return q}function _(K){if(Ee(K,s)){const C=new s(K);return v(C.buffer,C.byteOffset,C.byteLength)}return g(K)}function v(K,C,q){if(C<0||K.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<C+(q||0))throw new RangeError('"length" is outside of buffer bounds');let W;return C===void 0&&q===void 0?W=new s(K):q===void 0?W=new s(K,C):W=new s(K,C,q),Object.setPrototypeOf(W,d.prototype),W}function b(K){if(d.isBuffer(K)){const C=w(K.length)|0,q=c(C);return q.length===0||K.copy(q,0,0,C),q}if(K.length!==void 0)return typeof K.length!="number"||Ue(K.length)?c(0):g(K);if(K.type==="Buffer"&&Array.isArray(K.data))return g(K.data)}function w(K){if(K>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return K|0}function S(K){return+K!=K&&(K=0),d.alloc(+K)}d.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==d.prototype},d.compare=function(C,q){if(Ee(C,s)&&(C=d.from(C,C.offset,C.byteLength)),Ee(q,s)&&(q=d.from(q,q.offset,q.byteLength)),!d.isBuffer(C)||!d.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===q)return 0;let W=C.length,re=q.length;for(let pe=0,ge=Math.min(W,re);pe<ge;++pe)if(C[pe]!==q[pe]){W=C[pe],re=q[pe];break}return W<re?-1:re<W?1:0},d.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(C,q){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return d.alloc(0);let W;if(q===void 0)for(q=0,W=0;W<C.length;++W)q+=C[W].length;const re=d.allocUnsafe(q);let pe=0;for(W=0;W<C.length;++W){let ge=C[W];if(Ee(ge,s))pe+ge.length>re.length?(d.isBuffer(ge)||(ge=d.from(ge)),ge.copy(re,pe)):s.prototype.set.call(re,ge,pe);else if(d.isBuffer(ge))ge.copy(re,pe);else throw new TypeError('"list" argument must be an Array of Buffers');pe+=ge.length}return re};function A(K,C){if(d.isBuffer(K))return K.length;if(o.isView(K)||Ee(K,o))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const q=K.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&q===0)return 0;let re=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return te(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return ve(K).length;default:if(re)return W?-1:te(K).length;C=(""+C).toLowerCase(),re=!0}}d.byteLength=A;function x(K,C,q){let W=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,C>>>=0,q<=C))return"";for(K||(K="utf8");;)switch(K){case"hex":return Ve(this,C,q);case"utf8":case"utf-8":return X(this,C,q);case"ascii":return Te(this,C,q);case"latin1":case"binary":return De(this,C,q);case"base64":return H(this,C,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,C,q);default:if(W)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),W=!0}}d.prototype._isBuffer=!0;function M(K,C,q){const W=K[C];K[C]=K[q],K[q]=W}d.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<C;q+=2)M(this,q,q+1);return this},d.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<C;q+=4)M(this,q,q+3),M(this,q+1,q+2);return this},d.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<C;q+=8)M(this,q,q+7),M(this,q+1,q+6),M(this,q+2,q+5),M(this,q+3,q+4);return this},d.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?X(this,0,C):x.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(C){if(!d.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:d.compare(this,C)===0},d.prototype.inspect=function(){let C="";const q=t.INSPECT_MAX_BYTES;return C=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(C+=" ... "),"<Buffer "+C+">"},r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=function(C,q,W,re,pe){if(Ee(C,s)&&(C=d.from(C,C.offset,C.byteLength)),!d.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(q===void 0&&(q=0),W===void 0&&(W=C?C.length:0),re===void 0&&(re=0),pe===void 0&&(pe=this.length),q<0||W>C.length||re<0||pe>this.length)throw new RangeError("out of range index");if(re>=pe&&q>=W)return 0;if(re>=pe)return-1;if(q>=W)return 1;if(q>>>=0,W>>>=0,re>>>=0,pe>>>=0,this===C)return 0;let ge=pe-re,qe=W-q;const Z=Math.min(ge,qe),Oe=this.slice(re,pe),je=C.slice(q,W);for(let Be=0;Be<Z;++Be)if(Oe[Be]!==je[Be]){ge=Oe[Be],qe=je[Be];break}return ge<qe?-1:qe<ge?1:0};function I(K,C,q,W,re){if(K.length===0)return-1;if(typeof q=="string"?(W=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Ue(q)&&(q=re?0:K.length-1),q<0&&(q=K.length+q),q>=K.length){if(re)return-1;q=K.length-1}else if(q<0)if(re)q=0;else return-1;if(typeof C=="string"&&(C=d.from(C,W)),d.isBuffer(C))return C.length===0?-1:N(K,C,q,W,re);if(typeof C=="number")return C=C&255,typeof s.prototype.indexOf=="function"?re?s.prototype.indexOf.call(K,C,q):s.prototype.lastIndexOf.call(K,C,q):N(K,[C],q,W,re);throw new TypeError("val must be string, number or Buffer")}function N(K,C,q,W,re){let pe=1,ge=K.length,qe=C.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(K.length<2||C.length<2)return-1;pe=2,ge/=2,qe/=2,q/=2}function Z(je,Be){return pe===1?je[Be]:je.readUInt16BE(Be*pe)}let Oe;if(re){let je=-1;for(Oe=q;Oe<ge;Oe++)if(Z(K,Oe)===Z(C,je===-1?0:Oe-je)){if(je===-1&&(je=Oe),Oe-je+1===qe)return je*pe}else je!==-1&&(Oe-=Oe-je),je=-1}else for(q+qe>ge&&(q=ge-qe),Oe=q;Oe>=0;Oe--){let je=!0;for(let Be=0;Be<qe;Be++)if(Z(K,Oe+Be)!==Z(C,Be)){je=!1;break}if(je)return Oe}return-1}d.prototype.includes=function(C,q,W){return this.indexOf(C,q,W)!==-1},d.prototype.indexOf=function(C,q,W){return I(this,C,q,W,!0)},d.prototype.lastIndexOf=function(C,q,W){return I(this,C,q,W,!1)};function F(K,C,q,W){q=Number(q)||0;const re=K.length-q;W?(W=Number(W),W>re&&(W=re)):W=re;const pe=C.length;W>pe/2&&(W=pe/2);let ge;for(ge=0;ge<W;++ge){const qe=parseInt(C.substr(ge*2,2),16);if(Ue(qe))return ge;K[q+ge]=qe}return ge}function D(K,C,q,W){return Ce(te(C,K.length-q),K,q,W)}function V(K,C,q,W){return Ce(he(C),K,q,W)}function k(K,C,q,W){return Ce(ve(C),K,q,W)}function U(K,C,q,W){return Ce(ce(C,K.length-q),K,q,W)}d.prototype.write=function(C,q,W,re){if(q===void 0)re="utf8",W=this.length,q=0;else if(W===void 0&&typeof q=="string")re=q,W=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(W)?(W=W>>>0,re===void 0&&(re="utf8")):(re=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pe=this.length-q;if((W===void 0||W>pe)&&(W=pe),C.length>0&&(W<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let ge=!1;for(;;)switch(re){case"hex":return F(this,C,q,W);case"utf8":case"utf-8":return D(this,C,q,W);case"ascii":case"latin1":case"binary":return V(this,C,q,W);case"base64":return k(this,C,q,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,C,q,W);default:if(ge)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ge=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(K,C,q){return C===0&&q===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(C,q))}function X(K,C,q){q=Math.min(K.length,q);const W=[];let re=C;for(;re<q;){const pe=K[re];let ge=null,qe=pe>239?4:pe>223?3:pe>191?2:1;if(re+qe<=q){let Z,Oe,je,Be;switch(qe){case 1:pe<128&&(ge=pe);break;case 2:Z=K[re+1],(Z&192)===128&&(Be=(pe&31)<<6|Z&63,Be>127&&(ge=Be));break;case 3:Z=K[re+1],Oe=K[re+2],(Z&192)===128&&(Oe&192)===128&&(Be=(pe&15)<<12|(Z&63)<<6|Oe&63,Be>2047&&(Be<55296||Be>57343)&&(ge=Be));break;case 4:Z=K[re+1],Oe=K[re+2],je=K[re+3],(Z&192)===128&&(Oe&192)===128&&(je&192)===128&&(Be=(pe&15)<<18|(Z&63)<<12|(Oe&63)<<6|je&63,Be>65535&&Be<1114112&&(ge=Be))}}ge===null?(ge=65533,qe=1):ge>65535&&(ge-=65536,W.push(ge>>>10&1023|55296),ge=56320|ge&1023),W.push(ge),re+=qe}return fe(W)}const ee=4096;function fe(K){const C=K.length;if(C<=ee)return String.fromCharCode.apply(String,K);let q="",W=0;for(;W<C;)q+=String.fromCharCode.apply(String,K.slice(W,W+=ee));return q}function Te(K,C,q){let W="";q=Math.min(K.length,q);for(let re=C;re<q;++re)W+=String.fromCharCode(K[re]&127);return W}function De(K,C,q){let W="";q=Math.min(K.length,q);for(let re=C;re<q;++re)W+=String.fromCharCode(K[re]);return W}function Ve(K,C,q){const W=K.length;(!C||C<0)&&(C=0),(!q||q<0||q>W)&&(q=W);let re="";for(let pe=C;pe<q;++pe)re+=Fe[K[pe]];return re}function le(K,C,q){const W=K.slice(C,q);let re="";for(let pe=0;pe<W.length-1;pe+=2)re+=String.fromCharCode(W[pe]+W[pe+1]*256);return re}d.prototype.slice=function(C,q){const W=this.length;C=~~C,q=q===void 0?W:~~q,C<0?(C+=W,C<0&&(C=0)):C>W&&(C=W),q<0?(q+=W,q<0&&(q=0)):q>W&&(q=W),q<C&&(q=C);const re=this.subarray(C,q);return Object.setPrototypeOf(re,d.prototype),re};function ue(K,C,q){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+C>q)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(C,q,W){C=C>>>0,q=q>>>0,W||ue(C,q,this.length);let re=this[C],pe=1,ge=0;for(;++ge<q&&(pe*=256);)re+=this[C+ge]*pe;return re},d.prototype.readUintBE=d.prototype.readUIntBE=function(C,q,W){C=C>>>0,q=q>>>0,W||ue(C,q,this.length);let re=this[C+--q],pe=1;for(;q>0&&(pe*=256);)re+=this[C+--q]*pe;return re},d.prototype.readUint8=d.prototype.readUInt8=function(C,q){return C=C>>>0,q||ue(C,1,this.length),this[C]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(C,q){return C=C>>>0,q||ue(C,2,this.length),this[C]|this[C+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(C,q){return C=C>>>0,q||ue(C,2,this.length),this[C]<<8|this[C+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(C,q){return C=C>>>0,q||ue(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(C,q){return C=C>>>0,q||ue(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},d.prototype.readBigUInt64LE=Qe(function(C){C=C>>>0,G(C,"offset");const q=this[C],W=this[C+7];(q===void 0||W===void 0)&&Q(C,this.length-8);const re=q+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,pe=this[++C]+this[++C]*2**8+this[++C]*2**16+W*2**24;return BigInt(re)+(BigInt(pe)<<BigInt(32))}),d.prototype.readBigUInt64BE=Qe(function(C){C=C>>>0,G(C,"offset");const q=this[C],W=this[C+7];(q===void 0||W===void 0)&&Q(C,this.length-8);const re=q*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],pe=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+W;return(BigInt(re)<<BigInt(32))+BigInt(pe)}),d.prototype.readIntLE=function(C,q,W){C=C>>>0,q=q>>>0,W||ue(C,q,this.length);let re=this[C],pe=1,ge=0;for(;++ge<q&&(pe*=256);)re+=this[C+ge]*pe;return pe*=128,re>=pe&&(re-=Math.pow(2,8*q)),re},d.prototype.readIntBE=function(C,q,W){C=C>>>0,q=q>>>0,W||ue(C,q,this.length);let re=q,pe=1,ge=this[C+--re];for(;re>0&&(pe*=256);)ge+=this[C+--re]*pe;return pe*=128,ge>=pe&&(ge-=Math.pow(2,8*q)),ge},d.prototype.readInt8=function(C,q){return C=C>>>0,q||ue(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},d.prototype.readInt16LE=function(C,q){C=C>>>0,q||ue(C,2,this.length);const W=this[C]|this[C+1]<<8;return W&32768?W|4294901760:W},d.prototype.readInt16BE=function(C,q){C=C>>>0,q||ue(C,2,this.length);const W=this[C+1]|this[C]<<8;return W&32768?W|4294901760:W},d.prototype.readInt32LE=function(C,q){return C=C>>>0,q||ue(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},d.prototype.readInt32BE=function(C,q){return C=C>>>0,q||ue(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},d.prototype.readBigInt64LE=Qe(function(C){C=C>>>0,G(C,"offset");const q=this[C],W=this[C+7];(q===void 0||W===void 0)&&Q(C,this.length-8);const re=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(W<<24);return(BigInt(re)<<BigInt(32))+BigInt(q+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),d.prototype.readBigInt64BE=Qe(function(C){C=C>>>0,G(C,"offset");const q=this[C],W=this[C+7];(q===void 0||W===void 0)&&Q(C,this.length-8);const re=(q<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(re)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+W)}),d.prototype.readFloatLE=function(C,q){return C=C>>>0,q||ue(C,4,this.length),n.read(this,C,!0,23,4)},d.prototype.readFloatBE=function(C,q){return C=C>>>0,q||ue(C,4,this.length),n.read(this,C,!1,23,4)},d.prototype.readDoubleLE=function(C,q){return C=C>>>0,q||ue(C,8,this.length),n.read(this,C,!0,52,8)},d.prototype.readDoubleBE=function(C,q){return C=C>>>0,q||ue(C,8,this.length),n.read(this,C,!1,52,8)};function Ie(K,C,q,W,re,pe){if(!d.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>re||C<pe)throw new RangeError('"value" argument is out of bounds');if(q+W>K.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(C,q,W,re){if(C=+C,q=q>>>0,W=W>>>0,!re){const qe=Math.pow(2,8*W)-1;Ie(this,C,q,W,qe,0)}let pe=1,ge=0;for(this[q]=C&255;++ge<W&&(pe*=256);)this[q+ge]=C/pe&255;return q+W},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(C,q,W,re){if(C=+C,q=q>>>0,W=W>>>0,!re){const qe=Math.pow(2,8*W)-1;Ie(this,C,q,W,qe,0)}let pe=W-1,ge=1;for(this[q+pe]=C&255;--pe>=0&&(ge*=256);)this[q+pe]=C/ge&255;return q+W},d.prototype.writeUint8=d.prototype.writeUInt8=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,1,255,0),this[q]=C&255,q+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,2,65535,0),this[q]=C&255,this[q+1]=C>>>8,q+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,2,65535,0),this[q]=C>>>8,this[q+1]=C&255,q+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,4,4294967295,0),this[q+3]=C>>>24,this[q+2]=C>>>16,this[q+1]=C>>>8,this[q]=C&255,q+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,4,4294967295,0),this[q]=C>>>24,this[q+1]=C>>>16,this[q+2]=C>>>8,this[q+3]=C&255,q+4};function Ne(K,C,q,W,re){$(C,W,re,K,q,7);let pe=Number(C&BigInt(4294967295));K[q++]=pe,pe=pe>>8,K[q++]=pe,pe=pe>>8,K[q++]=pe,pe=pe>>8,K[q++]=pe;let ge=Number(C>>BigInt(32)&BigInt(4294967295));return K[q++]=ge,ge=ge>>8,K[q++]=ge,ge=ge>>8,K[q++]=ge,ge=ge>>8,K[q++]=ge,q}function we(K,C,q,W,re){$(C,W,re,K,q,7);let pe=Number(C&BigInt(4294967295));K[q+7]=pe,pe=pe>>8,K[q+6]=pe,pe=pe>>8,K[q+5]=pe,pe=pe>>8,K[q+4]=pe;let ge=Number(C>>BigInt(32)&BigInt(4294967295));return K[q+3]=ge,ge=ge>>8,K[q+2]=ge,ge=ge>>8,K[q+1]=ge,ge=ge>>8,K[q]=ge,q+8}d.prototype.writeBigUInt64LE=Qe(function(C,q=0){return Ne(this,C,q,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Qe(function(C,q=0){return we(this,C,q,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(C,q,W,re){if(C=+C,q=q>>>0,!re){const Z=Math.pow(2,8*W-1);Ie(this,C,q,W,Z-1,-Z)}let pe=0,ge=1,qe=0;for(this[q]=C&255;++pe<W&&(ge*=256);)C<0&&qe===0&&this[q+pe-1]!==0&&(qe=1),this[q+pe]=(C/ge>>0)-qe&255;return q+W},d.prototype.writeIntBE=function(C,q,W,re){if(C=+C,q=q>>>0,!re){const Z=Math.pow(2,8*W-1);Ie(this,C,q,W,Z-1,-Z)}let pe=W-1,ge=1,qe=0;for(this[q+pe]=C&255;--pe>=0&&(ge*=256);)C<0&&qe===0&&this[q+pe+1]!==0&&(qe=1),this[q+pe]=(C/ge>>0)-qe&255;return q+W},d.prototype.writeInt8=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,1,127,-128),C<0&&(C=255+C+1),this[q]=C&255,q+1},d.prototype.writeInt16LE=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,2,32767,-32768),this[q]=C&255,this[q+1]=C>>>8,q+2},d.prototype.writeInt16BE=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,2,32767,-32768),this[q]=C>>>8,this[q+1]=C&255,q+2},d.prototype.writeInt32LE=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,4,2147483647,-2147483648),this[q]=C&255,this[q+1]=C>>>8,this[q+2]=C>>>16,this[q+3]=C>>>24,q+4},d.prototype.writeInt32BE=function(C,q,W){return C=+C,q=q>>>0,W||Ie(this,C,q,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[q]=C>>>24,this[q+1]=C>>>16,this[q+2]=C>>>8,this[q+3]=C&255,q+4},d.prototype.writeBigInt64LE=Qe(function(C,q=0){return Ne(this,C,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Qe(function(C,q=0){return we(this,C,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ae(K,C,q,W,re,pe){if(q+W>K.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Se(K,C,q,W,re){return C=+C,q=q>>>0,re||Ae(K,C,q,4),n.write(K,C,q,W,23,4),q+4}d.prototype.writeFloatLE=function(C,q,W){return Se(this,C,q,!0,W)},d.prototype.writeFloatBE=function(C,q,W){return Se(this,C,q,!1,W)};function z(K,C,q,W,re){return C=+C,q=q>>>0,re||Ae(K,C,q,8),n.write(K,C,q,W,52,8),q+8}d.prototype.writeDoubleLE=function(C,q,W){return z(this,C,q,!0,W)},d.prototype.writeDoubleBE=function(C,q,W){return z(this,C,q,!1,W)},d.prototype.copy=function(C,q,W,re){if(!d.isBuffer(C))throw new TypeError("argument should be a Buffer");if(W||(W=0),!re&&re!==0&&(re=this.length),q>=C.length&&(q=C.length),q||(q=0),re>0&&re<W&&(re=W),re===W||C.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),C.length-q<re-W&&(re=C.length-q+W);const pe=re-W;return this===C&&typeof s.prototype.copyWithin=="function"?this.copyWithin(q,W,re):s.prototype.set.call(C,this.subarray(W,re),q),pe},d.prototype.fill=function(C,q,W,re){if(typeof C=="string"){if(typeof q=="string"?(re=q,q=0,W=this.length):typeof W=="string"&&(re=W,W=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!d.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(C.length===1){const ge=C.charCodeAt(0);(re==="utf8"&&ge<128||re==="latin1")&&(C=ge)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(q<0||this.length<q||this.length<W)throw new RangeError("Out of range index");if(W<=q)return this;q=q>>>0,W=W===void 0?this.length:W>>>0,C||(C=0);let pe;if(typeof C=="number")for(pe=q;pe<W;++pe)this[pe]=C;else{const ge=d.isBuffer(C)?C:d.from(C,re),qe=ge.length;if(qe===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(pe=0;pe<W-q;++pe)this[pe+q]=ge[pe%qe]}return this};const L={};function B(K,C,q){L[K]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}B("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(K,C){return`The "${K}" argument must be of type number. Received type ${typeof C}`},TypeError),B("ERR_OUT_OF_RANGE",function(K,C,q){let W=`The value of "${K}" is out of range.`,re=q;return Number.isInteger(q)&&Math.abs(q)>2**32?re=T(String(q)):typeof q=="bigint"&&(re=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(re=T(re)),re+="n"),W+=` It must be ${C}. Received ${re}`,W},RangeError);function T(K){let C="",q=K.length;const W=K[0]==="-"?1:0;for(;q>=W+4;q-=3)C=`_${K.slice(q-3,q)}${C}`;return`${K.slice(0,q)}${C}`}function O(K,C,q){G(C,"offset"),(K[C]===void 0||K[C+q]===void 0)&&Q(C,K.length-(q+1))}function $(K,C,q,W,re,pe){if(K>q||K<C){const ge=typeof C=="bigint"?"n":"";let qe;throw pe>3?C===0||C===BigInt(0)?qe=`>= 0${ge} and < 2${ge} ** ${(pe+1)*8}${ge}`:qe=`>= -(2${ge} ** ${(pe+1)*8-1}${ge}) and < 2 ** ${(pe+1)*8-1}${ge}`:qe=`>= ${C}${ge} and <= ${q}${ge}`,new L.ERR_OUT_OF_RANGE("value",qe,K)}O(W,re,pe)}function G(K,C){if(typeof K!="number")throw new L.ERR_INVALID_ARG_TYPE(C,"number",K)}function Q(K,C,q){throw Math.floor(K)!==K?(G(K,q),new L.ERR_OUT_OF_RANGE(q||"offset","an integer",K)):C<0?new L.ERR_BUFFER_OUT_OF_BOUNDS:new L.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${C}`,K)}const Y=/[^+/0-9A-Za-z-_]/g;function ie(K){if(K=K.split("=")[0],K=K.trim().replace(Y,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function te(K,C){C=C||1/0;let q;const W=K.length;let re=null;const pe=[];for(let ge=0;ge<W;++ge){if(q=K.charCodeAt(ge),q>55295&&q<57344){if(!re){if(q>56319){(C-=3)>-1&&pe.push(239,191,189);continue}else if(ge+1===W){(C-=3)>-1&&pe.push(239,191,189);continue}re=q;continue}if(q<56320){(C-=3)>-1&&pe.push(239,191,189),re=q;continue}q=(re-55296<<10|q-56320)+65536}else re&&(C-=3)>-1&&pe.push(239,191,189);if(re=null,q<128){if((C-=1)<0)break;pe.push(q)}else if(q<2048){if((C-=2)<0)break;pe.push(q>>6|192,q&63|128)}else if(q<65536){if((C-=3)<0)break;pe.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((C-=4)<0)break;pe.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return pe}function he(K){const C=[];for(let q=0;q<K.length;++q)C.push(K.charCodeAt(q)&255);return C}function ce(K,C){let q,W,re;const pe=[];for(let ge=0;ge<K.length&&!((C-=2)<0);++ge)q=K.charCodeAt(ge),W=q>>8,re=q%256,pe.push(re),pe.push(W);return pe}function ve(K){return e.toByteArray(ie(K))}function Ce(K,C,q,W){let re;for(re=0;re<W&&!(re+q>=C.length||re>=K.length);++re)C[re+q]=K[re];return re}function Ee(K,C){return K instanceof C||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===C.name}function Ue(K){return K!==K}const Fe=function(){const K="0123456789abcdef",C=new Array(256);for(let q=0;q<16;++q){const W=q*16;for(let re=0;re<16;++re)C[W+re]=K[q]+K[re]}return C}();function Qe(K){return typeof BigInt>"u"?ke:K}function ke(){throw new Error("BigInt not supported")}})(dP);const Di=dP.Buffer,E1e=dP.Buffer;function zt(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}We.inherits(zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const hW=zt.prototype,pW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pW[t]={value:t}});Object.defineProperties(zt,pW);Object.defineProperty(hW,"isAxiosError",{value:!0});zt.from=(t,e,n,r,a,s)=>{const o=Object.create(hW);return We.toFlatObject(t,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError"),zt.call(o,t.message,e,n,r,a),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const A1e=null;function ox(t){return We.isPlainObject(t)||We.isArray(t)}function yW(t){return We.endsWith(t,"[]")?t.slice(0,-2):t}function g6(t,e,n){return t?t.concat(e).map(function(a,s){return a=yW(a),!n&&s?"["+a+"]":a}).join(n?".":""):e}function O1e(t){return We.isArray(t)&&!t.some(ox)}const R1e=We.toFlatObject(We,{},null,function(e){return/^is[A-Z]/.test(e)});function Ew(t,e,n){if(!We.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=We.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!We.isUndefined(g[y])});const r=n.metaTokens,a=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(e);if(!We.isFunction(a))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(We.isDate(m))return m.toISOString();if(!l&&We.isBlob(m))throw new zt("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(m)||We.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Di.from(m):m}function d(m,y,g){let _=m;if(m&&!g&&typeof m=="object"){if(We.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(We.isArray(m)&&O1e(m)||(We.isFileList(m)||We.endsWith(y,"[]"))&&(_=We.toArray(m)))return y=yW(y),_.forEach(function(b,w){!(We.isUndefined(b)||b===null)&&e.append(o===!0?g6([y],w,s):o===null?y:y+"[]",c(b))}),!1}return ox(m)?!0:(e.append(g6(g,y,s),c(m)),!1)}const f=[],h=Object.assign(R1e,{defaultVisitor:d,convertValue:c,isVisitable:ox});function p(m,y){if(!We.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(m),We.forEach(m,function(_,v){(!(We.isUndefined(_)||_===null)&&a.call(e,_,We.isString(v)?v.trim():v,y,h))===!0&&p(_,y?y.concat(v):[v])}),f.pop()}}if(!We.isObject(t))throw new TypeError("data must be an object");return p(t),e}function _6(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function hP(t,e){this._pairs=[],t&&Ew(t,this,e)}const mW=hP.prototype;mW.append=function(e,n){this._pairs.push([e,n])};mW.toString=function(e){const n=e?function(r){return e.call(this,r,_6)}:_6;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function x1e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gW(t,e,n){if(!e)return t;const r=n&&n.encode||x1e,a=n&&n.serialize;let s;if(a?s=a(e,n):s=We.isURLSearchParams(e)?e.toString():new hP(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class b6{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){We.forEach(this.handlers,function(r){r!==null&&e(r)})}}const _W={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I1e=typeof URLSearchParams<"u"?URLSearchParams:hP,P1e=typeof FormData<"u"?FormData:null,N1e=typeof Blob<"u"?Blob:null,D1e={isBrowser:!0,classes:{URLSearchParams:I1e,FormData:P1e,Blob:N1e},protocols:["http","https","file","blob","url","data"]},bW=typeof window<"u"&&typeof document<"u",C1e=(t=>bW&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),L1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",j1e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bW,hasStandardBrowserEnv:C1e,hasStandardBrowserWebWorkerEnv:L1e},Symbol.toStringTag,{value:"Module"})),Ra={...j1e,...D1e};function M1e(t,e){return Ew(t,new Ra.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,s){return Ra.isNode&&We.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function F1e(t){return We.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q1e(t){const e={},n=Object.keys(t);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],e[s]=t[s];return e}function vW(t){function e(n,r,a,s){let o=n[s++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),l=s>=n.length;return o=!o&&We.isArray(a)?a.length:o,l?(We.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!u):((!a[o]||!We.isObject(a[o]))&&(a[o]=[]),e(n,r,a[o],s)&&We.isArray(a[o])&&(a[o]=q1e(a[o])),!u)}if(We.isFormData(t)&&We.isFunction(t.entries)){const n={};return We.forEachEntry(t,(r,a)=>{e(F1e(r),a,n,0)}),n}return null}function B1e(t,e,n){if(We.isString(t))try{return(e||JSON.parse)(t),We.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const pP={transitional:_W,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,s=We.isObject(e);if(s&&We.isHTMLForm(e)&&(e=new FormData(e)),We.isFormData(e))return a?JSON.stringify(vW(e)):e;if(We.isArrayBuffer(e)||We.isBuffer(e)||We.isStream(e)||We.isFile(e)||We.isBlob(e))return e;if(We.isArrayBufferView(e))return e.buffer;if(We.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return M1e(e,this.formSerializer).toString();if((u=We.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ew(u?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||a?(n.setContentType("application/json",!1),B1e(e)):e}],transformResponse:[function(e){const n=this.transitional||pP.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(e&&We.isString(e)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(u){if(o)throw u.name==="SyntaxError"?zt.from(u,zt.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ra.classes.FormData,Blob:Ra.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],t=>{pP.headers[t]={}});const yP=pP,$1e=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),U1e=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||e[n]&&$1e[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},v6=Symbol("internals");function md(t){return t&&String(t).trim().toLowerCase()}function F1(t){return t===!1||t==null?t:We.isArray(t)?t.map(F1):String(t)}function k1e(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const V1e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function I2(t,e,n,r,a){if(We.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!We.isString(e)){if(We.isString(r))return e.indexOf(r)!==-1;if(We.isRegExp(r))return r.test(e)}}function H1e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Q1e(t,e){const n=We.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,s,o){return this[r].call(this,e,a,s,o)},configurable:!0})})}class Aw{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function s(u,l,c){const d=md(l);if(!d)throw new Error("header name must be a non-empty string");const f=We.findKey(a,d);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||l]=F1(u))}const o=(u,l)=>We.forEach(u,(c,d)=>s(c,d,l));return We.isPlainObject(e)||e instanceof this.constructor?o(e,n):We.isString(e)&&(e=e.trim())&&!V1e(e)?o(U1e(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=md(e),e){const r=We.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return k1e(a);if(We.isFunction(n))return n.call(this,a,r);if(We.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=md(e),e){const r=We.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||I2(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function s(o){if(o=md(o),o){const u=We.findKey(r,o);u&&(!n||I2(r,r[u],u,n))&&(delete r[u],a=!0)}}return We.isArray(e)?e.forEach(s):s(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const s=n[r];(!e||I2(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const n=this,r={};return We.forEach(this,(a,s)=>{const o=We.findKey(r,s);if(o){n[o]=F1(a),delete n[s];return}const u=e?H1e(s):String(s).trim();u!==s&&delete n[s],n[u]=F1(a),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return We.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&We.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[v6]=this[v6]={accessors:{}}).accessors,a=this.prototype;function s(o){const u=md(o);r[u]||(Q1e(a,o),r[u]=!0)}return We.isArray(e)?e.forEach(s):s(e),this}}Aw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(Aw.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});We.freezeMethods(Aw);const Ts=Aw;function P2(t,e){const n=this||yP,r=e||n,a=Ts.from(r.headers);let s=r.data;return We.forEach(t,function(u){s=u.call(n,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function wW(t){return!!(t&&t.__CANCEL__)}function L_(t,e,n){zt.call(this,t??"canceled",zt.ERR_CANCELED,e,n),this.name="CanceledError"}We.inherits(L_,zt,{__CANCEL__:!0});function z1e(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new zt("Request failed with status code "+n.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const G1e=Ra.hasStandardBrowserEnv?{write(t,e,n,r,a,s){const o=[t+"="+encodeURIComponent(e)];We.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),We.isString(r)&&o.push("path="+r),We.isString(a)&&o.push("domain="+a),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function W1e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function K1e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function SW(t,e){return t&&!W1e(e)?K1e(t,e):e}const J1e=Ra.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const u=We.isString(o)?a(o):o;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}();function X1e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Y1e(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[a]=l,r[a]=c;let f=s,h=0;for(;f!==a;)h+=n[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),c-o<e)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function w6(t,e){let n=0;const r=Y1e(50,250);return a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,u=s-n,l=r(u),c=s<=o;n=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:a};d[e?"download":"upload"]=!0,t(d)}}const Z1e=typeof XMLHttpRequest<"u",eve=Z1e&&function(t){return new Promise(function(n,r){let a=t.data;const s=Ts.from(t.headers).normalize();let{responseType:o,withXSRFToken:u}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(We.isFormData(a)){if(Ra.hasStandardBrowserEnv||Ra.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[y,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];s.setContentType([y||"multipart/form-data",...g].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(y+":"+g))}const h=SW(t.baseURL,t.url);f.open(t.method.toUpperCase(),gW(h,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function p(){if(!f)return;const y=Ts.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:y,config:t,request:f};z1e(function(b){n(b),c()},function(b){r(b),c()},_),f=null}if("onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){f&&(r(new zt("Request aborted",zt.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new zt("Network Error",zt.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||_W;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new zt(g,_.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,t,f)),f=null},Ra.hasStandardBrowserEnv&&(u&&We.isFunction(u)&&(u=u(t)),u||u!==!1&&J1e(h))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&G1e.read(t.xsrfCookieName);y&&s.set(t.xsrfHeaderName,y)}a===void 0&&s.setContentType(null),"setRequestHeader"in f&&We.forEach(s.toJSON(),function(g,_){f.setRequestHeader(_,g)}),We.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",w6(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",w6(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=y=>{f&&(r(!y||y.type?new L_(null,t,f):y),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const m=X1e(h);if(m&&Ra.protocols.indexOf(m)===-1){r(new zt("Unsupported protocol "+m+":",zt.ERR_BAD_REQUEST,t));return}f.send(a||null)})},ux={http:A1e,xhr:eve};We.forEach(ux,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const S6=t=>`- ${t}`,tve=t=>We.isFunction(t)||t===null||t===!1,TW={getAdapter:t=>{t=We.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!tve(n)&&(r=ux[(o=String(n)).toLowerCase()],r===void 0))throw new zt(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+s]=r}if(!r){const s=Object.entries(a).map(([u,l])=>`adapter ${u} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(S6).join(`
`):" "+S6(s[0]):"as no adapter specified";throw new zt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ux};function N2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new L_(null,t)}function T6(t){return N2(t),t.headers=Ts.from(t.headers),t.data=P2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),TW.getAdapter(t.adapter||yP.adapter)(t).then(function(r){return N2(t),r.data=P2.call(t,t.transformResponse,r),r.headers=Ts.from(r.headers),r},function(r){return wW(r)||(N2(t),r&&r.response&&(r.response.data=P2.call(t,t.transformResponse,r.response),r.response.headers=Ts.from(r.response.headers))),Promise.reject(r)})}const E6=t=>t instanceof Ts?{...t}:t;function pl(t,e){e=e||{};const n={};function r(c,d,f){return We.isPlainObject(c)&&We.isPlainObject(d)?We.merge.call({caseless:f},c,d):We.isPlainObject(d)?We.merge({},d):We.isArray(d)?d.slice():d}function a(c,d,f){if(We.isUndefined(d)){if(!We.isUndefined(c))return r(void 0,c,f)}else return r(c,d,f)}function s(c,d){if(!We.isUndefined(d))return r(void 0,d)}function o(c,d){if(We.isUndefined(d)){if(!We.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function u(c,d,f){if(f in e)return r(c,d);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(c,d)=>a(E6(c),E6(d),!0)};return We.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||a,h=f(t[d],e[d],d);We.isUndefined(h)&&f!==u||(n[d]=h)}),n}const EW="1.6.8",mP={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{mP[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const A6={};mP.transitional=function(e,n,r){function a(s,o){return"[Axios v"+EW+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,u)=>{if(e===!1)throw new zt(a(o," has been removed"+(n?" in "+n:"")),zt.ERR_DEPRECATED);return n&&!A6[o]&&(A6[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,u):!0}};function rve(t,e,n){if(typeof t!="object")throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const s=r[a],o=e[s];if(o){const u=t[s],l=u===void 0||o(u,s,t);if(l!==!0)throw new zt("option "+s+" must be "+l,zt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new zt("Unknown option "+s,zt.ERR_BAD_OPTION)}}const cx={assertOptions:rve,validators:mP},ks=cx.validators;class vv{constructor(e){this.defaults=e,this.interceptors={request:new b6,response:new b6}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=pl(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:s}=n;r!==void 0&&cx.assertOptions(r,{silentJSONParsing:ks.transitional(ks.boolean),forcedJSONParsing:ks.transitional(ks.boolean),clarifyTimeoutError:ks.transitional(ks.boolean)},!1),a!=null&&(We.isFunction(a)?n.paramsSerializer={serialize:a}:cx.assertOptions(a,{encode:ks.function,serialize:ks.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&We.merge(s.common,s[n.method]);s&&We.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Ts.concat(o,s);const u=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,u.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!l){const m=[T6.bind(this),void 0];for(m.unshift.apply(m,u),m.push.apply(m,c),h=m.length,d=Promise.resolve(n);f<h;)d=d.then(m[f++],m[f++]);return d}h=u.length;let p=n;for(f=0;f<h;){const m=u[f++],y=u[f++];try{p=m(p)}catch(g){y.call(this,g);break}}try{d=T6.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=pl(this.defaults,e);const n=SW(e.baseURL,e.url);return gW(n,e.params,e.paramsSerializer)}}We.forEach(["delete","get","head","options"],function(e){vv.prototype[e]=function(n,r){return this.request(pl(r||{},{method:e,url:n,data:(r||{}).data}))}});We.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,u){return this.request(pl(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}vv.prototype[e]=n(),vv.prototype[e+"Form"]=n(!0)});const q1=vv;class gP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(a=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](a);r._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(u=>{r.subscribe(u),s=u}).then(a);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,u){r.reason||(r.reason=new L_(s,o,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new gP(function(a){e=a}),cancel:e}}}const nve=gP;function ive(t){return function(n){return t.apply(null,n)}}function ave(t){return We.isObject(t)&&t.isAxiosError===!0}const lx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lx).forEach(([t,e])=>{lx[e]=t});const sve=lx;function AW(t){const e=new q1(t),n=iW(q1.prototype.request,e);return We.extend(n,q1.prototype,e,{allOwnKeys:!0}),We.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return AW(pl(t,a))},n}const Jr=AW(yP);Jr.Axios=q1;Jr.CanceledError=L_;Jr.CancelToken=nve;Jr.isCancel=wW;Jr.VERSION=EW;Jr.toFormData=Ew;Jr.AxiosError=zt;Jr.Cancel=Jr.CanceledError;Jr.all=function(e){return Promise.all(e)};Jr.spread=ive;Jr.isAxiosError=ave;Jr.mergeConfig=pl;Jr.AxiosHeaders=Ts;Jr.formToJSON=t=>vW(We.isHTMLForm(t)?new FormData(t):t);Jr.getAdapter=TW.getAdapter;Jr.HttpStatusCode=sve;Jr.default=Jr;var _P={},Ow={},bP={},j_={},OW={},Rw={},lt={},ku={},M_="delete",Sr=5,ji=1<<Sr,Wn=ji-1,Qt={};function dx(){return{value:!1}}function Mi(t){t&&(t.value=!0)}function vP(){}function yl(t){return t.size===void 0&&(t.size=t.__iterate(RW)),t.size}function _o(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?yl(t)+e:e}function RW(){return!0}function F_(t,e,n){return(t===0&&!IW(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function Ul(t,e){return xW(t,e,0)}function q_(t,e){return xW(t,e,e)}function xW(t,e,n){return t===void 0?n:IW(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function IW(t){return t<0||t===0&&1/t===-1/0}var PW="@@__IMMUTABLE_ITERABLE__@@";function In(t){return!!(t&&t[PW])}var NW="@@__IMMUTABLE_KEYED__@@";function dr(t){return!!(t&&t[NW])}var DW="@@__IMMUTABLE_INDEXED__@@";function yn(t){return!!(t&&t[DW])}function kl(t){return dr(t)||yn(t)}var Tr=function(e){return In(e)?e:Pn(e)},zi=function(t){function e(n){return dr(n)?n:xo(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tr),rc=function(t){function e(n){return yn(n)?n:Gi(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tr),Vl=function(t){function e(n){return In(n)&&!kl(n)?n:zl(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tr);Tr.Keyed=zi;Tr.Indexed=rc;Tr.Set=Vl;var CW="@@__IMMUTABLE_SEQ__@@";function B_(t){return!!(t&&t[CW])}var LW="@@__IMMUTABLE_RECORD__@@";function Ro(t){return!!(t&&t[LW])}function Oi(t){return In(t)||Ro(t)}var Hl="@@__IMMUTABLE_ORDERED__@@";function wi(t){return!!(t&&t[Hl])}var $_=0,sa=1,ki=2,fx=typeof Symbol=="function"&&Symbol.iterator,jW="@@iterator",xw=fx||jW,Xt=function(e){this.next=e};Xt.prototype.toString=function(){return"[Iterator]"};Xt.KEYS=$_;Xt.VALUES=sa;Xt.ENTRIES=ki;Xt.prototype.inspect=Xt.prototype.toSource=function(){return this.toString()};Xt.prototype[xw]=function(){return this};function Er(t,e,n,r){var a=t===0?e:t===1?n:[e,n];return r?r.value=a:r={value:a,done:!1},r}function Yn(){return{value:void 0,done:!0}}function wP(t){return Array.isArray(t)?!0:!!Iw(t)}function O6(t){return t&&typeof t.next=="function"}function hx(t){var e=Iw(t);return e&&e.call(t)}function Iw(t){var e=t&&(fx&&t[fx]||t[jW]);if(typeof e=="function")return e}function ove(t){var e=Iw(t);return e&&e===t.entries}function uve(t){var e=Iw(t);return e&&e===t.keys}var Ql=Object.prototype.hasOwnProperty;function SP(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var Pn=function(t){function e(n){return n==null?EP():Oi(n)?n.toSeq():lve(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(r,a){var s=this._cache;if(s){for(var o=s.length,u=0;u!==o;){var l=s[a?o-++u:u++];if(r(l[1],l[0],this)===!1)break}return u}return this.__iterateUncached(r,a)},e.prototype.__iterator=function(r,a){var s=this._cache;if(s){var o=s.length,u=0;return new Xt(function(){if(u===o)return Yn();var l=s[a?o-++u:u++];return Er(r,l[0],l[1])})}return this.__iteratorUncached(r,a)},e}(Tr),xo=function(t){function e(n){return n==null?EP().toKeyedSeq():In(n)?dr(n)?n.toSeq():n.fromEntrySeq():Ro(n)?n.toSeq():AP(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Pn),Gi=function(t){function e(n){return n==null?EP():In(n)?dr(n)?n.entrySeq():n.toIndexedSeq():Ro(n)?n.toSeq().entrySeq():MW(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Pn),zl=function(t){function e(n){return(In(n)&&!kl(n)?n:Gi(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Pn);Pn.isSeq=B_;Pn.Keyed=xo;Pn.Set=zl;Pn.Indexed=Gi;Pn.prototype[CW]=!0;var Vu=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,a){return this.has(r)?this._array[_o(this,r)]:a},e.prototype.__iterate=function(r,a){for(var s=this._array,o=s.length,u=0;u!==o;){var l=a?o-++u:u++;if(r(s[l],l,this)===!1)break}return u},e.prototype.__iterator=function(r,a){var s=this._array,o=s.length,u=0;return new Xt(function(){if(u===o)return Yn();var l=a?o-++u:u++;return Er(r,l,s[l])})},e}(Gi),TP=function(t){function e(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,a){return a!==void 0&&!this.has(r)?a:this._object[r]},e.prototype.has=function(r){return Ql.call(this._object,r)},e.prototype.__iterate=function(r,a){for(var s=this._object,o=this._keys,u=o.length,l=0;l!==u;){var c=o[a?u-++l:l++];if(r(s[c],c,this)===!1)break}return l},e.prototype.__iterator=function(r,a){var s=this._object,o=this._keys,u=o.length,l=0;return new Xt(function(){if(l===u)return Yn();var c=o[a?u-++l:l++];return Er(r,c,s[c])})},e}(xo);TP.prototype[Hl]=!0;var cve=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(r,a){if(a)return this.cacheResult().__iterate(r,a);var s=this._collection,o=hx(s),u=0;if(O6(o))for(var l;!(l=o.next()).done&&r(l.value,u++,this)!==!1;);return u},e.prototype.__iteratorUncached=function(r,a){if(a)return this.cacheResult().__iterator(r,a);var s=this._collection,o=hx(s);if(!O6(o))return new Xt(Yn);var u=0;return new Xt(function(){var l=o.next();return l.done?l:Er(r,u++,l.value)})},e}(Gi),R6;function EP(){return R6||(R6=new Vu([]))}function AP(t){var e=OP(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new TP(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function MW(t){var e=OP(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function lve(t){var e=OP(t);if(e)return ove(t)?e.fromEntrySeq():uve(t)?e.toSetSeq():e;if(typeof t=="object")return new TP(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function OP(t){return SP(t)?new Vu(t):wP(t)?new cve(t):void 0}var FW="@@__IMMUTABLE_MAP__@@";function U_(t){return!!(t&&t[FW])}function Pw(t){return U_(t)&&wi(t)}function wv(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function tn(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(wv(t)&&wv(e)&&t.equals(e))}var gd=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var r=e&65535,a=n&65535;return r*a+((e>>>16)*a+r*(n>>>16)<<16>>>0)|0};function Nw(t){return t>>>1&1073741824|t&3221225471}var dve=Object.prototype.valueOf;function Gn(t){if(t==null)return x6(t);if(typeof t.hashCode=="function")return Nw(t.hashCode(t));var e=gve(t);if(e==null)return x6(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return fve(e);case"string":return e.length>_ve?hve(e):px(e);case"object":case"function":return yve(e);case"symbol":return pve(e);default:if(typeof e.toString=="function")return px(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function x6(t){return t===null?1108378658:1108378659}function fve(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Nw(e)}function hve(t){var e=L2[t];return e===void 0&&(e=px(t),C2===bve&&(C2=0,L2={}),C2++,L2[t]=e),e}function px(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Nw(e)}function pve(t){var e=N6[t];return e!==void 0||(e=qW(),N6[t]=e),e}function yve(t){var e;if(yx&&(e=mx.get(t),e!==void 0)||(e=t[Su],e!==void 0)||!P6&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Su],e!==void 0||(e=mve(t),e!==void 0)))return e;if(e=qW(),yx)mx.set(t,e);else{if(I6!==void 0&&I6(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(P6)Object.defineProperty(t,Su,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Su]=e;else if(t.nodeType!==void 0)t[Su]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var I6=Object.isExtensible,P6=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function mve(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function gve(t){return t.valueOf!==dve&&typeof t.valueOf=="function"?t.valueOf(t):t}function qW(){var t=++D2;return D2&1073741824&&(D2=0),t}var yx=typeof WeakMap=="function",mx;yx&&(mx=new WeakMap);var N6=Object.create(null),D2=0,Su="__immutablehash__";typeof Symbol=="function"&&(Su=Symbol(Su));var _ve=16,bve=255,C2=0,L2={},Dw=function(t){function e(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(r,a){return this._iter.get(r,a)},e.prototype.has=function(r){return this._iter.has(r)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var r=this,a=RP(this,!0);return this._useKeys||(a.valueSeq=function(){return r._iter.toSeq().reverse()}),a},e.prototype.map=function(r,a){var s=this,o=VW(this,r,a);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(r,a)}),o},e.prototype.__iterate=function(r,a){var s=this;return this._iter.__iterate(function(o,u){return r(o,u,s)},a)},e.prototype.__iterator=function(r,a){return this._iter.__iterator(r,a)},e}(xo);Dw.prototype[Hl]=!0;var BW=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,a){var s=this,o=0;return a&&yl(this),this._iter.__iterate(function(u){return r(u,a?s.size-++o:o++,s)},a)},e.prototype.__iterator=function(r,a){var s=this,o=this._iter.__iterator(sa,a),u=0;return a&&yl(this),new Xt(function(){var l=o.next();return l.done?l:Er(r,a?s.size-++u:u++,l.value,l)})},e}(Gi),$W=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(r){return this._iter.includes(r)},e.prototype.__iterate=function(r,a){var s=this;return this._iter.__iterate(function(o){return r(o,o,s)},a)},e.prototype.__iterator=function(r,a){var s=this._iter.__iterator(sa,a);return new Xt(function(){var o=s.next();return o.done?o:Er(r,o.value,o.value,o)})},e}(zl),UW=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,a){var s=this;return this._iter.__iterate(function(o){if(o){C6(o);var u=In(o);return r(u?o.get(1):o[1],u?o.get(0):o[0],s)}},a)},e.prototype.__iterator=function(r,a){var s=this._iter.__iterator(sa,a);return new Xt(function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value;if(u){C6(u);var l=In(u);return Er(r,l?u.get(0):u[0],l?u.get(1):u[1],o)}}})},e}(xo);BW.prototype.cacheResult=Dw.prototype.cacheResult=$W.prototype.cacheResult=UW.prototype.cacheResult=PP;function kW(t){var e=$a(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=PP,e.__iterateUncached=function(n,r){var a=this;return t.__iterate(function(s,o){return n(o,s,a)!==!1},r)},e.__iteratorUncached=function(n,r){if(n===ki){var a=t.__iterator(n,r);return new Xt(function(){var s=a.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return t.__iterator(n===sa?$_:sa,r)},e}function VW(t,e,n){var r=$a(t);return r.size=t.size,r.has=function(a){return t.has(a)},r.get=function(a,s){var o=t.get(a,Qt);return o===Qt?s:e.call(n,o,a,t)},r.__iterateUncached=function(a,s){var o=this;return t.__iterate(function(u,l,c){return a(e.call(n,u,l,c),l,o)!==!1},s)},r.__iteratorUncached=function(a,s){var o=t.__iterator(ki,s);return new Xt(function(){var u=o.next();if(u.done)return u;var l=u.value,c=l[0];return Er(a,c,e.call(n,l[1],c,t),u)})},r}function RP(t,e){var n=this,r=$a(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var a=kW(t);return a.reverse=function(){return t.flip()},a}),r.get=function(a,s){return t.get(e?a:-1-a,s)},r.has=function(a){return t.has(e?a:-1-a)},r.includes=function(a){return t.includes(a)},r.cacheResult=PP,r.__iterate=function(a,s){var o=this,u=0;return s&&yl(t),t.__iterate(function(l,c){return a(l,e?c:s?o.size-++u:u++,o)},!s)},r.__iterator=function(a,s){var o=0;s&&yl(t);var u=t.__iterator(ki,!s);return new Xt(function(){var l=u.next();if(l.done)return l;var c=l.value;return Er(a,e?c[0]:s?n.size-++o:o++,c[1],l)})},r}function HW(t,e,n,r){var a=$a(t);return r&&(a.has=function(s){var o=t.get(s,Qt);return o!==Qt&&!!e.call(n,o,s,t)},a.get=function(s,o){var u=t.get(s,Qt);return u!==Qt&&e.call(n,u,s,t)?u:o}),a.__iterateUncached=function(s,o){var u=this,l=0;return t.__iterate(function(c,d,f){if(e.call(n,c,d,f))return l++,s(c,r?d:l-1,u)},o),l},a.__iteratorUncached=function(s,o){var u=t.__iterator(ki,o),l=0;return new Xt(function(){for(;;){var c=u.next();if(c.done)return c;var d=c.value,f=d[0],h=d[1];if(e.call(n,h,f,t))return Er(s,r?f:l++,h,c)}})},a}function vve(t,e,n){var r=Po().asMutable();return t.__iterate(function(a,s){r.update(e.call(n,a,s,t),0,function(o){return o+1})}),r.asImmutable()}function wve(t,e,n){var r=dr(t),a=(wi(t)?oa():Po()).asMutable();t.__iterate(function(o,u){a.update(e.call(n,o,u,t),function(l){return l=l||[],l.push(r?[u,o]:o),l})});var s=IP(t);return a.map(function(o){return lr(t,s(o))}).asImmutable()}function Sve(t,e,n){var r=dr(t),a=[[],[]];t.__iterate(function(o,u){a[e.call(n,o,u,t)?1:0].push(r?[u,o]:o)});var s=IP(t);return a.map(function(o){return lr(t,s(o))})}function xP(t,e,n,r){var a=t.size;if(F_(e,n,a))return t;var s=Ul(e,a),o=q_(n,a);if(s!==s||o!==o)return xP(t.toSeq().cacheResult(),e,n,r);var u=o-s,l;u===u&&(l=u<0?0:u);var c=$a(t);return c.size=l===0?l:t.size&&l||void 0,!r&&B_(t)&&l>=0&&(c.get=function(d,f){return d=_o(this,d),d>=0&&d<l?t.get(d+s,f):f}),c.__iterateUncached=function(d,f){var h=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var p=0,m=!0,y=0;return t.__iterate(function(g,_){if(!(m&&(m=p++<s)))return y++,d(g,r?_:y-1,h)!==!1&&y!==l}),y},c.__iteratorUncached=function(d,f){if(l!==0&&f)return this.cacheResult().__iterator(d,f);if(l===0)return new Xt(Yn);var h=t.__iterator(d,f),p=0,m=0;return new Xt(function(){for(;p++<s;)h.next();if(++m>l)return Yn();var y=h.next();return r||d===sa||y.done?y:d===$_?Er(d,m-1,void 0,y):Er(d,m-1,y.value[1],y)})},c}function Tve(t,e,n){var r=$a(t);return r.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var u=0;return t.__iterate(function(l,c,d){return e.call(n,l,c,d)&&++u&&a(l,c,o)}),u},r.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var u=t.__iterator(ki,s),l=!0;return new Xt(function(){if(!l)return Yn();var c=u.next();if(c.done)return c;var d=c.value,f=d[0],h=d[1];return e.call(n,h,f,o)?a===ki?c:Er(a,f,h,c):(l=!1,Yn())})},r}function QW(t,e,n,r){var a=$a(t);return a.__iterateUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterate(s,o);var l=!0,c=0;return t.__iterate(function(d,f,h){if(!(l&&(l=e.call(n,d,f,h))))return c++,s(d,r?f:c-1,u)}),c},a.__iteratorUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterator(s,o);var l=t.__iterator(ki,o),c=!0,d=0;return new Xt(function(){var f,h,p;do{if(f=l.next(),f.done)return r||s===sa?f:s===$_?Er(s,d++,void 0,f):Er(s,d++,f.value[1],f);var m=f.value;h=m[0],p=m[1],c&&(c=e.call(n,p,h,u))}while(c);return s===ki?f:Er(s,h,p,f)})},a}function Eve(t,e){var n=dr(t),r=[t].concat(e).map(function(o){return In(o)?n&&(o=zi(o)):o=n?AP(o):MW(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(r.length===0)return t;if(r.length===1){var a=r[0];if(a===t||n&&dr(a)||yn(t)&&yn(a))return a}var s=new Vu(r);return n?s=s.toKeyedSeq():yn(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=r.reduce(function(o,u){if(o!==void 0){var l=u.size;if(l!==void 0)return o+l}},0),s}function zW(t,e,n){var r=$a(t);return r.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);var o=0,u=!1;function l(c,d){c.__iterate(function(f,h){return(!e||d<e)&&In(f)?l(f,d+1):(o++,a(f,n?h:o-1,r)===!1&&(u=!0)),!u},s)}return l(t,0),o},r.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var o=t.__iterator(a,s),u=[],l=0;return new Xt(function(){for(;o;){var c=o.next();if(c.done!==!1){o=u.pop();continue}var d=c.value;if(a===ki&&(d=d[1]),(!e||u.length<e)&&In(d))u.push(o),o=d.__iterator(a,s);else return n?c:Er(a,l++,d,c)}return Yn()})},r}function Ave(t,e,n){var r=IP(t);return t.toSeq().map(function(a,s){return r(e.call(n,a,s,t))}).flatten(!0)}function Ove(t,e){var n=$a(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(r,a){var s=this,o=0;return t.__iterate(function(u){return(!o||r(e,o++,s)!==!1)&&r(u,o++,s)!==!1},a),o},n.__iteratorUncached=function(r,a){var s=t.__iterator(sa,a),o=0,u;return new Xt(function(){return(!u||o%2)&&(u=s.next(),u.done)?u:o%2?Er(r,o++,e):Er(r,o++,u.value,u)})},n}function ml(t,e,n){e||(e=GW);var r=dr(t),a=0,s=t.toSeq().map(function(o,u){return[u,o,a++,n?n(o,u,t):o]}).valueSeq().toArray();return s.sort(function(o,u){return e(o[3],u[3])||o[2]-u[2]}).forEach(r?function(o,u){s[u].length=2}:function(o,u){s[u]=o[1]}),r?xo(s):yn(t)?Gi(s):zl(s)}function Qb(t,e,n){if(e||(e=GW),n){var r=t.toSeq().map(function(a,s){return[a,n(a,s,t)]}).reduce(function(a,s){return D6(e,a[1],s[1])?s:a});return r&&r[0]}return t.reduce(function(a,s){return D6(e,a,s)?s:a})}function D6(t,e,n){var r=t(n,e);return r===0&&n!==e&&(n==null||n!==n)||r>0}function zb(t,e,n,r){var a=$a(t),s=new Vu(n).map(function(o){return o.size});return a.size=r?s.max():s.min(),a.__iterate=function(o,u){for(var l=this.__iterator(sa,u),c,d=0;!(c=l.next()).done&&o(c.value,d++,this)!==!1;);return d},a.__iteratorUncached=function(o,u){var l=n.map(function(f){return f=Tr(f),hx(u?f.reverse():f)}),c=0,d=!1;return new Xt(function(){var f;return d||(f=l.map(function(h){return h.next()}),d=r?f.every(function(h){return h.done}):f.some(function(h){return h.done})),d?Yn():Er(o,c++,e.apply(null,f.map(function(h){return h.value})))})},a}function lr(t,e){return t===e?t:B_(t)?e:t.constructor(e)}function C6(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function IP(t){return dr(t)?zi:yn(t)?rc:Vl}function $a(t){return Object.create((dr(t)?xo:yn(t)?Gi:zl).prototype)}function PP(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Pn.prototype.cacheResult.call(this)}function GW(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Oa(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),a=0;a<n;a++)r[a]=t[a+e];return r}function NP(t,e){if(!t)throw new Error(e)}function bi(t){NP(t!==1/0,"Cannot perform this action with an infinite size.")}function WW(t){if(SP(t)&&typeof t!="string")return t;if(wi(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var Rve=Object.prototype.toString;function Cw(t){if(!t||typeof t!="object"||Rve.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,r=Object.getPrototypeOf(e);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===e}function bo(t){return typeof t=="object"&&(Oi(t)||Array.isArray(t)||Cw(t))}function t_(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function DP(t,e){return Oi(t)?t.has(e):bo(t)&&Ql.call(t,e)}function Lw(t,e,n){return Oi(t)?t.get(e,n):DP(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function Sv(t){if(Array.isArray(t))return Oa(t);var e={};for(var n in t)Ql.call(t,n)&&(e[n]=t[n]);return e}function CP(t,e){if(!bo(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Oi(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Ql.call(t,e))return t;var n=Sv(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function LP(t,e,n){if(!bo(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Oi(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(Ql.call(t,e)&&n===t[e])return t;var r=Sv(t);return r[e]=n,r}function Io(t,e,n,r){r||(r=n,n=void 0);var a=KW(Oi(t),t,WW(e),0,n,r);return a===Qt?n:a}function KW(t,e,n,r,a,s){var o=e===Qt;if(r===n.length){var u=o?a:e,l=s(u);return l===u?e:l}if(!o&&!bo(e))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(t_)+"]: "+e);var c=n[r],d=o?Qt:Lw(e,c,Qt),f=KW(d===Qt?t:Oi(d),d,n,r+1,a,s);return f===d?e:f===Qt?CP(e,c):LP(o?t?ra():{}:e,c,f)}function jP(t,e,n){return Io(t,e,Qt,function(){return n})}function MP(t,e){return jP(this,t,e)}function FP(t,e){return Io(t,e,function(){return Qt})}function qP(t){return FP(this,t)}function jw(t,e,n,r){return Io(t,[e],n,r)}function BP(t,e,n){return arguments.length===1?t(this):jw(this,t,e,n)}function $P(t,e,n){return Io(this,t,e,n)}function JW(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return YW(this,t)}function XW(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return YW(this,e,t)}function YW(t,e,n){for(var r=[],a=0;a<e.length;a++){var s=zi(e[a]);s.size!==0&&r.push(s)}return r.length===0?t:t.toSeq().size===0&&!t.__ownerID&&r.length===1?t.constructor(r[0]):t.withMutations(function(o){for(var u=n?function(c,d){jw(o,d,Qt,function(f){return f===Qt?c:n(f,c,d)})}:function(c,d){o.set(d,c)},l=0;l<r.length;l++)r[l].forEach(u)})}function ZW(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return V_(t,e)}function eK(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return V_(e,n,t)}function tK(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return k_(t,e)}function rK(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return k_(e,n,t)}function k_(t,e,n){return V_(t,e,xve(n))}function V_(t,e,n){if(!bo(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Oi(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),a=t,s=r?rc:zi,o=r?function(l){a===t&&(a=Sv(a)),a.push(l)}:function(l,c){var d=Ql.call(a,c),f=d&&n?n(a[c],l,c):l;(!d||f!==a[c])&&(a===t&&(a=Sv(a)),a[c]=f)},u=0;u<e.length;u++)s(e[u]).forEach(o);return a}function xve(t){function e(n,r,a){return bo(n)&&bo(r)&&Ive(n,r)?V_(n,[r],e):t?t(n,r,a):r}return e}function Ive(t,e){var n=Pn(t),r=Pn(e);return yn(n)===yn(r)&&dr(n)===dr(r)}function nK(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return k_(this,t)}function iK(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return k_(this,e,t)}function UP(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Io(this,t,ra(),function(r){return V_(r,e)})}function kP(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Io(this,t,ra(),function(r){return k_(r,e)})}function H_(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Q_(){return this.__ownerID?this:this.__ensureOwner(new vP)}function z_(){return this.__ensureOwner()}function VP(){return this.__altered}var Po=function(t){function e(n){return n==null?ra():U_(n)&&!wi(n)?n:ra().withMutations(function(r){var a=t(n);bi(a.size),a.forEach(function(s,o){return r.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return ra().withMutations(function(s){for(var o=0;o<r.length;o+=2){if(o+1>=r.length)throw new Error("Missing value for key: "+r[o]);s.set(r[o],r[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(r,a){return this._root?this._root.get(0,void 0,r,a):a},e.prototype.set=function(r,a){return M6(this,r,a)},e.prototype.remove=function(r){return M6(this,r,Qt)},e.prototype.deleteAll=function(r){var a=Tr(r);return a.size===0?this:this.withMutations(function(s){a.forEach(function(o){return s.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ra()},e.prototype.sort=function(r){return oa(ml(this,r))},e.prototype.sortBy=function(r,a){return oa(ml(this,a,r))},e.prototype.map=function(r,a){var s=this;return this.withMutations(function(o){o.forEach(function(u,l){o.set(l,r.call(a,u,l,s))})})},e.prototype.__iterator=function(r,a){return new Pve(this,r,a)},e.prototype.__iterate=function(r,a){var s=this,o=0;return this._root&&this._root.iterate(function(u){return o++,r(u[1],u[0],s)},a),o},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?HP(this.size,this._root,r,this.__hash):this.size===0?ra():(this.__ownerID=r,this.__altered=!1,this)},e}(zi);Po.isMap=U_;var Or=Po.prototype;Or[FW]=!0;Or[M_]=Or.remove;Or.removeAll=Or.deleteAll;Or.setIn=MP;Or.removeIn=Or.deleteIn=qP;Or.update=BP;Or.updateIn=$P;Or.merge=Or.concat=JW;Or.mergeWith=XW;Or.mergeDeep=nK;Or.mergeDeepWith=iK;Or.mergeIn=UP;Or.mergeDeepIn=kP;Or.withMutations=H_;Or.wasAltered=VP;Or.asImmutable=z_;Or["@@transducer/init"]=Or.asMutable=Q_;Or["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};Or["@@transducer/result"]=function(t){return t.asImmutable()};var r_=function(e,n){this.ownerID=e,this.entries=n};r_.prototype.get=function(e,n,r,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(tn(r,s[o][0]))return s[o][1];return a};r_.prototype.update=function(e,n,r,a,s,o,u){for(var l=s===Qt,c=this.entries,d=0,f=c.length;d<f&&!tn(a,c[d][0]);d++);var h=d<f;if(h?c[d][1]===s:l)return this;if(Mi(u),(l||!h)&&Mi(o),!(l&&c.length===1)){if(!h&&!l&&c.length>=Mve)return Nve(e,c,a,s);var p=e&&e===this.ownerID,m=p?c:Oa(c);return h?l?d===f-1?m.pop():m[d]=m.pop():m[d]=[a,s]:m.push([a,s]),p?(this.entries=m,this):new r_(e,m)}};var gl=function(e,n,r){this.ownerID=e,this.bitmap=n,this.nodes=r};gl.prototype.get=function(e,n,r,a){n===void 0&&(n=Gn(r));var s=1<<((e===0?n:n>>>e)&Wn),o=this.bitmap;return o&s?this.nodes[aK(o&s-1)].get(e+Sr,n,r,a):a};gl.prototype.update=function(e,n,r,a,s,o,u){r===void 0&&(r=Gn(a));var l=(n===0?r:r>>>n)&Wn,c=1<<l,d=this.bitmap,f=(d&c)!==0;if(!f&&s===Qt)return this;var h=aK(d&c-1),p=this.nodes,m=f?p[h]:void 0,y=QP(m,e,n+Sr,r,a,s,o,u);if(y===m)return this;if(!f&&y&&p.length>=Fve)return Cve(e,p,d,l,y);if(f&&!y&&p.length===2&&F6(p[h^1]))return p[h^1];if(f&&y&&p.length===1&&F6(y))return y;var g=e&&e===this.ownerID,_=f?y?d:d^c:d|c,v=f?y?sK(p,h,y,g):jve(p,h,g):Lve(p,h,y,g);return g?(this.bitmap=_,this.nodes=v,this):new gl(e,_,v)};var n_=function(e,n,r){this.ownerID=e,this.count=n,this.nodes=r};n_.prototype.get=function(e,n,r,a){n===void 0&&(n=Gn(r));var s=(e===0?n:n>>>e)&Wn,o=this.nodes[s];return o?o.get(e+Sr,n,r,a):a};n_.prototype.update=function(e,n,r,a,s,o,u){r===void 0&&(r=Gn(a));var l=(n===0?r:r>>>n)&Wn,c=s===Qt,d=this.nodes,f=d[l];if(c&&!f)return this;var h=QP(f,e,n+Sr,r,a,s,o,u);if(h===f)return this;var p=this.count;if(!f)p++;else if(!h&&(p--,p<qve))return Dve(e,d,p,l);var m=e&&e===this.ownerID,y=sK(d,l,h,m);return m?(this.count=p,this.nodes=y,this):new n_(e,p,y)};var _l=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entries=r};_l.prototype.get=function(e,n,r,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(tn(r,s[o][0]))return s[o][1];return a};_l.prototype.update=function(e,n,r,a,s,o,u){r===void 0&&(r=Gn(a));var l=s===Qt;if(r!==this.keyHash)return l?this:(Mi(u),Mi(o),zP(this,e,n,r,[a,s]));for(var c=this.entries,d=0,f=c.length;d<f&&!tn(a,c[d][0]);d++);var h=d<f;if(h?c[d][1]===s:l)return this;if(Mi(u),(l||!h)&&Mi(o),l&&f===2)return new Is(e,this.keyHash,c[d^1]);var p=e&&e===this.ownerID,m=p?c:Oa(c);return h?l?d===f-1?m.pop():m[d]=m.pop():m[d]=[a,s]:m.push([a,s]),p?(this.entries=m,this):new _l(e,this.keyHash,m)};var Is=function(e,n,r){this.ownerID=e,this.keyHash=n,this.entry=r};Is.prototype.get=function(e,n,r,a){return tn(r,this.entry[0])?this.entry[1]:a};Is.prototype.update=function(e,n,r,a,s,o,u){var l=s===Qt,c=tn(a,this.entry[0]);if(c?s===this.entry[1]:l)return this;if(Mi(u),l){Mi(o);return}return c?e&&e===this.ownerID?(this.entry[1]=s,this):new Is(e,this.keyHash,[a,s]):(Mi(o),zP(this,e,n,Gn(a),[a,s]))};r_.prototype.iterate=_l.prototype.iterate=function(t,e){for(var n=this.entries,r=0,a=n.length-1;r<=a;r++)if(t(n[e?a-r:r])===!1)return!1};gl.prototype.iterate=n_.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,a=n.length-1;r<=a;r++){var s=n[e?a-r:r];if(s&&s.iterate(t,e)===!1)return!1}};Is.prototype.iterate=function(t,e){return t(this.entry)};var Pve=function(t){function e(n,r,a){this._type=r,this._reverse=a,this._stack=n._root&&L6(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var r=this._type,a=this._stack;a;){var s=a.node,o=a.index++,u=void 0;if(s.entry){if(o===0)return j2(r,s.entry)}else if(s.entries){if(u=s.entries.length-1,o<=u)return j2(r,s.entries[this._reverse?u-o:o])}else if(u=s.nodes.length-1,o<=u){var l=s.nodes[this._reverse?u-o:o];if(l){if(l.entry)return j2(r,l.entry);a=this._stack=L6(l,a)}continue}a=this._stack=this._stack.__prev}return Yn()},e}(Xt);function j2(t,e){return Er(t,e[0],e[1])}function L6(t,e){return{node:t,index:0,__prev:e}}function HP(t,e,n,r){var a=Object.create(Or);return a.size=t,a._root=e,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var j6;function ra(){return j6||(j6=HP(0))}function M6(t,e,n){var r,a;if(t._root){var s=dx(),o=dx();if(r=QP(t._root,t.__ownerID,0,void 0,e,n,s,o),!o.value)return t;a=t.size+(s.value?n===Qt?-1:1:0)}else{if(n===Qt)return t;a=1,r=new r_(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=a,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?HP(a,r):ra()}function QP(t,e,n,r,a,s,o,u){return t?t.update(e,n,r,a,s,o,u):s===Qt?t:(Mi(u),Mi(o),new Is(e,r,[a,s]))}function F6(t){return t.constructor===Is||t.constructor===_l}function zP(t,e,n,r,a){if(t.keyHash===r)return new _l(e,r,[t.entry,a]);var s=(n===0?t.keyHash:t.keyHash>>>n)&Wn,o=(n===0?r:r>>>n)&Wn,u,l=s===o?[zP(t,e,n+Sr,r,a)]:(u=new Is(e,r,a),s<o?[t,u]:[u,t]);return new gl(e,1<<s|1<<o,l)}function Nve(t,e,n,r){t||(t=new vP);for(var a=new Is(t,Gn(n),[n,r]),s=0;s<e.length;s++){var o=e[s];a=a.update(t,0,void 0,o[0],o[1])}return a}function Dve(t,e,n,r){for(var a=0,s=0,o=new Array(n),u=0,l=1,c=e.length;u<c;u++,l<<=1){var d=e[u];d!==void 0&&u!==r&&(a|=l,o[s++]=d)}return new gl(t,a,o)}function Cve(t,e,n,r,a){for(var s=0,o=new Array(ji),u=0;n!==0;u++,n>>>=1)o[u]=n&1?e[s++]:void 0;return o[r]=a,new n_(t,s+1,o)}function aK(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function sK(t,e,n,r){var a=r?t:Oa(t);return a[e]=n,a}function Lve(t,e,n,r){var a=t.length+1;if(r&&e+1===a)return t[e]=n,t;for(var s=new Array(a),o=0,u=0;u<a;u++)u===e?(s[u]=n,o=-1):s[u]=t[u+o];return s}function jve(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var a=new Array(r),s=0,o=0;o<r;o++)o===e&&(s=1),a[o]=t[o+s];return a}var Mve=ji/4,Fve=ji/2,qve=ji/4,oK="@@__IMMUTABLE_LIST__@@";function Mw(t){return!!(t&&t[oK])}var Gl=function(t){function e(n){var r=B1();if(n==null)return r;if(Mw(n))return n;var a=t(n),s=a.size;return s===0?r:(bi(s),s>0&&s<ji?i_(0,s,Sr,null,new uo(a.toArray())):r.withMutations(function(o){o.setSize(s),a.forEach(function(u,l){return o.set(l,u)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(r,a){if(r=_o(this,r),r>=0&&r<this.size){r+=this._origin;var s=uK(this,r);return s&&s.array[r&Wn]}return a},e.prototype.set=function(r,a){return Bve(this,r,a)},e.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},e.prototype.insert=function(r,a){return this.splice(r,0,a)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Sr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):B1()},e.prototype.push=function(){var r=arguments,a=this.size;return this.withMutations(function(s){no(s,0,a+r.length);for(var o=0;o<r.length;o++)s.set(a+o,r[o])})},e.prototype.pop=function(){return no(this,0,-1)},e.prototype.unshift=function(){var r=arguments;return this.withMutations(function(a){no(a,-r.length);for(var s=0;s<r.length;s++)a.set(s,r[s])})},e.prototype.shift=function(){return no(this,1)},e.prototype.concat=function(){for(var r=arguments,a=[],s=0;s<arguments.length;s++){var o=r[s],u=t(typeof o!="string"&&wP(o)?o:[o]);u.size!==0&&a.push(u)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(l){a.forEach(function(c){return c.forEach(function(d){return l.push(d)})})})},e.prototype.setSize=function(r){return no(this,0,r)},e.prototype.map=function(r,a){var s=this;return this.withMutations(function(o){for(var u=0;u<s.size;u++)o.set(u,r.call(a,o.get(u),u,s))})},e.prototype.slice=function(r,a){var s=this.size;return F_(r,a,s)?this:no(this,Ul(r,s),q_(a,s))},e.prototype.__iterator=function(r,a){var s=a?this.size:0,o=q6(this,a);return new Xt(function(){var u=o();return u===kg?Yn():Er(r,a?--s:s++,u)})},e.prototype.__iterate=function(r,a){for(var s=a?this.size:0,o=q6(this,a),u;(u=o())!==kg&&r(u,a?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?i_(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?B1():(this.__ownerID=r,this.__altered=!1,this)},e}(rc);Gl.isList=Mw;var Xr=Gl.prototype;Xr[oK]=!0;Xr[M_]=Xr.remove;Xr.merge=Xr.concat;Xr.setIn=MP;Xr.deleteIn=Xr.removeIn=qP;Xr.update=BP;Xr.updateIn=$P;Xr.mergeIn=UP;Xr.mergeDeepIn=kP;Xr.withMutations=H_;Xr.wasAltered=VP;Xr.asImmutable=z_;Xr["@@transducer/init"]=Xr.asMutable=Q_;Xr["@@transducer/step"]=function(t,e){return t.push(e)};Xr["@@transducer/result"]=function(t){return t.asImmutable()};var uo=function(e,n){this.array=e,this.ownerID=n};uo.prototype.removeBefore=function(e,n,r){if(r===n?1<<n:this.array.length===0)return this;var a=r>>>n&Wn;if(a>=this.array.length)return new uo([],e);var s=a===0,o;if(n>0){var u=this.array[a];if(o=u&&u.removeBefore(e,n-Sr,r),o===u&&s)return this}if(s&&!o)return this;var l=bl(this,e);if(!s)for(var c=0;c<a;c++)l.array[c]=void 0;return o&&(l.array[a]=o),l};uo.prototype.removeAfter=function(e,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var a=r-1>>>n&Wn;if(a>=this.array.length)return this;var s;if(n>0){var o=this.array[a];if(s=o&&o.removeAfter(e,n-Sr,r),s===o&&a===this.array.length-1)return this}var u=bl(this,e);return u.array.splice(a+1),s&&(u.array[a]=s),u};var kg={};function q6(t,e){var n=t._origin,r=t._capacity,a=a_(r),s=t._tail;return o(t._root,t._level,0);function o(c,d,f){return d===0?u(c,f):l(c,d,f)}function u(c,d){var f=d===a?s&&s.array:c&&c.array,h=d>n?0:n-d,p=r-d;return p>ji&&(p=ji),function(){if(h===p)return kg;var m=e?--p:h++;return f&&f[m]}}function l(c,d,f){var h,p=c&&c.array,m=f>n?0:n-f>>d,y=(r-f>>d)+1;return y>ji&&(y=ji),function(){for(;;){if(h){var g=h();if(g!==kg)return g;h=null}if(m===y)return kg;var _=e?--y:m++;h=o(p&&p[_],d-Sr,f+(_<<d))}}}}function i_(t,e,n,r,a,s,o){var u=Object.create(Xr);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=a,u.__ownerID=s,u.__hash=o,u.__altered=!1,u}var B6;function B1(){return B6||(B6=i_(0,0,Sr))}function Bve(t,e,n){if(e=_o(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?no(o,e).set(0,n):no(o,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,a=t._root,s=dx();return e>=a_(t._capacity)?r=gx(r,t.__ownerID,0,e,n,s):a=gx(a,t.__ownerID,t._level,e,n,s),s.value?t.__ownerID?(t._root=a,t._tail=r,t.__hash=void 0,t.__altered=!0,t):i_(t._origin,t._capacity,t._level,a,r):t}function gx(t,e,n,r,a,s){var o=r>>>n&Wn,u=t&&o<t.array.length;if(!u&&a===void 0)return t;var l;if(n>0){var c=t&&t.array[o],d=gx(c,e,n-Sr,r,a,s);return d===c?t:(l=bl(t,e),l.array[o]=d,l)}return u&&t.array[o]===a?t:(s&&Mi(s),l=bl(t,e),a===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=a,l)}function bl(t,e){return e&&t&&e===t.ownerID?t:new uo(t?t.array.slice():[],e)}function uK(t,e){if(e>=a_(t._capacity))return t._tail;if(e<1<<t._level+Sr){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&Wn],r-=Sr;return n}}function no(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var r=t.__ownerID||new vP,a=t._origin,s=t._capacity,o=a+e,u=n===void 0?s:n<0?s+n:a+n;if(o===a&&u===s)return t;if(o>=u)return t.clear();for(var l=t._level,c=t._root,d=0;o+d<0;)c=new uo(c&&c.array.length?[void 0,c]:[],r),l+=Sr,d+=1<<l;d&&(o+=d,a+=d,u+=d,s+=d);for(var f=a_(s),h=a_(u);h>=1<<l+Sr;)c=new uo(c&&c.array.length?[c]:[],r),l+=Sr;var p=t._tail,m=h<f?uK(t,u-1):h>f?new uo([],r):p;if(p&&h>f&&o<s&&p.array.length){c=bl(c,r);for(var y=c,g=l;g>Sr;g-=Sr){var _=f>>>g&Wn;y=y.array[_]=bl(y.array[_],r)}y.array[f>>>Sr&Wn]=p}if(u<s&&(m=m&&m.removeAfter(r,0,u)),o>=h)o-=h,u-=h,l=Sr,c=null,m=m&&m.removeBefore(r,0,o);else if(o>a||h<f){for(d=0;c;){var v=o>>>l&Wn;if(v!==h>>>l&Wn)break;v&&(d+=(1<<l)*v),l-=Sr,c=c.array[v]}c&&o>a&&(c=c.removeBefore(r,l,o-d)),c&&h<f&&(c=c.removeAfter(r,l,h-d)),d&&(o-=d,u-=d)}return t.__ownerID?(t.size=u-o,t._origin=o,t._capacity=u,t._level=l,t._root=c,t._tail=m,t.__hash=void 0,t.__altered=!0,t):i_(o,u,l,c,m)}function a_(t){return t<ji?0:t-1>>>Sr<<Sr}var oa=function(t){function e(n){return n==null?pg():Pw(n)?n:pg().withMutations(function(r){var a=zi(n);bi(a.size),a.forEach(function(s,o){return r.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(r,a){var s=this._map.get(r);return s!==void 0?this._list.get(s)[1]:a},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):pg()},e.prototype.set=function(r,a){return U6(this,r,a)},e.prototype.remove=function(r){return U6(this,r,Qt)},e.prototype.__iterate=function(r,a){var s=this;return this._list.__iterate(function(o){return o&&r(o[1],o[0],s)},a)},e.prototype.__iterator=function(r,a){return this._list.fromEntrySeq().__iterator(r,a)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var a=this._map.__ensureOwner(r),s=this._list.__ensureOwner(r);return r?GP(a,s,r,this.__hash):this.size===0?pg():(this.__ownerID=r,this.__altered=!1,this._map=a,this._list=s,this)},e}(Po);oa.isOrderedMap=Pw;oa.prototype[Hl]=!0;oa.prototype[M_]=oa.prototype.remove;function GP(t,e,n,r){var a=Object.create(oa.prototype);return a.size=t?t.size:0,a._map=t,a._list=e,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var $6;function pg(){return $6||($6=GP(ra(),B1()))}function U6(t,e,n){var r=t._map,a=t._list,s=r.get(e),o=s!==void 0,u,l;if(n===Qt){if(!o)return t;a.size>=ji&&a.size>=r.size*2?(l=a.filter(function(c,d){return c!==void 0&&s!==d}),u=l.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),t.__ownerID&&(u.__ownerID=l.__ownerID=t.__ownerID)):(u=r.remove(e),l=s===a.size-1?a.pop():a.set(s,void 0))}else if(o){if(n===a.get(s)[1])return t;u=r,l=a.set(s,[e,n])}else u=r.set(e,a.size),l=a.set(a.size,[e,n]);return t.__ownerID?(t.size=u.size,t._map=u,t._list=l,t.__hash=void 0,t.__altered=!0,t):GP(u,l)}var cK="@@__IMMUTABLE_STACK__@@";function s_(t){return!!(t&&t[cK])}var G_=function(t){function e(n){return n==null?Gb():s_(n)?n:Gb().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(r,a){var s=this._head;for(r=_o(this,r);s&&r--;)s=s.next;return s?s.value:a},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:r[o],next:s};return this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):yg(a,s)},e.prototype.pushAll=function(r){if(r=t(r),r.size===0)return this;if(this.size===0&&s_(r))return r;bi(r.size);var a=this.size,s=this._head;return r.__iterate(function(o){a++,s={value:o,next:s}},!0),this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):yg(a,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Gb()},e.prototype.slice=function(r,a){if(F_(r,a,this.size))return this;var s=Ul(r,this.size),o=q_(a,this.size);if(o!==this.size)return t.prototype.slice.call(this,r,a);for(var u=this.size-s,l=this._head;s--;)l=l.next;return this.__ownerID?(this.size=u,this._head=l,this.__hash=void 0,this.__altered=!0,this):yg(u,l)},e.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?yg(this.size,this._head,r,this.__hash):this.size===0?Gb():(this.__ownerID=r,this.__altered=!1,this)},e.prototype.__iterate=function(r,a){var s=this;if(a)return new Vu(this.toArray()).__iterate(function(l,c){return r(l,c,s)},a);for(var o=0,u=this._head;u&&r(u.value,o++,this)!==!1;)u=u.next;return o},e.prototype.__iterator=function(r,a){if(a)return new Vu(this.toArray()).__iterator(r,a);var s=0,o=this._head;return new Xt(function(){if(o){var u=o.value;return o=o.next,Er(r,s++,u)}return Yn()})},e}(rc);G_.isStack=s_;var Zn=G_.prototype;Zn[cK]=!0;Zn.shift=Zn.pop;Zn.unshift=Zn.push;Zn.unshiftAll=Zn.pushAll;Zn.withMutations=H_;Zn.wasAltered=VP;Zn.asImmutable=z_;Zn["@@transducer/init"]=Zn.asMutable=Q_;Zn["@@transducer/step"]=function(t,e){return t.unshift(e)};Zn["@@transducer/result"]=function(t){return t.asImmutable()};function yg(t,e,n,r){var a=Object.create(Zn);return a.size=t,a._head=e,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}var k6;function Gb(){return k6||(k6=yg(0))}var lK="@@__IMMUTABLE_SET__@@";function W_(t){return!!(t&&t[lK])}function Fw(t){return W_(t)&&wi(t)}function WP(t,e){if(t===e)return!0;if(!In(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||dr(t)!==dr(e)||yn(t)!==yn(e)||wi(t)!==wi(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!kl(t);if(wi(t)){var r=t.entries();return e.every(function(l,c){var d=r.next().value;return d&&tn(d[1],l)&&(n||tn(d[0],c))})&&r.next().done}var a=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{a=!0;var s=t;t=e,e=s}var o=!0,u=e.__iterate(function(l,c){if(n?!t.has(l):a?!tn(l,t.get(c,Qt)):!tn(t.get(c,Qt),l))return o=!1,!1});return o&&t.size===u}function nc(t,e){var n=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Tv(t){if(!t||typeof t!="object")return t;if(!In(t)){if(!bo(t))return t;t=Pn(t)}if(dr(t)){var e={};return t.__iterate(function(r,a){e[a]=Tv(r)}),e}var n=[];return t.__iterate(function(r){n.push(Tv(r))}),n}var Wl=function(t){function e(n){return n==null?mg():W_(n)&&!wi(n)?n:mg().withMutations(function(r){var a=t(n);bi(a.size),a.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(zi(r).keySeq())},e.intersect=function(r){return r=Tr(r).toArray(),r.length?mn.intersect.apply(e(r.pop()),r):mg()},e.union=function(r){return r=Tr(r).toArray(),r.length?mn.union.apply(e(r.pop()),r):mg()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(r){return this._map.has(r)},e.prototype.add=function(r){return Wb(this,this._map.set(r,r))},e.prototype.remove=function(r){return Wb(this,this._map.remove(r))},e.prototype.clear=function(){return Wb(this,this._map.clear())},e.prototype.map=function(r,a){var s=this,o=!1,u=Wb(this,this._map.mapEntries(function(l){var c=l[1],d=r.call(a,c,c,s);return d!==c&&(o=!0),[d,d]},a));return o?u:this},e.prototype.union=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return r=r.filter(function(s){return s.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(s){for(var o=0;o<r.length;o++)typeof r[o]=="string"?s.add(r[o]):t(r[o]).forEach(function(u){return s.add(u)})})},e.prototype.intersect=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r.length===0)return this;r=r.map(function(o){return t(o)});var s=[];return this.forEach(function(o){r.every(function(u){return u.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.subtract=function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];if(r.length===0)return this;r=r.map(function(o){return t(o)});var s=[];return this.forEach(function(o){r.some(function(u){return u.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.sort=function(r){return Hu(ml(this,r))},e.prototype.sortBy=function(r,a){return Hu(ml(this,a,r))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,a){var s=this;return this._map.__iterate(function(o){return r(o,o,s)},a)},e.prototype.__iterator=function(r,a){return this._map.__iterator(r,a)},e.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var a=this._map.__ensureOwner(r);return r?this.__make(a,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=a,this)},e}(Vl);Wl.isSet=W_;var mn=Wl.prototype;mn[lK]=!0;mn[M_]=mn.remove;mn.merge=mn.concat=mn.union;mn.withMutations=H_;mn.asImmutable=z_;mn["@@transducer/init"]=mn.asMutable=Q_;mn["@@transducer/step"]=function(t,e){return t.add(e)};mn["@@transducer/result"]=function(t){return t.asImmutable()};mn.__empty=mg;mn.__make=dK;function Wb(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function dK(t,e){var n=Object.create(mn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var V6;function mg(){return V6||(V6=dK(ra()))}var KP=function(t){function e(n,r,a){if(!(this instanceof e))return new e(n,r,a);if(NP(a!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),a=a===void 0?1:Math.abs(a),r<n&&(a=-a),this._start=n,this._end=r,this._step=a,this.size=Math.max(0,Math.ceil((r-n)/a-1)+1),this.size===0){if(M2)return M2;M2=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(r,a){return this.has(r)?this._start+_o(this,r)*this._step:a},e.prototype.includes=function(r){var a=(r-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},e.prototype.slice=function(r,a){return F_(r,a,this.size)?this:(r=Ul(r,this.size),a=q_(a,this.size),a<=r?new e(0,0):new e(this.get(r,this._end),this.get(a,this._end),this._step))},e.prototype.indexOf=function(r){var a=r-this._start;if(a%this._step===0){var s=a/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(r){return this.indexOf(r)},e.prototype.__iterate=function(r,a){for(var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,l=0;l!==s&&r(u,a?s-++l:l++,this)!==!1;)u+=a?-o:o;return l},e.prototype.__iterator=function(r,a){var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,l=0;return new Xt(function(){if(l===s)return Yn();var c=u;return u+=a?-o:o,Er(r,a?s-++l:l++,c)})},e.prototype.equals=function(r){return r instanceof e?this._start===r._start&&this._end===r._end&&this._step===r._step:WP(this,r)},e}(Gi),M2;function qw(t,e,n){for(var r=WW(e),a=0;a!==r.length;)if(t=Lw(t,r[a++],Qt),t===Qt)return n;return t}function fK(t,e){return qw(this,t,e)}function JP(t,e){return qw(t,e,Qt)!==Qt}function $ve(t){return JP(this,t)}function hK(){bi(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}Tr.isIterable=In;Tr.isKeyed=dr;Tr.isIndexed=yn;Tr.isAssociative=kl;Tr.isOrdered=wi;Tr.Iterator=Xt;nc(Tr,{toArray:function(){bi(this.size);var e=new Array(this.size||0),n=dr(this),r=0;return this.__iterate(function(a,s){e[r++]=n?[s,a]:a}),e},toIndexedSeq:function(){return new BW(this)},toJS:function(){return Tv(this)},toKeyedSeq:function(){return new Dw(this,!0)},toMap:function(){return Po(this.toKeyedSeq())},toObject:hK,toOrderedMap:function(){return oa(this.toKeyedSeq())},toOrderedSet:function(){return Hu(dr(this)?this.valueSeq():this)},toSet:function(){return Wl(dr(this)?this.valueSeq():this)},toSetSeq:function(){return new $W(this)},toSeq:function(){return yn(this)?this.toIndexedSeq():dr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return G_(dr(this)?this.valueSeq():this)},toList:function(){return Gl(dr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return lr(this,Eve(this,e))},includes:function(e){return this.some(function(n){return tn(n,e)})},entries:function(){return this.__iterator(ki)},every:function(e,n){bi(this.size);var r=!0;return this.__iterate(function(a,s,o){if(!e.call(n,a,s,o))return r=!1,!1}),r},filter:function(e,n){return lr(this,HW(this,e,n,!0))},partition:function(e,n){return Sve(this,e,n)},find:function(e,n,r){var a=this.findEntry(e,n);return a?a[1]:r},forEach:function(e,n){return bi(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){bi(this.size),e=e!==void 0?""+e:",";var n="",r=!0;return this.__iterate(function(a){r?r=!1:n+=e,n+=a!=null?a.toString():""}),n},keys:function(){return this.__iterator($_)},map:function(e,n){return lr(this,VW(this,e,n))},reduce:function(e,n,r){return H6(this,e,n,r,arguments.length<2,!1)},reduceRight:function(e,n,r){return H6(this,e,n,r,arguments.length<2,!0)},reverse:function(){return lr(this,RP(this,!0))},slice:function(e,n){return lr(this,xP(this,e,n,!0))},some:function(e,n){bi(this.size);var r=!1;return this.__iterate(function(a,s,o){if(e.call(n,a,s,o))return r=!0,!1}),r},sort:function(e){return lr(this,ml(this,e))},values:function(){return this.__iterator(sa)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return yl(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return vve(this,e,n)},equals:function(e){return WP(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Vu(e._cache);var n=e.toSeq().map(kve).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(F2(e),n)},findEntry:function(e,n,r){var a=r;return this.__iterate(function(s,o,u){if(e.call(n,s,o,u))return a=[o,s],!1}),a},findKey:function(e,n){var r=this.findEntry(e,n);return r&&r[0]},findLast:function(e,n,r){return this.toKeyedSeq().reverse().find(e,n,r)},findLastEntry:function(e,n,r){return this.toKeyedSeq().reverse().findEntry(e,n,r)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(RW,null,e)},flatMap:function(e,n){return lr(this,Ave(this,e,n))},flatten:function(e){return lr(this,zW(this,e,!0))},fromEntrySeq:function(){return new UW(this)},get:function(e,n){return this.find(function(r,a){return tn(a,e)},void 0,n)},getIn:fK,groupBy:function(e,n){return wve(this,e,n)},has:function(e){return this.get(e,Qt)!==Qt},hasIn:$ve,isSubset:function(e){return e=typeof e.includes=="function"?e:Tr(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Tr(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return tn(n,e)})},keySeq:function(){return this.toSeq().map(Uve).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Qb(this,e)},maxBy:function(e,n){return Qb(this,n,e)},min:function(e){return Qb(this,e?Q6(e):G6)},minBy:function(e,n){return Qb(this,n?Q6(n):G6,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return lr(this,QW(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(F2(e),n)},sortBy:function(e,n){return lr(this,ml(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return lr(this,Tve(this,e,n))},takeUntil:function(e,n){return this.takeWhile(F2(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Vve(this))}});var Nn=Tr.prototype;Nn[PW]=!0;Nn[xw]=Nn.values;Nn.toJSON=Nn.toArray;Nn.__toStringMapper=t_;Nn.inspect=Nn.toSource=function(){return this.toString()};Nn.chain=Nn.flatMap;Nn.contains=Nn.includes;nc(zi,{flip:function(){return lr(this,kW(this))},mapEntries:function(e,n){var r=this,a=0;return lr(this,this.toSeq().map(function(s,o){return e.call(n,[o,s],a++,r)}).fromEntrySeq())},mapKeys:function(e,n){var r=this;return lr(this,this.toSeq().flip().map(function(a,s){return e.call(n,a,s,r)}).flip())}});var K_=zi.prototype;K_[NW]=!0;K_[xw]=Nn.entries;K_.toJSON=hK;K_.__toStringMapper=function(t,e){return t_(e)+": "+t_(t)};nc(rc,{toKeyedSeq:function(){return new Dw(this,!1)},filter:function(e,n){return lr(this,HW(this,e,n,!1))},findIndex:function(e,n){var r=this.findEntry(e,n);return r?r[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return lr(this,RP(this,!1))},slice:function(e,n){return lr(this,xP(this,e,n,!1))},splice:function(e,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;e=Ul(e,e<0?this.count():this.size);var a=this.slice(0,e);return lr(this,r===1?a:a.concat(Oa(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var r=this.findLastEntry(e,n);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return lr(this,zW(this,e,!1))},get:function(e,n){return e=_o(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(r,a){return a===e},void 0,n)},has:function(e){return e=_o(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return lr(this,Ove(this,e))},interleave:function(){var e=[this].concat(Oa(arguments)),n=zb(this.toSeq(),Gi.of,e),r=n.flatten(!0);return n.size&&(r.size=n.size*e.length),lr(this,r)},keySeq:function(){return KP(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return lr(this,QW(this,e,n,!1))},zip:function(){var e=[this].concat(Oa(arguments));return lr(this,zb(this,z6,e))},zipAll:function(){var e=[this].concat(Oa(arguments));return lr(this,zb(this,z6,e,!0))},zipWith:function(e){var n=Oa(arguments);return n[0]=this,lr(this,zb(this,e,n))}});var Kl=rc.prototype;Kl[DW]=!0;Kl[Hl]=!0;nc(Vl,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var vl=Vl.prototype;vl.has=Nn.includes;vl.contains=vl.includes;vl.keys=vl.values;nc(xo,K_);nc(Gi,Kl);nc(zl,vl);function H6(t,e,n,r,a,s){return bi(t.size),t.__iterate(function(o,u,l){a?(a=!1,n=o):n=e.call(r,n,o,u,l)},s),n}function Uve(t,e){return e}function kve(t,e){return[e,t]}function F2(t){return function(){return!t.apply(this,arguments)}}function Q6(t){return function(){return-t.apply(this,arguments)}}function z6(){return Oa(arguments)}function G6(t,e){return t<e?1:t>e?-1:0}function Vve(t){if(t.size===1/0)return 0;var e=wi(t),n=dr(t),r=e?1:0,a=t.__iterate(n?e?function(s,o){r=31*r+W6(Gn(s),Gn(o))|0}:function(s,o){r=r+W6(Gn(s),Gn(o))|0}:e?function(s){r=31*r+Gn(s)|0}:function(s){r=r+Gn(s)|0});return Hve(a,r)}function Hve(t,e){return e=gd(e,3432918353),e=gd(e<<15|e>>>-15,461845907),e=gd(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=gd(e^e>>>16,2246822507),e=gd(e^e>>>13,3266489909),e=Nw(e^e>>>16),e}function W6(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Hu=function(t){function e(n){return n==null?_x():Fw(n)?n:_x().withMutations(function(r){var a=Vl(n);bi(a.size),a.forEach(function(s){return r.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(r){return this(zi(r).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Wl);Hu.isOrderedSet=Fw;var ic=Hu.prototype;ic[Hl]=!0;ic.zip=Kl.zip;ic.zipWith=Kl.zipWith;ic.zipAll=Kl.zipAll;ic.__empty=_x;ic.__make=pK;function pK(t,e){var n=Object.create(ic);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var K6;function _x(){return K6||(K6=pK(pg()))}var yK={LeftThenRight:-1,RightThenLeft:1};function Qve(t){if(Ro(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Oi(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Yr=function(e,n){var r;Qve(e);var a=function(u){var l=this;if(u instanceof a)return u;if(!(this instanceof a))return new a(u);if(!r){r=!0;var c=Object.keys(e),d=s._indices={};s._name=n,s._keys=c,s._defaultValues=e;for(var f=0;f<c.length;f++){var h=c[f];d[h]=f,s[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+YP(this)+' with property "'+h+'" since that property name is part of the Record API.'):zve(s,h)}}return this.__ownerID=void 0,this._values=Gl().withMutations(function(p){p.setSize(l._keys.length),zi(u).forEach(function(m,y){p.set(l._indices[y],m===l._defaultValues[y]?void 0:m)})}),this},s=a.prototype=Object.create(yr);return s.constructor=a,n&&(a.displayName=n),a};Yr.prototype.toString=function(){for(var e=YP(this)+" { ",n=this._keys,r,a=0,s=n.length;a!==s;a++)r=n[a],e+=(a?", ":"")+r+": "+t_(this.get(r));return e+" }"};Yr.prototype.equals=function(e){return this===e||Ro(e)&&wl(this).equals(wl(e))};Yr.prototype.hashCode=function(){return wl(this).hashCode()};Yr.prototype.has=function(e){return this._indices.hasOwnProperty(e)};Yr.prototype.get=function(e,n){if(!this.has(e))return n;var r=this._indices[e],a=this._values.get(r);return a===void 0?this._defaultValues[e]:a};Yr.prototype.set=function(e,n){if(this.has(e)){var r=this._values.set(this._indices[e],n===this._defaultValues[e]?void 0:n);if(r!==this._values&&!this.__ownerID)return XP(this,r)}return this};Yr.prototype.remove=function(e){return this.set(e)};Yr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:XP(this,e)};Yr.prototype.wasAltered=function(){return this._values.wasAltered()};Yr.prototype.toSeq=function(){return wl(this)};Yr.prototype.toJS=function(){return Tv(this)};Yr.prototype.entries=function(){return this.__iterator(ki)};Yr.prototype.__iterator=function(e,n){return wl(this).__iterator(e,n)};Yr.prototype.__iterate=function(e,n){return wl(this).__iterate(e,n)};Yr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._values.__ensureOwner(e);return e?XP(this,n,e):(this.__ownerID=e,this._values=n,this)};Yr.isRecord=Ro;Yr.getDescriptiveName=YP;var yr=Yr.prototype;yr[LW]=!0;yr[M_]=yr.remove;yr.deleteIn=yr.removeIn=qP;yr.getIn=fK;yr.hasIn=Nn.hasIn;yr.merge=JW;yr.mergeWith=XW;yr.mergeIn=UP;yr.mergeDeep=nK;yr.mergeDeepWith=iK;yr.mergeDeepIn=kP;yr.setIn=MP;yr.update=BP;yr.updateIn=$P;yr.withMutations=H_;yr.asMutable=Q_;yr.asImmutable=z_;yr[xw]=yr.entries;yr.toJSON=yr.toObject=Nn.toObject;yr.inspect=yr.toSource=function(){return this.toString()};function XP(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function YP(t){return t.constructor.displayName||t.constructor.name||"Record"}function wl(t){return AP(t._keys.map(function(e){return[e,t.get(e)]}))}function zve(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(n){NP(this.__ownerID,"Cannot set on an immutable record."),this.set(e,n)}})}catch{}}var mK=function(t){function e(n,r){if(!(this instanceof e))return new e(n,r);if(this._value=n,this.size=r===void 0?1/0:Math.max(0,r),this.size===0){if(q2)return q2;q2=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(r,a){return this.has(r)?this._value:a},e.prototype.includes=function(r){return tn(this._value,r)},e.prototype.slice=function(r,a){var s=this.size;return F_(r,a,s)?this:new e(this._value,q_(a,s)-Ul(r,s))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(r){return tn(this._value,r)?0:-1},e.prototype.lastIndexOf=function(r){return tn(this._value,r)?this.size:-1},e.prototype.__iterate=function(r,a){for(var s=this.size,o=0;o!==s&&r(this._value,a?s-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(r,a){var s=this,o=this.size,u=0;return new Xt(function(){return u===o?Yn():Er(r,a?o-++u:u++,s._value)})},e.prototype.equals=function(r){return r instanceof e?tn(this._value,r._value):WP(this,r)},e}(Gi),q2;function gK(t,e){return _K([],e||Gve,t,"",e&&e.length>2?[]:void 0,{"":t})}function _K(t,e,n,r,a,s){if(typeof n!="string"&&!Oi(n)&&(SP(n)||wP(n)||Cw(n))){if(~t.indexOf(n))throw new TypeError("Cannot convert circular structure to Immutable");t.push(n),a&&r!==""&&a.push(r);var o=e.call(s,r,Pn(n).map(function(u,l){return _K(t,e,u,l,a,n)}),a&&a.slice());return t.pop(),a&&a.pop(),o}return n}function Gve(t,e){return yn(e)?e.toList():dr(e)?e.toMap():e.toSet()}var bK="4.3.6",Wve={version:bK,Collection:Tr,Iterable:Tr,Seq:Pn,Map:Po,OrderedMap:oa,List:Gl,Stack:G_,Set:Wl,OrderedSet:Hu,PairSorting:yK,Record:Yr,Range:KP,Repeat:mK,is:tn,fromJS:gK,hash:Gn,isImmutable:Oi,isCollection:In,isKeyed:dr,isIndexed:yn,isAssociative:kl,isOrdered:wi,isValueObject:wv,isPlainObject:Cw,isSeq:B_,isList:Mw,isMap:U_,isOrderedMap:Pw,isStack:s_,isSet:W_,isOrderedSet:Fw,isRecord:Ro,get:Lw,getIn:qw,has:DP,hasIn:JP,merge:ZW,mergeDeep:tK,mergeWith:eK,mergeDeepWith:rK,remove:CP,removeIn:FP,set:LP,setIn:jP,update:jw,updateIn:Io},Kve=Tr;const Jve=Object.freeze(Object.defineProperty({__proto__:null,Collection:Tr,Iterable:Kve,List:Gl,Map:Po,OrderedMap:oa,OrderedSet:Hu,PairSorting:yK,Range:KP,Record:Yr,Repeat:mK,Seq:Pn,Set:Wl,Stack:G_,default:Wve,fromJS:gK,get:Lw,getIn:qw,has:DP,hasIn:JP,hash:Gn,is:tn,isAssociative:kl,isCollection:In,isImmutable:Oi,isIndexed:yn,isKeyed:dr,isList:Mw,isMap:U_,isOrdered:wi,isOrderedMap:Pw,isOrderedSet:Fw,isPlainObject:Cw,isRecord:Ro,isSeq:B_,isSet:W_,isStack:s_,isValueObject:wv,merge:ZW,mergeDeep:tK,mergeDeepWith:rK,mergeWith:eK,remove:CP,removeIn:FP,set:LP,setIn:jP,update:jw,updateIn:Io,version:bK},Symbol.toStringTag,{value:"Module"})),ZP=CI(Jve);Object.defineProperty(ku,"__esModule",{value:!0});ku.ActionContextKey=ku.ActionContext=void 0;const J6=ZP;class Fc{constructor(e={}){this.map=(0,J6.Map)(e)}setDefault(e,n){return this.has(e)?this:this.set(e,n)}set(e,n){return this.setRaw(e.name,n)}setRaw(e,n){return new Fc(this.map.set(e,n))}delete(e){return new Fc(this.map.delete(e.name))}get(e){return this.getRaw(e.name)}getRaw(e){return this.map.get(e)}getSafe(e){if(!this.has(e))throw new Error(`Context entry ${e.name} is required but not available`);return this.get(e)}has(e){return this.hasRaw(e.name)}hasRaw(e){return this.map.has(e)}merge(...e){let n=this;for(const r of e)for(const a of r.keys())n=n.set(a,r.get(a));return n}keys(){return[...this.map.keys()].map(e=>new vK(e))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(e){return e instanceof Fc?e:new Fc((0,J6.Map)(e??{}))}}ku.ActionContext=Fc;class vK{constructor(e){this.name=e}}ku.ActionContextKey=vK;var J_={};Object.defineProperty(J_,"__esModule",{value:!0});J_.Bus=void 0;class Xve{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,e)}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const n=this.actors.indexOf(e);return n>=0?(this.actors.splice(n,1),!0):!1}unsubscribeObserver(e){const n=this.observers.indexOf(e);return n>=0?(this.observers.splice(n,1),!0):!1}publish(e){return this.actors.map(n=>({actor:n,reply:n.test(e)}))}onRun(e,n,r){for(const a of this.observers)a.onRun(e,n,r)}addDependencies(e,n){for(const r of n){let a=this.dependencyLinks.get(r);a||(a=[],this.dependencyLinks.set(r,a)),a.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const e=[];for(const n of this.dependencyLinks.keys()){const r=this.actors.indexOf(n);r>=0&&(this.actors.splice(r,1),e.push(n))}for(;e.length>0;){let n=-1;for(let a=0;a<e.length;a++){let s=!0;for(const o of this.dependencyLinks.get(e[a]))if(!this.actors.includes(o)&&e.includes(o)){s=!1;break}if(s){n=a;break}}if(n<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const r=e.splice(n,1)[0];this.actors.push(r)}}}}J_.Bus=Xve;var Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});Bw.BusIndexed=void 0;const Yve=J_;class Zve extends Yve.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){const n=this.getActorIdentifier(e)||"_undefined_";let r=this.actorsIndex[n];r||(r=this.actorsIndex[n]=[]),r.push(e),super.subscribe(e)}unsubscribe(e){const n=this.getActorIdentifier(e)||"_undefined_",r=this.actorsIndex[n];if(r){const a=r.indexOf(e);a>=0&&r.splice(a,1),r.length===0&&delete this.actorsIndex[n]}return super.unsubscribe(e)}publish(e){const n=this.getActionIdentifier(e);return n?[...this.actorsIndex[n]||[],...this.actorsIndex._undefined_||[]].map(a=>({actor:a,reply:a.test(e)})):super.publish(e)}getActorIdentifier(e){return this.actorIdentifierFields.reduce((n,r)=>n[r],e)}getActionIdentifier(e){return this.actionIdentifierFields.reduce((n,r)=>n[r],e)}}Bw.BusIndexed=Zve;var X_={};Object.defineProperty(X_,"__esModule",{value:!0});X_.CONTEXT_KEY_LOGGER=void 0;const ewe=ku;X_.CONTEXT_KEY_LOGGER=new ewe.ActionContextKey("@comunica/core:log");var $w={};Object.defineProperty($w,"__esModule",{value:!0});$w.ActionObserver=void 0;class twe{constructor(e){Object.assign(this,e)}}$w.ActionObserver=twe;var Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});Uw.Actor=void 0;const rwe=X_;class io{constructor(e){this.beforeActors=[],Object.assign(this,e),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(e){return e.get(rwe.CONTEXT_KEY_LOGGER)}runObservable(e){const n=this.run(e);return this.bus.onRun(this,e,n),n}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,n){const r=n?n():{};return r.actor=this.name,r}logTrace(e,n,r){const a=io.getContextLogger(e);a&&a.trace(n,this.getDefaultLogData(e,r))}logDebug(e,n,r){const a=io.getContextLogger(e);a&&a.debug(n,this.getDefaultLogData(e,r))}logInfo(e,n,r){const a=io.getContextLogger(e);a&&a.info(n,this.getDefaultLogData(e,r))}logWarn(e,n,r){const a=io.getContextLogger(e);a&&a.warn(n,this.getDefaultLogData(e,r))}logError(e,n,r){const a=io.getContextLogger(e);a&&a.error(n,this.getDefaultLogData(e,r))}logFatal(e,n,r){const a=io.getContextLogger(e);a&&a.fatal(n,this.getDefaultLogData(e,r))}}Uw.Actor=io;var kw={};Object.defineProperty(kw,"__esModule",{value:!0});kw.Mediator=void 0;class nwe{constructor(e){Object.assign(this,e)}publish(e){const n=this.bus.publish(e);if(n.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return n}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}}kw.Mediator=nwe;(function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ku,t),n(J_,t),n(Bw,t),n(X_,t),n($w,t),n(Uw,t),n(kw,t)})(lt);Object.defineProperty(Rw,"__esModule",{value:!0});Rw.ActorInit=void 0;const iwe=lt;class awe extends iwe.Actor{constructor(e){super(e)}}Rw.ActorInit=awe;(function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Rw,t)})(OW);Object.defineProperty(j_,"__esModule",{value:!0});j_.ActorInitQueryBase=void 0;const swe=OW;class owe extends swe.ActorInit{async test(e){return!0}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}j_.ActorInitQueryBase=owe;function uwe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wK={exports:{}},Hr=wK.exports={},wa,Sa;function bx(){throw new Error("setTimeout has not been defined")}function vx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?wa=setTimeout:wa=bx}catch{wa=bx}try{typeof clearTimeout=="function"?Sa=clearTimeout:Sa=vx}catch{Sa=vx}})();function SK(t){if(wa===setTimeout)return setTimeout(t,0);if((wa===bx||!wa)&&setTimeout)return wa=setTimeout,setTimeout(t,0);try{return wa(t,0)}catch{try{return wa.call(null,t,0)}catch{return wa.call(this,t,0)}}}function cwe(t){if(Sa===clearTimeout)return clearTimeout(t);if((Sa===vx||!Sa)&&clearTimeout)return Sa=clearTimeout,clearTimeout(t);try{return Sa(t)}catch{try{return Sa.call(null,t)}catch{return Sa.call(this,t)}}}var ms=[],Jc=!1,Pu,$1=-1;function lwe(){!Jc||!Pu||(Jc=!1,Pu.length?ms=Pu.concat(ms):$1=-1,ms.length&&TK())}function TK(){if(!Jc){var t=SK(lwe);Jc=!0;for(var e=ms.length;e;){for(Pu=ms,ms=[];++$1<e;)Pu&&Pu[$1].run();$1=-1,e=ms.length}Pu=null,Jc=!1,cwe(t)}}Hr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ms.push(new EK(t,e)),ms.length===1&&!Jc&&SK(TK)};function EK(t,e){this.fun=t,this.array=e}EK.prototype.run=function(){this.fun.apply(null,this.array)};Hr.title="browser";Hr.browser=!0;Hr.env={};Hr.argv=[];Hr.version="";Hr.versions={};function Ms(){}Hr.on=Ms;Hr.addListener=Ms;Hr.once=Ms;Hr.off=Ms;Hr.removeListener=Ms;Hr.removeAllListeners=Ms;Hr.emit=Ms;Hr.prependListener=Ms;Hr.prependOnceListener=Ms;Hr.listeners=function(t){return[]};Hr.binding=function(t){throw new Error("process.binding is not supported")};Hr.cwd=function(){return"/"};Hr.chdir=function(t){throw new Error("process.chdir is not supported")};Hr.umask=function(){return 0};var dwe=wK.exports;const Es=uwe(dwe);var Vw={};Object.defineProperty(Vw,"__esModule",{value:!0});Vw.ActorInitQuery=void 0;const fwe=j_;typeof Es>"u"&&(globalThis.process=Ls);class hwe extends fwe.ActorInitQueryBase{}Vw.ActorInitQuery=hwe;var Hw={},Ut={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.KeysRdfJoin=or.KeysMergeBindingsContext=or.KeysRdfUpdateQuads=or.KeysQuerySourceIdentify=or.KeysRdfParseHtmlScript=or.KeysRdfParseJsonLd=or.KeysQueryOperation=or.KeysInitQuery=or.KeysHttpProxy=or.KeysHttpMemento=or.KeysHttpWayback=or.KeysHttp=or.KeysCore=void 0;const Et=lt;or.KeysCore={log:Et.CONTEXT_KEY_LOGGER};or.KeysHttp={includeCredentials:new Et.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new Et.ActionContextKey("@comunica/bus-http:auth"),fetch:new Et.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new Et.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new Et.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new Et.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelay:new Et.ActionContextKey("@comunica/bus-http:http-retry-delay"),httpRetryOnServerError:new Et.ActionContextKey("@comunica/bus-http:http-retry-on-server-error")};or.KeysHttpWayback={recoverBrokenLinks:new Et.ActionContextKey("@comunica/bus-http:recover-broken-links")};or.KeysHttpMemento={datetime:new Et.ActionContextKey("@comunica/actor-http-memento:datetime")};or.KeysHttpProxy={httpProxyHandler:new Et.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")};or.KeysInitQuery={querySourcesUnidentified:new Et.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new Et.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new Et.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new Et.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new Et.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new Et.ActionContextKey("@comunica/actor-init-query:queryString"),query:new Et.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new Et.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new Et.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new Et.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new Et.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new Et.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new Et.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new Et.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new Et.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new Et.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new Et.ActionContextKey("@context"),noCache:new Et.ActionContextKey("@comunica/actor-init-query:noCache")};or.KeysQueryOperation={operation:new Et.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new Et.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new Et.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new Et.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new Et.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new Et.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new Et.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new Et.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new Et.ActionContextKey("@comunica/bus-query-operation:querySources")};or.KeysRdfParseJsonLd={documentLoader:new Et.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new Et.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new Et.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")};or.KeysRdfParseHtmlScript={processingHtmlScript:new Et.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new Et.ActionContextKey("extractAllScripts")};or.KeysQuerySourceIdentify={sourceIds:new Et.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new Et.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new Et.ActionContextKey("@comunica/bus-query-source-identify:traverse")};or.KeysRdfUpdateQuads={destination:new Et.ActionContextKey("@comunica/bus-rdf-update-quads:destination")};or.KeysMergeBindingsContext={sourcesBinding:new Et.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")};or.KeysRdfJoin={lastPhysicalJoin:new Et.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")};(function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(or,t)})(Ut);Object.defineProperty(Hw,"__esModule",{value:!0});Hw.QueryEngineBase=void 0;const pwe=Ut,_d=lt;class Ev{constructor(e){this.actorInitQuery=e}async queryBindings(e,n){return this.queryOfType(e,n,"bindings")}async queryQuads(e,n){return this.queryOfType(e,n,"quads")}async queryBoolean(e,n){return this.queryOfType(e,n,"boolean")}async queryVoid(e,n){return this.queryOfType(e,n,"void")}async queryOfType(e,n,r){const a=await this.query(e,n);if(a.resultType===r)return await a.execute();throw new Error(`Query result type '${r}' was expected, while '${a.resultType}' was found.`)}async query(e,n){const r=await this.queryOrExplain(e,n);if("explain"in r)throw new Error("Tried to explain a query when in query-only mode");return r}async explain(e,n,r){return n.explain=r,await this.queryOrExplain(e,n)}async queryOrExplain(e,n){const r=_d.ActionContext.ensureActionContext(n);r.get(pwe.KeysInitQuery.noCache)&&await this.invalidateHttpCache();const{result:a}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:e,context:r});return"explain"in a?a:Ev.internalToFinalResult(a)}async getResultMediaTypes(e){return e=_d.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(e){return e=_d.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(e,n,r){if(r=_d.ActionContext.ensureActionContext(r),!n)switch(e.resultType){case"bindings":n="application/json";break;case"quads":n="application/trig";break;default:n="simple";break}const a={...await Ev.finalToInternalResult(e),context:r};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:r,handle:a,handleMediaType:n})).handle}invalidateHttpCache(e,n){return n=_d.ActionContext.ensureActionContext(n),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:e,context:n})}static internalToFinalResult(e){switch(e.type){case"bindings":return{resultType:"bindings",execute:async()=>e.bindingsStream,metadata:async()=>await e.metadata(),context:e.context};case"quads":return{resultType:"quads",execute:async()=>e.quadStream,metadata:async()=>await e.metadata(),context:e.context};case"boolean":return{resultType:"boolean",execute:async()=>e.execute(),context:e.context};case"void":return{resultType:"void",execute:async()=>e.execute(),context:e.context}}}static async finalToInternalResult(e){switch(e.resultType){case"bindings":return{type:"bindings",bindingsStream:await e.execute(),metadata:async()=>await e.metadata()};case"quads":return{type:"quads",quadStream:await e.execute(),metadata:async()=>await e.metadata()};case"boolean":return{type:"boolean",execute:()=>e.execute()};case"void":return{type:"void",execute:()=>e.execute()}}}}Hw.QueryEngineBase=Ev;(function(t){var e=P&&P.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,l)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),n=P&&P.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryEngineBase=void 0,n(j_,t),n(Vw,t);var r=Hw;Object.defineProperty(t,"QueryEngineBase",{enumerable:!0,get:function(){return r.QueryEngineBase}})})(bP);var B2={},bd={},$2={},U2={},X6;function ywe(){return X6||(X6=1,Object.defineProperty(U2,"__esModule",{value:!0})),U2}var k2={},Y6;function mwe(){return Y6||(Y6=1,Object.defineProperty(k2,"__esModule",{value:!0})),k2}var V2={},Z6;function gwe(){return Z6||(Z6=1,Object.defineProperty(V2,"__esModule",{value:!0})),V2}var H2={},eL;function _we(){return eL||(eL=1,Object.defineProperty(H2,"__esModule",{value:!0})),H2}var Q2={},tL;function bwe(){return tL||(tL=1,Object.defineProperty(Q2,"__esModule",{value:!0})),Q2}var z2={},rL;function vwe(){return rL||(rL=1,Object.defineProperty(z2,"__esModule",{value:!0})),z2}var G2={},nL;function wwe(){return nL||(nL=1,Object.defineProperty(G2,"__esModule",{value:!0})),G2}var W2={},iL;function Swe(){return iL||(iL=1,Object.defineProperty(W2,"__esModule",{value:!0})),W2}var K2={},aL;function Twe(){return aL||(aL=1,Object.defineProperty(K2,"__esModule",{value:!0})),K2}var J2={},sL;function Ewe(){return sL||(sL=1,Object.defineProperty(J2,"__esModule",{value:!0})),J2}var X2={},oL;function Awe(){return oL||(oL=1,Object.defineProperty(X2,"__esModule",{value:!0})),X2}var Y2={},uL;function Owe(){return uL||(uL=1,Object.defineProperty(Y2,"__esModule",{value:!0})),Y2}var Z2={},cL;function Rwe(){return cL||(cL=1,Object.defineProperty(Z2,"__esModule",{value:!0})),Z2}var vd={},lL;function xwe(){if(lL)return vd;lL=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.Logger=void 0;let t=class AK{static getLevelOrdinal(n){return AK.LEVELS[n]}};return vd.Logger=t,t.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},vd}var dL;function Iwe(){return dL||(dL=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ywe(),t),n(mwe(),t),n(gwe(),t),n(_we(),t),n(bwe(),t),n(vwe(),t),n(wwe(),t),n(Swe(),t),n(Twe(),t),n(Ewe(),t),n(Awe(),t),n(Owe(),t),n(Rwe(),t),n(xwe(),t)}($2)),$2}var fL;function Pwe(){if(fL)return bd;fL=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.LoggerVoid=void 0;const t=Iwe();let e=class extends t.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}};return bd.LoggerVoid=e,bd}var hL;function Nwe(){return hL||(hL=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Pwe(),t)}(B2)),B2}var eT={},wd={},tT={},Sd={},pL;function Dwe(){if(pL)return Sd;pL=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.BlankNodeScoped=void 0;let t=class{constructor(n,r){this.termType="BlankNode",this.value=n,this.skolemized=r}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return Sd.BlankNodeScoped=t,Sd}var Td={},yL;function Cwe(){if(yL)return Td;yL=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.BlankNodeBindingsScoped=void 0;let t=class{constructor(n){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return Td.BlankNodeBindingsScoped=t,Td}var mL;function eN(){return mL||(mL=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Dwe(),t),n(Cwe(),t)}(tT)),tT}var Wo={},tr={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.stringQuadToQuad=On.quadToStringQuad=On.stringToTerm=On.getLiteralLanguage=On.getLiteralType=On.getLiteralValue=On.termToString=void 0;const Lwe=Rt,OK=new Lwe.DataFactory;function gs(t){if(t)switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const e=t;return'"'+e.value+'"'+(e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&e.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+e.datatype.value:"")+(e.language?"@"+e.language:"");case"Quad":return`<<${gs(t.subject)} ${gs(t.predicate)} ${gs(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+gs(t.graph)}>>`;case"Variable":return"?"+t.value;case"DefaultGraph":return t.value}}On.termToString=gs;function RK(t){const e=/^"([^]*)"/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]}On.getLiteralValue=RK;function xK(t){const e=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}On.getLiteralType=xK;function IK(t){const e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]?e[1].toLowerCase():""}On.getLiteralLanguage=IK;function _s(t,e){if(e=e||OK,!t||!t.length)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.substr(1));case'"':const n=IK(t),r=e.namedNode(xK(t));return e.literal(RK(t),n||r);case"<":default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const a=t.slice(2,-2).trim();let s=[],o=0,u=0,l=!1;for(let c=0;c<a.length;c++){const d=a[c];if(d==="<"&&o++,d===">"){if(o===0)throw new Error("Found closing tag without opening tag in "+t);o--}if(d==='"'){let f=!1,h=c;for(;h-- >0&&a[h]==="\\";)f=!f;f||(l=!l)}if(d===" "&&!l&&o===0){for(s.push(a.slice(u,c));a[c+1]===" ";)c+=1;u=c+1}}if(o!==0)throw new Error("Found opening tag without closing tag in "+t);if(s.push(a.slice(u,a.length)),s.length!==3&&s.length!==4)throw new Error("Nested quad syntax error "+t);return s=s.map(c=>c.startsWith("<")&&!c.includes(" ")?c.slice(1,-1):c),e.quad(_s(s[0]),_s(s[1]),_s(s[2]),s[3]?_s(s[3]):void 0)}return e.namedNode(t)}}On.stringToTerm=_s;function jwe(t){return{subject:gs(t.subject),predicate:gs(t.predicate),object:gs(t.object),graph:gs(t.graph)}}On.quadToStringQuad=jwe;function Mwe(t,e){return e=e||OK,e.quad(_s(t.subject,e),_s(t.predicate,e),_s(t.object,e),_s(t.graph,e))}On.stringQuadToQuad=Mwe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=On;Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(tr);var rT={},bt={},gL;function PK(){if(gL)return bt;gL=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.matchPatternMappings=bt.matchPatternComplete=bt.matchPattern=bt.matchTerm=bt.getValueNestedPath=bt.someTermsNested=bt.someTerms=bt.everyTermsNested=bt.everyTerms=bt.reduceTermsNested=bt.reduceTerms=bt.mapTermsNested=bt.mapTerms=bt.filterQuadTermNamesNested=bt.filterQuadTermNames=bt.filterTermsNested=bt.filterTerms=bt.forEachTermsNested=bt.forEachTerms=bt.collectNamedTerms=bt.getNamedTerms=bt.getTermsNested=bt.getTerms=bt.TRIPLE_TERM_NAMES=bt.QUAD_TERM_NAMES=void 0;const t=Rt,e=new t.DataFactory;bt.QUAD_TERM_NAMES=["subject","predicate","object","graph"],bt.TRIPLE_TERM_NAMES=["subject","predicate","object"];function n(I,N){return N&&I.graph.termType==="DefaultGraph"?[I.subject,I.predicate,I.object]:[I.subject,I.predicate,I.object,I.graph]}bt.getTerms=n;function r(I,N){const F=[];for(const D of n(I,N))D.termType==="Quad"?r(D,N).forEach(V=>F.push(V)):F.push(D);return F}bt.getTermsNested=r;function a(I){return[{key:"subject",value:I.subject},{key:"predicate",value:I.predicate},{key:"object",value:I.object},{key:"graph",value:I.graph}]}bt.getNamedTerms=a;function s(I,N,F){const D={};return I.forEach(V=>D[V.key]=V.value),N&&(D.subject=D.subject||N("subject"),D.predicate=D.predicate||N("predicate"),D.object=D.object||N("object"),D.graph=D.graph||N("graph")),(F||e).quad(D.subject,D.predicate,D.object,D.graph)}bt.collectNamedTerms=s;function o(I,N){N(I.subject,"subject"),N(I.predicate,"predicate"),N(I.object,"object"),N(I.graph,"graph")}bt.forEachTerms=o;function u(I,N,F=[]){I.subject.termType==="Quad"?u(I.subject,N,[...F,"subject"]):N(I.subject,[...F,"subject"]),I.predicate.termType==="Quad"?u(I.predicate,N,[...F,"predicate"]):N(I.predicate,[...F,"predicate"]),I.object.termType==="Quad"?u(I.object,N,[...F,"object"]):N(I.object,[...F,"object"]),I.graph.termType==="Quad"?u(I.graph,N,[...F,"graph"]):N(I.graph,[...F,"graph"])}bt.forEachTermsNested=u;function l(I,N){const F=[];return N(I.subject,"subject")&&F.push(I.subject),N(I.predicate,"predicate")&&F.push(I.predicate),N(I.object,"object")&&F.push(I.object),N(I.graph,"graph")&&F.push(I.graph),F}bt.filterTerms=l;function c(I,N,F=[]){let D=[];return I.subject.termType==="Quad"?D=[...D,...c(I.subject,N,[...F,"subject"])]:N(I.subject,[...F,"subject"])&&D.push(I.subject),I.predicate.termType==="Quad"?D=[...D,...c(I.predicate,N,[...F,"predicate"])]:N(I.predicate,[...F,"predicate"])&&D.push(I.predicate),I.object.termType==="Quad"?D=[...D,...c(I.object,N,[...F,"object"])]:N(I.object,[...F,"object"])&&D.push(I.object),I.graph.termType==="Quad"?D=[...D,...c(I.graph,N,[...F,"graph"])]:N(I.graph,[...F,"graph"])&&D.push(I.graph),D}bt.filterTermsNested=c;function d(I,N){const F=[];return N(I.subject,"subject")&&F.push("subject"),N(I.predicate,"predicate")&&F.push("predicate"),N(I.object,"object")&&F.push("object"),N(I.graph,"graph")&&F.push("graph"),F}bt.filterQuadTermNames=d;function f(I,N,F=[]){let D=[];const V=[...F,"subject"];I.subject.termType==="Quad"?D=[...D,...f(I.subject,N,V)]:N(I.subject,V)&&D.push(V);const k=[...F,"predicate"];I.predicate.termType==="Quad"?D=[...D,...f(I.predicate,N,k)]:N(I.predicate,k)&&D.push(k);const U=[...F,"object"];I.object.termType==="Quad"?D=[...D,...f(I.object,N,U)]:N(I.object,U)&&D.push(U);const H=[...F,"graph"];return I.graph.termType==="Quad"?D=[...D,...f(I.graph,N,H)]:N(I.graph,H)&&D.push(H),D}bt.filterQuadTermNamesNested=f;function h(I,N,F){return(F||e).quad(N(I.subject,"subject"),N(I.predicate,"predicate"),N(I.object,"object"),N(I.graph,"graph"))}bt.mapTerms=h;function p(I,N,F,D=[]){return(F||e).quad(I.subject.termType==="Quad"?p(I.subject,N,F,[...D,"subject"]):N(I.subject,[...D,"subject"]),I.predicate.termType==="Quad"?p(I.predicate,N,F,[...D,"predicate"]):N(I.predicate,[...D,"predicate"]),I.object.termType==="Quad"?p(I.object,N,F,[...D,"object"]):N(I.object,[...D,"object"]),I.graph.termType==="Quad"?p(I.graph,N,F,[...D,"graph"]):N(I.graph,[...D,"graph"]))}bt.mapTermsNested=p;function m(I,N,F){let D=F;return D=N(D,I.subject,"subject"),D=N(D,I.predicate,"predicate"),D=N(D,I.object,"object"),N(D,I.graph,"graph")}bt.reduceTerms=m;function y(I,N,F,D=[]){let V=F;return I.subject.termType==="Quad"?V=y(I.subject,N,V,[...D,"subject"]):V=N(V,I.subject,[...D,"subject"]),I.predicate.termType==="Quad"?V=y(I.predicate,N,V,[...D,"predicate"]):V=N(V,I.predicate,[...D,"predicate"]),I.object.termType==="Quad"?V=y(I.object,N,V,[...D,"object"]):V=N(V,I.object,[...D,"object"]),I.graph.termType==="Quad"?V=y(I.graph,N,V,[...D,"graph"]):V=N(V,I.graph,[...D,"graph"]),V}bt.reduceTermsNested=y;function g(I,N){return N(I.subject,"subject")&&N(I.predicate,"predicate")&&N(I.object,"object")&&N(I.graph,"graph")}bt.everyTerms=g;function _(I,N,F=[]){return(I.subject.termType==="Quad"?_(I.subject,N,[...F,"subject"]):N(I.subject,[...F,"subject"]))&&(I.predicate.termType==="Quad"?_(I.predicate,N,[...F,"predicate"]):N(I.predicate,[...F,"predicate"]))&&(I.object.termType==="Quad"?_(I.object,N,[...F,"object"]):N(I.object,[...F,"object"]))&&(I.graph.termType==="Quad"?_(I.graph,N,[...F,"graph"]):N(I.graph,[...F,"graph"]))}bt.everyTermsNested=_;function v(I,N){return N(I.subject,"subject")||N(I.predicate,"predicate")||N(I.object,"object")||N(I.graph,"graph")}bt.someTerms=v;function b(I,N,F=[]){return(I.subject.termType==="Quad"?b(I.subject,N,[...F,"subject"]):N(I.subject,[...F,"subject"]))||(I.predicate.termType==="Quad"?b(I.predicate,N,[...F,"predicate"]):N(I.predicate,[...F,"predicate"]))||(I.object.termType==="Quad"?b(I.object,N,[...F,"object"]):N(I.object,[...F,"object"]))||(I.graph.termType==="Quad"?b(I.graph,N,[...F,"graph"]):N(I.graph,[...F,"graph"]))}bt.someTermsNested=b;function w(I,N){if(N.length===0)return I;if(I.termType==="Quad")return w(I[N[0]],N.slice(1));throw new Error(`Tried to get ${N[0]} from term of type ${I.termType}`)}bt.getValueNestedPath=w;function S(I,N){return!N||N.termType==="Variable"||N.termType==="Quad"&&I.termType==="Quad"&&x(I,N)||N.equals(I)}bt.matchTerm=S;function A(I,N,F,D,V){return S(I.subject,N)&&S(I.predicate,F)&&S(I.object,D)&&S(I.graph,V)}bt.matchPattern=A;function x(I,N){return A(I,N.subject,N.predicate,N.object,N.graph)}bt.matchPatternComplete=x;function M(I,N,F={}){const D={};function V(k,U){return g(k,(H,X)=>{var ee,fe;const Te=U[X];switch(H.termType){case"Variable":return F.skipVarMapping&&Te.termType==="Variable"||((fe=(ee=D[H.value])===null||ee===void 0?void 0:ee.equals(Te))!==null&&fe!==void 0?fe:(D[H.value]=Te,!0));case"Quad":return Te.termType==="Quad"&&V(H,Te);default:return H.equals(Te)}})}return V(N,I)&&(F.returnMappings?D:!0)}return bt.matchPatternMappings=M,bt}var Br={},_L;function Fwe(){if(_L)return Br;_L=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.getQuads=Br.getDefaultGraphs=Br.getVariables=Br.getLiterals=Br.getBlankNodes=Br.getNamedNodes=Br.getTermsOfType=Br.uniqTerms=Br.TERM_TYPES=void 0;const t=tr;Br.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function e(c){const d={};return c.filter(f=>{const h=(0,t.termToString)(f);return!(h in d)&&(d[h]=!0)})}Br.uniqTerms=e;function n(c,d){return c.filter(f=>f.termType===d)}Br.getTermsOfType=n;function r(c){return n(c,"NamedNode")}Br.getNamedNodes=r;function a(c){return n(c,"BlankNode")}Br.getBlankNodes=a;function s(c){return n(c,"Literal")}Br.getLiterals=s;function o(c){return n(c,"Variable")}Br.getVariables=o;function u(c){return n(c,"DefaultGraph")}Br.getDefaultGraphs=u;function l(c){return n(c,"Quad")}return Br.getQuads=l,Br}var bL;function vn(){return bL||(bL=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(PK(),t),n(Fwe(),t)}(rT)),rT}var nT={},Kb={},iT,vL;function qwe(){return vL||(vL=1,iT=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,a,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(a of e.entries())if(!n.has(a[0]))return!1;for(a of e.entries())if(!t(a[1],n.get(a[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(a of e.entries())if(!n.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(a=r;a--!==0;)if(e[a]!==n[a])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[a]))return!1;for(a=r;a--!==0;){var o=s[a];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),iT}var aT={},wL;function Y_(){return wL||(wL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"}(t.types||(t.types={})),function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"}(t.expressionTypes||(t.expressionTypes={}))}(aT)),aT}var Jb={},SL;function Qw(){if(SL)return Jb;SL=1;var t=P&&P.__createBinding||(Object.create?function(l,c,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(l,f,h)}:function(l,c,d,f){f===void 0&&(f=d),l[f]=c[d]}),e=P&&P.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),n=P&&P.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var d in l)d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)&&t(c,l,d);return e(c,l),c};Object.defineProperty(Jb,"__esModule",{value:!0});const r=n(Y_()),a=Rt,s=tr,o=Xu;class u{constructor(c){this.dataFactory=c||new a.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(c,d=!0){return this.flattenMulti({type:r.types.ALT,input:c},d)}createAsk(c){return{type:r.types.ASK,input:c}}createBoundAggregate(c,d,f,h,p){const m=this.createAggregateExpression(d,f,h,p);return m.variable=c,m}createBgp(c){return{type:r.types.BGP,patterns:c}}createConstruct(c,d){return{type:r.types.CONSTRUCT,input:c,template:d}}createDescribe(c,d){return{type:r.types.DESCRIBE,input:c,terms:d}}createDistinct(c){return{type:r.types.DISTINCT,input:c}}createExtend(c,d,f){return{type:r.types.EXTEND,input:c,variable:d,expression:f}}createFrom(c,d,f){return{type:r.types.FROM,input:c,default:d,named:f}}createFilter(c,d){return{type:r.types.FILTER,input:c,expression:d}}createGraph(c,d){return{type:r.types.GRAPH,input:c,name:d}}createGroup(c,d,f){return{type:r.types.GROUP,input:c,variables:d,aggregates:f}}createInv(c){return{type:r.types.INV,path:c}}createJoin(c,d=!0){return this.flattenMulti({type:r.types.JOIN,input:c},d)}createLeftJoin(c,d,f){return f?{type:r.types.LEFT_JOIN,input:[c,d],expression:f}:{type:r.types.LEFT_JOIN,input:[c,d]}}createLink(c){return{type:r.types.LINK,iri:c}}createMinus(c,d){return{type:r.types.MINUS,input:[c,d]}}createNop(){return{type:r.types.NOP}}createNps(c){return{type:r.types.NPS,iris:c}}createOneOrMorePath(c){return{type:r.types.ONE_OR_MORE_PATH,path:c}}createOrderBy(c,d){return{type:r.types.ORDER_BY,input:c,expressions:d}}createPath(c,d,f,h){return h?{type:r.types.PATH,subject:c,predicate:d,object:f,graph:h}:{type:r.types.PATH,subject:c,predicate:d,object:f,graph:this.dataFactory.defaultGraph()}}createPattern(c,d,f,h){const p=this.dataFactory.quad(c,d,f,h);return p.type=r.types.PATTERN,p}createProject(c,d){return{type:r.types.PROJECT,input:c,variables:d}}createReduced(c){return{type:r.types.REDUCED,input:c}}createSeq(c,d=!0){return this.flattenMulti({type:r.types.SEQ,input:c},d)}createService(c,d,f){return{type:r.types.SERVICE,input:c,name:d,silent:!!f}}createSlice(c,d,f){return d=d||0,f!==void 0?{type:r.types.SLICE,input:c,start:d,length:f}:{type:r.types.SLICE,input:c,start:d}}createUnion(c,d=!0){return this.flattenMulti({type:r.types.UNION,input:c},d)}createValues(c,d){return{type:r.types.VALUES,variables:c,bindings:d}}createZeroOrMorePath(c){return{type:r.types.ZERO_OR_MORE_PATH,path:c}}createZeroOrOnePath(c){return{type:r.types.ZERO_OR_ONE_PATH,path:c}}createAggregateExpression(c,d,f,h){return h?{type:r.types.EXPRESSION,expressionType:r.expressionTypes.AGGREGATE,aggregator:c,expression:d,separator:h,distinct:f}:{type:r.types.EXPRESSION,expressionType:r.expressionTypes.AGGREGATE,aggregator:c,expression:d,distinct:f}}createExistenceExpression(c,d){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.EXISTENCE,not:c,input:d}}createNamedExpression(c,d){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.NAMED,name:c,args:d}}createOperatorExpression(c,d){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.OPERATOR,operator:c,args:d}}createTermExpression(c){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.TERM,term:c}}createWildcardExpression(){return{type:r.types.EXPRESSION,expressionType:r.expressionTypes.WILDCARD,wildcard:new o.Wildcard}}createTerm(c){return c[0]==="$"&&(c=c.replace("$","?")),(0,s.stringToTerm)(c,this.dataFactory)}createCompositeUpdate(c){return{type:r.types.COMPOSITE_UPDATE,updates:c}}createDeleteInsert(c,d,f){const h={type:r.types.DELETE_INSERT};return c&&(h.delete=c),d&&(h.insert=d),f&&(h.where=f),h}createLoad(c,d,f){const h={type:r.types.LOAD,source:c};return d&&(h.destination=d),this.addSilent(h,!!f)}createClear(c,d){return this.addSilent({type:r.types.CLEAR,source:c},!!d)}createCreate(c,d){return this.addSilent({type:r.types.CREATE,source:c},!!d)}createDrop(c,d){return this.addSilent({type:r.types.DROP,source:c},!!d)}createAdd(c,d,f){return this.addSilent({type:r.types.ADD,source:c,destination:d},!!f)}createMove(c,d,f){return this.addSilent({type:r.types.MOVE,source:c,destination:d},!!f)}createCopy(c,d,f){return this.addSilent({type:r.types.COPY,source:c,destination:d},!!f)}addSilent(c,d){return d&&(c.silent=d),c}flattenMulti(c,d){if(!d)return c;const f=c.type,h=c.input;let p=[];for(const m of h)m.type===f?p.push(...m.input):p.push(m);return c.input=p,c}}return Jb.default=u,Jb}var Xb={},TL;function tN(){if(TL)return Xb;TL=1;var t=P&&P.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xb,"__esModule",{value:!0});const e=Y_(),n=t(Qw()),r=vn();class a{static flatten(o){return Array.prototype.concat(...o).filter(u=>u)}static objectify(o){if(o.termType){if(o.termType==="Quad")return{type:"pattern",termType:"Quad",subject:a.objectify(o.subject),predicate:a.objectify(o.predicate),object:a.objectify(o.object),graph:a.objectify(o.graph)};{let u={termType:o.termType,value:o.value};return o.language&&(u.language=o.language),o.datatype&&(u.datatype=a.objectify(o.datatype)),u}}if(Array.isArray(o))return o.map(u=>a.objectify(u));if(o===Object(o)){let u={};for(let l of Object.keys(o))u[l]=a.objectify(o[l]);return u}return o}static inScopeVariables(o){const u=[];function l(d){u.find(f=>d.value===f.value)||u.push(d)}function c(d){d.subject.termType==="Variable"&&l(d.subject),d.predicate.termType==="Variable"&&l(d.predicate),d.object.termType==="Variable"&&l(d.object),d.graph.termType==="Variable"&&l(d.graph),d.subject.termType==="Quad"&&c(d.subject),d.predicate.termType==="Quad"&&c(d.predicate),d.object.termType==="Quad"&&c(d.object),d.graph.termType==="Quad"&&c(d.graph)}return a.recurseOperation(o,{[e.types.EXPRESSION]:d=>(d.expressionType===e.expressionTypes.AGGREGATE&&d.variable&&l(d.variable),!0),[e.types.EXTEND]:d=>(l(d.variable),!0),[e.types.GRAPH]:d=>(d.name.termType==="Variable"&&l(d.name),!0),[e.types.GROUP]:d=>(d.variables.forEach(l),!0),[e.types.PATH]:d=>(d.subject.termType==="Variable"&&l(d.subject),d.object.termType==="Variable"&&l(d.object),d.graph.termType==="Variable"&&l(d.graph),d.subject.termType==="Quad"&&c(d.subject),d.object.termType==="Quad"&&c(d.object),d.graph.termType==="Quad"&&c(d.graph),!0),[e.types.PATTERN]:d=>(c(d),!0),[e.types.PROJECT]:d=>(d.variables.forEach(l),!1),[e.types.SERVICE]:d=>(d.name.termType==="Variable"&&l(d.name),!0),[e.types.VALUES]:d=>(d.variables.forEach(l),!0)}),u}static recurseOperation(o,u){let l=o,c=!0;const d=u[o.type];if(d&&(c=d(o)),!c)return;let f=h=>a.recurseOperation(h,u);switch(l.type){case e.types.ALT:l.input.map(f);break;case e.types.ASK:f(l.input);break;case e.types.BGP:l.patterns.forEach(f);break;case e.types.CONSTRUCT:f(l.input),l.template.map(f);break;case e.types.DESCRIBE:f(l.input);break;case e.types.DISTINCT:f(l.input);break;case e.types.EXPRESSION:l.expressionType===e.expressionTypes.EXISTENCE&&f(l.input);break;case e.types.EXTEND:f(l.input),f(l.expression);break;case e.types.FILTER:f(l.input),f(l.expression);break;case e.types.FROM:f(l.input);break;case e.types.GRAPH:f(l.input);break;case e.types.GROUP:f(l.input),l.aggregates.forEach(f);break;case e.types.INV:f(l.path);break;case e.types.JOIN:l.input.map(f);break;case e.types.LEFT_JOIN:l.input.map(f),l.expression&&f(l.expression);break;case e.types.LINK:break;case e.types.MINUS:l.input.map(f);break;case e.types.NOP:break;case e.types.NPS:break;case e.types.ONE_OR_MORE_PATH:f(l.path);break;case e.types.ORDER_BY:f(l.input),l.expressions.forEach(f);break;case e.types.PATH:f(l.predicate);break;case e.types.PATTERN:break;case e.types.PROJECT:f(l.input);break;case e.types.REDUCED:f(l.input);break;case e.types.SEQ:l.input.map(f);break;case e.types.SERVICE:f(l.input);break;case e.types.SLICE:f(l.input);break;case e.types.UNION:l.input.map(f);break;case e.types.VALUES:break;case e.types.ZERO_OR_MORE_PATH:f(l.path);break;case e.types.ZERO_OR_ONE_PATH:f(l.path);break;case e.types.COMPOSITE_UPDATE:l.updates.forEach(h=>f(h));break;case e.types.DELETE_INSERT:l.delete&&l.delete.forEach(h=>f(h)),l.insert&&l.insert.forEach(h=>f(h)),l.where&&f(l.where);break;case e.types.LOAD:break;case e.types.CLEAR:break;case e.types.CREATE:break;case e.types.DROP:break;case e.types.ADD:break;case e.types.MOVE:break;case e.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(o,u,l){let c=o,d=!0,f=!0;l=l||new n.default;const h=u[o.type];if(h){const y=h(o,l);c=y.result,d=y.recurse,f=y.copyMetadata!==!1}let p;if(f&&(c.metadata||o.metadata)&&(p={...c.metadata,...o.metadata}),!d)return p&&(c.metadata=p),c;let m=y=>a.mapOperation(y,u,l);switch(c.type){case e.types.ALT:c=l.createAlt(c.input.map(m));break;case e.types.ASK:c=l.createAsk(m(c.input));break;case e.types.BGP:c=l.createBgp(c.patterns.map(m));break;case e.types.CONSTRUCT:c=l.createConstruct(m(c.input),c.template.map(m));break;case e.types.DESCRIBE:c=l.createDescribe(m(c.input),c.terms);break;case e.types.DISTINCT:c=l.createDistinct(m(c.input));break;case e.types.EXPRESSION:c=a.mapExpression(c,u,l);break;case e.types.EXTEND:c=l.createExtend(m(c.input),c.variable,m(c.expression));break;case e.types.FILTER:c=l.createFilter(m(c.input),m(c.expression));break;case e.types.FROM:c=l.createFrom(m(c.input),[...c.default],[...c.named]);break;case e.types.GRAPH:c=l.createGraph(m(c.input),c.name);break;case e.types.GROUP:c=l.createGroup(m(c.input),[].concat(c.variables),c.aggregates.map(m));break;case e.types.INV:c=l.createInv(m(c.path));break;case e.types.JOIN:c=l.createJoin(c.input.map(m));break;case e.types.LEFT_JOIN:c=l.createLeftJoin(m(c.input[0]),m(c.input[1]),c.expression?m(c.expression):void 0);break;case e.types.LINK:c=l.createLink(c.iri);break;case e.types.MINUS:c=l.createMinus(m(c.input[0]),m(c.input[1]));break;case e.types.NOP:c=l.createNop();break;case e.types.NPS:c=l.createNps([].concat(c.iris));break;case e.types.ONE_OR_MORE_PATH:c=l.createOneOrMorePath(m(c.path));break;case e.types.ORDER_BY:c=l.createOrderBy(m(c.input),c.expressions.map(m));break;case e.types.PATH:c=l.createPath(c.subject,m(c.predicate),c.object,c.graph);break;case e.types.PATTERN:c=l.createPattern(c.subject,c.predicate,c.object,c.graph);break;case e.types.PROJECT:c=l.createProject(m(c.input),[...c.variables]);break;case e.types.REDUCED:c=l.createReduced(m(c.input));break;case e.types.SEQ:c=l.createSeq(c.input.map(m));break;case e.types.SERVICE:c=l.createService(m(c.input),c.name,c.silent);break;case e.types.SLICE:c=l.createSlice(m(c.input),c.start,c.length);break;case e.types.UNION:c=l.createUnion(c.input.map(m));break;case e.types.VALUES:c=l.createValues([].concat(c.variables),c.bindings.map(y=>Object.assign({},y)));break;case e.types.ZERO_OR_MORE_PATH:c=l.createZeroOrMorePath(m(c.path));break;case e.types.ZERO_OR_ONE_PATH:c=l.createZeroOrOnePath(m(c.path));break;case e.types.COMPOSITE_UPDATE:c=l.createCompositeUpdate(c.updates.map(m));break;case e.types.DELETE_INSERT:c=l.createDeleteInsert(c.delete?c.delete.map(m):void 0,c.insert?c.insert.map(m):void 0,c.where?m(c.where):void 0);break;case e.types.LOAD:c=l.createLoad(c.source,c.destination,c.silent);break;case e.types.CLEAR:c=l.createClear(c.source,c.silent);break;case e.types.CREATE:c=l.createCreate(c.source,c.silent);break;case e.types.DROP:c=l.createDrop(c.source,c.silent);break;case e.types.ADD:c=l.createAdd(c.source,c.destination);break;case e.types.MOVE:c=l.createMove(c.source,c.destination);break;case e.types.COPY:c=l.createCopy(c.source,c.destination);break;default:throw new Error(`Unknown Operation type ${c.type}`)}return p&&(c.metadata=p),c}static mapExpression(o,u,l){let c=o,d=!0;l=l||new n.default;const f=u[o.expressionType];if(f&&({result:c,recurse:d}=f(o,l)),!d)return c;let h=p=>a.mapOperation(p,u,l);switch(o.expressionType){case e.expressionTypes.AGGREGATE:return o.variable?l.createBoundAggregate(o.variable,o.aggregator,h(o.expression),o.distinct,o.separator):l.createAggregateExpression(o.aggregator,h(o.expression),o.distinct,o.separator);case e.expressionTypes.EXISTENCE:return l.createExistenceExpression(o.not,h(o.input));case e.expressionTypes.NAMED:return l.createNamedExpression(o.name,o.args.map(h));case e.expressionTypes.OPERATOR:return l.createOperatorExpression(o.operator,o.args.map(h));case e.expressionTypes.TERM:return l.createTermExpression(o.term);case e.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${o.expressionType}`)}}static cloneOperation(o){return a.mapOperation(o,{})}static cloneExpression(o){return a.mapExpression(o,{})}static createUniqueVariable(o,u,l){let c=0,d=o;for(;u[d];)d=`${o}${c++}`;return l.variable(d)}static isSimpleTerm(o){return o.termType!==void 0&&o.termType!=="Quad"&&o.termType!=="Wildcard"}static isQuad(o){return o.termType==="Quad"}static hasQuadVariables(o){return(0,r.someTermsNested)(o,u=>u.termType==="Variable")}static isWildcard(o){return o.termType==="Wildcard"}}return Xb.default=a,Xb}var EL;function Bwe(){if(EL)return Kb;EL=1;var t=P&&P.__createBinding||(Object.create?function(L,B,T,O){O===void 0&&(O=T);var $=Object.getOwnPropertyDescriptor(B,T);(!$||("get"in $?!B.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return B[T]}}),Object.defineProperty(L,O,$)}:function(L,B,T,O){O===void 0&&(O=T),L[O]=B[T]}),e=P&&P.__setModuleDefault||(Object.create?function(L,B){Object.defineProperty(L,"default",{enumerable:!0,value:B})}:function(L,B){L.default=B}),n=P&&P.__importStar||function(L){if(L&&L.__esModule)return L;var B={};if(L!=null)for(var T in L)T!=="default"&&Object.prototype.hasOwnProperty.call(L,T)&&t(B,L,T);return e(B,L),B},r=P&&P.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(Kb,"__esModule",{value:!0});const a=qwe(),s=tr,o=n(Y_()),u=r(Qw()),l=r(tN()),c=Xu.Parser,d=o.types;let f=new Set,h=0,p=!1,m;function y(L,B){B=B||{},m=new u.default(B.dataFactory);let T;if(_(L)){let O=new c(B);O._resetBlanks(),T=O.parse(L)}else T=L;return g(T,B.quads,B.blankToVariable)}Kb.default=y;function g(L,B,T){if(f=new Set,h=0,p=!!B,!L.type)return m.createNop();if(L.type!=="query"&&L.type!=="update")throw new Error("Translate only works on complete query or update objects.");let O;if(S(L),L.type==="query"){const $={type:"group",patterns:L.where||[]};O=x($),O=Te(L,O)}else L.type==="update"&&(O=le(L));return T&&(O=z(O)),O}function _(L){return typeof L=="string"}function v(L){return!!(L!=null&&L.termType)}function b(L){return L.subject&&L.predicate&&L.object}function w(L){return(L==null?void 0:L.termType)==="Variable"}function S(L){if(v(L))w(L)&&f.add(`?${L.value}`);else if(Array.isArray(L))for(const B of L)S(B);else if(L&&typeof L=="object")for(let B of Object.keys(L))B.startsWith("?")?f.add(B):B.startsWith("$")&&f.add(`?${B.slice(1)}`),S(L[B])}function A(L){let B={};if(b(L)){const T=[A(L.subject),A(L.predicate),A(L.object),L.graph?A(L.graph):{}];Object.assign(B,...T)}else if(v(L))w(L)&&(B[L.value]=L);else if(L.type==="bgp"){const T=L.triples;Object.assign(B,...T.map(A))}else if(L.type==="path")Object.assign(B,...L.items.map(A));else if(L.type==="group"||L.type==="union"||L.type==="optional")Object.assign(B,...L.patterns.map(A));else if(L.type==="service"||L.type==="graph")Object.assign(B,A(L.name)),Object.assign(B,...L.patterns.map(A));else if(L.type==="bind")Object.assign(B,A(L.variable));else if(L.type==="values"){if(L.values.length>0){const T=Object.keys(L.values[0]).map(O=>m.createTerm(O));Object.assign(B,...T.map(A))}}else if(L.type==="query"&&(L.queryType==="SELECT"||L.queryType==="DESCRIBE")){L.where&&L.variables.some(l.default.isWildcard)&&Object.assign(B,...L.where.map(A));for(const T of L.variables)w(T)?Object.assign(B,A(T)):T.variable&&Object.assign(B,A(T.variable));if(L.queryType==="SELECT"){if(L.group)for(const T of L.group)T.variable&&Object.assign(B,A(T.variable));if(L.values){const T={type:"values",values:L.values};Object.assign(B,A(T))}}}return B}function x(L){if(L.type==="bgp")return I(L);if(L.type==="union")return m.createUnion(L.patterns.map(B=>(B.type!=="group"&&(B={type:"group",patterns:[B]}),x(B))));if(L.type==="graph"){const B={type:"group",patterns:L.patterns};let T=x(B);return p?T=H(T,L.name):T=m.createGraph(T,L.name),T}if(L.type==="values")return fe(L);if(L.type==="query")return g(L,p,!1);if(L.type==="group"){let B=[],T=[];for(let G of L.patterns)(G.type==="filter"?B:T).push(G);let O=T.reduce(X,m.createBgp([])),$=B.map(G=>M(G.expression));return $.length>0&&(O=m.createFilter(O,$.reduce((G,Q)=>m.createOperatorExpression("&&",[G,Q])))),O}throw new Error(`Unexpected type: ${L.type}`)}function M(L){if(l.default.isSimpleTerm(L))return m.createTermExpression(L);if(l.default.isQuad(L))return l.default.hasQuadVariables(L)?m.createOperatorExpression("triple",[M(L.subject),M(L.predicate),M(L.object)]):m.createTermExpression(L);if(l.default.isWildcard(L))return m.createWildcardExpression();if("aggregation"in L)return m.createAggregateExpression(L.aggregation,M(L.expression),!!L.distinct,L.separator);if("function"in L)return m.createNamedExpression(L.function,L.args.map(M));if("operator"in L)return L.operator==="exists"||L.operator==="notexists"?m.createExistenceExpression(L.operator==="notexists",x(L.args[0])):((L.operator==="in"||L.operator==="notin")&&(L.args=[L.args[0]].concat(L.args[1])),m.createOperatorExpression(L.operator,L.args.map(M)));throw new Error(`Unknown expression: ${JSON.stringify(L)}`)}function I(L){let B=[],T=[];for(let O of L.triples)if("pathType"in O.predicate){let $=N(O);for(let G of $)G.type===d.PATH?(B.length>0&&T.push(m.createBgp(B)),B=[],T.push(G)):B.push(G)}else B.push(k(O));return B.length>0&&T.push(m.createBgp(B)),T.length===1?T[0]:m.createJoin(T)}function N(L){let B=L.subject,T=F(L.predicate),O=L.object;return D(B,T,O)}function F(L){if(l.default.isSimpleTerm(L)){if(L.termType==="NamedNode")return m.createLink(L);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(L)}`)}if(L.pathType==="^")return m.createInv(F(L.items[0]));if(L.pathType==="!"){let B=[],T=[],O;"pathType"in L.items[0]&&L.items[0].pathType==="|"?O=L.items[0].items:O=L.items;for(let Q of O)if(l.default.isSimpleTerm(Q))B.push(Q);else if(Q.pathType==="^")T.push(Q.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(Q)}`);let $=m.createNps(B),G=m.createInv(m.createNps(T));return T.length===0?$:B.length===0?G:m.createAlt([$,G])}if(L.pathType==="/")return m.createSeq(L.items.map(F));if(L.pathType==="|")return m.createAlt(L.items.map(F));if(L.pathType==="*")return m.createZeroOrMorePath(F(L.items[0]));if(L.pathType==="+")return m.createOneOrMorePath(F(L.items[0]));if(L.pathType==="?")return m.createZeroOrOnePath(F(L.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(L)}`)}function D(L,B,T){if(B.type===d.LINK)return[m.createPattern(L,B.iri,T)];if(B.type===d.INV)return D(T,B.path,L);if(B.type===d.SEQ){let O=L;return l.default.flatten(B.input.map(($,G)=>{const Q=G===B.input.length-1?T:V(),Y=D(O,$,Q);return Q.termType==="Variable"&&(O=Q),Y}))}return[m.createPath(L,B,T)]}function V(){let L=`?var${h++}`;return f.has(L)?V():(f.add(L),m.createTerm(L))}function k(L){if("pathType"in L.predicate)throw new Error("Trying to translate property path to quad.");return m.createPattern(L.subject,L.predicate,L.object,L.graph)}let U=Object.values(d);function H(L,B,T){if(L.type===d.GRAPH){if(T)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");L=H(L.input,L.name)}else if(L.type!==d.SERVICE)if(L.type===d.BGP)L.patterns=L.patterns.map(O=>(T&&(O.subject.equals(B)&&(O.subject=T),O.predicate.equals(B)&&(O.predicate=T),O.object.equals(B)&&(O.object=T)),O.graph.termType==="DefaultGraph"&&(O.graph=B),O));else if(L.type===d.PATH)T&&(L.subject.equals(B)&&(L.subject=T),L.object.equals(B)&&(L.object=T)),L.graph.termType==="DefaultGraph"&&(L.graph=B);else if(L.type===d.PROJECT&&!T)L.variables.some(O=>O.equals(B))||(T=V()),L.input=H(L.input,B,T);else if(L.type===d.EXTEND&&!T)L.variable.equals(B)&&(T=V()),L.input=H(L.input,B,T);else for(let O of Object.keys(L))Array.isArray(L[O])?L[O]=L[O].map($=>H($,B,T)):U.indexOf(L[O].type)>=0?L[O]=H(L[O],B,T):T&&w(L[O])&&L[O].equals(B)&&(L[O]=T);return L}function X(L,B){if(B.type==="optional"){const T=x({type:"group",patterns:B.patterns});T.type===d.FILTER?L=m.createLeftJoin(L,T.input,T.expression):L=m.createLeftJoin(L,T)}else if(B.type==="minus"){const T=x({type:"group",patterns:B.patterns});L=m.createMinus(L,T)}else if(B.type==="bind")L=m.createExtend(L,B.variable,M(B.expression));else if(B.type==="service"){const T={type:"group",patterns:B.patterns},O=m.createService(x(T),B.name,B.silent);L=ee(L,O)}else{const T=x(B);L=ee(L,T)}return L}function ee(L,B){return L.type===d.BGP&&B.type===d.BGP?L=m.createBgp([...L.patterns,...B.patterns]):L.type===d.BGP&&L.patterns.length===0?L=B:B.type===d.BGP&&B.patterns.length===0||(L=m.createJoin([L,B])),L}function fe(L){let B=(L.values.length===0?[]:Object.keys(L.values[0])).map(m.createTerm.bind(m)),T=L.values.map(O=>{let $=Object.keys(O);$=$.filter(Q=>O[Q]!==void 0);let G={};for(let Q of $)G[Q]=O[Q];return G});return m.createValues(B,T)}function Te(L,B){const T=L,O=[],$={};if(T.variables=T.variables&&T.variables.map(Q=>De(Q,$)),T.having=T.having&&T.having.map(Q=>De(Q,$)),T.order=T.order&&T.order.map(Q=>De(Q,$)),T.group||Object.keys($).length>0){const Q=Object.keys($).map(ie=>Ve($[ie],m.createTerm(ie))),Y=[];if(T.group)for(const ie of T.group)if(l.default.isSimpleTerm(ie.expression))Y.push(ie.expression);else{const te="variable"in ie?ie.variable:V();B=m.createExtend(B,te,M(ie.expression)),Y.push(te)}B=m.createGroup(B,Y,Q)}if(T.having)for(let Q of T.having)B=m.createFilter(B,M(Q));L.values&&(B=m.createJoin([B,fe(L)]));let G=[];if(L.queryType==="SELECT"||L.queryType==="DESCRIBE")if(L.variables.some(Q=>Q&&l.default.isWildcard(Q)))G=Object.values(A(L)).sort((Q,Y)=>Q.value.localeCompare(Y.value));else for(let Q of L.variables)w(Q)||!("variable"in Q)?G.push(Q):Q.variable&&(G.push(Q.variable),O.push(Q));for(let Q of O)B=m.createExtend(B,Q.variable,M(Q.expression));return T.order&&(B=m.createOrderBy(B,T.order.map(Q=>{let Y=M(Q.expression);return Q.descending&&(Y=m.createOperatorExpression("desc",[Y])),Y}))),L.queryType==="SELECT"&&(B=m.createProject(B,G)),T.distinct&&(B=m.createDistinct(B)),T.reduced&&(B=m.createReduced(B)),L.queryType==="CONSTRUCT"?B=m.createConstruct(B,(L.template||[]).map(k)):L.queryType==="ASK"?B=m.createAsk(B):L.queryType==="DESCRIBE"&&(B=m.createDescribe(B,G)),(T.offset||T.limit)&&(B=m.createSlice(B,T.offset||0,T.limit)),T.from&&(B=m.createFrom(B,T.from.default,T.from.named)),B}function De(L,B){if("type"in L&&L.type==="aggregate"){let T=!1,O;for(let $ of Object.keys(B))if(a(B[$],L)){O=m.createTerm($),T=!0;break}return T||(O=V(),B[(0,s.termToString)(O)]=L),O}return"expression"in L&&L.expression?{...L,expression:De(L.expression,B)}:"args"in L&&L.args?{...L,args:L.args.map(T=>De(T,B))}:L}function Ve(L,B){if(L.type!=="aggregate"||!L.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(L)}`);const T=M(L);return T.variable=B,T}function le(L){return L.updates.length===1?ue(L.updates[0]):m.createCompositeUpdate(L.updates.map(ue))}function ue(L){if("type"in L){if(L.type==="load")return Ae(L);if(L.type==="clear"||L.type==="create"||L.type==="drop")return we(L);if(L.type==="add"||L.type==="copy"||L.type==="move")return Se(L)}else if(L.updateType==="insertdelete"||L.updateType==="deletewhere"||L.updateType==="delete"||L.updateType==="insert")return Ie(L);throw new Error(`Unknown update type ${JSON.stringify(L)}`)}function Ie(L){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let B=[],T=[],O;if(L.delete&&(B=l.default.flatten(L.delete.map($=>Ne($,L.graph)))),L.insert&&(T=l.default.flatten(L.insert.map($=>Ne($,L.graph)))),L.where&&L.where.length>0){O=x({type:"group",patterns:L.where});const $=L.using;$?O=m.createFrom(O,$.default,$.named):L.graph&&(O=H(O,L.graph))}else L.updateType==="deletewhere"&&B.length>0&&(O=m.createBgp(B));return m.createDeleteInsert(B.length>0?B:void 0,T.length>0?T:void 0,O)}function Ne(L,B){let T=B;L.type==="graph"&&(T=L.name);let O=L.triples;return T&&(O=O.map($=>Object.assign($,{graph:T}))),O.map(k)}function we(L){let B;switch(l.default.isSimpleTerm(L.graph)?B=L.graph:L.graph.all?B="ALL":L.graph.default?B="DEFAULT":L.graph.named?B="NAMED":B=L.graph.name,L.type){case"clear":return m.createClear(B,L.silent);case"create":return m.createCreate(B,L.silent);case"drop":return m.createDrop(B,L.silent)}}function Ae(L){return m.createLoad(L.source,L.destination,L.silent)}function Se(L){const B=L.source.default?"DEFAULT":L.source.name,T=L.destination.default?"DEFAULT":L.destination.name;switch(L.type){case"copy":return m.createCopy(B,T,L.silent);case"move":return m.createMove(B,T,L.silent);case"add":return m.createAdd(B,T,L.silent)}}function z(L){const B={},T=Array.from(f).reduce(($,G)=>($[G]=!0,$),{});return l.default.mapOperation(L,{[o.types.DELETE_INSERT]:$=>({result:m.createDeleteInsert($.delete,$.insert,$.where&&z($.where)),recurse:!1}),[o.types.PATH]:($,G)=>({result:G.createPath(O($.subject),$.predicate,O($.object),O($.graph)),recurse:!1}),[o.types.PATTERN]:($,G)=>({result:G.createPattern(O($.subject),O($.predicate),O($.object),O($.graph)),recurse:!1}),[o.types.CONSTRUCT]:$=>({result:m.createConstruct(z($.input),$.template),recurse:!1})});function O($){if($.termType==="BlankNode"){let G=B[$.value];return G||(G=l.default.createUniqueVariable($.value,T,m.dataFactory),T[G.value]=!0,B[$.value]=G),G}return $}}return Kb}var Ko={},sT={},kt={},oT={},sr={},uT,AL;function Z_(){if(AL)return uT;AL=1,uT=t;function t(e,n){if(!e)throw new Error(n||"Assertion failed")}return t.equal=function(n,r,a){if(n!=r)throw new Error(a||"Assertion failed: "+n+" != "+r)},uT}var Yb={exports:{}},OL;function $we(){return OL||(OL=1,typeof Object.create=="function"?Yb.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Yb.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),Yb.exports}var RL;function Ua(){if(RL)return sr;RL=1;var t=Z_(),e=$we();sr.inherits=e;function n(D,V){return(D.charCodeAt(V)&64512)!==55296||V<0||V+1>=D.length?!1:(D.charCodeAt(V+1)&64512)===56320}function r(D,V){if(Array.isArray(D))return D.slice();if(!D)return[];var k=[];if(typeof D=="string")if(V){if(V==="hex")for(D=D.replace(/[^a-z0-9]+/ig,""),D.length%2!==0&&(D="0"+D),H=0;H<D.length;H+=2)k.push(parseInt(D[H]+D[H+1],16))}else for(var U=0,H=0;H<D.length;H++){var X=D.charCodeAt(H);X<128?k[U++]=X:X<2048?(k[U++]=X>>6|192,k[U++]=X&63|128):n(D,H)?(X=65536+((X&1023)<<10)+(D.charCodeAt(++H)&1023),k[U++]=X>>18|240,k[U++]=X>>12&63|128,k[U++]=X>>6&63|128,k[U++]=X&63|128):(k[U++]=X>>12|224,k[U++]=X>>6&63|128,k[U++]=X&63|128)}else for(H=0;H<D.length;H++)k[H]=D[H]|0;return k}sr.toArray=r;function a(D){for(var V="",k=0;k<D.length;k++)V+=u(D[k].toString(16));return V}sr.toHex=a;function s(D){var V=D>>>24|D>>>8&65280|D<<8&16711680|(D&255)<<24;return V>>>0}sr.htonl=s;function o(D,V){for(var k="",U=0;U<D.length;U++){var H=D[U];V==="little"&&(H=s(H)),k+=l(H.toString(16))}return k}sr.toHex32=o;function u(D){return D.length===1?"0"+D:D}sr.zero2=u;function l(D){return D.length===7?"0"+D:D.length===6?"00"+D:D.length===5?"000"+D:D.length===4?"0000"+D:D.length===3?"00000"+D:D.length===2?"000000"+D:D.length===1?"0000000"+D:D}sr.zero8=l;function c(D,V,k,U){var H=k-V;t(H%4===0);for(var X=new Array(H/4),ee=0,fe=V;ee<X.length;ee++,fe+=4){var Te;U==="big"?Te=D[fe]<<24|D[fe+1]<<16|D[fe+2]<<8|D[fe+3]:Te=D[fe+3]<<24|D[fe+2]<<16|D[fe+1]<<8|D[fe],X[ee]=Te>>>0}return X}sr.join32=c;function d(D,V){for(var k=new Array(D.length*4),U=0,H=0;U<D.length;U++,H+=4){var X=D[U];V==="big"?(k[H]=X>>>24,k[H+1]=X>>>16&255,k[H+2]=X>>>8&255,k[H+3]=X&255):(k[H+3]=X>>>24,k[H+2]=X>>>16&255,k[H+1]=X>>>8&255,k[H]=X&255)}return k}sr.split32=d;function f(D,V){return D>>>V|D<<32-V}sr.rotr32=f;function h(D,V){return D<<V|D>>>32-V}sr.rotl32=h;function p(D,V){return D+V>>>0}sr.sum32=p;function m(D,V,k){return D+V+k>>>0}sr.sum32_3=m;function y(D,V,k,U){return D+V+k+U>>>0}sr.sum32_4=y;function g(D,V,k,U,H){return D+V+k+U+H>>>0}sr.sum32_5=g;function _(D,V,k,U){var H=D[V],X=D[V+1],ee=U+X>>>0,fe=(ee<U?1:0)+k+H;D[V]=fe>>>0,D[V+1]=ee}sr.sum64=_;function v(D,V,k,U){var H=V+U>>>0,X=(H<V?1:0)+D+k;return X>>>0}sr.sum64_hi=v;function b(D,V,k,U){var H=V+U;return H>>>0}sr.sum64_lo=b;function w(D,V,k,U,H,X,ee,fe){var Te=0,De=V;De=De+U>>>0,Te+=De<V?1:0,De=De+X>>>0,Te+=De<X?1:0,De=De+fe>>>0,Te+=De<fe?1:0;var Ve=D+k+H+ee+Te;return Ve>>>0}sr.sum64_4_hi=w;function S(D,V,k,U,H,X,ee,fe){var Te=V+U+X+fe;return Te>>>0}sr.sum64_4_lo=S;function A(D,V,k,U,H,X,ee,fe,Te,De){var Ve=0,le=V;le=le+U>>>0,Ve+=le<V?1:0,le=le+X>>>0,Ve+=le<X?1:0,le=le+fe>>>0,Ve+=le<fe?1:0,le=le+De>>>0,Ve+=le<De?1:0;var ue=D+k+H+ee+Te+Ve;return ue>>>0}sr.sum64_5_hi=A;function x(D,V,k,U,H,X,ee,fe,Te,De){var Ve=V+U+X+fe+De;return Ve>>>0}sr.sum64_5_lo=x;function M(D,V,k){var U=V<<32-k|D>>>k;return U>>>0}sr.rotr64_hi=M;function I(D,V,k){var U=D<<32-k|V>>>k;return U>>>0}sr.rotr64_lo=I;function N(D,V,k){return D>>>k}sr.shr64_hi=N;function F(D,V,k){var U=D<<32-k|V>>>k;return U>>>0}return sr.shr64_lo=F,sr}var cT={},xL;function eb(){if(xL)return cT;xL=1;var t=Ua(),e=Z_();function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return cT.BlockHash=n,n.prototype.update=function(a,s){if(a=t.toArray(a,s),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var o=a.length%this._delta8;this.pending=a.slice(a.length-o,a.length),this.pending.length===0&&(this.pending=null),a=t.join32(a,0,a.length-o,this.endian);for(var u=0;u<a.length;u+=this._delta32)this._update(a,u,u+this._delta32)}return this},n.prototype.digest=function(a){return this.update(this._pad()),e(this.pending===null),this._digest(a)},n.prototype._pad=function(){var a=this.pendingTotal,s=this._delta8,o=s-(a+this.padLength)%s,u=new Array(o+this.padLength);u[0]=128;for(var l=1;l<o;l++)u[l]=0;if(a<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)u[l++]=0;u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=a>>>24&255,u[l++]=a>>>16&255,u[l++]=a>>>8&255,u[l++]=a&255}else for(u[l++]=a&255,u[l++]=a>>>8&255,u[l++]=a>>>16&255,u[l++]=a>>>24&255,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,c=8;c<this.padLength;c++)u[l++]=0;return u},cT}var Jo={},ga={},IL;function NK(){if(IL)return ga;IL=1;var t=Ua(),e=t.rotr32;function n(d,f,h,p){if(d===0)return r(f,h,p);if(d===1||d===3)return s(f,h,p);if(d===2)return a(f,h,p)}ga.ft_1=n;function r(d,f,h){return d&f^~d&h}ga.ch32=r;function a(d,f,h){return d&f^d&h^f&h}ga.maj32=a;function s(d,f,h){return d^f^h}ga.p32=s;function o(d){return e(d,2)^e(d,13)^e(d,22)}ga.s0_256=o;function u(d){return e(d,6)^e(d,11)^e(d,25)}ga.s1_256=u;function l(d){return e(d,7)^e(d,18)^d>>>3}ga.g0_256=l;function c(d){return e(d,17)^e(d,19)^d>>>10}return ga.g1_256=c,ga}var lT,PL;function Uwe(){if(PL)return lT;PL=1;var t=Ua(),e=eb(),n=NK(),r=t.rotl32,a=t.sum32,s=t.sum32_5,o=n.ft_1,u=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,u),lT=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(f,h){for(var p=this.W,m=0;m<16;m++)p[m]=f[h+m];for(;m<p.length;m++)p[m]=r(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);var y=this.h[0],g=this.h[1],_=this.h[2],v=this.h[3],b=this.h[4];for(m=0;m<p.length;m++){var w=~~(m/20),S=s(r(y,5),o(w,g,_,v),b,p[m],l[w]);b=v,v=_,_=r(g,30),g=y,y=S}this.h[0]=a(this.h[0],y),this.h[1]=a(this.h[1],g),this.h[2]=a(this.h[2],_),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],b)},c.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},lT}var dT,NL;function DK(){if(NL)return dT;NL=1;var t=Ua(),e=eb(),n=NK(),r=Z_(),a=t.sum32,s=t.sum32_4,o=t.sum32_5,u=n.ch32,l=n.maj32,c=n.s0_256,d=n.s1_256,f=n.g0_256,h=n.g1_256,p=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return t.inherits(y,p),dT=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(_,v){for(var b=this.W,w=0;w<16;w++)b[w]=_[v+w];for(;w<b.length;w++)b[w]=s(h(b[w-2]),b[w-7],f(b[w-15]),b[w-16]);var S=this.h[0],A=this.h[1],x=this.h[2],M=this.h[3],I=this.h[4],N=this.h[5],F=this.h[6],D=this.h[7];for(r(this.k.length===b.length),w=0;w<b.length;w++){var V=o(D,d(I),u(I,N,F),this.k[w],b[w]),k=a(c(S),l(S,A,x));D=F,F=N,N=I,I=a(M,V),M=x,x=A,A=S,S=a(V,k)}this.h[0]=a(this.h[0],S),this.h[1]=a(this.h[1],A),this.h[2]=a(this.h[2],x),this.h[3]=a(this.h[3],M),this.h[4]=a(this.h[4],I),this.h[5]=a(this.h[5],N),this.h[6]=a(this.h[6],F),this.h[7]=a(this.h[7],D)},y.prototype._digest=function(_){return _==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},dT}var fT,DL;function kwe(){if(DL)return fT;DL=1;var t=Ua(),e=DK();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(n,e),fT=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(a){return a==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},fT}var hT,CL;function CK(){if(CL)return hT;CL=1;var t=Ua(),e=eb(),n=Z_(),r=t.rotr64_hi,a=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,u=t.sum64,l=t.sum64_hi,c=t.sum64_lo,d=t.sum64_4_hi,f=t.sum64_4_lo,h=t.sum64_5_hi,p=t.sum64_5_lo,m=e.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}t.inherits(g,m),hT=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(k,U){for(var H=this.W,X=0;X<32;X++)H[X]=k[U+X];for(;X<H.length;X+=2){var ee=F(H[X-4],H[X-3]),fe=D(H[X-4],H[X-3]),Te=H[X-14],De=H[X-13],Ve=I(H[X-30],H[X-29]),le=N(H[X-30],H[X-29]),ue=H[X-32],Ie=H[X-31];H[X]=d(ee,fe,Te,De,Ve,le,ue,Ie),H[X+1]=f(ee,fe,Te,De,Ve,le,ue,Ie)}},g.prototype._update=function(k,U){this._prepareBlock(k,U);var H=this.W,X=this.h[0],ee=this.h[1],fe=this.h[2],Te=this.h[3],De=this.h[4],Ve=this.h[5],le=this.h[6],ue=this.h[7],Ie=this.h[8],Ne=this.h[9],we=this.h[10],Ae=this.h[11],Se=this.h[12],z=this.h[13],L=this.h[14],B=this.h[15];n(this.k.length===H.length);for(var T=0;T<H.length;T+=2){var O=L,$=B,G=x(Ie,Ne),Q=M(Ie,Ne),Y=_(Ie,Ne,we,Ae,Se),ie=v(Ie,Ne,we,Ae,Se,z),te=this.k[T],he=this.k[T+1],ce=H[T],ve=H[T+1],Ce=h(O,$,G,Q,Y,ie,te,he,ce,ve),Ee=p(O,$,G,Q,Y,ie,te,he,ce,ve);O=S(X,ee),$=A(X,ee),G=b(X,ee,fe,Te,De),Q=w(X,ee,fe,Te,De,Ve);var Ue=l(O,$,G,Q),Fe=c(O,$,G,Q);L=Se,B=z,Se=we,z=Ae,we=Ie,Ae=Ne,Ie=l(le,ue,Ce,Ee),Ne=c(ue,ue,Ce,Ee),le=De,ue=Ve,De=fe,Ve=Te,fe=X,Te=ee,X=l(Ce,Ee,Ue,Fe),ee=c(Ce,Ee,Ue,Fe)}u(this.h,0,X,ee),u(this.h,2,fe,Te),u(this.h,4,De,Ve),u(this.h,6,le,ue),u(this.h,8,Ie,Ne),u(this.h,10,we,Ae),u(this.h,12,Se,z),u(this.h,14,L,B)},g.prototype._digest=function(k){return k==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function _(V,k,U,H,X){var ee=V&U^~V&X;return ee<0&&(ee+=4294967296),ee}function v(V,k,U,H,X,ee){var fe=k&H^~k&ee;return fe<0&&(fe+=4294967296),fe}function b(V,k,U,H,X){var ee=V&U^V&X^U&X;return ee<0&&(ee+=4294967296),ee}function w(V,k,U,H,X,ee){var fe=k&H^k&ee^H&ee;return fe<0&&(fe+=4294967296),fe}function S(V,k){var U=r(V,k,28),H=r(k,V,2),X=r(k,V,7),ee=U^H^X;return ee<0&&(ee+=4294967296),ee}function A(V,k){var U=a(V,k,28),H=a(k,V,2),X=a(k,V,7),ee=U^H^X;return ee<0&&(ee+=4294967296),ee}function x(V,k){var U=r(V,k,14),H=r(V,k,18),X=r(k,V,9),ee=U^H^X;return ee<0&&(ee+=4294967296),ee}function M(V,k){var U=a(V,k,14),H=a(V,k,18),X=a(k,V,9),ee=U^H^X;return ee<0&&(ee+=4294967296),ee}function I(V,k){var U=r(V,k,1),H=r(V,k,8),X=s(V,k,7),ee=U^H^X;return ee<0&&(ee+=4294967296),ee}function N(V,k){var U=a(V,k,1),H=a(V,k,8),X=o(V,k,7),ee=U^H^X;return ee<0&&(ee+=4294967296),ee}function F(V,k){var U=r(V,k,19),H=r(k,V,29),X=s(V,k,6),ee=U^H^X;return ee<0&&(ee+=4294967296),ee}function D(V,k){var U=a(V,k,19),H=a(k,V,29),X=o(V,k,6),ee=U^H^X;return ee<0&&(ee+=4294967296),ee}return hT}var pT,LL;function Vwe(){if(LL)return pT;LL=1;var t=Ua(),e=CK();function n(){if(!(this instanceof n))return new n;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(n,e),pT=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(a){return a==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},pT}var jL;function Hwe(){return jL||(jL=1,Jo.sha1=Uwe(),Jo.sha224=kwe(),Jo.sha256=DK(),Jo.sha384=Vwe(),Jo.sha512=CK()),Jo}var yT={},ML;function Qwe(){if(ML)return yT;ML=1;var t=Ua(),e=eb(),n=t.rotl32,r=t.sum32,a=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(u,o),yT.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(g,_){for(var v=this.h[0],b=this.h[1],w=this.h[2],S=this.h[3],A=this.h[4],x=v,M=b,I=w,N=S,F=A,D=0;D<80;D++){var V=r(n(s(v,l(D,b,w,S),g[f[D]+_],c(D)),p[D]),A);v=A,A=S,S=n(w,10),w=b,b=V,V=r(n(s(x,l(79-D,M,I,N),g[h[D]+_],d(D)),m[D]),F),x=F,F=N,N=n(I,10),I=M,M=V}V=a(this.h[1],w,N),this.h[1]=a(this.h[2],S,F),this.h[2]=a(this.h[3],A,x),this.h[3]=a(this.h[4],v,M),this.h[4]=a(this.h[0],b,I),this.h[0]=V},u.prototype._digest=function(g){return g==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(y,g,_,v){return y<=15?g^_^v:y<=31?g&_|~g&v:y<=47?(g|~_)^v:y<=63?g&v|_&~v:g^(_|~v)}function c(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function d(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return yT}var mT,FL;function zwe(){if(FL)return mT;FL=1;var t=Ua(),e=Z_();function n(r,a,s){if(!(this instanceof n))return new n(r,a,s);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(a,s))}return mT=n,n.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var s=a.length;s<this.blockSize;s++)a.push(0);for(s=0;s<a.length;s++)a[s]^=54;for(this.inner=new this.Hash().update(a),s=0;s<a.length;s++)a[s]^=106;this.outer=new this.Hash().update(a)},n.prototype.update=function(a,s){return this.inner.update(a,s),this},n.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},mT}var qL;function rN(){return qL||(qL=1,function(t){var e=t;e.utils=Ua(),e.common=eb(),e.sha=Hwe(),e.ripemd=Qwe(),e.hmac=zwe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(oT)),oT}var BL;function Gwe(){if(BL)return kt;BL=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.isTermGrounded=kt.termToSignature=kt.quadToSignature=kt.sha1hex=kt.hashTerm=kt.hashTerms=kt.getGraphBlankNodes=kt.uniqGraph=kt.deindexGraph=kt.indexGraph=kt.getQuadsWithoutBlankNodes=kt.getQuadsWithBlankNodes=kt.hasValue=kt.hashValues=kt.getBijectionInner=kt.getBijection=kt.isomorphic=void 0;const t=rN(),e=tr,n=vn();function r(S,A){return!!a(S,A)}kt.isomorphic=r;function a(S,A){const x=f(d(S)),M=f(d(A));if(Object.keys(x).length!==Object.keys(M).length)return null;for(const V in x)if(x[V]!==M[V])return null;const I=p(c(S)),N=p(c(A)),F=m(S),D=m(A);return s(I,N,F,D)}kt.getBijection=a;function s(S,A,x,M,I,N){I||(I={}),N||(N={});const[F,D]=y(S,x,I),[V,k]=y(A,M,N);if(Object.keys(F).length!==Object.keys(V).length)return null;for(const H in F)if(!l(V,F[H]))return null;let U={};for(const H of x){const X=e.termToString(H),ee=D[X];for(const fe in k)if(k[fe]===ee){U[X]=fe,delete k[fe];break}}if(!o(Object.keys(U).sort(),x.map(e.termToString).sort())||!o(u(U).sort(),M.map(e.termToString).sort())){U=null;for(const H of x){const X=e.termToString(H);if(!F[X])for(const ee of M){const fe=e.termToString(ee);if(!V[fe]&&D[X]===k[fe]){const Te=_(X);U=s(S,A,x,M,Object.assign(Object.assign({},F),{[X]:Te}),Object.assign(Object.assign({},V),{[fe]:Te}))}}}}return U}kt.getBijectionInner=s;function o(S,A){if(S.length!==A.length)return!1;for(let x=S.length;x--;)if(S[x]!==A[x])return!1;return!0}function u(S){const A=[];for(const x in S)A.push(S[x]);return A}kt.hashValues=u;function l(S,A){for(const x in S)if(S[x]===A)return!0;return!1}kt.hasValue=l;function c(S){return S.filter(A=>n.someTerms(A,x=>x.termType==="BlankNode"||x.termType==="Quad"&&n.getTermsNested(x).some(M=>M.termType==="BlankNode")))}kt.getQuadsWithBlankNodes=c;function d(S){return S.filter(A=>n.everyTerms(A,x=>x.termType!=="BlankNode"&&!(x.termType==="Quad"&&n.getTermsNested(x).some(M=>M.termType==="BlankNode"))))}kt.getQuadsWithoutBlankNodes=d;function f(S){const A={};for(const x of S)A[JSON.stringify(e.quadToStringQuad(x))]=!0;return A}kt.indexGraph=f;function h(S){return Object.keys(S).map(A=>e.stringQuadToQuad(JSON.parse(A)))}kt.deindexGraph=h;function p(S){return h(f(S))}kt.uniqGraph=p;function m(S){return n.uniqTerms(S.map(A=>n.getBlankNodes(n.getTermsNested(A))).reduce((A,x)=>A.concat(x),[]))}kt.getGraphBlankNodes=m;function y(S,A,x){const M=Object.assign({},x),I={};let N=!0;for(;N;){const F=Object.keys(M).length;for(const V of A){const k=e.termToString(V);if(!M[k]){const[U,H]=g(V,S,M);U&&(M[k]=H),I[k]=H}}const D={};for(const V in I){const k=I[V];D[k]===void 0?D[k]=V:D[k]=!1}for(const V in D){const k=D[V];k&&(M[k]=V)}N=F!==Object.keys(M).length}return[M,I]}kt.hashTerms=y;function g(S,A,x){const M=[];let I=!0;for(const F of A){const D=n.getTermsNested(F);if(D.some(V=>V.equals(S))){M.push(v(F,x,S));for(const V of D)!w(V,x)&&!V.equals(S)&&(I=!1)}}const N=_(M.sort().join(""));return[I,N]}kt.hashTerm=g;function _(S){return t.sha1().update(S).digest("hex")}kt.sha1hex=_;function v(S,A,x){return n.getTerms(S).map(M=>b(M,A,x)).join("|")}kt.quadToSignature=v;function b(S,A,x){return S.equals(x)?"@self":S.termType==="BlankNode"?A[e.termToString(S)]||"@blank":S.termType==="Quad"?`<${v(S,A,x)}>`:e.termToString(S)}kt.termToSignature=b;function w(S,A){return S.termType!=="BlankNode"&&!(S.termType==="Quad"&&n.getTermsNested(S).some(x=>!w(x,A)))||!!A[e.termToString(S)]}return kt.isTermGrounded=w,kt}var $L;function Wwe(){return $L||($L=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Gwe(),t)}(sT)),sT}var UL;function Kwe(){if(UL)return Ko;UL=1;var t=P&&P.__createBinding||(Object.create?function(Z,Oe,je,Be){Be===void 0&&(Be=je);var Ye=Object.getOwnPropertyDescriptor(Oe,je);(!Ye||("get"in Ye?!Oe.__esModule:Ye.writable||Ye.configurable))&&(Ye={enumerable:!0,get:function(){return Oe[je]}}),Object.defineProperty(Z,Be,Ye)}:function(Z,Oe,je,Be){Be===void 0&&(Be=je),Z[Be]=Oe[je]}),e=P&&P.__setModuleDefault||(Object.create?function(Z,Oe){Object.defineProperty(Z,"default",{enumerable:!0,value:Oe})}:function(Z,Oe){Z.default=Oe}),n=P&&P.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var Oe={};if(Z!=null)for(var je in Z)je!=="default"&&Object.prototype.hasOwnProperty.call(Z,je)&&t(Oe,Z,je);return e(Oe,Z),Oe},r=P&&P.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.toSparqlJs=Ko.toSparql=void 0;const a=Wwe(),s=tr,o=Xu,u=n(Y_()),l=r(Qw()),c=r(tN()),d=u.types,f=u.expressionTypes;let h;const p=new l.default;function m(Z,Oe={}){return new o.Generator(Oe).stringify(y(Z))}Ko.toSparql=m;function y(Z){g(),Z=pe(Z);let Oe=_(Z);return Oe.type==="group"?Oe.patterns[0]:Oe}Ko.toSparqlJs=y;function g(){h={project:!1,extend:[],group:[],aggregates:[],order:[]}}function _(Z){switch(Z.type!==d.EXTEND&&Z.type!==d.ORDER_BY&&Z.type!==d.GRAPH&&(h.project=!1),Z.type){case d.EXPRESSION:return v(Z);case d.ASK:return Ae(Z,d.ASK);case d.BGP:return V(Z);case d.CONSTRUCT:return k(Z);case d.DESCRIBE:return Ae(Z,d.DESCRIBE);case d.DISTINCT:return U(Z);case d.EXTEND:return H(Z);case d.FROM:return X(Z);case d.FILTER:return ee(Z);case d.GRAPH:return fe(Z);case d.GROUP:return Te(Z);case d.JOIN:return De(Z);case d.LEFT_JOIN:return Ve(Z);case d.MINUS:return le(Z);case d.NOP:return{};case d.ORDER_BY:return ue(Z);case d.PATH:return Ie(Z);case d.PATTERN:return Ne(Z);case d.PROJECT:return Ae(Z,d.PROJECT);case d.REDUCED:return z(Z);case d.SERVICE:return L(Z);case d.SLICE:return B(Z);case d.UNION:return T(Z);case d.VALUES:return O(Z);case d.COMPOSITE_UPDATE:return ve(Z);case d.DELETE_INSERT:return Ce(Z);case d.LOAD:return Ee(Z);case d.CLEAR:return Ue(Z);case d.CREATE:return Fe(Z);case d.DROP:return Qe(Z);case d.ADD:return K(Z);case d.MOVE:return C(Z);case d.COPY:return q(Z)}throw new Error(`Unknown Operation type ${Z.type}`)}function v(Z){switch(Z.expressionType){case f.AGGREGATE:return S(Z);case f.EXISTENCE:return A(Z);case f.NAMED:return x(Z);case f.OPERATOR:return M(Z);case f.TERM:return I(Z);case f.WILDCARD:return N(Z)}throw new Error(`Unknown Expression Operation type ${Z.expressionType}`)}function b(Z){switch(Z.type){case d.ALT:return $(Z);case d.INV:return G(Z);case d.LINK:return Q(Z);case d.NPS:return Y(Z);case d.ONE_OR_MORE_PATH:return ie(Z);case d.SEQ:return te(Z);case d.ZERO_OR_MORE_PATH:return he(Z);case d.ZERO_OR_ONE_PATH:return ce(Z)}throw new Error(`Unknown Path type ${Z.type}`)}function w(Z){return(0,s.termToString)(Z)}function S(Z){const Oe={expression:v(Z.expression),type:"aggregate",aggregation:Z.aggregator,distinct:Z.distinct};return Z.separator&&(Oe.separator=Z.separator),Oe}function A(Z){return{type:"operation",operator:Z.not?"notexists":"exists",args:[{type:"group",patterns:c.default.flatten([_(Z.input)])}]}}function x(Z){return{type:"functionCall",function:Z.name,args:Z.args.map(v)}}function M(Z){if(Z.operator==="desc"){const je={expression:v(Z.args[0])};return je.descending=!0,je}const Oe={type:"operation",operator:Z.operator,args:Z.args.map(v)};return(Oe.operator==="in"||Oe.operator==="notin")&&(Oe.args=[Oe.args[0]].concat([Oe.args.slice(1)])),Oe}function I(Z){return Z.term}function N(Z){return Z.wildcard}function F(Z){return Array.isArray(Z)?Z.length===1?Z[0]:{type:"group",patterns:Z}:Z}function D(Z){return Z}function V(Z){let Oe=Z.patterns.map(Ne);return Oe.length===0?null:{type:"bgp",triples:Oe}}function k(Z){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:Z.template.map(Ne),where:c.default.flatten([_(Z.input)])}}function U(Z){let Oe=_(Z.input);return Oe.patterns[0].distinct=!0,Oe}function H(Z){return h.project?(h.extend.push(Z),_(Z.input)):c.default.flatten([_(Z.input),{type:"bind",variable:Z.variable,expression:v(Z.expression)}])}function X(Z){const Oe=_(Z.input);let je=Oe;return Oe.type==="group"&&(je=Oe.patterns[0]),je.from={default:Z.default,named:Z.named},Oe}function ee(Z){return{type:"group",patterns:c.default.flatten([_(Z.input),{type:"filter",expression:v(Z.expression)}])}}function fe(Z){return{type:"graph",patterns:c.default.flatten([_(Z.input)]),name:Z.name}}function Te(Z){const Oe=_(Z.input),je=Z.aggregates.map(D);return h.aggregates.push(...je),h.group.push(...Z.variables),Oe}function De(Z){return c.default.flatten(Z.input.map(_)).reduce((je,Be)=>(Be.type!=="bgp"||je.length==0||je[je.length-1].type!=="bgp"?je.push(Be):je[je.length-1].triples.push(...Be.triples),je),[])}function Ve(Z){const Oe={type:"optional",patterns:[_(Z.input[1])]};return Z.expression&&Oe.patterns.push({type:"filter",expression:v(Z.expression)}),Oe.patterns=c.default.flatten(Oe.patterns),c.default.flatten([_(Z.input[0]),Oe])}function le(Z){let Oe=_(Z.input[1]);return Oe.type==="group"&&(Oe=Oe.patterns),Array.isArray(Oe)||(Oe=[Oe]),c.default.flatten([_(Z.input[0]),{type:"minus",patterns:Oe}])}function ue(Z){return h.order.push(...Z.expressions),_(Z.input)}function Ie(Z){return{type:"bgp",triples:[{subject:Z.subject,predicate:b(Z.predicate),object:Z.object}]}}function Ne(Z){return{subject:Z.subject,predicate:Z.predicate,object:Z.object}}function we(Z,Oe){let je=c.default.isSimpleTerm(Z)?w(Z):Z;if(typeof je=="string"){if(Oe[je])return Oe[je]}else if(Array.isArray(Z))Z=Z.map(Be=>we(Be,Oe));else for(let Be of Object.keys(Z))Z[Be]=we(Z[Be],Oe);return Z}function Ae(Z,Oe){const je={type:"query",prefixes:{}},Be=je;let Ye;Oe===d.PROJECT?(je.queryType="SELECT",Ye=Z.variables):Oe===d.ASK?je.queryType="ASK":Oe===d.DESCRIBE&&(je.queryType="DESCRIBE",Ye=Z.terms);const ct=h.extend,ft=h.group,st=h.aggregates,yt=h.order;g(),h.project=!0;let ne=c.default.flatten([_(Z.input)]);ne.length===1&&ne[0].type==="group"&&(ne=ne[0].patterns),je.where=ne;let E={};for(let j of h.aggregates)E[w(j.variable)]=v(j);let R={};for(let j=h.extend.length-1;j>=0;--j){let J=h.extend[j];R[w(J.variable)]=we(v(J.expression),E)}if(h.group.length>0&&(Be.group=h.group.map(j=>{let J=w(j);if(R[J]){let me=R[J];return delete R[J],{variable:j,expression:me}}return{expression:j}})),h.order.length>0&&(Be.order=h.order.map(_).map(j=>j.descending?j:{expression:j})),Ye&&(Be.variables=Ye.map(j=>{let J=w(j);return R[J]?{variable:j,expression:R[J]}:j}),Be.variables.length===0&&(Be.variables=[new o.Wildcard])),je.where.length>0&&je.where[je.where.length-1].type==="filter"){const j=je.where[je.where.length-1];Se(j,Object.keys(E))&&(Be.having=c.default.flatten([we(j.expression,E)]),je.where.splice(-1))}return h.extend=ct,h.group=ft,h.aggregates=st,h.order=yt,{type:"group",patterns:[Be]}}function Se(Z,Oe){return c.default.isSimpleTerm(Z)?Oe.indexOf(w(Z))>=0:Array.isArray(Z)?Z.some(je=>Se(je,Oe)):Z===Object(Z)?Object.keys(Z).some(je=>Se(Z[je],Oe)):Oe.indexOf(Z)>=0}function z(Z){let Oe=_(Z.input);return Oe.patterns[0].reduced=!0,Oe}function L(Z){let Oe=_(Z.input);return Oe.type==="group"&&(Oe=Oe.patterns),Array.isArray(Oe)||(Oe=[Oe]),{type:"service",name:Z.name,silent:Z.silent,patterns:Oe}}function B(Z){let Oe=_(Z.input),je=Oe;return Oe.type&&Oe.type==="group"&&(je=Oe.patterns[0]),Z.start!==0&&(je.offset=Z.start),Z.length!==void 0&&(je.limit=Z.length),Oe}function T(Z){return{type:"union",patterns:Z.input.map(_).map(F)}}function O(Z){return{type:"values",values:Z.bindings.map(Oe=>{let je={};for(let Be of Z.variables){let Ye=`?${Be.value}`;Oe[Ye]?je[Ye]=Oe[Ye]:je[Ye]=void 0}return je})}}function $(Z){const Oe=Z.input.map(b);return Oe.every(je=>"pathType"in je&&je.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:c.default.flatten(Oe.map(je=>je.items))}]}:{type:"path",pathType:"|",items:Oe}}function G(Z){if(Z.path.type===d.NPS){const Oe=Z.path.iris.map(je=>({type:"path",pathType:"^",items:[je]}));return Oe.length<=1?{type:"path",pathType:"!",items:Oe}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Oe}]}}return{type:"path",pathType:"^",items:[b(Z.path)]}}function Q(Z){return Z.iri}function Y(Z){return Z.iris.length<=1?{type:"path",pathType:"!",items:Z.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Z.iris}]}}function ie(Z){return{type:"path",pathType:"+",items:[b(Z.path)]}}function te(Z){return{type:"path",pathType:"/",items:Z.input.map(b)}}function he(Z){return{type:"path",pathType:"*",items:[b(Z.path)]}}function ce(Z){return{type:"path",pathType:"?",items:[b(Z.path)]}}function ve(Z){const Oe=Z.updates.map(je=>_(je).updates[0]);return{prefixes:{},type:"update",updates:Oe}}function Ce(Z){var Oe;let je=Z.where,Be;if(je&&je.type===d.FROM){let ct=je;je=ct.input,Be={default:ct.default,named:ct.named}}const Ye=[{updateType:"insertdelete",delete:re(Z.delete||[]),insert:re(Z.insert||[])}];if(Be&&(Ye[0].using=Be),!je||je.type===d.BGP&&je.patterns.length===0)Ye[0].where=[];else{const ct=[];let ft=_(ge(je,ct));if(ft.type==="group"?Ye[0].where=ft.patterns:Ye[0].where=[ft],ct.length>0){if(ct.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((Oe=ct[0])===null||Oe===void 0?void 0:Oe.value)!==""&&(Ye[0].where=[{type:"graph",patterns:Ye[0].where,name:ct[0]}])}}return!Z.delete&&!Z.where?(Ye[0].updateType="insert",delete Ye[0].delete,delete Ye[0].where):!Z.insert&&!Z.where?(delete Ye[0].insert,delete Ye[0].where,Z.delete.some(ct=>ct.subject.termType==="Variable"||ct.predicate.termType==="Variable"||ct.object.termType==="Variable")?Ye[0].updateType="deletewhere":Ye[0].updateType="delete"):!Z.insert&&Z.where&&Z.where.type==="bgp"&&(0,a.isomorphic)(Z.delete,Z.where.patterns)&&(delete Ye[0].where,Ye[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:Ye}}function Ee(Z){const Oe=[{type:"load",silent:!!Z.silent,source:Z.source}];return Z.destination&&(Oe[0].destination=Z.destination),{prefixes:{},type:"update",updates:Oe}}function Ue(Z){return ke(Z,"clear")}function Fe(Z){return ke(Z,"create")}function Qe(Z){return ke(Z,"drop")}function ke(Z,Oe){const je=[{type:Oe,silent:!!Z.silent}];return Z.source==="DEFAULT"?je[0].graph={default:!0}:Z.source==="NAMED"?je[0].graph={named:!0}:Z.source==="ALL"?je[0].graph={all:!0}:je[0].graph={type:"graph",name:Z.source},{prefixes:{},type:"update",updates:je}}function K(Z){return W(Z,"add")}function C(Z){return W(Z,"move")}function q(Z){return W(Z,"copy")}function W(Z,Oe){const je=[{type:Oe,silent:!!Z.silent}];return je[0].source=Z.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:Z.source},je[0].destination=Z.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:Z.destination},{prefixes:{},type:"update",updates:je}}function re(Z){if(!Z)return[];const Oe={};return Z.forEach(je=>{const Be=je.graph.value;Oe[Be]||(Oe[Be]=[]),Oe[Be].push(je)}),Object.keys(Oe).map(je=>je===""?{type:"bgp",triples:Oe[je].map(Ne)}:{type:"graph",triples:Oe[je].map(Ne),name:Oe[je][0].graph})}function pe(Z){return ge(Z,[])}function ge(Z,Oe){if(Array.isArray(Z))return Z.map(ft=>ge(ft,Oe));if(!Z.type||Z.type===d.DELETE_INSERT)return Z;if((Z.type===d.PATTERN||Z.type===d.PATH)&&Z.graph)return Oe.push(Z.graph),Z.graph.name!==""?Z.type===d.PATTERN?p.createPattern(Z.subject,Z.predicate,Z.object):p.createPath(Z.subject,Z.predicate,Z.object):Z;const je={},Be={},Ye={};for(let ft of Object.keys(Z)){const st=[];if(je[ft]=ge(Z[ft],st),st.length>0){Be[ft]=st;for(const yt of st)Ye[yt.value]=yt}}const ct=Object.keys(Ye);if(ct.length>0)if(ct.length===1&&![d.PROJECT,d.SERVICE].includes(Z.type))Oe.push(Ye[ct[0]]);else{if(Z.type===d.BGP)return qe(Z,Be.patterns);for(let ft of Object.keys(Be)){const st=je[ft];Array.isArray(st)?je[ft]=st.map((yt,ne)=>Be[ft][0].value===""?yt:p.createGraph(yt,Be[ft][ne])):Be[ft][0].value!==""&&(je[ft]=p.createGraph(st,Be[ft][0]))}}return je}function qe(Z,Oe){var je;const Be={};for(let ft=0;ft<Z.patterns.length;++ft){const st=Z.patterns[ft],yt=Oe[ft].value;Be[yt]=(je=Be[yt])!==null&&je!==void 0?je:{patterns:[],graph:Oe[ft]},Be[yt].patterns.push(st)}let Ye=[];for(const[ft,{patterns:st,graph:yt}]of Object.entries(Be)){const ne=p.createBgp(st);Ye.push(ft===""?ne:p.createGraph(ne,yt))}let ct=Ye[0];for(let ft=1;ft<Ye.length;++ft)ct=p.createJoin([ct,Ye[ft]]);return ct}return Ko}var kL;function Pt(){return kL||(kL=1,function(t){var e=P&&P.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(f,h);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,m)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),n=P&&P.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),r=P&&P.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var h in d)h!=="default"&&Object.prototype.hasOwnProperty.call(d,h)&&e(f,d,h);return n(f,d),f},a=P&&P.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const s=a(Bwe());t.translate=s.default;const o=r(Y_());t.Algebra=o;const u=a(Qw());t.Factory=u.default;const l=Kwe();Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return l.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return l.toSparqlJs}});const c=a(tN());t.Util=c.default}(nT)),nT}var VL;function LK(){if(VL)return Wo;VL=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.materializeOperation=Wo.materializeTerm=void 0;const t=Rt,e=tr,n=vn(),r=Pt(),a=new t.DataFactory,s=a.literal("true",a.namedNode("http://www.w3.org/2001/XMLSchema#boolean"));function o(l,c){if(l.termType==="Variable"){const d=c.get(l);if(d)return d}return l.termType==="Quad"&&(0,n.someTermsNested)(l,d=>d.termType==="Variable")?(0,n.mapTermsNested)(l,d=>o(d,c)):l}Wo.materializeTerm=o;function u(l,c,d,f={}){return f={strictTargetVariables:"strictTargetVariables"in f?f.strictTargetVariables:!1,bindFilter:"bindFilter"in f?f.bindFilter:!0},r.Util.mapOperation(l,{path(h,p){return{recurse:!1,result:Object.assign(p.createPath(o(h.subject,c),h.predicate,o(h.object,c),o(h.graph,c)),{metadata:h.metadata})}},pattern(h,p){return{recurse:!1,result:Object.assign(p.createPattern(o(h.subject,c),o(h.predicate,c),o(h.object,c),o(h.graph,c)),{metadata:h.metadata})}},extend(h){if(c.has(h.variable)){if(f.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,e.termToString)(h.variable)} in a BIND operator.`);return{recurse:!0,result:u(h.input,c,d,f)}}return{recurse:!0,result:h}},group(h,p){if(f.strictTargetVariables){for(const y of h.variables)if(c.has(y))throw new Error(`Tried to bind variable ${(0,e.termToString)(y)} in a GROUP BY operator.`);return{recurse:!0,result:h}}const m=h.variables.filter(y=>!c.has(y));return{recurse:!0,result:p.createGroup(h.input,m,h.aggregates)}},project(h,p){if(f.strictTargetVariables){for(const g of h.variables)if(c.has(g))throw new Error(`Tried to bind variable ${(0,e.termToString)(g)} in a SELECT operator.`);return{recurse:!0,result:h}}const m=h.variables.filter(g=>!c.has(g)),y=d.bindings(h.variables.map(g=>{const _=c.get(g);if(_)return[g,_]}).filter(Boolean));return{recurse:!1,result:p.createProject(u(h.input,y,d,f),m)}},values(h,p){if(f.strictTargetVariables){for(const m of h.variables)if(c.has(m))throw new Error(`Tried to bind variable ${(0,e.termToString)(m)} in a VALUES operator.`)}else{const m=h.variables.filter(g=>!c.has(g)),y=h.bindings.map(g=>{const _={...g};let v=!0;return c.forEach((b,w)=>{const S=(0,e.termToString)(w);S in _&&(b.equals(_[S])||(v=!1),delete _[S])}),v?_:void 0}).filter(Boolean);return{recurse:!0,result:p.createValues(m,y)}}return{recurse:!1,result:h}},expression(h,p){if(!f.bindFilter)return{recurse:!1,result:h};if(h.expressionType==="term")return{recurse:!1,result:p.createTermExpression(o(h.term,c))};if(h.expressionType==="operator")return h.operator==="bound"&&h.args.length===1&&h.args[0].expressionType==="term"&&[...c.keys()].some(m=>h.args[0].term.equals(m))?{recurse:!1,result:p.createTermExpression(s)}:{recurse:!0,result:h};if(h.expressionType==="aggregate"&&"variable"in h&&c.has(h.variable)){if(f.strictTargetVariables)throw new Error(`Tried to bind ${(0,e.termToString)(h.variable)} in a ${h.aggregator} aggregate.`);return{recurse:!0,result:h}}return{recurse:!0,result:h}}})}return Wo.materializeOperation=u,Wo}var HL;function jK(){if(HL)return wd;HL=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.ActorQueryOperation=void 0;const t=Ut,e=lt,n=eN(),r=LK();let a=0,s=class _a extends e.Actor{constructor(u){super(u)}static getSafeBindings(u){return _a.validateQueryOutput(u,"bindings"),u}static getSafeQuads(u){return _a.validateQueryOutput(u,"quads"),u}static getSafeBoolean(u){return _a.validateQueryOutput(u,"boolean"),u}static getSafeVoid(u){return _a.validateQueryOutput(u,"void"),u}static validateQueryOutput(u,l){if(u.type!==l)throw new Error(`Invalid query output type: Expected '${l}' but got '${u.type}'`)}static getBaseExpressionContext(u){const l=u.get(t.KeysInitQuery.queryTimestamp),c=u.get(t.KeysInitQuery.baseIRI),d=u.get(t.KeysInitQuery.functionArgumentsCache)??{};if(u.has(t.KeysInitQuery.extensionFunctionCreator)&&u.has(t.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let f=u.get(t.KeysInitQuery.extensionFunctionCreator);const h=u.get(t.KeysInitQuery.extensionFunctions);return h&&(f=p=>h[p.value]),{now:l,baseIRI:c,extensionFunctionCreator:f,functionArgumentsCache:d}}static getExpressionContext(u,l){return{...this.getBaseExpressionContext(u),bnode:c=>new n.BlankNodeBindingsScoped(c??`BNODE_${a++}`)}}static getAsyncExpressionContext(u,l,c){return{...this.getBaseExpressionContext(u),bnode:d=>Promise.resolve(new n.BlankNodeBindingsScoped(d??`BNODE_${a++}`)),exists:_a.createExistenceResolver(u,l,c)}}static createExistenceResolver(u,l,c){return async(d,f)=>{const h=(0,r.materializeOperation)(d.input,f,c),p=await l.mediate({operation:h,context:u}),m=_a.getSafeBindings(p);return d.not!==((await m.bindingsStream.take(1).toArray()).length===1)}}static throwOnReadOnly(u){if(u.get(t.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}static getOperationSource(u){var l;return(l=u.metadata)==null?void 0:l.scopedSource}static assignOperationSource(u,l){return u={...u},u.metadata=u.metadata?{...u.metadata}:{},u.metadata.scopedSource=l,u}static removeOperationSource(u){var l;(l=u.metadata)==null||delete l.scopedSource,u.metadata&&Object.keys(u.metadata).length===0&&delete u.metadata}static doesShapeAcceptOperation(u,l,c){return u.type==="conjunction"?u.children.every(d=>_a.doesShapeAcceptOperation(d,l,c)):u.type==="disjunction"?u.children.some(d=>_a.doesShapeAcceptOperation(d,l,c)):u.type==="arity"?_a.doesShapeAcceptOperation(u.child,l,c):((c==null?void 0:c.joinBindings)&&!u.joinBindings)??((c==null?void 0:c.filterBindings)&&!u.filterBindings)?!1:u.operation.operationType==="type"?u.operation.type==="project"||u.operation.type===l.type:u.operation.pattern.type===l.type}};return wd.ActorQueryOperation=s,wd}var Ed={},gT={},Ad={},QL;function Jwe(){if(QL)return Ad;QL=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.MetadataValidationState=void 0;let t=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(n){this.invalidateListeners.push(n)}invalidate(){if(this.valid){this.valid=!1;for(const n of this.invalidateListeners)n()}}};return Ad.MetadataValidationState=t,Ad}var hi={},zL;function Xwe(){if(zL)return hi;zL=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.cachifyMetadata=hi.validateMetadataBindings=hi.validateMetadataQuads=hi.getMetadataBindings=hi.getMetadataQuads=void 0;function t(s){return a(()=>new Promise((o,u)=>{s.getProperty("metadata",l=>o(l)),s.on("error",u)}).then(o=>n(o)))}hi.getMetadataQuads=t;function e(s){return a(()=>new Promise((o,u)=>{s.getProperty("metadata",l=>o(l)),s.on("error",u)}).then(o=>("canContainUndefs"in o||(o.canContainUndefs=!1),r(o))))}hi.getMetadataBindings=e;function n(s){for(const o of["cardinality"])if(!(o in s))throw new Error(`Invalid metadata: missing ${o} in ${JSON.stringify(s)}`);return s}hi.validateMetadataQuads=n;function r(s){for(const o of["cardinality","canContainUndefs","variables"])if(!(o in s))throw new Error(`Invalid metadata: missing ${o} in ${JSON.stringify(s)}`);return s}hi.validateMetadataBindings=r;function a(s){let o;return()=>(o||(o=s(),o.then(u=>u.state.addInvalidateListener(()=>{o=void 0})).catch(()=>{})),o)}return hi.cachifyMetadata=a,hi}var GL;function ri(){return GL||(GL=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Jwe(),t),n(Xwe(),t)}(gT)),gT}var WL;function MK(){if(WL)return Ed;WL=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.ActorQueryOperationTyped=void 0;const t=Ut,e=ri(),n=jK();let r=class extends n.ActorQueryOperation{constructor(s,o){if(super({...s,operationName:o}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(s){if(!s.operation)throw new Error("Missing field 'operation' in a query operation action.");if(s.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${s.operation.type}`);const o=s.operation;return this.testOperation(o,s.context)}async run(s){const o=s.context.get(t.KeysInitQuery.physicalQueryPlanLogger);o&&(o.logOperation(s.operation.type,void 0,s.operation,s.context.get(t.KeysInitQuery.physicalQueryPlanNode),this.name,{}),s.context=s.context.set(t.KeysInitQuery.physicalQueryPlanNode,s.operation));const u=s.operation,l=s.context.set(t.KeysQueryOperation.operation,u),c=await this.runOperation(u,l);return"metadata"in c&&(c.metadata=(0,e.cachifyMetadata)(c.metadata)),c}};return Ed.ActorQueryOperationTyped=r,Ed}var Od={},KL;function Ywe(){if(KL)return Od;KL=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.ActorQueryOperationTypedMediated=void 0;const t=MK();let e=class extends t.ActorQueryOperationTyped{constructor(r,a){super(r,a)}};return Od.ActorQueryOperationTypedMediated=e,Od}var Rd={},JL;function Zwe(){if(JL)return Rd;JL=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.BusQueryOperation=void 0;const t=lt;let e=class extends t.BusIndexed{constructor(r){super({...r,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}};return Rd.BusQueryOperation=e,Rd}var xd={},_T={},Id={},XL;function eSe(){if(XL)return Id;XL=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.LinkedList=void 0;class t{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var n;return(n=this._head)===null||n===void 0?void 0:n.value}get last(){var n;return(n=this._tail)===null||n===void 0?void 0:n.value}get empty(){return this._head===null}push(n){const r={value:n,next:null};this._tail===null?this._head=this._tail=r:this._tail.next=this._tail=r,this._length++}shift(){if(this._head===null)return;const{value:n,next:r}=this._head;return this._head=r,r===null&&(this._tail=null),this._length--,n}clear(){this._length=0,this._head=this._tail=null}}return Id.LinkedList=t,Id}var Pd={},YL;function tSe(){if(YL)return Pd;YL=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.createTaskScheduler=void 0;const t=Promise.resolve(void 0);function e(){const n=typeof queueMicrotask=="function"?queueMicrotask:o=>t.then(o),r=typeof setImmediate=="function"?setImmediate:o=>setTimeout(o,0);let a=0,s=null;return o=>{s!==null?s.push(o):++a<100?n(o):(s=[o],r(()=>{for(const u of s)n(u);s=null,a=0}))}}return Pd.createTaskScheduler=e,Pd}var ZL;function Bt(){return ZL||(ZL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isIterator=t.isIterable=t.isSourceExpression=t.isPromise=t.isEventEmitter=t.isFunction=t.range=t.union=t.fromIterable=t.fromIterator=t.fromArray=t.single=t.empty=t.wrap=t.WrappingIterator=t.ClonedIterator=t.UnionIterator=t.MultiTransformIterator=t.SimpleTransformIterator=t.TransformIterator=t.BufferedIterator=t.MappingIterator=t.DESTINATION=t.identity=t.IntegerIterator=t.ArrayIterator=t.SingletonIterator=t.EmptyIterator=t.AsyncIterator=t.DESTROYED=t.ENDED=t.CLOSED=t.CLOSING=t.OPEN=t.INIT=t.setTaskScheduler=t.getTaskScheduler=t.scheduleTask=t.LinkedList=void 0;const e=R_,n=eSe();Object.defineProperty(t,"LinkedList",{enumerable:!0,get:function(){return n.LinkedList}});let a=tSe().createTaskScheduler();function s(B){a(B)}t.scheduleTask=s;function o(){return a}t.getTaskScheduler=o;function u(B){a=B}t.setTaskScheduler=u,t.INIT=1,t.OPEN=2,t.CLOSING=4,t.CLOSED=8,t.ENDED=16,t.DESTROYED=32;class l extends e.EventEmitter{constructor(T=t.OPEN){super(),this._readable=!1,this._state=T,this.on("newListener",c)}_changeState(T,O=!1){const $=T>this._state&&this._state<t.ENDED;return $&&(this._state=T,T===t.ENDED&&(O?a(()=>this.emit("end")):this.emit("end"))),$}read(){return null}forEach(T,O){this.on("data",Ie(T,O))}close(){this._changeState(t.CLOSED)&&this._endAsync()}destroy(T){this.done||this._destroy(T,O=>{T=T||O,T&&this.emit("error",T),this._end(!0)})}_destroy(T,O){O()}_end(T=!1){this._changeState(T?t.DESTROYED:t.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){a(()=>this._end())}get readable(){return this._readable}set readable(T){T=!!T&&!this.done,this._readable!==T&&(this._readable=T,T&&a(()=>this.emit("readable")))}get closed(){return this._state>=t.CLOSING}get ended(){return this._state===t.ENDED}get destroyed(){return this._state===t.DESTROYED}get done(){return this._state>=t.ENDED}toString(){const T=this._toStringDetails();return`[${this.constructor.name}${T?` ${T}`:""}]`}_toStringDetails(){return""}toArray(T){const O=[],$=typeof(T==null?void 0:T.limit)=="number"?T.limit:1/0;return this.ended||$<=0?Promise.resolve(O):new Promise((G,Q)=>{const Y=()=>G(O),ie=te=>{O.push(te),O.length>=$&&(this.removeListener("error",Q),this.removeListener("data",ie),this.removeListener("end",Y),G(O))};this.on("error",Q),this.on("data",ie),this.on("end",Y)})}getProperty(T,O){const $=this._properties;if(!O)return $&&$[T];if($&&T in $)a(()=>O($[T]));else{let G;(G=this._propertyCallbacks)||(this._propertyCallbacks=G=Object.create(null)),T in G?G[T].push(O):G[T]=[O]}}setProperty(T,O){const $=this._properties||(this._properties=Object.create(null));$[T]=O;const G=this._propertyCallbacks||{},Q=G[T];if(Q){delete G[T],a(()=>{for(const Y of Q)Y(O)});for(T in G)return;delete this._propertyCallbacks}}getProperties(){const T=this._properties,O={};for(const $ in T)O[$]=T[$];return O}setProperties(T){for(const O in T)this.setProperty(O,T[O])}copyProperties(T,O){for(const $ of O)T.getProperty($,G=>this.setProperty($,G))}transform(T){return new N(this,T)}map(T,O){return new _(this,Ie(T,O))}filter(T,O){return this.map(function($){return T.call(O||this,$)?$:null})}uniq(T=g){const O=new Set;return this.filter(function($){const G=T.call(this,$);return O.has(G)?!1:(O.add(G),!0)})}prepend(T){return this.transform({prepend:T})}append(T){return this.transform({append:T})}surround(T,O){return this.transform({prepend:T,append:O})}skip(T){return this.map(O=>T-- >0?null:O)}take(T){return this.transform({limit:T})}range(T,O){return this.transform({offset:T,limit:Math.max(O-T+1,0)})}clone(){return new k(this)}[Symbol.asyncIterator](){const T=this;let O=null,$=null,G=null;T.addListener("readable",Q),T.addListener("end",Q),T.addListener("error",Y);function Q(){if(O!==null)if(G!==null)Y(G);else if(T.done)O({done:!0,value:void 0}),O=$=null,ie();else{const te=T.read();te!==null&&(O({done:!1,value:te}),O=$=null)}}function Y(te){$!==null?($(te),O=$=G=null,ie()):G===null&&(G=te)}function ie(){T.removeListener("readable",Q),T.removeListener("end",Q),T.removeListener("error",Y)}return{next(){return new Promise((te,he)=>{O=te,$=he,Q()})}}}}t.AsyncIterator=l;function c(B){B==="data"&&(this.removeListener("newListener",c),f(this,"readable",d),this.readable&&a(()=>d.call(this)))}function d(){let B;for(;this.listenerCount("data")!==0&&(B=this.read())!==null;)this.emit("data",B);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",d),f(this,"newListener",c))}function f(B,T,O){B.listeners(T).includes(O)||B.on(T,O)}class h extends l{constructor(){super(),this._changeState(t.ENDED,!0)}}t.EmptyIterator=h;class p extends l{constructor(T){super(),this._item=T,T===null?this.close():this.readable=!0}read(){const T=this._item;return this._item=null,this.close(),T}_toStringDetails(){return this._item===null?"":`(${this._item})`}}t.SingletonIterator=p;class m extends l{constructor(T=[],{autoStart:O=!0,preserve:$=!0}={}){super();const G=$||!Array.isArray(T)?[...T]:T;this._index=0,this._sourceStarted=O!==!1,this._truncateThreshold=$?-1:64,this._sourceStarted&&G.length===0?this.close():this._buffer=G,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let T=null;return this._buffer&&(this._index<this._buffer.length&&(T=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),T}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(T,O){delete this._buffer,O()}toArray(T={}){if(!this._buffer)return Promise.resolve([]);const{length:O}=this._buffer,$=this._index,G=typeof T.limit!="number"?O:$+T.limit,Q=this._buffer.slice($,G);return this._index=G,G>=O&&this.close(),Promise.resolve(Q)}}t.ArrayIterator=m;class y extends l{constructor({start:T=0,step:O=1,end:$}={}){super(),Number.isFinite(T)&&(T=Math.trunc(T)),this._next=T,Number.isFinite(O)&&(O=Math.trunc(O)),this._step=O;const G=O>=0,Q=G?1/0:-1/0;Number.isFinite($)?$=Math.trunc($):$!==-Q&&($=Q),this._last=$,!Number.isFinite(T)||(G?T>$:T<$)?this.close():this.readable=!0}read(){if(this.closed)return null;const T=this._next,O=this._step,$=this._last,G=this._next+=O;return(O>=0?G>$:G<$)&&this.close(),T}_toStringDetails(){return`(${this._next}...${this._last})`}}t.IntegerIterator=y;function g(B){return B}t.identity=g,t.DESTINATION=Symbol("destination");class _ extends l{constructor(T,O=g,$={}){super(),this._map=O,this._source=v(T),this._destroySource=$.destroySource!==!1,T.done?this.close():(this._source[t.DESTINATION]=this,this._source.on("end",x),this._source.on("error",A),this._source.on("readable",S),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let T,O;for(;(T=this._source.read())!==null;)if((O=this._map(T))!==null)return O}this.readable=!1,this._source.done&&this.close()}return null}_end(T){this._source.removeListener("end",x),this._source.removeListener("error",A),this._source.removeListener("readable",S),delete this._source[t.DESTINATION],this._destroySource&&this._source.destroy(),super._end(T)}}t.MappingIterator=_;function v(B,T=!1){if(!B||!Ne(B.read)||!Ne(B.on))throw new TypeError(`Invalid source: ${B}`);if(!T&&B[t.DESTINATION])throw new Error("The source already has a destination");return B}class b extends l{constructor({maxBufferSize:T=4,autoStart:O=!0}={}){super(t.INIT),this._buffer=new n.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=T,a(()=>this._init(O)),this._sourceStarted=O!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(T){T!==1/0&&(T=Number.isFinite(T)?Math.max(Math.trunc(T),1):4),this._maxBufferSize!==T&&(this._maxBufferSize=T,this._state===t.OPEN&&this._fillBuffer())}_init(T){let O=!1;this._reading=!0,this._begin(()=>{if(O)throw new Error("done callback called multiple times");O=!0,this._reading=!1,this._changeState(t.OPEN),T?this._fillBufferAsync():this.readable=!0})}_begin(T){T()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const T=this._buffer;let O;return T.empty?(O=null,this.readable=!1):O=T.shift(),!this._reading&&T.length<this._maxBufferSize&&(this.closed?T.empty&&this._endAsync():this._fillBufferAsync()),O}_read(T,O){O()}_push(T){this.done||(this._pushedCount++,this._buffer.push(T),this.readable=!0)}_fillBuffer(){let T;this._reading||(this.closed?this._completeClose():(T=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(T,()=>{if(!T)throw new Error("done callback called multiple times");T=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,a(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(t.CLOSING):this._completeClose()}_completeClose(){this._changeState(t.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(T,O){this._buffer.clear(),O()}_flush(T){T()}_toStringDetails(){const T=this._buffer;return`{${T.empty?"":`next: ${T.first}, `}buffer: ${T.length}}`}}t.BufferedIterator=b;class w extends b{constructor(T,O=T||{}){super(O),this._boundPush=$=>this._push($),Se(T)||(T=O.source),we(T)?this.source=T:T&&(this._createSource=Ae(T)?()=>T:T,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!O.optional,this._destroySource=O.destroySource!==!1}get source(){return Ne(this._createSource)&&this._loadSourceAsync(),this._source}set source(T){const O=this._source=this._validateSource(T);O[t.DESTINATION]=this,this.done?this._destroySource&&O.destroy():O.done?this.close():(O.on("end",M),O.on("readable",I),O.on("error",A))}_loadSourceAsync(){Ne(this._createSource)&&(Promise.resolve(this._createSource()).then(T=>{delete this._createSource,this.source=T,this._fillBuffer()},T=>this.emit("error",T)),this._createSource=null)}_validateSource(T,O=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return v(T,O)}_read(T,O){const $=()=>{this._pushedCount<T&&!this.closed?a(()=>this._readAndTransform($,O)):O()};this._readAndTransform($,O)}_readAndTransform(T,O){let $;const G=this.source;!G||G.done||($=G.read())===null?O():this._optional?this._optionalTransform($,T):this._transform($,T,this._boundPush)}_optionalTransform(T,O){const $=this._pushedCount;this._transform(T,()=>{$===this._pushedCount&&this._push(T),O()},this._boundPush)}_transform(T,O,$){$(T),O()}_closeWhenDone(){this.close()}_end(T){const O=this._source;O&&(O.removeListener("end",M),O.removeListener("error",A),O.removeListener("readable",I),delete O[t.DESTINATION],this._destroySource&&O.destroy()),super._end(T)}}t.TransformIterator=w;function S(){this[t.DESTINATION].readable=!0}function A(B){this[t.DESTINATION].emit("error",B)}function x(){this[t.DESTINATION].close()}function M(){this[t.DESTINATION]._closeWhenDone()}function I(){this[t.DESTINATION]._sourceStarted!==!1&&this[t.DESTINATION]._fillBuffer()}class N extends w{constructor(T,O){if(super(T,O),this._offset=0,this._limit=1/0,this._filter=$=>!0,O=O||(Se(T)?null:T),O){const $=Ne(O)?O:O.transform,{limit:G,offset:Q,filter:Y,map:ie,prepend:te,append:he}=O;Q===1/0||G===-1/0?this._limit=0:(Number.isFinite(Q)&&(this._offset=Math.max(Math.trunc(Q),0)),Number.isFinite(G)&&(this._limit=Math.max(Math.trunc(G),0)),Ne(Y)&&(this._filter=Y),Ne(ie)&&(this._map=ie),this._transform=Ne($)?$:null),te&&(this._prepender=we(te)?te:Te(te)),he&&(this._appender=we(he)?he:Te(he))}}_read(T,O){const $=()=>this._readAndTransformSimple(T,G,O);this._readAndTransformSimple(T,G,O);function G(){a($)}}_readAndTransformSimple(T,O,$){let G;const{source:Q}=this;if(!Q||Q.done){$();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<T&&(G=Q.read())!==null;){if(!this._filter(G)||this._offset!==0&&this._offset--)continue;const Y=typeof this._map>"u"?G:this._map(G);if(Y===null)this._optional&&this._push(G);else if(!Ne(this._transform))this._push(Y);else{this._optional?this._optionalTransform(Y,O):this._transform(Y,O,this._boundPush);return}--this._limit===0&&this.close()}$()}_begin(T){this._insert(this._prepender,T),delete this._prepender}_flush(T){this._insert(this._appender,T),delete this._appender}_insert(T,O){const $=Q=>this._push(Q);!T||T.done?O():(T.on("data",$),T.on("end",G));function G(){T.removeListener("data",$),T.removeListener("end",G),O()}}}t.SimpleTransformIterator=N;class F extends w{constructor(T,O){if(super(T,O),this._transformerQueue=[],O){const $=Ne(O)?O:O.multiTransform;$&&(this._createTransformer=$)}}_read(T,O){const $=this._transformerQueue,G=this._optional;let Q,Y;for(;(Q=$[0])&&Q.transformer.done;){G&&Q.item!==null&&(T--,this._push(Q.item)),$.shift();const{transformer:te}=Q;te.removeListener("end",I),te.removeListener("readable",I),te.removeListener("error",A)}const{source:ie}=this;for(;ie&&!ie.done&&$.length<this.maxBufferSize&&(Y=ie.read(),Y!==null);){const te=this._createTransformer(Y)||new h;te[t.DESTINATION]=this,te.on("end",I),te.on("readable",I),te.on("error",A),$.push({transformer:te,item:Y})}if(Q=$[0],Q){const{transformer:te}=Q;for(;T-- >0&&(Y=te.read())!==null;)this._push(Y),G&&(Q.item=null)}else ie&&ie.done&&this.close();O()}_createTransformer(T){return new p(T)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(T){if(super._end(T),this._destroySource)for(const O of this._transformerQueue)O.transformer.destroy()}}t.MultiTransformIterator=F;class D extends b{constructor(T,O={}){super(O),this._sources=[],this._currentSource=-1;const $=O.autoStart!==!1;if(we(T))T.on("error",G=>this.emit("error",G)),this._pending={loading:!1,sources:T},$&&this._loadSources();else if(Array.isArray(T)&&T.length>0)for(const G of T)this._addSource(G);else $&&this.close();this._destroySources=O.destroySources!==!1}_loadSources(){const T=this._pending.sources;this._pending.loading=!0,T.done?(delete this._pending,this.close()):(T.on("data",O=>{this._addSource(O),this._fillBufferAsync()}),T.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(T){Ae(T)&&(T=X(T)),T.done||(this._sources.push(T),T[t.DESTINATION]=this,T.on("error",A),T.on("readable",I),T.on("end",V))}_removeEmptySources(){this._sources=this._sources.filter((T,O)=>(T.done&&O<=this._currentSource&&this._currentSource--,!T.done)),this._fillBuffer()}_read(T,O){var $;(($=this._pending)===null||$===void 0?void 0:$.loading)===!1&&this._loadSources();let G=0,Q;for(;G!==(G=T);)for(let Y=0;Y<this._sources.length&&T>0;Y++)this._currentSource=(this._currentSource+1)%this._sources.length,(Q=this._sources[this._currentSource].read())!==null&&(T--,this._push(Q));!this._pending&&this._sources.length===0&&this.close(),O()}_end(T=!1){if(super._end(T),this._destroySources){for(const O of this._sources)O.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}t.UnionIterator=D;function V(){this[t.DESTINATION]._removeEmptySources()}class k extends w{constructor(T){super(T,{autoStart:!1}),this._readPosition=0,this._reading=!1,T&&(this.readable=!0)}_init(){}close(){l.prototype.close.call(this)}get source(){return super.source}set source(T){const O=this._source=this._validateSource(T),$=O&&O[t.DESTINATION]||(O[t.DESTINATION]=new U(O));this.done?this._destroySource&&O.destroy():$.endsAt(0)?this.close():($.register(this),(O._sourceStarted===!1||$.readAt(0)!==null)&&(this.readable=!0));const G=this._propertyCallbacks;for(const Q in G){const Y=G[Q];for(const ie of Y)this._getSourceProperty(Q,ie)}}_validateSource(T,O=!1){const $=T&&T[t.DESTINATION];return super._validateSource(T,!$||$ instanceof U)}getProperty(T,O){const{source:$}=this,G=this._properties,Q=G&&T in G;if(!O)return Q?G&&G[T]:$&&$.getProperty(T);super.getProperty(T,O),$&&!Q&&this._getSourceProperty(T,O)}_getSourceProperty(T,O){this.source.getProperty(T,$=>{(!this._properties||!(T in this._properties))&&O($)})}getProperties(){const T=this.source?this.source.getProperties():{},O=this._properties;for(const $ in O)T[$]=O[$];return T}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const T=this.source;let O=null;if(!this.done&&T){const $=T[t.DESTINATION];(O=$.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,$.endsAt(this._readPosition)&&this.close()}return O}_end(T){const O=this.source,$=O==null?void 0:O[t.DESTINATION];$&&$.unregister(this),b.prototype._end.call(this,T)}}t.ClonedIterator=k;class U{constructor(T){if(this._history=[],this._trackers=new Set,this._source=T,!T.done){const O=()=>{for(const Q of this._trackers)Q.readable=!0},$=Q=>{for(const Y of this._trackers)Y.emit("error",Q)},G=()=>{for(const Q of this._trackers)Q._sourceStarted!==!1&&Q._readPosition===this._history.length&&Q.close();this._trackers.clear(),T.removeListener("end",G),T.removeListener("error",$),T.removeListener("readable",O)};T.on("end",G),T.on("error",$),T.on("readable",O)}}register(T){this._source.done||this._trackers.add(T)}unregister(T){this._trackers.delete(T)}readAt(T){let O=null;return T<this._history.length?O=this._history[T]:!this._source.done&&(O=this._source.read())!==null&&(this._history[T]=O),O}endsAt(T){return this._source.done&&this._history.length===T}}class H extends l{constructor(T,O){super(),this._source=null,this._destroySource=(O==null?void 0:O.destroySource)!==!1,Ae(T)?(this._source=new l,T.then($=>{this._source=null,this.source=$}).catch($=>this.emit("error",$))):T&&(this.source=T)}set source(T){let O=T;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(z(O)&&(O=O[Symbol.iterator]()),L(O)){let $=O;O=new e.EventEmitter,O.read=()=>{if($!==null){let G;for(;!(G=$.next()).done;)if(G.value!==null)return G.value;$=null,this.close()}return null}}else O=v(O);if(this.done){this._destroySource&&Ne(O.destroy)&&O.destroy();return}O[t.DESTINATION]=this,O.on("end",x),O.on("error",A),O.on("readable",S),this._source=O,this.readable=O.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const T=this._source.read();if(T!==null)return T;this.readable=!1}return null}_end(T=!1){this._source!==null&&(this._source.removeListener("end",x),this._source.removeListener("error",A),this._source.removeListener("readable",S),delete this._source[t.DESTINATION],this._destroySource&&Ne(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(T)}}t.WrappingIterator=H;function X(B,T){if(T&&("autoStart"in T||"optional"in T||"source"in T||"maxBufferSize"in T))return B&&!we(B)&&(B=new H(B)),new w(B,T);if(!B)return ee();if(Ae(B))return new H(B,T);if(B instanceof l)return B;if(Array.isArray(B))return Te(B);if(z(B)||L(B)||we(B))return new H(B,T);throw new TypeError(`Invalid source: ${B}`)}t.wrap=X;function ee(){return new h}t.empty=ee;function fe(B){return new p(B)}t.single=fe;function Te(B){return new m(B)}t.fromArray=Te;function De(B){return new H(B)}t.fromIterator=De;function Ve(B){return new H(B)}t.fromIterable=Ve;function le(B){return new D(B)}t.union=le;function ue(B,T,O){return new y({start:B,end:T,step:O})}t.range=ue;function Ie(B,T){return T?B.bind(T):B}function Ne(B){return typeof B=="function"}t.isFunction=Ne;function we(B){return Ne(B==null?void 0:B.on)}t.isEventEmitter=we;function Ae(B){return Ne(B==null?void 0:B.then)}t.isPromise=Ae;function Se(B){return B&&(we(B)||Ae(B)||Ne(B))}t.isSourceExpression=Se;function z(B){return B&&Symbol.iterator in B}t.isIterable=z;function L(B){return Ne(B==null?void 0:B.next)}t.isIterator=L}(_T)),_T}var ej;function rSe(){if(ej)return xd;ej=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.ClosableTransformIterator=void 0;const t=Bt();let e=class extends t.TransformIterator{constructor(r,a){super(r,a),this.onClose=a.onClose}_end(r){this.onClose(),super._end(r)}};return xd.ClosableTransformIterator=e,xd}var tj;function Ot(){return tj||(tj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(jK(),t),n(MK(),t),n(Ywe(),t),n(LK(),t),n(Zwe(),t),n(rSe(),t)}(eT)),eT}var bT={},Nd={},vT={},Dd={},rj;function nSe(){if(rj)return Dd;rj=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.ActorContextPreprocess=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return Dd.ActorContextPreprocess=e,Dd}var nj;function tb(){return nj||(nj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(nSe(),t)}(vT)),vT}var ij;function iSe(){if(ij)return Nd;ij=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.ActorContextPreprocessConvertShortcuts=void 0;const t=tb(),e=lt;let n=class FK extends t.ActorContextPreprocess{constructor(a){super(a)}async test(a){return!0}async run(a){return{context:FK.expandShortcuts(a.context,this.contextKeyShortcuts)}}static expandShortcuts(a,s){for(const o of a.keys())s[o.name]&&(a=a.set(new e.ActionContextKey(s[o.name]),a.get(o)).delete(o));return a}};return Nd.ActorContextPreprocessConvertShortcuts=n,Nd}var aj;function aSe(){return aj||(aj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(iSe(),t)}(bT)),bT}var wT={},Cd={},sj;function sSe(){if(sj)return Cd;sj=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.ActorContextPreprocessSetDefaults=void 0;const t=tb(),e=Ut;let n=class extends t.ActorContextPreprocess{constructor(a){super(a),this.defaultFunctionArgumentsCache={}}async test(a){return!0}async run(a){let s=a.context;if(a.initialize){s=s.setDefault(e.KeysInitQuery.queryTimestamp,new Date).setDefault(e.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(e.KeysCore.log,this.logger).setDefault(e.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(e.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map);let o={language:"sparql",version:"1.1"};s.has(e.KeysInitQuery.queryFormat)?(o=s.get(e.KeysInitQuery.queryFormat),o.language==="graphql"&&(s=s.setDefault(e.KeysInitQuery.graphqlSingularizeVariables,{}))):s=s.set(e.KeysInitQuery.queryFormat,o)}return{context:s}}};return Cd.ActorContextPreprocessSetDefaults=n,Cd}var oj;function oSe(){return oj||(oj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(sSe(),t)}(wT)),wT}var ST={},Ld={},uj;function uSe(){if(uj)return Ld;uj=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.ActorContextPreprocessSourceToDestination=void 0;const t=tb(),e=Ut;let n=class extends t.ActorContextPreprocess{constructor(a){super(a)}async test(a){return!0}async run(a){if(a.context.get(e.KeysInitQuery.querySourcesUnidentified)&&!a.context.get(e.KeysRdfUpdateQuads.destination)){const s=a.context.get(e.KeysInitQuery.querySourcesUnidentified);if(s.length===1)return{context:a.context.set(e.KeysRdfUpdateQuads.destination,s[0])}}return a}};return Ld.ActorContextPreprocessSourceToDestination=n,Ld}var cj;function cSe(){return cj||(cj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(uSe(),t)}(ST)),ST}var TT={},jd={},Md={},ET={},lj;function nN(){return lj||(lj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.deskolemizeOperation=t.deskolemizeQuad=t.deskolemizeTermNestedThrowing=t.deskolemizeTerm=t.skolemizeBindingsStream=t.skolemizeQuadStream=t.skolemizeBindings=t.skolemizeQuad=t.skolemizeTerm=t.getSourceId=t.SKOLEM_PREFIX=void 0;const e=eN(),n=Rt,r=vn(),a=Pt(),s=new n.DataFactory;t.SKOLEM_PREFIX="urn:comunica_skolem:source_";function o(g,_){let v=g.get(_.referenceValue);return v===void 0&&(v=`${g.size}`,g.set(_.referenceValue,v)),v}t.getSourceId=o;function u(g,_){return g.termType==="BlankNode"?new e.BlankNodeScoped(`bc_${_}_${g.value}`,s.namedNode(`${t.SKOLEM_PREFIX}${_}:${g.value}`)):g}t.skolemizeTerm=u;function l(g,_){return(0,r.mapTermsNested)(g,v=>u(v,_))}t.skolemizeQuad=l;function c(g,_){return g.map(v=>v.termType==="Quad"?l(v,_):u(v,_))}t.skolemizeBindings=c;function d(g,_){const v=g.map(w=>l(w,_));function b(){g.getProperty("metadata",w=>{v.setProperty("metadata",w),w.state.addInvalidateListener(b)})}return b(),v}t.skolemizeQuadStream=d;function f(g,_){const v=g.map(w=>c(w,_));function b(){g.getProperty("metadata",w=>{v.setProperty("metadata",w),w.state.addInvalidateListener(b)})}return b(),v}t.skolemizeBindingsStream=f;function h(g,_){if(g.termType==="BlankNode"&&"skolemized"in g&&(g=g.skolemized),g.termType==="NamedNode"&&g.value.startsWith(t.SKOLEM_PREFIX)){const v=g.value.indexOf(":",t.SKOLEM_PREFIX.length);if(g.value.slice(t.SKOLEM_PREFIX.length,v)===_){const w=g.value.slice(v+1,g.value.length);return s.blankNode(w)}return null}return g}t.deskolemizeTerm=h;function p(g,_){if(g.termType==="Quad")return(0,r.mapTermsNested)(g,b=>{const w=h(b,_);if(!w)throw new Error("Skolemized term is not in scope for this source");return w});const v=h(g,_);if(v===null)throw new Error("Skolemized term is not in scope for this source");return v}t.deskolemizeTermNestedThrowing=p;function m(g,_){return(0,r.mapTermsNested)(g,v=>h(v,_)??v)}t.deskolemizeQuad=m;function y(g,_){try{return a.Util.mapOperation(g,{[a.Algebra.types.PATTERN](v,b){return{result:Object.assign(b.createPattern(p(v.subject,_),p(v.predicate,_),p(v.object,_),p(v.graph,_)),{metadata:v.metadata}),recurse:!1}},[a.Algebra.types.PATH](v,b){return{result:Object.assign(b.createPath(p(v.subject,_),v.predicate,p(v.object,_),p(v.graph,_)),{metadata:v.metadata}),recurse:!1}}})}catch{}}t.deskolemizeOperation=y}(ET)),ET}var dj;function qK(){if(dj)return Md;dj=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.QuerySourceSkolemized=void 0;const t=ri(),e=Bt(),n=nN();let r=class{constructor(s,o){this.innerSource=s,this.sourceId=o}async getSelectorShape(s){return this.innerSource.getSelectorShape(s)}queryBindings(s,o,u){const l=(0,n.deskolemizeOperation)(s,this.sourceId);if(!l){const c=new e.ArrayIterator([],{autoStart:!1});return c.setProperty("metadata",{state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:[]}),c}return(0,n.skolemizeBindingsStream)(this.innerSource.queryBindings(l,o,u),this.sourceId)}queryBoolean(s,o){return this.innerSource.queryBoolean(s,o)}queryQuads(s,o){const u=(0,n.deskolemizeOperation)(s,this.sourceId);if(!u){const l=new e.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{state:new t.MetadataValidationState,cardinality:{type:"exact",value:0}}),l}return(0,n.skolemizeQuadStream)(this.innerSource.queryQuads(u,o),this.sourceId)}queryVoid(s,o){return this.innerSource.queryVoid(s,o)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}};return Md.QuerySourceSkolemized=r,Md}var fj;function lSe(){if(fj)return jd;fj=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.ActorContextPreprocessQuerySourceSkolemize=void 0;const t=tb(),e=Ut,n=qK(),r=nN();let a=class extends t.ActorContextPreprocess{constructor(o){super(o)}async test(o){return!0}async run(o){let u=o.context;if(u.has(e.KeysQueryOperation.querySources)){u.has(e.KeysQuerySourceIdentify.sourceIds)||(u=u.set(e.KeysQuerySourceIdentify.sourceIds,new Map));const l=u.getSafe(e.KeysQuerySourceIdentify.sourceIds);let c=u.getSafe(e.KeysQueryOperation.querySources);c=c.map(d=>({source:new n.QuerySourceSkolemized(d.source,(0,r.getSourceId)(l,d.source)),context:d.context})),u=u.set(e.KeysQueryOperation.querySources,c)}return{context:u}}};return jd.ActorContextPreprocessQuerySourceSkolemize=a,jd}var hj;function BK(){return hj||(hj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(lSe(),t),n(qK(),t),n(nN(),t)}(TT)),TT}var AT={},Fd={},pj;function dSe(){if(pj)return Fd;pj=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.MediatorCombinePipeline=void 0;const t=lt;let e=class extends t.Mediator{constructor(r){super(r)}async mediate(r){let a;try{a=this.publish(r)}catch{return r}if(this.filterErrors){const o=[];for(const u of a)try{await u.reply,o.push(u)}catch{}a=o}if(a=await Promise.all(a.map(async({actor:o,reply:u})=>({actor:o,reply:await u}))),this.order){const o=u=>{const l=this.field?u[this.field]:u;if(typeof l!="number")throw new TypeError("Cannot order elements that are not numbers.");return l};a=a.sort((u,l)=>(this.order==="increasing"?1:-1)*(o(u.reply)-o(l.reply)))}let s=r;for(const{actor:o}of a)s={...s,...await o.runObservable(s)};return s}mediateWith(){throw new Error("Method not supported.")}};return Fd.MediatorCombinePipeline=e,Fd}var yj;function mj(){return yj||(yj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(dSe(),t)}(AT)),AT}var OT={},qd={},RT={},Bd={},gj;function fSe(){if(gj)return Bd;gj=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.ActorHashBindings=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return Bd.ActorHashBindings=e,Bd}var _j;function hSe(){return _j||(_j=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(fSe(),t)}(RT)),RT}var xT,bj;function pSe(){return bj||(bj=1,xT=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((a,s,o)=>`${a}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,a)=>{if(e[a]===void 0||typeof e[a]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(a)}:${t(e[a])}`},"")}}`}),xT}var vj;function ySe(){if(vj)return qd;vj=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.ActorHashBindingsSha1=void 0;const t=hSe(),e=rN(),n=tr,r=pSe();let a=class extends t.ActorHashBindings{async test(o){if(!o.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(o){return{hashFunction:u=>(0,e.sha1)().update(r(Object.fromEntries([...u].map(([l,c])=>[(0,n.termToString)(l),(0,n.termToString)(c)])))).digest("hex"),hashCollisions:!0}}};return qd.ActorHashBindingsSha1=a,qd}var wj;function mSe(){return wj||(wj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ySe(),t)}(OT)),OT}var IT={},$d={},Sj;function gSe(){if(Sj)return $d;Sj=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.MediatorRace=void 0;const t=lt;let e=class extends t.Mediator{constructor(r){super(r)}mediateWith(r,a){return new Promise((s,o)=>{const u=[];for(const l of a)l.reply.then(()=>{s(l.actor)}).catch(c=>{u.push(c),u.length===a.length&&o(new Error(`${this.name} mediated over all rejecting actors:
${u.map(d=>d.message).join(`
`)}`))})})}};return $d.MediatorRace=e,$d}var Tj;function Bn(){return Tj||(Tj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(gSe(),t)}(IT)),IT}var PT={},Ud={},NT={},kd={},Ej;function _Se(){if(Ej)return kd;Ej=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.ActorOptimizeQueryOperation=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return kd.ActorOptimizeQueryOperation=e,kd}var Aj;function ca(){return Aj||(Aj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(_Se(),t)}(NT)),NT}var Oj;function bSe(){if(Oj)return Ud;Oj=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.ActorOptimizeQueryOperationRewriteCopy=void 0;const t=ca(),e=Pt();let n=class extends t.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{[e.Algebra.types.COPY](o,u){let l;return typeof o.destination=="string"&&typeof o.source=="string"&&o.destination===o.source||typeof o.destination!="string"&&typeof o.source!="string"&&o.destination.equals(o.source)?l=u.createCompositeUpdate([]):l=u.createCompositeUpdate([u.createDrop(o.destination,!0),u.createAdd(o.source,o.destination,o.silent)]),{result:l,recurse:!1}}}),context:a.context}}};return Ud.ActorOptimizeQueryOperationRewriteCopy=n,Ud}var Rj;function vSe(){return Rj||(Rj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(bSe(),t)}(PT)),PT}var DT={},Vd={},xj;function wSe(){if(xj)return Vd;xj=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.ActorOptimizeQueryOperationRewriteMove=void 0;const t=ca(),e=Pt();let n=class extends t.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{[e.Algebra.types.MOVE](o,u){let l;if(typeof o.destination=="string"&&typeof o.source=="string"&&o.destination===o.source||typeof o.destination!="string"&&typeof o.source!="string"&&o.destination.equals(o.source))l=u.createCompositeUpdate([]);else{const c=[u.createDrop(o.destination,!0),u.createAdd(o.source,o.destination,o.silent),u.createDrop(o.source)];l=u.createCompositeUpdate(c)}return{result:l,recurse:!1}}}),context:a.context}}};return Vd.ActorOptimizeQueryOperationRewriteMove=n,Vd}var Ij;function SSe(){return Ij||(Ij=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(wSe(),t)}(DT)),DT}var CT={},Hd={},Pj;function TSe(){if(Pj)return Hd;Pj=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.ActorOptimizeQueryOperationRewriteAdd=void 0;const t=ca(),e=Rt,n=Pt(),r=new e.DataFactory;let a=class extends t.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return!0}async run(o){return{operation:n.Util.mapOperation(o.operation,{[n.Algebra.types.ADD](l,c){const d=l.destination==="DEFAULT"?r.defaultGraph():l.destination,f=l.source==="DEFAULT"?r.defaultGraph():l.source;return{result:c.createDeleteInsert(void 0,[c.createPattern(r.variable("s"),r.variable("p"),r.variable("o"),d)],c.createPattern(r.variable("s"),r.variable("p"),r.variable("o"),f)),recurse:!1}}}),context:o.context}}};return Hd.ActorOptimizeQueryOperationRewriteAdd=a,Hd}var Nj;function ESe(){return Nj||(Nj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(TSe(),t)}(CT)),CT}var LT={},Qd={},Dj;function ASe(){if(Dj)return Qd;Dj=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.ActorOptimizeQueryOperationGroupSources=void 0;const t=ca(),e=Ot(),n=Pt(),r=new n.Factory;let a=class extends t.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){if(e.ActorQueryOperation.getOperationSource(o.operation))throw new Error(`Actor ${this.name} does not work with top-level operation sources.`);return!0}async run(o){return{operation:await this.groupOperation(o.operation,o.context),context:o.context}}async groupOperation(o,u){var f;if(e.ActorQueryOperation.getOperationSource(o)??!("input"in o))return o;if(!Array.isArray(o.input)){const h=await this.groupOperation(o.input,u);if((f=h.metadata)!=null&&f.scopedSource){const p=e.ActorQueryOperation.getOperationSource(h);e.ActorQueryOperation.doesShapeAcceptOperation(await p.source.getSelectorShape(u),o)&&(this.logDebug(u,`Hoist 1 source-specific operation into a single ${o.type} operation for ${p.source.toString()}`),e.ActorQueryOperation.removeOperationSource(h),o=e.ActorQueryOperation.assignOperationSource(o,p))}return{...o,input:h}}const l=await Promise.all(o.input.map(h=>this.groupOperation(h,u))),c=this.clusterOperationsWithEqualSources(l);if(c.length===1){const h=c[0],p=e.ActorQueryOperation.getOperationSource(c[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(o,h,p,u),input:h}}if(c.length===l.length)return{...o,input:l};let d;switch(o.type){case n.Algebra.types.JOIN:d=r.createJoin.bind(r);break;case n.Algebra.types.UNION:d=r.createUnion.bind(r);break;case n.Algebra.types.ALT:d=r.createAlt.bind(r);break;case n.Algebra.types.SEQ:d=r.createSeq.bind(r);break;default:throw new Error(`Unsupported operation '${o.type}' detected while grouping sources`)}return await this.groupOperationMulti(c,d,u)}async groupOperationMulti(o,u,l){let c=!0;const d=await Promise.all(o.map(async f=>{const h=e.ActorQueryOperation.getOperationSource(f[0]),p=await this.moveSourceAnnotationUpwardsIfPossible(u(f,!0),f,h,l);return e.ActorQueryOperation.getOperationSource(p)&&(c=!1),p}));return u(d,c)}clusterOperationsWithEqualSources(o){const u=new Map,l=[];for(const d of o){const f=e.ActorQueryOperation.getOperationSource(d);f?(u.has(f)||u.set(f,[]),u.get(f).push(d)):l.push(d)}const c=[];l.length>0&&c.push(l);for(const[d,f]of u.entries())c.push(f.map(h=>e.ActorQueryOperation.assignOperationSource(h,d)));return c}async moveSourceAnnotationUpwardsIfPossible(o,u,l,c){if(l&&e.ActorQueryOperation.doesShapeAcceptOperation(await l.source.getSelectorShape(c),o)){this.logDebug(c,`Hoist ${u.length} source-specific operations into a single ${o.type} operation for ${l.source.toString()}`),o=e.ActorQueryOperation.assignOperationSource(o,l);for(const d of u)e.ActorQueryOperation.removeOperationSource(d)}return o}};return Qd.ActorOptimizeQueryOperationGroupSources=a,Qd}var Cj;function OSe(){return Cj||(Cj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ASe(),t)}(LT)),LT}var jT={},zd={},MT={},Gd={},Lj;function RSe(){if(Lj)return Gd;Lj=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.ActorQueryParse=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return Gd.ActorQueryParse=e,Gd}var jj;function $K(){return jj||(jj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(RSe(),t)}(MT)),MT}var Mj;function xSe(){if(Mj)return zd;Mj=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.ActorQueryParseSparql=void 0;const t=$K(),e=Pt(),n=Xu;let r=class extends t.ActorQueryParse{constructor(s){super(s),this.prefixes=Object.freeze(this.prefixes)}async test(s){if(s.queryFormat&&s.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(s){const u=new n.Parser({prefixes:this.prefixes,baseIRI:s.baseIRI,sparqlStar:!0}).parse(s.query);return{baseIRI:u.type==="query"?u.base:void 0,operation:(0,e.translate)(u,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:s.baseIRI})}}};return zd.ActorQueryParseSparql=r,zd}var Fj;function ISe(){return Fj||(Fj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(xSe(),t)}(jT)),jT}var FT={},Wd={},qT={},BT={},$T={},Kd={},qj;function Jl(){if(qj)return Kd;qj=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.DirectiveNodeHandlerAdapter=void 0;let t=class{constructor(n,r,a){this.targetKind=n,this.util=r,this.settings=a}getDirectiveConditionalValue(n,r){const a=this.util.getArgument(n.arguments,"if");if(!a)throw new Error(`The directive ${n.name.value} is missing an if-argument.`);const s=this.util.handleNodeValue(a.value,a.name.value,r);if(s.terms.length!==1)throw new Error(`Can not apply the directive ${n.name.value} with a list.`);return s.terms[0]}isDirectiveScopeAll(n){const r=this.util.getArgument(n.arguments,"scope");return r&&r.value.kind==="EnumValue"&&r.value.value==="all"}};return Kd.DirectiveNodeHandlerAdapter=t,Kd}var Jd={},Bj;function PSe(){if(Bj)return Jd;Bj=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.DirectiveNodeHandlerInclude=void 0;const t=Jl();let e=class extends t.DirectiveNodeHandlerAdapter{constructor(r,a){super("include",r,a)}handle(r,a){const s=this.getDirectiveConditionalValue(r.directive,a);return s.termType==="Literal"&&s.value==="false"?{ignore:!0}:{}}};return Jd.DirectiveNodeHandlerInclude=e,Jd}var Xd={},$j;function NSe(){if($j)return Xd;$j=1,Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.DirectiveNodeHandlerOptional=void 0;const t=Jl();let e=class extends t.DirectiveNodeHandlerAdapter{constructor(r,a){super("optional",r,a)}handle(r,a){return{operationOverrider:s=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),s)}}};return Xd.DirectiveNodeHandlerOptional=e,Xd}var Yd={},UT={},Uj;function rb(){return Uj||(Uj=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SingularizeState=void 0,function(e){e[e.SINGLE=0]="SINGLE",e[e.PLURAL=1]="PLURAL"}(t.SingularizeState||(t.SingularizeState={}))}(UT)),UT}var kj;function DSe(){if(kj)return Yd;kj=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.DirectiveNodeHandlerPlural=void 0;const t=rb(),e=Jl();let n=class extends e.DirectiveNodeHandlerAdapter{constructor(a,s){super("plural",a,s)}handle(a,s){return this.isDirectiveScopeAll(a.directive)&&(s.singularizeState=t.SingularizeState.PLURAL),delete s.singularizeVariables[this.util.nameToVariable(a.fieldLabel,s).value],{}}};return Yd.DirectiveNodeHandlerPlural=n,Yd}var Zd={},Vj;function CSe(){if(Vj)return Zd;Vj=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.DirectiveNodeHandlerSingle=void 0;const t=rb(),e=Jl();let n=class extends e.DirectiveNodeHandlerAdapter{constructor(a,s){super("single",a,s)}handle(a,s){return this.isDirectiveScopeAll(a.directive)&&(s.singularizeState=t.SingularizeState.SINGLE),s.singularizeVariables[this.util.nameToVariable(a.fieldLabel,s).value]=!0,{}}};return Zd.DirectiveNodeHandlerSingle=n,Zd}var ef={},Hj;function LSe(){if(Hj)return ef;Hj=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.DirectiveNodeHandlerSkip=void 0;const t=Jl();let e=class extends t.DirectiveNodeHandlerAdapter{constructor(r,a){super("skip",r,a)}handle(r,a){const s=this.getDirectiveConditionalValue(r.directive,a);return s.termType==="Literal"&&s.value==="true"?{ignore:!0}:{}}};return ef.DirectiveNodeHandlerSkip=e,ef}var Qj;function UK(){return Qj||(Qj=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Jl(),t),n(PSe(),t),n(NSe(),t),n(DSe(),t),n(CSe(),t),n(LSe(),t)}($T)),$T}var kT={},tf={},zj;function ka(){if(zj)return tf;zj=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.NodeValueHandlerAdapter=void 0;let t=class{constructor(n,r,a){this.targetKind=n,this.util=r,this.settings=a}};return tf.NodeValueHandlerAdapter=t,tf}var rf={},Gj;function jSe(){if(Gj)return rf;Gj=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.NodeValueHandlerBoolean=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("BooleanValue",r,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(r,a,s){return{terms:[this.util.dataFactory.literal(r.value?"true":"false",this.datatype)]}}};return rf.NodeValueHandlerBoolean=e,rf}var nf={},Wj;function MSe(){if(Wj)return nf;Wj=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.NodeValueHandlerEnum=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("EnumValue",r,a)}handle(r,a,s){return{terms:[this.util.valueToNamedNode(r.value,s.context)]}}};return nf.NodeValueHandlerEnum=e,nf}var af={},Kj;function FSe(){if(Kj)return af;Kj=1,Object.defineProperty(af,"__esModule",{value:!0}),af.NodeValueHandlerFloat=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("FloatValue",r,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(r,a,s){return{terms:[this.util.dataFactory.literal(r.value,this.datatype)]}}};return af.NodeValueHandlerFloat=e,af}var sf={},Jj;function qSe(){if(Jj)return sf;Jj=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.NodeValueHandlerInt=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("IntValue",r,a),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(r,a,s){return{terms:[this.util.dataFactory.literal(r.value,this.datatype)]}}};return sf.NodeValueHandlerInt=e,sf}var of={},Xj;function BSe(){if(Xj)return of;Xj=1,Object.defineProperty(of,"__esModule",{value:!0}),of.NodeValueHandlerList=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("ListValue",r,a),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(r,a,s){const o=[];let u=[];for(const l of r.values){const c=this.util.handleNodeValue(l,a,s);for(const d of c.terms)o.push(d);c.auxiliaryPatterns&&(u=u.concat(c.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const l=this.util.dataFactory.blankNode();let c=l,d=o.length;for(const f of o){u.push(this.util.operationFactory.createPattern(c,this.nodeFirst,f,s.graph));const h=--d===0?this.nodeNil:this.util.dataFactory.blankNode();u.push(this.util.operationFactory.createPattern(c,this.nodeRest,h,s.graph)),c=h}return{terms:[l],auxiliaryPatterns:u}}else return{terms:o,auxiliaryPatterns:u}}};return of.NodeValueHandlerList=e,of}var uf={},Yj;function $Se(){if(Yj)return uf;Yj=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.NodeValueHandlerNull=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("NullValue",r,a),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(r,a,s){return{terms:[this.nil]}}};return uf.NodeValueHandlerNull=e,uf}var cf={},Zj;function USe(){if(Zj)return cf;Zj=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.NodeValueHandlerObject=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("ObjectValue",r,a)}handle(r,a,s){const o=this.util.dataFactory.blankNode();let u=[];for(const l of r.fields){const c=this.util.handleNodeValue(l.value,a,s);for(const d of c.terms)u.push(this.util.createQuadPattern(o,l.name,d,s.graph,s.context));c.auxiliaryPatterns&&(u=u.concat(c.auxiliaryPatterns))}return{terms:[o],auxiliaryPatterns:u}}};return cf.NodeValueHandlerObject=e,cf}var lf={},eM;function kSe(){if(eM)return lf;eM=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.NodeValueHandlerString=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("StringValue",r,a)}handle(r,a,s){const o=s.context.getContextRaw()[a];let u,l;return o&&typeof o!="string"&&(o["@language"]?u=o["@language"]:o["@type"]&&(l=this.util.dataFactory.namedNode(o["@type"]))),{terms:[this.util.dataFactory.literal(r.value,u||l)]}}};return lf.NodeValueHandlerString=e,lf}var df={},tM;function VSe(){if(tM)return df;tM=1,Object.defineProperty(df,"__esModule",{value:!0}),df.NodeValueHandlerVariable=void 0;const t=ka();let e=class extends t.NodeValueHandlerAdapter{constructor(r,a){super("Variable",r,a)}handle(r,a,s){const o=r.name.value,u=s.variablesDict[o],l=s.variablesMetaDict[o];if(!u){if(!s.ignoreUnknownVariables&&(!l||l.mandatory))throw new Error(`Undefined variable: ${o}`);{const c=this.util.dataFactory.variable(o);return s.terminalVariables.map(d=>d.value).indexOf(o)<0&&s.terminalVariables.push(c),{terms:[c]}}}if(u.kind==="Variable")throw new Error(`Variable refers to another variable: ${o}`);if(l)if(l.list){if(u.kind!=="ListValue")throw new Error(`Expected a list, but got ${u.kind} for ${o}`);if(l.type){const c=u;for(const d of c.values)if(d.kind!==l.type)throw new Error(`Expected ${l.type}, but got ${d.kind} for ${o}`)}}else l.type;return this.util.handleNodeValue(u,a,s)}};return df.NodeValueHandlerVariable=e,df}var rM;function HSe(){return rM||(rM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ka(),t),n(jSe(),t),n(MSe(),t),n(FSe(),t),n(qSe(),t),n(BSe(),t),n($Se(),t),n(USe(),t),n(kSe(),t),n(VSe(),t)}(kT)),kT}var ff={},nM;function zw(){if(nM)return ff;nM=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.NodeHandlerAdapter=void 0;let t=class{constructor(n,r,a){this.targetKind=n,this.util=r,this.settings=a}getNodeQuadContextSelectionSet(n,r,a){const s={};if(n){for(const o of n.selections)if(o.kind==="Field"){const u=o;this.handleNodeQuadContextField(u,a,s,"id","subject"),this.handleNodeQuadContextField(u,a,s,"graph","graph")}}return s}handleNodeQuadContextField(n,r,a,s,o){if(!a[o]&&n.name.value===s){if(!a[o]){const u=this.util.getArgument(n.arguments,"_");if(u){const l=this.util.handleNodeValue(u.value,n.name.value,r);if(l.terms.length!==1)throw new Error(`Only single values can be set as ${s}, but got ${l.terms.length} at ${n.name.value}`);a[o]=l.terms[0],l.auxiliaryPatterns&&(a.auxiliaryPatterns||(a.auxiliaryPatterns=[]),a.auxiliaryPatterns.concat(l.auxiliaryPatterns))}}if(!a[o]){const u=this.util.nameToVariable(this.util.getFieldLabel(n),r);r.terminalVariables.push(u),a[o]=u}}}getDirectiveOutputs(n,r,a){const s=[];if(n)for(const o of n){const u=this.util.handleDirectiveNode({directive:o,fieldLabel:r},a);if(u){if(u.ignore)return null;s.push(u)}}return s}handleDirectiveOutputs(n,r){for(const a of n){if(a.ignore)return this.util.operationFactory.createBgp([]);a.operationOverrider&&(r=a.operationOverrider(r))}return r}};return ff.NodeHandlerAdapter=t,ff}var hf={},iM;function iN(){if(iM)return hf;iM=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.NodeHandlerDefinitionAdapter=void 0;const t=zw();let e=class extends t.NodeHandlerAdapter{constructor(r,a,s){super(r,a,s)}};return hf.NodeHandlerDefinitionAdapter=e,hf}var pf={},aM;function QSe(){if(aM)return pf;aM=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.NodeHandlerDefinitionFragment=void 0;const t=iN();let e=class extends t.NodeHandlerDefinitionAdapter{constructor(r,a){super("FragmentDefinition",r,a)}handle(r,a){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}};return pf.NodeHandlerDefinitionFragment=e,pf}var yf={},sM;function zSe(){if(sM)return yf;sM=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.NodeHandlerDefinitionOperation=void 0;const t=iN();let e=class extends t.NodeHandlerDefinitionAdapter{constructor(r,a){super("OperationDefinition",r,a)}handle(r,a){if(r.operation!=="query")throw new Error("Unsupported definition operation: "+r.operation);if(r.variableDefinitions)for(const u of r.variableDefinitions){const l=u.variable.name.value;u.defaultValue&&(a.variablesDict[l]||(a.variablesDict[l]=u.defaultValue));let c=u.type;const d=c.kind==="NonNullType";d&&(c=c.type);const f=c.kind==="ListType";f&&(c=c.type);const h=c.name.value;a.variablesMetaDict[l]={mandatory:d,list:f,type:h}}const s=this.getDirectiveOutputs(r.directives,r.name?r.name.value:"",a);if(!s)return this.util.operationFactory.createBgp([]);const o=this.util.joinOperations(r.selectionSet.selections.map(u=>this.util.handleNode(u,a)));return this.handleDirectiveOutputs(s,o)}};return yf.NodeHandlerDefinitionOperation=e,yf}var mf={},oM;function GSe(){if(oM)return mf;oM=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.NodeHandlerDocument=void 0;const t=Pt(),e=zw();let n=class extends e.NodeHandlerAdapter{constructor(a,s){super("Document",a,s)}handle(a,s){const o=a.definitions.map(l=>{const c=this.getNodeQuadContextDefinitionNode(l,Object.assign(Object.assign({},s),{ignoreUnknownVariables:!0})),d=Object.assign(Object.assign({},s),{graph:c.graph||s.graph,subject:c.subject||this.util.dataFactory.blankNode()});let f=this.util.handleNode(l,d);return c&&c.auxiliaryPatterns&&(f=this.util.joinOperations([f,this.util.operationFactory.createBgp(c.auxiliaryPatterns)])),f}),u=this.util.operationFactory.createProject(o.length===1?o[0]:this.util.operationFactory.createUnion(o),s.terminalVariables);return this.translateBlankNodesToVariables(u)}getNodeQuadContextDefinitionNode(a,s){if(a.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(a.selectionSet,a.name?a.name.value:"",s);throw new Error(`Unsupported definition: ${a.kind}`)}translateBlankNodesToVariables(a){const s=this,o={},u=Array.from(a.variables).reduce((c,d)=>(c[d.value]=!0,c),{});return t.Util.mapOperation(a,{path:(c,d)=>({recurse:!1,result:d.createPath(l(c.subject),c.predicate,l(c.object),l(c.graph))}),pattern:(c,d)=>({recurse:!1,result:d.createPattern(l(c.subject),l(c.predicate),l(c.object),l(c.graph))})});function l(c){if(c.termType==="BlankNode"){let d=o[c.value];return d||(d=t.Util.createUniqueVariable(c.value,u,s.util.dataFactory),u[d.value]=!0,o[c.value]=d),d}return c}}};return mf.NodeHandlerDocument=n,mf}var gf={},uM;function Gw(){if(uM)return gf;uM=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.NodeHandlerSelectionAdapter=void 0;const t=Pt(),e=rb(),n=zw();let r=class extends n.NodeHandlerAdapter{constructor(s,o,u){super(s,o,u)}getNodeQuadContextFieldNode(s,o,u){return this.getNodeQuadContextSelectionSet(s.selectionSet,o,Object.assign(Object.assign({},u),{path:this.util.appendFieldToPath(u.path,o)}))}fieldToOperation(s,o,u,l){const c=u;let d=0,f;if((o.name.value==="id"||o.name.value==="graph")&&(u=!1,o.arguments))for(const S of o.arguments)S.name.value==="_"&&this.util.handleNodeValue(S.value,o.name.value,s);const h=this.util.getFieldLabel(o);if(s.singularizeState===e.SingularizeState.SINGLE&&(s.singularizeVariables[this.util.nameToVariable(h,s).value]=!0),u){const S=this.handleMetaField(s,h,l);if(S)return S}const p=l?[this.util.operationFactory.createBgp(l)]:[],m=this.getNodeQuadContextFieldNode(o,h,s);let y=m.subject||this.util.nameToVariable(h,s),g=m.graph||s.graph;m.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(m.auxiliaryPatterns));let _=!0,v=null;if(u&&o.arguments&&o.arguments.length){for(const S of o.arguments)if(S.name.value==="_"){const A=this.util.handleNodeValue(S.value,o.name.value,s);v=A.terms,p.push(this.util.operationFactory.createBgp(A.terms.map(x=>this.util.createQuadPattern(s.subject,o.name,x,s.graph,s.context)))),A.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(A.auxiliaryPatterns)),u=!1;break}else if(S.name.value==="graph"){const A=this.util.handleNodeValue(S.value,o.name.value,s);if(A.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${A.terms.length} at ${o.name.value}`);g=A.terms[0],s=Object.assign(Object.assign({},s),{graph:g}),A.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(A.auxiliaryPatterns));break}else if(S.name.value==="alt"){let A=S.value;A.kind!=="ListValue"&&(A={kind:"ListValue",values:[A]}),p.push(this.util.createQuadPath(s.subject,o.name,A,y,s.graph,s.context)),_=!1;break}}if(u&&_&&p.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(s.subject,o.name,y,s.graph,s.context)])),o.arguments&&o.arguments.length){for(const S of o.arguments)if(!(S.name.value==="_"||S.name.value==="graph"||S.name.value==="alt"))if(S.name.value==="first"){if(S.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+S.value.kind);f=parseInt(S.value.value,10)}else if(S.name.value==="offset"){if(S.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+S.value.kind);d=parseInt(S.value.value,10)}else{const A=this.util.handleNodeValue(S.value,S.name.value,s);p.push(this.util.operationFactory.createBgp(A.terms.map(x=>this.util.createQuadPattern(y,S.name,x,s.graph,s.context)))),A.auxiliaryPatterns&&p.push(this.util.operationFactory.createBgp(A.auxiliaryPatterns))}}const b=this.getDirectiveOutputs(o.directives,h,s);if(!b)return this.util.operationFactory.createBgp([]);let w=this.util.joinOperations(p);if(o.selectionSet&&o.selectionSet.selections.length){if(v){if(v.length!==1)throw new Error(`Only single values can be set as id, but got ${v.length} at ${o.name.value}`);y=v[0]}const S=Object.assign(Object.assign(Object.assign({},s),c?{path:this.util.appendFieldToPath(s.path,h)}:{}),{graph:g,subject:c?y:s.subject});let A=!1;const x=o.selectionSet.selections.filter(I=>I.kind==="Field"&&I.name.value==="totalCount"?(A=!0,!1):!0);let M=this.util.joinOperations(p.concat(x.map(I=>this.util.handleNode(I,S))));if(A){const I=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),N=this.util.dataFactory.variable(y.value+this.settings.variableDelimiter+"totalCount"),F=this.util.operationFactory.createBoundAggregate(I,"count",this.util.operationFactory.createTermExpression(y),!1),D=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(w,[],[F]),N,this.util.operationFactory.createTermExpression(I)),[N]);s.terminalVariables.push(N),x.length?M=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(M,[]),D]):M=D}w=M}else u&&y.termType==="Variable"&&s.terminalVariables.push(y);return(d||f)&&(w=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(w,t.Util.inScopeVariables(w)),d,f)),this.handleDirectiveOutputs(b,w)}handleMetaField(s,o,u){if(o==="__typename"){const l=this.util.nameToVariable(o,s);return s.terminalVariables.push(l),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(s.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(o,s),s.graph)].concat(u||[]))}}};return gf.NodeHandlerSelectionAdapter=r,gf}var _f={},cM;function WSe(){if(cM)return _f;cM=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.NodeHandlerSelectionField=void 0;const t=Gw();let e=class extends t.NodeHandlerSelectionAdapter{constructor(r,a){super("Field",r,a)}handle(r,a){return this.fieldToOperation(a,r,!0)}};return _f.NodeHandlerSelectionField=e,_f}var bf={},lM;function KSe(){if(lM)return bf;lM=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.NodeHandlerSelectionFragmentSpread=void 0;const t=Gw();let e=class extends t.NodeHandlerSelectionAdapter{constructor(r,a){super("FragmentSpread",r,a)}handle(r,a){const s=a.fragmentDefinitions[r.name.value];if(!s)throw new Error("Undefined fragment definition: "+r.name.value);const o={alias:void 0,arguments:void 0,directives:s.directives,kind:"Field",name:r.name,selectionSet:s.selectionSet},u=[this.util.newTypePattern(a.subject,s.typeCondition,a)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(a,o,!1,u))}};return bf.NodeHandlerSelectionFragmentSpread=e,bf}var vf={},dM;function JSe(){if(dM)return vf;dM=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.NodeHandlerSelectionInlineFragment=void 0;const t=Gw();let e=class extends t.NodeHandlerSelectionAdapter{constructor(r,a){super("InlineFragment",r,a)}handle(r,a){const s={alias:void 0,arguments:void 0,directives:r.directives,kind:"Field",name:{kind:"Name",value:a.subject.value},selectionSet:r.selectionSet},o=r.typeCondition?[this.util.newTypePattern(a.subject,r.typeCondition,a)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(a,s,!1,o))}};return vf.NodeHandlerSelectionInlineFragment=e,vf}var fM;function kK(){return fM||(fM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(UK(),t),n(HSe(),t),n(zw(),t),n(iN(),t),n(QSe(),t),n(zSe(),t),n(GSe(),t),n(Gw(),t),n(WSe(),t),n(KSe(),t),n(JSe(),t)}(BT)),BT}var wf={},VK=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",wx=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function U1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U1=function(n){return typeof n}:U1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},U1(t)}var XSe=10,HK=2;function QK(t){return Ww(t,[])}function Ww(t,e){switch(U1(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":YSe(t,e);default:return String(t)}}function YSe(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var n=[].concat(e,[t]),r=t2e(t);if(r!==void 0){var a=r.call(t);if(a!==t)return typeof a=="string"?a:Ww(a,n)}else if(Array.isArray(t))return e2e(t,n);return ZSe(t,n)}function ZSe(t,e){var n=Object.keys(t);if(n.length===0)return"{}";if(e.length>HK)return"["+r2e(t)+"]";var r=n.map(function(a){var s=Ww(t[a],e);return a+": "+s});return"{ "+r.join(", ")+" }"}function e2e(t,e){if(t.length===0)return"[]";if(e.length>HK)return"[Array]";for(var n=Math.min(XSe,t.length),r=t.length-n,a=[],s=0;s<n;++s)a.push(Ww(t[s],e));return r===1?a.push("... 1 more item"):r>1&&a.push("... ".concat(r," more items")),"["+a.join(", ")+"]"}function t2e(t){var e=t[String(wx)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function r2e(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}function VT(t,e){var n=!!t;if(!n)throw new Error(e)}const n2e=function(e,n){return e instanceof n};function hM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i2e(t,e,n){return e&&hM(t.prototype,e),n&&hM(t,n),t}var aN=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||VT(0,"Body must be a string. Received: ".concat(QK(e),".")),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||VT(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||VT(0,"column in locationOffset is 1-indexed and must be positive.")}return i2e(t,[{key:VK,get:function(){return"Source"}}]),t}();function a2e(t){return n2e(t,aN)}function Av(t,e){for(var n=/\r\n|[\n\r]/g,r=1,a=e+1,s;(s=n.exec(t.body))&&s.index<e;)r+=1,a=e+1-(s.index+s[0].length);return{line:r,column:a}}function zK(t){return sN(t.source,Av(t.source,t.start))}function sN(t,e){var n=t.locationOffset.column-1,r=k1(n)+t.body,a=e.line-1,s=t.locationOffset.line-1,o=e.line+s,u=e.line===1?n:0,l=e.column+u,c="".concat(t.name,":").concat(o,":").concat(l,`
`),d=r.split(/\r\n|[\n\r]/g),f=d[a];if(f.length>120){for(var h=Math.floor(l/80),p=l%80,m=[],y=0;y<f.length;y+=80)m.push(f.slice(y,y+80));return c+pM([["".concat(o),m[0]]].concat(m.slice(1,h+1).map(function(g){return["",g]}),[[" ",k1(p-1)+"^"],["",m[h+1]]]))}return c+pM([["".concat(o-1),d[a-1]],["".concat(o),f],["",k1(l-1)+"^"],["".concat(o+1),d[a+1]]])}function pM(t){var e=t.filter(function(r){r[0];var a=r[1];return a!==void 0}),n=Math.max.apply(Math,e.map(function(r){var a=r[0];return a.length}));return e.map(function(r){var a=r[0],s=r[1];return s2e(n,a)+(s?" | "+s:" |")}).join(`
`)}function k1(t){return Array(t+1).join(" ")}function s2e(t,e){return k1(t-e.length)+e}var at=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),ze=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function V1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?V1=function(n){return typeof n}:V1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},V1(t)}function o2e(t){return V1(t)=="object"&&t!==null}function H1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H1=function(n){return typeof n}:H1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},H1(t)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function u2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){c2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c2e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d2e(t,e,n){return e&&mM(t.prototype,e),n&&mM(t,n),t}function f2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o_(t,e)}function h2e(t){var e=WK();return function(){var r=u_(t),a;if(e){var s=u_(this).constructor;a=Reflect.construct(r,arguments,s)}else a=r.apply(this,arguments);return GK(this,a)}}function GK(t,e){return e&&(H1(e)==="object"||typeof e=="function")?e:gg(t)}function gg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sx(t){var e=typeof Map=="function"?new Map:void 0;return Sx=function(r){if(r===null||!p2e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return Q1(r,arguments,u_(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o_(a,r)},Sx(t)}function Q1(t,e,n){return WK()?Q1=Reflect.construct:Q1=function(a,s,o){var u=[null];u.push.apply(u,s);var l=Function.bind.apply(a,u),c=new l;return o&&o_(c,o.prototype),c},Q1.apply(null,arguments)}function WK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function p2e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function o_(t,e){return o_=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},o_(t,e)}function u_(t){return u_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},u_(t)}var y2e=function(t){f2e(n,t);var e=h2e(n);function n(r,a,s,o,u,l,c){var d,f,h,p;l2e(this,n),p=e.call(this,r),p.name="GraphQLError",p.originalError=l??void 0,p.nodes=gM(Array.isArray(a)?a:a?[a]:void 0);for(var m=[],y=0,g=(_=p.nodes)!==null&&_!==void 0?_:[];y<g.length;y++){var _,v=g[y],b=v.loc;b!=null&&m.push(b)}m=gM(m),p.source=s??((d=m)===null||d===void 0?void 0:d[0].source),p.positions=o??((f=m)===null||f===void 0?void 0:f.map(function(S){return S.start})),p.locations=o&&s?o.map(function(S){return Av(s,S)}):(h=m)===null||h===void 0?void 0:h.map(function(S){return Av(S.source,S.start)}),p.path=u??void 0;var w=l==null?void 0:l.extensions;return c==null&&o2e(w)?p.extensions=u2e({},w):p.extensions=c??{},Object.defineProperties(gg(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(gg(p),"stack",{value:l.stack,writable:!0,configurable:!0}),GK(p)):(Error.captureStackTrace?Error.captureStackTrace(gg(p),n):Object.defineProperty(gg(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return d2e(n,[{key:"toString",value:function(){return m2e(this)}},{key:VK,get:function(){return"Object"}}]),n}(Sx(Error));function gM(t){return t===void 0||t.length===0?void 0:t}function m2e(t){var e=t.message;if(t.nodes)for(var n=0,r=t.nodes;n<r.length;n++){var a=r[n];a.loc&&(e+=`

`+zK(a.loc))}else if(t.source&&t.locations)for(var s=0,o=t.locations;s<o.length;s++){var u=o[s];e+=`

`+sN(t.source,u)}return e}function vi(t,e,n){return new y2e("Syntax Error: ".concat(n),void 0,t,[e])}function g2e(t,e){var n=!!t;if(!n)throw new Error(e??"Unexpected invariant triggered.")}function KK(t){var e=t.prototype.toJSON;typeof e=="function"||g2e(0),t.prototype.inspect=e,wx&&(t.prototype[wx]=e)}var oN=function(){function t(n,r,a){this.start=n.start,this.end=r.end,this.startToken=n,this.endToken=r,this.source=a}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();KK(oN);var Dr=function(){function t(n,r,a,s,o,u,l){this.kind=n,this.start=r,this.end=a,this.line=s,this.column=o,this.value=l,this.prev=u,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();KK(Dr);function _M(t){return t!=null&&typeof t.kind=="string"}function _2e(t){var e=t.split(/\r\n|[\n\r]/g),n=b2e(t);if(n!==0)for(var r=1;r<e.length;r++)e[r]=e[r].slice(n);for(var a=0;a<e.length&&bM(e[a]);)++a;for(var s=e.length;s>a&&bM(e[s-1]);)--s;return e.slice(a,s).join(`
`)}function bM(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function b2e(t){for(var e,n=!0,r=!0,a=0,s=null,o=0;o<t.length;++o)switch(t.charCodeAt(o)){case 13:t.charCodeAt(o+1)===10&&++o;case 10:n=!1,r=!0,a=0;break;case 9:case 32:++a;break;default:r&&!n&&(s===null||a<s)&&(s=a),r=!1}return(e=s)!==null&&e!==void 0?e:0}function v2e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.indexOf(`
`)===-1,a=t[0]===" "||t[0]==="	",s=t[t.length-1]==='"',o=t[t.length-1]==="\\",u=!r||s||o||n,l="";return u&&!(r&&a)&&(l+=`
`+e),l+=e?t.replace(/\n/g,`
`+e):t,u&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var JK=function(){function t(n){var r=new Dr(ze.SOF,0,0,0,0,null);this.source=n,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var r=this.token=this.lookahead();return r},e.lookahead=function(){var r=this.token;if(r.kind!==ze.EOF)do{var a;r=(a=r.next)!==null&&a!==void 0?a:r.next=S2e(this,r)}while(r.kind===ze.COMMENT);return r},t}();function w2e(t){return t===ze.BANG||t===ze.DOLLAR||t===ze.AMP||t===ze.PAREN_L||t===ze.PAREN_R||t===ze.SPREAD||t===ze.COLON||t===ze.EQUALS||t===ze.AT||t===ze.BRACKET_L||t===ze.BRACKET_R||t===ze.BRACE_L||t===ze.PIPE||t===ze.BRACE_R}function Qu(t){return isNaN(t)?ze.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function S2e(t,e){for(var n=t.source,r=n.body,a=r.length,s=e.end;s<a;){var o=r.charCodeAt(s),u=t.line,l=1+s-t.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:r.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 33:return new Dr(ze.BANG,s,s+1,u,l,e);case 35:return E2e(n,s,u,l,e);case 36:return new Dr(ze.DOLLAR,s,s+1,u,l,e);case 38:return new Dr(ze.AMP,s,s+1,u,l,e);case 40:return new Dr(ze.PAREN_L,s,s+1,u,l,e);case 41:return new Dr(ze.PAREN_R,s,s+1,u,l,e);case 46:if(r.charCodeAt(s+1)===46&&r.charCodeAt(s+2)===46)return new Dr(ze.SPREAD,s,s+3,u,l,e);break;case 58:return new Dr(ze.COLON,s,s+1,u,l,e);case 61:return new Dr(ze.EQUALS,s,s+1,u,l,e);case 64:return new Dr(ze.AT,s,s+1,u,l,e);case 91:return new Dr(ze.BRACKET_L,s,s+1,u,l,e);case 93:return new Dr(ze.BRACKET_R,s,s+1,u,l,e);case 123:return new Dr(ze.BRACE_L,s,s+1,u,l,e);case 124:return new Dr(ze.PIPE,s,s+1,u,l,e);case 125:return new Dr(ze.BRACE_R,s,s+1,u,l,e);case 34:return r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34?R2e(n,s,u,l,e,t):O2e(n,s,u,l,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return A2e(n,s,o,u,l,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return I2e(n,s,u,l,e)}throw vi(n,s,T2e(o))}var c=t.line,d=1+s-t.lineStart;return new Dr(ze.EOF,a,a,c,d,e)}function T2e(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(Qu(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Qu(t),".")}function E2e(t,e,n,r,a){var s=t.body,o,u=e;do o=s.charCodeAt(++u);while(!isNaN(o)&&(o>31||o===9));return new Dr(ze.COMMENT,e,u,n,r,a,s.slice(e+1,u))}function A2e(t,e,n,r,a,s){var o=t.body,u=n,l=e,c=!1;if(u===45&&(u=o.charCodeAt(++l)),u===48){if(u=o.charCodeAt(++l),u>=48&&u<=57)throw vi(t,l,"Invalid number, unexpected digit after 0: ".concat(Qu(u),"."))}else l=HT(t,l,u),u=o.charCodeAt(l);if(u===46&&(c=!0,u=o.charCodeAt(++l),l=HT(t,l,u),u=o.charCodeAt(l)),(u===69||u===101)&&(c=!0,u=o.charCodeAt(++l),(u===43||u===45)&&(u=o.charCodeAt(++l)),l=HT(t,l,u),u=o.charCodeAt(l)),u===46||P2e(u))throw vi(t,l,"Invalid number, expected digit but got: ".concat(Qu(u),"."));return new Dr(c?ze.FLOAT:ze.INT,e,l,r,a,s,o.slice(e,l))}function HT(t,e,n){var r=t.body,a=e,s=n;if(s>=48&&s<=57){do s=r.charCodeAt(++a);while(s>=48&&s<=57);return a}throw vi(t,a,"Invalid number, expected digit but got: ".concat(Qu(s),"."))}function O2e(t,e,n,r,a){for(var s=t.body,o=e+1,u=o,l=0,c="";o<s.length&&!isNaN(l=s.charCodeAt(o))&&l!==10&&l!==13;){if(l===34)return c+=s.slice(u,o),new Dr(ze.STRING,e,o+1,n,r,a,c);if(l<32&&l!==9)throw vi(t,o,"Invalid character within String: ".concat(Qu(l),"."));if(++o,l===92){switch(c+=s.slice(u,o-1),l=s.charCodeAt(o),l){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+=`
`;break;case 114:c+="\r";break;case 116:c+="	";break;case 117:{var d=x2e(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(d<0){var f=s.slice(o+1,o+5);throw vi(t,o,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(d),o+=4;break}default:throw vi(t,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++o,u=o}}throw vi(t,o,"Unterminated string.")}function R2e(t,e,n,r,a,s){for(var o=t.body,u=e+3,l=u,c=0,d="";u<o.length&&!isNaN(c=o.charCodeAt(u));){if(c===34&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34)return d+=o.slice(l,u),new Dr(ze.BLOCK_STRING,e,u+3,n,r,a,_2e(d));if(c<32&&c!==9&&c!==10&&c!==13)throw vi(t,u,"Invalid character within String: ".concat(Qu(c),"."));c===10?(++u,++s.line,s.lineStart=u):c===13?(o.charCodeAt(u+1)===10?u+=2:++u,++s.line,s.lineStart=u):c===92&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34&&o.charCodeAt(u+3)===34?(d+=o.slice(l,u)+'"""',u+=4,l=u):++u}throw vi(t,u,"Unterminated string.")}function x2e(t,e,n,r){return Zb(t)<<12|Zb(e)<<8|Zb(n)<<4|Zb(r)}function Zb(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function I2e(t,e,n,r,a){for(var s=t.body,o=s.length,u=e+1,l=0;u!==o&&!isNaN(l=s.charCodeAt(u))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++u;return new Dr(ze.NAME,e,u,n,r,a,s.slice(e,u))}function P2e(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}var XK=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function N2e(t,e){var n=new uN(t,e);return n.parseDocument()}function D2e(t,e){var n=new uN(t,e);n.expectToken(ze.SOF);var r=n.parseValueLiteral(!1);return n.expectToken(ze.EOF),r}function C2e(t,e){var n=new uN(t,e);n.expectToken(ze.SOF);var r=n.parseTypeReference();return n.expectToken(ze.EOF),r}var uN=function(){function t(n,r){var a=a2e(n)?n:new aN(n);this._lexer=new JK(a),this._options=r}var e=t.prototype;return e.parseName=function(){var r=this.expectToken(ze.NAME);return{kind:at.NAME,value:r.value,loc:this.loc(r)}},e.parseDocument=function(){var r=this._lexer.token;return{kind:at.DOCUMENT,definitions:this.many(ze.SOF,this.parseDefinition,ze.EOF),loc:this.loc(r)}},e.parseDefinition=function(){if(this.peek(ze.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(ze.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var r=this._lexer.token;if(this.peek(ze.BRACE_L))return{kind:at.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(r)};var a=this.parseOperationType(),s;return this.peek(ze.NAME)&&(s=this.parseName()),{kind:at.OPERATION_DEFINITION,operation:a,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseOperationType=function(){var r=this.expectToken(ze.NAME);switch(r.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(r)},e.parseVariableDefinitions=function(){return this.optionalMany(ze.PAREN_L,this.parseVariableDefinition,ze.PAREN_R)},e.parseVariableDefinition=function(){var r=this._lexer.token;return{kind:at.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ze.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ze.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(r)}},e.parseVariable=function(){var r=this._lexer.token;return this.expectToken(ze.DOLLAR),{kind:at.VARIABLE,name:this.parseName(),loc:this.loc(r)}},e.parseSelectionSet=function(){var r=this._lexer.token;return{kind:at.SELECTION_SET,selections:this.many(ze.BRACE_L,this.parseSelection,ze.BRACE_R),loc:this.loc(r)}},e.parseSelection=function(){return this.peek(ze.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var r=this._lexer.token,a=this.parseName(),s,o;return this.expectOptionalToken(ze.COLON)?(s=a,o=this.parseName()):o=a,{kind:at.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ze.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},e.parseArguments=function(r){var a=r?this.parseConstArgument:this.parseArgument;return this.optionalMany(ze.PAREN_L,a,ze.PAREN_R)},e.parseArgument=function(){var r=this._lexer.token,a=this.parseName();return this.expectToken(ze.COLON),{kind:at.ARGUMENT,name:a,value:this.parseValueLiteral(!1),loc:this.loc(r)}},e.parseConstArgument=function(){var r=this._lexer.token;return{kind:at.ARGUMENT,name:this.parseName(),value:(this.expectToken(ze.COLON),this.parseValueLiteral(!0)),loc:this.loc(r)}},e.parseFragment=function(){var r=this._lexer.token;this.expectToken(ze.SPREAD);var a=this.expectOptionalKeyword("on");return!a&&this.peek(ze.NAME)?{kind:at.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(r)}:{kind:at.INLINE_FRAGMENT,typeCondition:a?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},e.parseFragmentDefinition=function(){var r,a=this._lexer.token;return this.expectKeyword("fragment"),((r=this._options)===null||r===void 0?void 0:r.experimentalFragmentVariables)===!0?{kind:at.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}:{kind:at.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(r){var a=this._lexer.token;switch(a.kind){case ze.BRACKET_L:return this.parseList(r);case ze.BRACE_L:return this.parseObject(r);case ze.INT:return this._lexer.advance(),{kind:at.INT,value:a.value,loc:this.loc(a)};case ze.FLOAT:return this._lexer.advance(),{kind:at.FLOAT,value:a.value,loc:this.loc(a)};case ze.STRING:case ze.BLOCK_STRING:return this.parseStringLiteral();case ze.NAME:switch(this._lexer.advance(),a.value){case"true":return{kind:at.BOOLEAN,value:!0,loc:this.loc(a)};case"false":return{kind:at.BOOLEAN,value:!1,loc:this.loc(a)};case"null":return{kind:at.NULL,loc:this.loc(a)};default:return{kind:at.ENUM,value:a.value,loc:this.loc(a)}}case ze.DOLLAR:if(!r)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var r=this._lexer.token;return this._lexer.advance(),{kind:at.STRING,value:r.value,block:r.kind===ze.BLOCK_STRING,loc:this.loc(r)}},e.parseList=function(r){var a=this,s=this._lexer.token,o=function(){return a.parseValueLiteral(r)};return{kind:at.LIST,values:this.any(ze.BRACKET_L,o,ze.BRACKET_R),loc:this.loc(s)}},e.parseObject=function(r){var a=this,s=this._lexer.token,o=function(){return a.parseObjectField(r)};return{kind:at.OBJECT,fields:this.any(ze.BRACE_L,o,ze.BRACE_R),loc:this.loc(s)}},e.parseObjectField=function(r){var a=this._lexer.token,s=this.parseName();return this.expectToken(ze.COLON),{kind:at.OBJECT_FIELD,name:s,value:this.parseValueLiteral(r),loc:this.loc(a)}},e.parseDirectives=function(r){for(var a=[];this.peek(ze.AT);)a.push(this.parseDirective(r));return a},e.parseDirective=function(r){var a=this._lexer.token;return this.expectToken(ze.AT),{kind:at.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(r),loc:this.loc(a)}},e.parseTypeReference=function(){var r=this._lexer.token,a;return this.expectOptionalToken(ze.BRACKET_L)?(a=this.parseTypeReference(),this.expectToken(ze.BRACKET_R),a={kind:at.LIST_TYPE,type:a,loc:this.loc(r)}):a=this.parseNamedType(),this.expectOptionalToken(ze.BANG)?{kind:at.NON_NULL_TYPE,type:a,loc:this.loc(r)}:a},e.parseNamedType=function(){var r=this._lexer.token;return{kind:at.NAMED_TYPE,name:this.parseName(),loc:this.loc(r)}},e.parseTypeSystemDefinition=function(){var r=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(r.kind===ze.NAME)switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(r)},e.peekDescription=function(){return this.peek(ze.STRING)||this.peek(ze.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var r=this._lexer.token,a=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(ze.BRACE_L,this.parseOperationTypeDefinition,ze.BRACE_R);return{kind:at.SCHEMA_DEFINITION,description:a,directives:s,operationTypes:o,loc:this.loc(r)}},e.parseOperationTypeDefinition=function(){var r=this._lexer.token,a=this.parseOperationType();this.expectToken(ze.COLON);var s=this.parseNamedType();return{kind:at.OPERATION_TYPE_DEFINITION,operation:a,type:s,loc:this.loc(r)}},e.parseScalarTypeDefinition=function(){var r=this._lexer.token,a=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:at.SCALAR_TYPE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(r)}},e.parseObjectTypeDefinition=function(){var r=this._lexer.token,a=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:at.OBJECT_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:l,loc:this.loc(r)}},e.parseImplementsInterfaces=function(){var r;if(!this.expectOptionalKeyword("implements"))return[];if(((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLImplementsInterfaces)===!0){var a=[];this.expectOptionalToken(ze.AMP);do a.push(this.parseNamedType());while(this.expectOptionalToken(ze.AMP)||this.peek(ze.NAME));return a}return this.delimitedMany(ze.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var r;return((r=this._options)===null||r===void 0?void 0:r.allowLegacySDLEmptyFields)===!0&&this.peek(ze.BRACE_L)&&this._lexer.lookahead().kind===ze.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(ze.BRACE_L,this.parseFieldDefinition,ze.BRACE_R)},e.parseFieldDefinition=function(){var r=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(ze.COLON);var u=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:at.FIELD_DEFINITION,description:a,name:s,arguments:o,type:u,directives:l,loc:this.loc(r)}},e.parseArgumentDefs=function(){return this.optionalMany(ze.PAREN_L,this.parseInputValueDef,ze.PAREN_R)},e.parseInputValueDef=function(){var r=this._lexer.token,a=this.parseDescription(),s=this.parseName();this.expectToken(ze.COLON);var o=this.parseTypeReference(),u;this.expectOptionalToken(ze.EQUALS)&&(u=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:at.INPUT_VALUE_DEFINITION,description:a,name:s,type:o,defaultValue:u,directives:l,loc:this.loc(r)}},e.parseInterfaceTypeDefinition=function(){var r=this._lexer.token,a=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:at.INTERFACE_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:l,loc:this.loc(r)}},e.parseUnionTypeDefinition=function(){var r=this._lexer.token,a=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseUnionMemberTypes();return{kind:at.UNION_TYPE_DEFINITION,description:a,name:s,directives:o,types:u,loc:this.loc(r)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(ze.EQUALS)?this.delimitedMany(ze.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var r=this._lexer.token,a=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseEnumValuesDefinition();return{kind:at.ENUM_TYPE_DEFINITION,description:a,name:s,directives:o,values:u,loc:this.loc(r)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(ze.BRACE_L,this.parseEnumValueDefinition,ze.BRACE_R)},e.parseEnumValueDefinition=function(){var r=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:at.ENUM_VALUE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(r)}},e.parseInputObjectTypeDefinition=function(){var r=this._lexer.token,a=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseInputFieldsDefinition();return{kind:at.INPUT_OBJECT_TYPE_DEFINITION,description:a,name:s,directives:o,fields:u,loc:this.loc(r)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(ze.BRACE_L,this.parseInputValueDef,ze.BRACE_R)},e.parseTypeSystemExtension=function(){var r=this._lexer.lookahead();if(r.kind===ze.NAME)switch(r.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(r)},e.parseSchemaExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.optionalMany(ze.BRACE_L,this.parseOperationTypeDefinition,ze.BRACE_R);if(a.length===0&&s.length===0)throw this.unexpected();return{kind:at.SCHEMA_EXTENSION,directives:a,operationTypes:s,loc:this.loc(r)}},e.parseScalarTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:at.SCALAR_TYPE_EXTENSION,name:a,directives:s,loc:this.loc(r)}},e.parseObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:at.OBJECT_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(r)}},e.parseInterfaceTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:at.INTERFACE_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(r)}},e.parseUnionTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:at.UNION_TYPE_EXTENSION,name:a,directives:s,types:o,loc:this.loc(r)}},e.parseEnumTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:at.ENUM_TYPE_EXTENSION,name:a,directives:s,values:o,loc:this.loc(r)}},e.parseInputObjectTypeExtension=function(){var r=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:at.INPUT_OBJECT_TYPE_EXTENSION,name:a,directives:s,fields:o,loc:this.loc(r)}},e.parseDirectiveDefinition=function(){var r=this._lexer.token,a=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ze.AT);var s=this.parseName(),o=this.parseArgumentDefs(),u=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:at.DIRECTIVE_DEFINITION,description:a,name:s,arguments:o,repeatable:u,locations:l,loc:this.loc(r)}},e.parseDirectiveLocations=function(){return this.delimitedMany(ze.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var r=this._lexer.token,a=this.parseName();if(XK[a.value]!==void 0)return a;throw this.unexpected(r)},e.loc=function(r){var a;if(((a=this._options)===null||a===void 0?void 0:a.noLocation)!==!0)return new oN(r,this._lexer.lastToken,this._lexer.source)},e.peek=function(r){return this._lexer.token.kind===r},e.expectToken=function(r){var a=this._lexer.token;if(a.kind===r)return this._lexer.advance(),a;throw vi(this._lexer.source,a.start,"Expected ".concat(YK(r),", found ").concat(QT(a),"."))},e.expectOptionalToken=function(r){var a=this._lexer.token;if(a.kind===r)return this._lexer.advance(),a},e.expectKeyword=function(r){var a=this._lexer.token;if(a.kind===ze.NAME&&a.value===r)this._lexer.advance();else throw vi(this._lexer.source,a.start,'Expected "'.concat(r,'", found ').concat(QT(a),"."))},e.expectOptionalKeyword=function(r){var a=this._lexer.token;return a.kind===ze.NAME&&a.value===r?(this._lexer.advance(),!0):!1},e.unexpected=function(r){var a=r??this._lexer.token;return vi(this._lexer.source,a.start,"Unexpected ".concat(QT(a),"."))},e.any=function(r,a,s){this.expectToken(r);for(var o=[];!this.expectOptionalToken(s);)o.push(a.call(this));return o},e.optionalMany=function(r,a,s){if(this.expectOptionalToken(r)){var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o}return[]},e.many=function(r,a,s){this.expectToken(r);var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o},e.delimitedMany=function(r,a){this.expectOptionalToken(r);var s=[];do s.push(a.call(this));while(this.expectOptionalToken(r));return s},t}();function QT(t){var e=t.value;return YK(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function YK(t){return w2e(t)?'"'.concat(t,'"'):t}var L2e={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},qc=Object.freeze({});function ZK(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L2e,r=void 0,a=Array.isArray(t),s=[t],o=-1,u=[],l=void 0,c=void 0,d=void 0,f=[],h=[],p=t;do{o++;var m=o===s.length,y=m&&u.length!==0;if(m){if(c=h.length===0?void 0:f[f.length-1],l=d,d=h.pop(),y){if(a)l=l.slice();else{for(var g={},_=0,v=Object.keys(l);_<v.length;_++){var b=v[_];g[b]=l[b]}l=g}for(var w=0,S=0;S<u.length;S++){var A=u[S][0],x=u[S][1];a&&(A-=w),a&&x===null?(l.splice(A,1),w++):l[A]=x}}o=r.index,s=r.keys,u=r.edits,a=r.inArray,r=r.prev}else{if(c=d?a?o:s[o]:void 0,l=d?d[c]:p,l==null)continue;d&&f.push(c)}var M=void 0;if(!Array.isArray(l)){if(!_M(l))throw new Error("Invalid AST Node: ".concat(QK(l),"."));var I=Ov(e,l.kind,m);if(I){if(M=I.call(e,l,c,d,f,h),M===qc)break;if(M===!1){if(!m){f.pop();continue}}else if(M!==void 0&&(u.push([c,M]),!m))if(_M(M))l=M;else{f.pop();continue}}}if(M===void 0&&y&&u.push([c,l]),m)f.pop();else{var N;r={inArray:a,index:o,keys:s,edits:u,prev:r},a=Array.isArray(l),s=a?l:(N=n[l.kind])!==null&&N!==void 0?N:[],o=-1,u=[],d&&h.push(d),d=l}}while(r!==void 0);return u.length!==0&&(p=u[u.length-1][1]),p}function j2e(t){var e=new Array(t.length);return{enter:function(r){for(var a=0;a<t.length;a++)if(e[a]==null){var s=Ov(t[a],r.kind,!1);if(s){var o=s.apply(t[a],arguments);if(o===!1)e[a]=r;else if(o===qc)e[a]=qc;else if(o!==void 0)return o}}},leave:function(r){for(var a=0;a<t.length;a++)if(e[a]==null){var s=Ov(t[a],r.kind,!0);if(s){var o=s.apply(t[a],arguments);if(o===qc)e[a]=qc;else if(o!==void 0&&o!==!1)return o}}else e[a]===r&&(e[a]=null)}}}function Ov(t,e,n){var r=t[e];if(r){if(!n&&typeof r=="function")return r;var a=n?r.leave:r.enter;if(typeof a=="function")return a}else{var s=n?t.leave:t.enter;if(s){if(typeof s=="function")return s;var o=s[e];if(typeof o=="function")return o}}}function M2e(t){return ZK(t,{leave:q2e})}var F2e=80,q2e={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return pt(e.definitions,`

`)+`
`},OperationDefinition:function(e){var n=e.operation,r=e.name,a=Nr("(",pt(e.variableDefinitions,", "),")"),s=pt(e.directives," "),o=e.selectionSet;return!r&&!s&&!a&&n==="query"?o:pt([n,pt([r,a]),s,o]," ")},VariableDefinition:function(e){var n=e.variable,r=e.type,a=e.defaultValue,s=e.directives;return n+": "+r+Nr(" = ",a)+Nr(" ",pt(s," "))},SelectionSet:function(e){var n=e.selections;return Xi(n)},Field:function(e){var n=e.alias,r=e.name,a=e.arguments,s=e.directives,o=e.selectionSet,u=Nr("",n,": ")+r,l=u+Nr("(",pt(a,", "),")");return l.length>F2e&&(l=u+Nr(`(
`,z1(pt(a,`
`)),`
)`)),pt([l,pt(s," "),o]," ")},Argument:function(e){var n=e.name,r=e.value;return n+": "+r},FragmentSpread:function(e){var n=e.name,r=e.directives;return"..."+n+Nr(" ",pt(r," "))},InlineFragment:function(e){var n=e.typeCondition,r=e.directives,a=e.selectionSet;return pt(["...",Nr("on ",n),pt(r," "),a]," ")},FragmentDefinition:function(e){var n=e.name,r=e.typeCondition,a=e.variableDefinitions,s=e.directives,o=e.selectionSet;return"fragment ".concat(n).concat(Nr("(",pt(a,", "),")")," ")+"on ".concat(r," ").concat(Nr("",pt(s," ")," "))+o},IntValue:function(e){var n=e.value;return n},FloatValue:function(e){var n=e.value;return n},StringValue:function(e,n){var r=e.value,a=e.block;return a?v2e(r,n==="description"?"":"  "):JSON.stringify(r)},BooleanValue:function(e){var n=e.value;return n?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var n=e.value;return n},ListValue:function(e){var n=e.values;return"["+pt(n,", ")+"]"},ObjectValue:function(e){var n=e.fields;return"{"+pt(n,", ")+"}"},ObjectField:function(e){var n=e.name,r=e.value;return n+": "+r},Directive:function(e){var n=e.name,r=e.arguments;return"@"+n+Nr("(",pt(r,", "),")")},NamedType:function(e){var n=e.name;return n},ListType:function(e){var n=e.type;return"["+n+"]"},NonNullType:function(e){var n=e.type;return n+"!"},SchemaDefinition:Ji(function(t){var e=t.directives,n=t.operationTypes;return pt(["schema",pt(e," "),Xi(n)]," ")}),OperationTypeDefinition:function(e){var n=e.operation,r=e.type;return n+": "+r},ScalarTypeDefinition:Ji(function(t){var e=t.name,n=t.directives;return pt(["scalar",e,pt(n," ")]," ")}),ObjectTypeDefinition:Ji(function(t){var e=t.name,n=t.interfaces,r=t.directives,a=t.fields;return pt(["type",e,Nr("implements ",pt(n," & ")),pt(r," "),Xi(a)]," ")}),FieldDefinition:Ji(function(t){var e=t.name,n=t.arguments,r=t.type,a=t.directives;return e+(vM(n)?Nr(`(
`,z1(pt(n,`
`)),`
)`):Nr("(",pt(n,", "),")"))+": "+r+Nr(" ",pt(a," "))}),InputValueDefinition:Ji(function(t){var e=t.name,n=t.type,r=t.defaultValue,a=t.directives;return pt([e+": "+n,Nr("= ",r),pt(a," ")]," ")}),InterfaceTypeDefinition:Ji(function(t){var e=t.name,n=t.interfaces,r=t.directives,a=t.fields;return pt(["interface",e,Nr("implements ",pt(n," & ")),pt(r," "),Xi(a)]," ")}),UnionTypeDefinition:Ji(function(t){var e=t.name,n=t.directives,r=t.types;return pt(["union",e,pt(n," "),r&&r.length!==0?"= "+pt(r," | "):""]," ")}),EnumTypeDefinition:Ji(function(t){var e=t.name,n=t.directives,r=t.values;return pt(["enum",e,pt(n," "),Xi(r)]," ")}),EnumValueDefinition:Ji(function(t){var e=t.name,n=t.directives;return pt([e,pt(n," ")]," ")}),InputObjectTypeDefinition:Ji(function(t){var e=t.name,n=t.directives,r=t.fields;return pt(["input",e,pt(n," "),Xi(r)]," ")}),DirectiveDefinition:Ji(function(t){var e=t.name,n=t.arguments,r=t.repeatable,a=t.locations;return"directive @"+e+(vM(n)?Nr(`(
`,z1(pt(n,`
`)),`
)`):Nr("(",pt(n,", "),")"))+(r?" repeatable":"")+" on "+pt(a," | ")}),SchemaExtension:function(e){var n=e.directives,r=e.operationTypes;return pt(["extend schema",pt(n," "),Xi(r)]," ")},ScalarTypeExtension:function(e){var n=e.name,r=e.directives;return pt(["extend scalar",n,pt(r," ")]," ")},ObjectTypeExtension:function(e){var n=e.name,r=e.interfaces,a=e.directives,s=e.fields;return pt(["extend type",n,Nr("implements ",pt(r," & ")),pt(a," "),Xi(s)]," ")},InterfaceTypeExtension:function(e){var n=e.name,r=e.interfaces,a=e.directives,s=e.fields;return pt(["extend interface",n,Nr("implements ",pt(r," & ")),pt(a," "),Xi(s)]," ")},UnionTypeExtension:function(e){var n=e.name,r=e.directives,a=e.types;return pt(["extend union",n,pt(r," "),a&&a.length!==0?"= "+pt(a," | "):""]," ")},EnumTypeExtension:function(e){var n=e.name,r=e.directives,a=e.values;return pt(["extend enum",n,pt(r," "),Xi(a)]," ")},InputObjectTypeExtension:function(e){var n=e.name,r=e.directives,a=e.fields;return pt(["extend input",n,pt(r," "),Xi(a)]," ")}};function Ji(t){return function(e){return pt([e.description,t(e)],`
`)}}function pt(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(r){return r}).join(n))!==null&&e!==void 0?e:""}function Xi(t){return Nr(`{
`,z1(pt(t,`
`)),`
}`)}function Nr(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+n:""}function z1(t){return Nr("  ",t.replace(/\n/g,`
  `))}function B2e(t){return t.indexOf(`
`)!==-1}function vM(t){return t!=null&&t.some(B2e)}function $2e(t){return eJ(t)||tJ(t)||nJ(t)}function eJ(t){return t.kind===at.OPERATION_DEFINITION||t.kind===at.FRAGMENT_DEFINITION}function U2e(t){return t.kind===at.FIELD||t.kind===at.FRAGMENT_SPREAD||t.kind===at.INLINE_FRAGMENT}function k2e(t){return t.kind===at.VARIABLE||t.kind===at.INT||t.kind===at.FLOAT||t.kind===at.STRING||t.kind===at.BOOLEAN||t.kind===at.NULL||t.kind===at.ENUM||t.kind===at.LIST||t.kind===at.OBJECT}function V2e(t){return t.kind===at.NAMED_TYPE||t.kind===at.LIST_TYPE||t.kind===at.NON_NULL_TYPE}function tJ(t){return t.kind===at.SCHEMA_DEFINITION||rJ(t)||t.kind===at.DIRECTIVE_DEFINITION}function rJ(t){return t.kind===at.SCALAR_TYPE_DEFINITION||t.kind===at.OBJECT_TYPE_DEFINITION||t.kind===at.INTERFACE_TYPE_DEFINITION||t.kind===at.UNION_TYPE_DEFINITION||t.kind===at.ENUM_TYPE_DEFINITION||t.kind===at.INPUT_OBJECT_TYPE_DEFINITION}function nJ(t){return t.kind===at.SCHEMA_EXTENSION||iJ(t)}function iJ(t){return t.kind===at.SCALAR_TYPE_EXTENSION||t.kind===at.OBJECT_TYPE_EXTENSION||t.kind===at.INTERFACE_TYPE_EXTENSION||t.kind===at.UNION_TYPE_EXTENSION||t.kind===at.ENUM_TYPE_EXTENSION||t.kind===at.INPUT_OBJECT_TYPE_EXTENSION}const H2e=Object.freeze(Object.defineProperty({__proto__:null,BREAK:qc,DirectiveLocation:XK,Kind:at,Lexer:JK,Location:oN,Source:aN,Token:Dr,TokenKind:ze,getLocation:Av,getVisitFn:Ov,isDefinitionNode:$2e,isExecutableDefinitionNode:eJ,isSelectionNode:U2e,isTypeDefinitionNode:rJ,isTypeExtensionNode:iJ,isTypeNode:V2e,isTypeSystemDefinitionNode:tJ,isTypeSystemExtensionNode:nJ,isValueNode:k2e,parse:N2e,parseType:C2e,parseValue:D2e,print:M2e,printLocation:zK,printSourceLocation:sN,visit:ZK,visitInParallel:j2e},Symbol.toStringTag,{value:"Module"})),Q2e=CI(H2e);var Sf={},zT={},Tf={},wM={},SM;function cN(){return SM||(SM=1,function(){(function(t){(function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function r(I){return I&&DataView.prototype.isPrototypeOf(I)}if(n.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(I){return I&&a.indexOf(Object.prototype.toString.call(I))>-1};function o(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function u(I){return typeof I!="string"&&(I=String(I)),I}function l(I){var N={next:function(){var F=I.shift();return{done:F===void 0,value:F}}};return n.iterable&&(N[Symbol.iterator]=function(){return N}),N}function c(I){this.map={},I instanceof c?I.forEach(function(N,F){this.append(F,N)},this):Array.isArray(I)?I.forEach(function(N){this.append(N[0],N[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(N){this.append(N,I[N])},this)}c.prototype.append=function(I,N){I=o(I),N=u(N);var F=this.map[I];this.map[I]=F?F+", "+N:N},c.prototype.delete=function(I){delete this.map[o(I)]},c.prototype.get=function(I){return I=o(I),this.has(I)?this.map[I]:null},c.prototype.has=function(I){return this.map.hasOwnProperty(o(I))},c.prototype.set=function(I,N){this.map[o(I)]=u(N)},c.prototype.forEach=function(I,N){for(var F in this.map)this.map.hasOwnProperty(F)&&I.call(N,this.map[F],F,this)},c.prototype.keys=function(){var I=[];return this.forEach(function(N,F){I.push(F)}),l(I)},c.prototype.values=function(){var I=[];return this.forEach(function(N){I.push(N)}),l(I)},c.prototype.entries=function(){var I=[];return this.forEach(function(N,F){I.push([F,N])}),l(I)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function d(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function f(I){return new Promise(function(N,F){I.onload=function(){N(I.result)},I.onerror=function(){F(I.error)}})}function h(I){var N=new FileReader,F=f(N);return N.readAsArrayBuffer(I),F}function p(I){var N=new FileReader,F=f(N);return N.readAsText(I),F}function m(I){for(var N=new Uint8Array(I),F=new Array(N.length),D=0;D<N.length;D++)F[D]=String.fromCharCode(N[D]);return F.join("")}function y(I){if(I.slice)return I.slice(0);var N=new Uint8Array(I.byteLength);return N.set(new Uint8Array(I)),N.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(I){this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:n.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:n.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():n.arrayBuffer&&n.blob&&r(I)?(this._bodyArrayBuffer=y(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||s(I))?this._bodyArrayBuffer=y(I):this._bodyText=I=Object.prototype.toString.call(I):this._bodyText="",this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var I=d(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var I=d(this);if(I)return I;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(I){var N=I.toUpperCase();return _.indexOf(N)>-1?N:I}function b(I,N){N=N||{};var F=N.body;if(I instanceof b){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,N.headers||(this.headers=new c(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!F&&I._bodyInit!=null&&(F=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new c(N.headers)),this.method=v(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(F)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})};function w(I){var N=new FormData;return I.trim().split("&").forEach(function(F){if(F){var D=F.split("="),V=D.shift().replace(/\+/g," "),k=D.join("=").replace(/\+/g," ");N.append(decodeURIComponent(V),decodeURIComponent(k))}}),N}function S(I){var N=new c,F=I.replace(/\r?\n[\t ]+/g," ");return F.split(/\r?\n/).forEach(function(D){var V=D.split(":"),k=V.shift().trim();if(k){var U=V.join(":").trim();N.append(k,U)}}),N}g.call(b.prototype);function A(I,N){N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in N?N.statusText:"OK",this.headers=new c(N.headers),this.url=N.url||"",this._initBody(I)}g.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},A.error=function(){var I=new A(null,{status:0,statusText:""});return I.type="error",I};var x=[301,302,303,307,308];A.redirect=function(I,N){if(x.indexOf(N)===-1)throw new RangeError("Invalid status code");return new A(null,{status:N,headers:{location:I}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(N,F){this.message=N,this.name=F;var D=Error(N);this.stack=D.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(I,N){return new Promise(function(F,D){var V=new b(I,N);if(V.signal&&V.signal.aborted)return D(new e.DOMException("Aborted","AbortError"));var k=new XMLHttpRequest;function U(){k.abort()}k.onload=function(){var H={status:k.status,statusText:k.statusText,headers:S(k.getAllResponseHeaders()||"")};H.url="responseURL"in k?k.responseURL:H.headers.get("X-Request-URL");var X="response"in k?k.response:k.responseText;F(new A(X,H))},k.onerror=function(){D(new TypeError("Network request failed"))},k.ontimeout=function(){D(new TypeError("Network request failed"))},k.onabort=function(){D(new e.DOMException("Aborted","AbortError"))},k.open(V.method,V.url,!0),V.credentials==="include"?k.withCredentials=!0:V.credentials==="omit"&&(k.withCredentials=!1),"responseType"in k&&n.blob&&(k.responseType="blob"),V.headers.forEach(function(H,X){k.setRequestHeader(X,H)}),V.signal&&(V.signal.addEventListener("abort",U),k.onreadystatechange=function(){k.readyState===4&&V.signal.removeEventListener("abort",U)}),k.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return M.polyfill=!0,t.fetch||(t.fetch=M,t.Headers=c,t.Request=b,t.Response=A),e.Headers=c,e.Request=b,e.Response=A,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:P)}()),wM}var GT={},as={},TM;function z2e(){if(TM)return as;TM=1,Object.defineProperty(as,"__esModule",{value:!0}),as.removeDotSegmentsOfPath=as.removeDotSegments=as.resolve=void 0;function t(a,s){s=s||"";const o=s.indexOf("#");if(o>0&&(s=s.substr(0,o)),!a.length){if(s.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${s}' for value '${a}'`);return s}if(a.startsWith("?")){const p=s.indexOf("?");return p>0&&(s=s.substr(0,p)),s+a}if(a.startsWith("#"))return s+a;if(!s.length){const p=a.indexOf(":");if(p<0)throw new Error(`Found invalid relative IRI '${a}' for a missing baseIRI`);return n(a,p)}const u=a.indexOf(":");if(u>=0)return n(a,u);const l=s.indexOf(":");if(l<0)throw new Error(`Found invalid baseIRI '${s}' for value '${a}'`);const c=s.substr(0,l+1);if(a.indexOf("//")===0)return c+n(a,u);let d;if(s.indexOf("//",l)===l+1){if(d=s.indexOf("/",l+3),d<0)return s.length>l+3?s+"/"+n(a,u):c+n(a,u)}else if(d=s.indexOf("/",l+1),d<0)return c+n(a,u);if(a.indexOf("/")===0)return s.substr(0,d)+e(a);let f=s.substr(d);const h=f.lastIndexOf("/");return h>=0&&h<f.length-1&&(f=f.substr(0,h+1),a[0]==="."&&a[1]!=="."&&a[1]!=="/"&&a[2]&&(a=a.substr(1))),a=f+a,a=e(a),s.substr(0,d)+a}as.resolve=t;function e(a){const s=[];let o=0;for(;o<a.length;)switch(a[o]){case"/":if(a[o+1]===".")if(a[o+2]==="."){if(!r(a[o+3])){s.push([]),o++;break}s.pop(),a[o+3]||s.push([]),o+=3}else{if(!r(a[o+2])){s.push([]),o++;break}a[o+2]||s.push([]),o+=2}else s.push([]),o++;break;case"#":case"?":s.length||s.push([]),s[s.length-1].push(a.substr(o)),o=a.length;break;default:s.length||s.push([]),s[s.length-1].push(a[o]),o++;break}return"/"+s.map(u=>u.join("")).join("/")}as.removeDotSegments=e;function n(a,s){let o=s+1;s>=0?a[s+1]==="/"&&a[s+2]==="/"&&(o=s+3):a[0]==="/"&&a[1]==="/"&&(o=2);const u=a.indexOf("/",o);if(u<0)return a;const l=a.substr(0,u),c=a.substr(u);return l+e(c)}as.removeDotSegmentsOfPath=n;function r(a){return!a||a==="#"||a==="?"||a==="/"}return as}var EM;function la(){return EM||(EM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(z2e(),t)}(GT)),GT}var WT={},AM;function nb(){return AM||(AM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class e extends Error{constructor(r,a){super(r),this.code=a}}t.ErrorCoded=e,function(n){n.COLLIDING_KEYWORDS="colliding keywords",n.CONFLICTING_INDEXES="conflicting indexes",n.CYCLIC_IRI_MAPPING="cyclic IRI mapping",n.INVALID_ID_VALUE="invalid @id value",n.INVALID_INDEX_VALUE="invalid @index value",n.INVALID_NEST_VALUE="invalid @nest value",n.INVALID_PREFIX_VALUE="invalid @prefix value",n.INVALID_PROPAGATE_VALUE="invalid @propagate value",n.INVALID_REVERSE_VALUE="invalid @reverse value",n.INVALID_IMPORT_VALUE="invalid @import value",n.INVALID_VERSION_VALUE="invalid @version value",n.INVALID_BASE_IRI="invalid base IRI",n.INVALID_CONTAINER_MAPPING="invalid container mapping",n.INVALID_CONTEXT_ENTRY="invalid context entry",n.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",n.INVALID_DEFAULT_LANGUAGE="invalid default language",n.INVALID_INCLUDED_VALUE="invalid @included value",n.INVALID_IRI_MAPPING="invalid IRI mapping",n.INVALID_JSON_LITERAL="invalid JSON literal",n.INVALID_KEYWORD_ALIAS="invalid keyword alias",n.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",n.INVALID_LANGUAGE_MAPPING="invalid language mapping",n.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",n.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",n.INVALID_LOCAL_CONTEXT="invalid local context",n.INVALID_REMOTE_CONTEXT="invalid remote context",n.INVALID_REVERSE_PROPERTY="invalid reverse property",n.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",n.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",n.INVALID_SCOPED_CONTEXT="invalid scoped context",n.INVALID_SCRIPT_ELEMENT="invalid script element",n.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",n.INVALID_TERM_DEFINITION="invalid term definition",n.INVALID_TYPE_MAPPING="invalid type mapping",n.INVALID_TYPE_VALUE="invalid type value",n.INVALID_TYPED_VALUE="invalid typed value",n.INVALID_VALUE_OBJECT="invalid value object",n.INVALID_VALUE_OBJECT_VALUE="invalid value object value",n.INVALID_VOCAB_MAPPING="invalid vocab mapping",n.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",n.KEYWORD_REDEFINITION="keyword redefinition",n.LOADING_DOCUMENT_FAILED="loading document failed",n.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",n.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",n.PROCESSING_MODE_CONFLICT="processing mode conflict",n.PROTECTED_TERM_REDEFINITION="protected term redefinition",n.CONTEXT_OVERFLOW="context overflow",n.INVALID_BASE_DIRECTION="invalid base direction",n.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",n.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",n.INVALID_EMBEDDED_NODE="invalid embedded node",n.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))}(WT)),WT}var Ef={},KT,OM;function aJ(){if(OM)return KT;OM=1;var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,a=/[;,"]/,s=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,u={IDLE:1,URI:2,ATTR:4};function l(m){return m.replace(e,"")}function c(m){return n.test(m)}function d(m,y){for(;c(m[y]);)y++;return y}function f(m){return s.test(m)||!o.test(m)}function h(m,y){return Object.keys(m).length===Object.keys(y).length&&Object.keys(m).every(g=>g in y&&m[g]===y[g])}class p{constructor(y){this.refs=[],y&&this.parse(y)}rel(y){for(var g=[],_=y.toLowerCase(),v=0;v<this.refs.length;v++)typeof this.refs[v].rel=="string"&&this.refs[v].rel.toLowerCase()===_&&g.push(this.refs[v]);return g}get(y,g){y=y.toLowerCase(),g=g.toLowerCase();for(var _=[],v=0;v<this.refs.length;v++)typeof this.refs[v][y]=="string"&&this.refs[v][y].toLowerCase()===g&&_.push(this.refs[v]);return _}set(y){return this.refs.push(y),this}setUnique(y){return this.refs.some(g=>h(g,y))||this.refs.push(y),this}has(y,g){y=y.toLowerCase(),g=g.toLowerCase();for(var _=0;_<this.refs.length;_++)if(typeof this.refs[_][y]=="string"&&this.refs[_][y].toLowerCase()===g)return!0;return!1}parse(y,b){b=b||0,y=b?y.slice(b):y,y=l(y).replace(r,"");for(var _=u.IDLE,v=y.length,b=0,w=null;b<v;)if(_===u.IDLE){if(c(y[b])){b++;continue}else if(y[b]==="<"){w!=null&&(w.rel!=null?this.refs.push(...p.expandRelations(w)):this.refs.push(w));var S=y.indexOf(">",b);if(S===-1)throw new Error("Expected end of URI delimiter at offset "+b);w={uri:y.slice(b+1,S)},b=S,_=u.URI}else throw new Error('Unexpected character "'+y[b]+'" at offset '+b);b++}else if(_===u.URI)if(c(y[b])){b++;continue}else if(y[b]===";")_=u.ATTR,b++;else if(y[b]===",")_=u.IDLE,b++;else throw new Error('Unexpected character "'+y[b]+'" at offset '+b);else if(_===u.ATTR){if(y[b]===";"||c(y[b])){b++;continue}var S=y.indexOf("=",b);S===-1&&(S=y.indexOf(";",b)),S===-1&&(S=y.length);var A=l(y.slice(b,S)).toLowerCase(),x="";if(b=S+1,b=d(y,b),y[b]==='"')for(b++;b<v;){if(y[b]==='"'){b++;break}y[b]==="\\"&&b++,x+=y[b],b++}else{for(var S=b+1;!a.test(y[S])&&S<v;)S++;x=y.slice(b,S),b=S}switch(w[A]&&p.isSingleOccurenceAttr(A)||(A[A.length-1]==="*"?w[A]=p.parseExtendedValue(x):(x=A==="type"?x.toLowerCase():x,w[A]!=null?Array.isArray(w[A])?w[A].push(x):w[A]=[w[A],x]:w[A]=x)),y[b]){case",":_=u.IDLE;break;case";":_=u.ATTR;break}b++}else throw new Error('Unknown parser state "'+_+'"');return w!=null&&(w.rel!=null?this.refs.push(...p.expandRelations(w)):this.refs.push(w)),w=null,this}toString(){for(var y=[],g="",_=null,v=0;v<this.refs.length;v++)_=this.refs[v],g=Object.keys(this.refs[v]).reduce(function(b,w){return w==="uri"?b:b+"; "+p.formatAttribute(w,_[w])},"<"+_.uri+">"),y.push(g);return y.join(", ")}}return p.isCompatibleEncoding=function(m){return t.test(m)},p.parse=function(m,y){return new p().parse(m,y)},p.isSingleOccurenceAttr=function(m){return m==="rel"||m==="type"||m==="media"||m==="title"||m==="title*"},p.isTokenAttr=function(m){return m==="rel"||m==="type"||m==="anchor"},p.escapeQuotes=function(m){return m.replace(/"/g,'\\"')},p.expandRelations=function(m){var y=m.rel.split(" ");return y.map(function(g){var _=Object.assign({},m);return _.rel=g,_})},p.parseExtendedValue=function(m){var y=/([^']+)?(?:'([^']*)')?(.+)/.exec(m);return{language:y[2].toLowerCase(),encoding:p.isCompatibleEncoding(y[1])?null:y[1].toLowerCase(),value:p.isCompatibleEncoding(y[1])?decodeURIComponent(y[3]):y[3]}},p.formatExtendedAttribute=function(m,y){var g=(y.encoding||"utf-8").toUpperCase(),_=y.language||"en",v="";return Di.isBuffer(y.value)&&p.isCompatibleEncoding(g)?v=y.value.toString(g):Di.isBuffer(y.value)?v=y.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):v=encodeURIComponent(y.value),m+"="+g+"'"+_+"'"+v},p.formatAttribute=function(m,y){return Array.isArray(y)?y.map(g=>p.formatAttribute(m,g)).join("; "):m[m.length-1]==="*"||typeof y!="string"?p.formatExtendedAttribute(m,y):(p.isTokenAttr(m)?y=f(y)?'"'+p.escapeQuotes(y)+'"':p.escapeQuotes(y):f(y)&&(y=encodeURIComponent(y),y=y.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),y='"'+y+'"'),m+"="+y)},KT=p,KT}var RM;function sJ(){if(RM)return Ef;RM=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.FetchDocumentLoader=void 0,cN();const t=nb(),e=aJ(),n=la();let r=class{constructor(s){this.fetcher=s}async load(s){const o=await(this.fetcher||fetch)(s,{headers:new Headers({accept:"application/ld+json"})});if(o.ok&&o.headers){let u=o.headers.get("Content-Type");if(u){const l=u.indexOf(";");l>0&&(u=u.substr(0,l))}if(u==="application/ld+json")return await o.json();if(o.headers.has("Link")){let l;if(o.headers.forEach((c,d)=>{if(d==="link"){const f=(0,e.parse)(c);for(const h of f.get("type","application/ld+json"))if(h.rel==="alternate"){if(l)throw new Error("Multiple JSON-LD alternate links were found on "+s);l=(0,n.resolve)(h.uri,s)}}}),l)return this.load(l)}throw new t.ErrorCoded(`Unsupported JSON-LD media type ${u}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(o.statusText||`Status code: ${o.status}`)}};return Ef.FetchDocumentLoader=r,Ef}var JT={},Af={},xM;function lN(){if(xM)return Af;xM=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.Util=void 0;class t{static isCompactIri(n){return n.indexOf(":")>0&&!(n&&n[0]==="#")}static getPrefix(n,r){if(n&&n[0]==="#")return null;const a=n.indexOf(":");if(a>=0){if(n.length>a+1&&n.charAt(a+1)==="/"&&n.charAt(a+2)==="/")return null;const s=n.substr(0,a);if(s==="_")return null;if(r[s])return s}return null}static getContextValueId(n){if(n===null||typeof n=="string")return n;const r=n["@id"];return r||null}static isSimpleTermDefinitionPrefix(n,r){return!t.isPotentialKeyword(n)&&(r.allowPrefixNonGenDelims||typeof n=="string"&&(n[0]==="_"||t.isPrefixIriEndingWithGenDelim(n)))}static isPotentialKeyword(n){return typeof n=="string"&&t.KEYWORD_REGEX.test(n)}static isPrefixIriEndingWithGenDelim(n){return t.ENDS_WITH_GEN_DELIM.test(n)}static isPrefixValue(n){return n&&(typeof n=="string"||n&&typeof n=="object")}static isValidIri(n){return!!(n&&t.IRI_REGEX.test(n))}static isValidIriWeak(n){return!!n&&n[0]!==":"&&t.IRI_REGEX_WEAK.test(n)}static isValidKeyword(n){return t.VALID_KEYWORDS[n]}static isTermProtected(n,r){const a=n[r];return typeof a!="string"&&a&&a["@protected"]}static hasProtectedTerms(n){for(const r of Object.keys(n))if(t.isTermProtected(n,r))return!0;return!1}static isReservedInternalKeyword(n){return n.startsWith("@__")}static deepEqual(n,r){const a=Object.keys(n),s=Object.keys(r);return a.length!==s.length?!1:a.every(o=>{const u=n[o],l=r[o];return u===l||u!==null&&l!==null&&typeof u=="object"&&typeof l=="object"&&this.deepEqual(u,l)})}}return t.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,t.IRI_REGEX_WEAK=/(?::[^:])|\//,t.KEYWORD_REGEX=/^@[a-z]+$/i,t.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,t.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,t.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,t.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},t.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],t.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],t.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],t.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],t.CONTAINERS_1_0=["@list","@set","@index"],Af.Util=t,Af}var IM;function oJ(){return IM||(IM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.JsonLdContextNormalized=void 0;const e=la(),n=nb(),r=lN();class a{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,u,l=t.defaultExpandOptions){const c=this.contextRaw[o];if(c===null||c&&c["@id"]===null)return null;let d=!0;if(c&&u){const g=r.Util.getContextValueId(c);if(g&&g!==o)if(typeof g!="string"||!r.Util.isValidIri(g)&&!r.Util.isValidKeyword(g))r.Util.isPotentialKeyword(g)||(d=!1);else return g}const f=r.Util.getPrefix(o,this.contextRaw),h=this.contextRaw["@vocab"],p=(!!h||h==="")&&h.indexOf(":")<0,m=this.contextRaw["@base"],y=r.Util.isPotentialKeyword(o);if(f){const g=this.contextRaw[f],_=r.Util.getContextValueId(g);if(_){if(typeof g=="string"||!l.allowPrefixForcing){if(!r.Util.isSimpleTermDefinitionPrefix(_,l))return o}else if(_[0]!=="_"&&!y&&!g["@prefix"]&&!(o in this.contextRaw))return o;return _+o.substr(f.length+1)}}else if(u&&(h||h===""||l.allowVocabRelativeToBase&&m&&p)&&!y&&!r.Util.isCompactIri(o))if(p){if(l.allowVocabRelativeToBase)return(h||m?(0,e.resolve)(h,m):"")+o;throw new n.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${h}' is not allowed.`,n.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return h+o;else if(!u&&m&&!y&&!r.Util.isCompactIri(o))return(0,e.resolve)(o,m);if(d)return o;throw new n.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(c)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,u){if(u&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!u&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const l={prefix:"",suffix:o};for(const c in this.contextRaw){const d=this.contextRaw[c];if(d&&!r.Util.isPotentialKeyword(c)){const f=r.Util.getContextValueId(d);if(o.startsWith(f)){const h=o.substr(f.length);if(h)h.length<l.suffix.length&&(l.prefix=c,l.suffix=h);else if(u)return c}}}return l.prefix?l.prefix+":"+l.suffix:o}}t.JsonLdContextNormalized=a,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(JT)),JT}var PM;function G2e(){if(PM)return Tf;PM=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.ContextParser=void 0,cN();const t=la(),e=nb(),n=sJ(),r=oJ(),a=lN();let s=class fu{constructor(u){u=u||{},this.documentLoader=u.documentLoader||new n.FetchDocumentLoader,this.documentCache={},this.validateContext=!u.skipValidation,this.expandContentTypeToBase=!!u.expandContentTypeToBase,this.remoteContextsDepthLimit=u.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in u?!!u.redirectSchemaOrgHttps:!0}static validateLanguage(u,l,c){if(typeof u!="string")throw new e.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(u)}'`,c);if(!a.Util.REGEX_LANGUAGE_TAG.test(u)){if(l)throw new e.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(u)}'`,c);return!1}return!0}static validateDirection(u,l){if(typeof u!="string")throw new e.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(u)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(u)){if(l)throw new e.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(u)}'`,e.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(u){for(const l of Object.keys(u)){let c=u[l];if(c&&typeof c=="object"&&c["@reverse"]&&!c["@id"]){if(typeof c["@reverse"]!="string"||a.Util.isValidKeyword(c["@reverse"]))throw new e.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${c["@reverse"]}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);c=u[l]=Object.assign(Object.assign({},c),{"@id":c["@reverse"]}),c["@id"]=c["@reverse"],a.Util.isPotentialKeyword(c["@reverse"])?delete c["@reverse"]:c["@reverse"]=!0}}return u}expandPrefixedTerms(u,l,c){const d=u.getContextRaw();for(const f of c||Object.keys(d))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!a.Util.isReservedInternalKeyword(f)){const h=d[f];if(a.Util.isPotentialKeyword(f)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof d[f]=="object"&&!(d[f]["@protected"]||d[f]["@container"]==="@set")))throw new e.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(h)}`,e.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(h))>=0)throw new e.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(h)}`,e.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(h&&a.Util.isPotentialKeyword(a.Util.getContextValueId(h))&&h["@prefix"]===!0)throw new e.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(d[f]);){const p=d[f];let m=!1;if(typeof p=="string")d[f]=u.expandTerm(p,!0),m=m||p!==d[f];else{const y=p["@id"],g=p["@type"],_=!("@prefix"in p)||a.Util.isValidIri(f);if("@id"in p)y!=null&&typeof y=="string"&&(d[f]=Object.assign(Object.assign({},d[f]),{"@id":u.expandTerm(y,!0)}),m=m||y!==d[f]["@id"]);else if(!a.Util.isPotentialKeyword(f)&&_){const v=u.expandTerm(f,!0);v!==f&&(d[f]=Object.assign(Object.assign({},d[f]),{"@id":v}),m=!0)}if(g&&typeof g=="string"&&g!=="@vocab"&&(!p["@container"]||!p["@container"]["@type"])&&_){let v=u.expandTerm(g,!0);l&&g===v&&(v=u.expandTerm(g,!1)),v!==g&&(m=!0,d[f]=Object.assign(Object.assign({},d[f]),{"@type":v}))}}if(!m)break}}}normalize(u,{processingMode:l,normalizeLanguageTags:c}){if(c||l===1)for(const d of Object.keys(u))if(d==="@language"&&typeof u[d]=="string")u[d]=u[d].toLowerCase();else{const f=u[d];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const h=f["@language"].toLowerCase();h!==f["@language"]&&(u[d]=Object.assign(Object.assign({},f),{"@language":h}))}}}containersToHash(u){for(const l of Object.keys(u)){const c=u[l];if(c&&typeof c=="object"){if(typeof c["@container"]=="string")u[l]=Object.assign(Object.assign({},c),{"@container":{[c["@container"]]:!0}});else if(Array.isArray(c["@container"])){const d={};for(const f of c["@container"])d[f]=!0;u[l]=Object.assign(Object.assign({},c),{"@container":d})}}}}applyScopedProtected(u,{processingMode:l},c){if(l&&l>=1.1&&u["@protected"]){for(const d of Object.keys(u))if(!a.Util.isReservedInternalKeyword(d)&&!a.Util.isPotentialKeyword(d)&&!a.Util.isTermProtected(u,d)){const f=u[d];f&&typeof f=="object"?"@protected"in u[d]||(u[d]=Object.assign(Object.assign({},u[d]),{"@protected":!0})):(u[d]={"@id":f,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(f,c)&&(u[d]=Object.assign(Object.assign({},u[d]),{"@prefix":!0})))}delete u["@protected"]}}validateKeywordRedefinitions(u,l,c,d){for(const f of d??Object.keys(l))if(a.Util.isTermProtected(u,f)&&(typeof l[f]=="string"?l[f]={"@id":l[f],"@protected":!0}:l[f]=Object.assign(Object.assign({},l[f]),{"@protected":!0}),!a.Util.deepEqual(u[f],l[f])))throw new e.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(a.Util.getContextValueId(u[f]))} to ${JSON.stringify(a.Util.getContextValueId(l[f]))}`,e.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(u,{processingMode:l}){for(const c of Object.keys(u)){if(a.Util.isReservedInternalKeyword(c))continue;if(c==="")throw new e.ErrorCoded(`The empty term is not allowed, got: '${c}': '${JSON.stringify(u[c])}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);const d=u[c],f=typeof d;if(a.Util.isPotentialKeyword(c)){switch(c.substr(1)){case"vocab":if(d!==null&&f!=="string")throw new e.ErrorCoded(`Found an invalid @vocab IRI: ${d}`,e.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(d!==null&&f!=="string")throw new e.ErrorCoded(`Found an invalid @base IRI: ${u[c]}`,e.ERROR_CODES.INVALID_BASE_IRI);break;case"language":d!==null&&fu.validateLanguage(d,!0,e.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(d!==null&&f!=="number")throw new e.ErrorCoded(`Found an invalid @version number: ${d}`,e.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":d!==null&&fu.validateDirection(d,!0);break;case"propagate":if(l===1)throw new e.ErrorCoded(`Found an illegal @propagate keyword: ${d}`,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(d!==null&&f!=="boolean")throw new e.ErrorCoded(`Found an invalid @propagate value: ${d}`,e.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(a.Util.isValidKeyword(c)&&a.Util.isValidKeyword(a.Util.getContextValueId(d)))throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${a.Util.getContextValueId(d)}'`,e.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(d!==null)switch(f){case"string":if(a.Util.getPrefix(d,u)===c)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(c)){if(d==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${d}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(d)&&d!==new r.JsonLdContextNormalized(u).expandTerm(c))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${d}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!a.Util.isCompactIri(c)&&!("@id"in d)&&(d["@type"]==="@id"?!u["@base"]:!u["@vocab"]))throw new e.ErrorCoded(`Missing @id in context entry: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);for(const h of Object.keys(d)){const p=d[h];if(p)switch(h){case"@id":if(a.Util.isValidKeyword(p)&&p!=="@type"&&p!=="@id"&&p!=="@graph"&&p!=="@nest")throw new e.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(c)){if(p==="@type")throw new e.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(p)&&p!==new r.JsonLdContextNormalized(u).expandTerm(c))throw new e.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof p!="string")throw new e.ErrorCoded(`Detected non-string @id in context entry: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(p,u)===c)throw new e.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(d["@container"]==="@type"&&p!=="@id"&&p!=="@vocab")throw new e.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${c}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof p!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);if(p!=="@id"&&p!=="@vocab"&&(l===1||p!=="@json")&&(l===1||p!=="@none")&&(p[0]==="_"||!a.Util.isValidIri(p)))throw new e.ErrorCoded(`A context @type must be an absolute IRI, found: '${c}': '${p}'`,e.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof p=="string"&&d["@id"]&&d["@id"]!==p)throw new e.ErrorCoded(`Found non-matching @id and @reverse term values in '${c}':'${p}' and '${d["@id"]}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in d)throw new e.ErrorCoded(`@nest is not allowed in the reverse property '${c}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(p).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(p)[0])<0))throw new e.ErrorCoded(`Invalid term @container for '${c}' ('${Object.keys(p)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const m of Object.keys(p)){if(m==="@list"&&d["@reverse"])throw new e.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${c}'`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(m)<0)throw new e.ErrorCoded(`Invalid term @container for '${c}' ('${m}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,e.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":fu.validateLanguage(p,!0,e.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":fu.validateDirection(p,!0);break;case"@prefix":if(p!==null&&typeof p!="boolean")throw new e.ErrorCoded(`Found an invalid term @prefix boolean in: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in d)&&!a.Util.isValidIri(c))throw new e.ErrorCoded(`Invalid @prefix definition for '${c}' ('${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!d["@container"]||!d["@container"]["@index"])throw new e.ErrorCoded(`Attempt to add illegal key to value object: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(p)&&p!=="@nest")throw new e.ErrorCoded(`Found an invalid term @nest value in: '${c}': '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new e.ErrorCoded(`Found an invalid term value: '${c}': '${d}'`,e.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(u,l,c){return typeof u=="string"||(c&&!("@base"in u)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(u["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(u["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in u?u["@base"]!==null&&typeof u["@base"]=="string"&&!a.Util.isValidIri(u["@base"])&&(u["@base"]=(0,t.resolve)(u["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(u["@base"]=l.baseIRI,u["@__baseDocument"]=!0))),u}normalizeContextIri(u,l){if(!a.Util.isValidIri(u))try{u=(0,t.resolve)(u,l)}catch{throw new Error(`Invalid context IRI: ${u}`)}return this.redirectSchemaOrgHttps&&u.startsWith("http://schema.org")&&(u="https://schema.org/"),u}async parseInnerContexts(u,l,c){for(const d of c??Object.keys(u)){const f=u[d];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const h=Object.assign(Object.assign({},u),{[d]:Object.assign({},u[d])});delete h[d]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:h,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(h){throw new e.ErrorCoded(h.message,e.ERROR_CODES.INVALID_SCOPED_CONTEXT)}u[d]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:u}))).getContextRaw()})}}return u}async parse(u,l={},c={}){const{baseIRI:d,parentContext:f,external:h,processingMode:p=fu.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:m,ignoreProtection:y,minimalProcessing:g}=l,_=l.remoteContexts||{};if(Object.keys(_).length>=this.remoteContextsDepthLimit)throw new e.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(_),e.ERROR_CODES.CONTEXT_OVERFLOW);if(u==null){if(!y&&f&&a.Util.hasProtectedTerms(f))throw new e.ErrorCoded("Illegal context nullification when terms are protected",e.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new r.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}else if(typeof u=="string"){const v=this.normalizeContextIri(u,d),b=this.getOverriddenLoad(v,l);if(b)return new r.JsonLdContextNormalized(b);const w=await this.parse(await this.load(v),Object.assign(Object.assign({},l),{baseIRI:v,external:!0,remoteContexts:Object.assign(Object.assign({},_),{[v]:!0})}));return this.applyBaseEntry(w.getContextRaw(),l,!0),w}else if(Array.isArray(u)){const v=[],b=await Promise.all(u.map((S,A)=>{if(typeof S=="string"){const x=this.normalizeContextIri(S,d);v[A]=x;const M=this.getOverriddenLoad(x,l);return M||this.load(x)}else return S}));if(g)return new r.JsonLdContextNormalized(b);const w=await b.reduce((S,A,x)=>S.then(M=>this.parse(A,Object.assign(Object.assign({},l),{baseIRI:v[x]||l.baseIRI,external:!!v[x]||l.external,parentContext:M.getContextRaw(),remoteContexts:v[x]?Object.assign(Object.assign({},_),{[v[x]]:!0}):_}),{skipValidation:x<b.length-1})),Promise.resolve(new r.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(w.getContextRaw(),l,!0),w}else if(typeof u=="object"){if("@context"in u)return await this.parse(u["@context"],l);if(u=Object.assign({},u),h&&delete u["@base"],this.applyBaseEntry(u,l,!0),this.containersToHash(u),g)return new r.JsonLdContextNormalized(u);let v={};if("@import"in u)if(p>=1.1){if(typeof u["@import"]!="string")throw new e.ErrorCoded("An @import value must be a string, but got "+typeof u["@import"],e.ERROR_CODES.INVALID_IMPORT_VALUE);v=await this.loadImportContext(this.normalizeContextIri(u["@import"],d)),delete u["@import"]}else throw new e.ErrorCoded("Context importing is not supported in JSON-LD 1.0",e.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(v,{processingMode:p},r.defaultExpandOptions);const b=Object.assign(v,u);this.idifyReverseTerms(b),this.normalize(b,{processingMode:p,normalizeLanguageTags:m}),this.applyScopedProtected(b,{processingMode:p},r.defaultExpandOptions);const w=Object.keys(b),S=[];if(typeof f=="object")for(const x in f)x in b?S.push(x):b[x]=f[x];await this.parseInnerContexts(b,l,w);const A=new r.JsonLdContextNormalized(b);return(b&&b["@version"]||fu.DEFAULT_PROCESSING_MODE)>=1.1&&(u["@vocab"]&&typeof u["@vocab"]=="string"||u["@vocab"]==="")&&(f&&"@vocab"in f&&u["@vocab"].indexOf(":")<0?b["@vocab"]=f["@vocab"]+u["@vocab"]:(a.Util.isCompactIri(u["@vocab"])||u["@vocab"]in b)&&(b["@vocab"]=A.expandTerm(u["@vocab"],!0))),this.expandPrefixedTerms(A,this.expandContentTypeToBase,w),!y&&f&&p>=1.1&&this.validateKeywordRedefinitions(f,b,r.defaultExpandOptions,S),this.validateContext&&!c.skipValidation&&this.validate(b,{processingMode:p}),A}else throw new e.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${u}`,e.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(u){const l=this.documentCache[u];if(l)return l;let c;try{c=await this.documentLoader.load(u)}catch(d){throw new e.ErrorCoded(`Failed to load remote context ${u}: ${d.message}`,e.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in c))throw new e.ErrorCoded(`Missing @context in remote context at ${u}`,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[u]=c["@context"]}getOverriddenLoad(u,l){if(u in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return u;throw new e.ErrorCoded("Detected a cyclic context inclusion of "+u,e.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(u){let l=await this.load(u);if(typeof l!="object"||Array.isArray(l))throw new e.ErrorCoded("An imported context must be a single object: "+u,e.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new e.ErrorCoded("An imported context can not import another context: "+u,e.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}};return s.DEFAULT_PROCESSING_MODE=1.1,Tf.ContextParser=s,Tf}var XT={},NM;function W2e(){return NM||(NM=1,Object.defineProperty(XT,"__esModule",{value:!0})),XT}var YT={},DM;function K2e(){return DM||(DM=1,Object.defineProperty(YT,"__esModule",{value:!0})),YT}var CM;function un(){return CM||(CM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(G2e(),t),n(nb(),t),n(sJ(),t),n(W2e(),t),n(K2e(),t),n(oJ(),t),n(lN(),t)}(zT)),zT}var LM;function uJ(){if(LM)return Sf;LM=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.Util=void 0;const t=Rt,e=un(),n=Pt();class r{constructor(s){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=s,this.dataFactory=s.dataFactory||new t.DataFactory,this.operationFactory=new n.Factory(this.dataFactory),this.contextParser=new e.ContextParser}registerNodeHandler(s){this.nodeHandlers[s.targetKind]=s}registerNodeValueHandler(s){this.nodeValueHandlers[s.targetKind]=s}registerDirectiveNodeHandler(s){this.directiveNodeHandlers[s.targetKind]=s}handleNode(s,o){const u=this.nodeHandlers[s.kind];if(!u)throw new Error(`Unsupported GraphQL node '${s.kind}'`);return u.handle(s,o)}handleNodeValue(s,o,u){const l=this.nodeValueHandlers[s.kind];if(!l)throw new Error(`Unsupported GraphQL value node '${s.kind}'`);return l.handle(s,o,u)}handleDirectiveNode(s,o){const u=this.directiveNodeHandlers[s.directive.name.value];return u?u.handle(s,o):null}joinOperations(s){if(s.length===1)return s[0];const o=[],u=[];for(const l of s)l.type==="bgp"?o.push(l):u.push(l);if(o.length===s.length)return this.joinOperationsAsBgp(o);if(o.length===s.length-1&&u[0].type==="leftjoin"&&u[0].input[0].type==="bgp"){const l=u[0];return o.push(l.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(o),l.input[1])}else return u.length===s.length?this.joinOperationsAsNestedJoin(u):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(o),this.joinOperationsAsNestedJoin(u)])}joinOperationsAsBgp(s){return this.operationFactory.createBgp([].concat.apply([],s.map(o=>o.patterns)))}joinOperationsAsNestedJoin(s){return this.operationFactory.createJoin(s)}appendFieldToPath(s,o){return s.concat([o])}getFieldLabel(s){return(s.alias?s.alias:s.name).value}nameToVariable(s,o){return this.dataFactory.variable((o.path.length?o.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+s)}valueToNamedNode(s,o){const u=o.expandTerm(s,!0);if(this.settings.requireContext&&!u)throw new Error("No context entry was found for "+s);return this.dataFactory.namedNode(u||s)}getArgument(s,o){if(s){for(const u of s)if(u.name.value===o)return u}}newTypePattern(s,o,u){return this.operationFactory.createPattern(s,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(o.name.value,u.context),u.graph)}createQuadPattern(s,o,u,l,c){const d=this.valueToNamedNode(o.value,c);return c&&c.getContextRaw()[o.value]&&c.getContextRaw()[o.value]["@reverse"]?this.operationFactory.createPattern(u,d,s,l):this.operationFactory.createPattern(s,d,u,l)}createQuadPath(s,o,u,l,c,d){const f=this.valueToNamedNode(o.value,d);let h=this.operationFactory.createLink(f);for(const p of u.values){if(p.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+p.kind);h=this.operationFactory.createAlt([h,this.operationFactory.createLink(this.valueToNamedNode(p.value,d))])}return d&&d.getContextRaw()[o.value]&&d.getContextRaw()[o.value]["@reverse"]?this.operationFactory.createPath(l,h,s,c):this.operationFactory.createPath(s,h,l,c)}}return Sf.Util=r,Sf}var jM;function J2e(){if(jM)return wf;jM=1;var t=P&&P.__awaiter||function(u,l,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(_){try{g(d.next(_))}catch(v){p(v)}}function y(_){try{g(d.throw(_))}catch(v){p(v)}}function g(_){_.done?h(_.value):f(_.value).then(m,y)}g((d=d.apply(u,l||[])).next())})};Object.defineProperty(wf,"__esModule",{value:!0}),wf.Converter=void 0;const e=Q2e,n=kK(),r=UK(),a=rb(),s=uJ();class o{constructor(l){l=l||{},l.variableDelimiter=l.variableDelimiter||"_",l.expressionVariableCounter=l.expressionVariableCounter||0,this.util=new s.Util(l),this.initializeNodeHandlers(l)}static registerNodeHandlers(l,c){l.registerNodeHandler(new n.NodeHandlerDocument(l,c)),l.registerNodeHandler(new n.NodeHandlerDefinitionOperation(l,c)),l.registerNodeHandler(new n.NodeHandlerDefinitionFragment(l,c)),l.registerNodeHandler(new n.NodeHandlerSelectionFragmentSpread(l,c)),l.registerNodeHandler(new n.NodeHandlerSelectionInlineFragment(l,c)),l.registerNodeHandler(new n.NodeHandlerSelectionField(l,c))}static registerNodeValueHandlers(l,c){l.registerNodeValueHandler(new n.NodeValueHandlerVariable(l,c)),l.registerNodeValueHandler(new n.NodeValueHandlerInt(l,c)),l.registerNodeValueHandler(new n.NodeValueHandlerFloat(l,c)),l.registerNodeValueHandler(new n.NodeValueHandlerString(l,c)),l.registerNodeValueHandler(new n.NodeValueHandlerBoolean(l,c)),l.registerNodeValueHandler(new n.NodeValueHandlerNull(l,c)),l.registerNodeValueHandler(new n.NodeValueHandlerEnum(l,c)),l.registerNodeValueHandler(new n.NodeValueHandlerList(l,c)),l.registerNodeValueHandler(new n.NodeValueHandlerObject(l,c))}static registerDirectiveNodeHandlers(l,c){l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerInclude(l,c)),l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerOptional(l,c)),l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerPlural(l,c)),l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerSingle(l,c)),l.registerDirectiveNodeHandler(new r.DirectiveNodeHandlerSkip(l,c))}graphqlToSparqlAlgebra(l,c,d){return t(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(l,yield this.util.contextParser.parse(c),d)})}graphqlToSparqlAlgebraRawContext(l,c,d){d=d||{};const f=typeof l=="string"?(0,e.parse)(l):l,h=this.indexFragments(f),p={context:c,fragmentDefinitions:h,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:a.SingularizeState.PLURAL,singularizeVariables:d.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:d.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(f,p)}indexFragments(l){const c={},d=[];for(const f of l.definitions)f.kind==="FragmentDefinition"?c[f.name.value]=f:d.push(f);return l.definitions=d,c}initializeNodeHandlers(l){o.registerNodeHandlers(this.util,l),o.registerNodeValueHandlers(this.util,l),o.registerDirectiveNodeHandlers(this.util,l)}}return wf.Converter=o,wf}var ZT={},MM;function X2e(){return MM||(MM=1,Object.defineProperty(ZT,"__esModule",{value:!0})),ZT}var FM;function Y2e(){return FM||(FM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(kK(),t),n(J2e(),t),n(rb(),t),n(X2e(),t),n(uJ(),t)}(qT)),qT}var qM;function Z2e(){if(qM)return Wd;qM=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.ActorQueryParseGraphql=void 0;const t=$K(),e=Ut,n=Y2e();let r=class extends t.ActorQueryParse{constructor(s){super(s),this.graphqlToSparql=new n.Converter({requireContext:!0})}async test(s){var o;if(((o=s.queryFormat)==null?void 0:o.language)!=="graphql")throw new Error("This actor can only parse GraphQL queries");return!0}async run(s){const o=s.context.get(e.KeysInitQuery.jsonLdContext)||{},u={singularizeVariables:s.context.get(e.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(s.query,o,u)}}};return Wd.ActorQueryParseGraphql=r,Wd}var BM;function eTe(){return BM||(BM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Z2e(),t)}(FT)),FT}var eE={},Of={},tE={},Rf={},rE={},xf={},$M;function cJ(){if($M)return xf;$M=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.ActorAbstractMediaTyped=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}async run(r){if("handle"in r){const a=r;return{handle:await this.runHandle(a.handle,a.handleMediaType,r.context)}}if("mediaTypes"in r)return{mediaTypes:await this.getMediaTypes(r.context)};if("mediaTypeFormats"in r)return{mediaTypeFormats:await this.getMediaTypeFormats(r.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(r){if("handle"in r){const a=r;return{handle:await this.testHandle(a.handle,a.handleMediaType,r.context)}}if("mediaTypes"in r)return{mediaTypes:await this.testMediaType(r.context)};if("mediaTypeFormats"in r)return{mediaTypeFormats:await this.testMediaTypeFormats(r.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return xf.ActorAbstractMediaTyped=e,xf}var If={},UM;function tTe(){if(UM)return If;UM=1,Object.defineProperty(If,"__esModule",{value:!0}),If.ActorAbstractMediaTypedFixed=void 0;const t=cJ();let e=class extends t.ActorAbstractMediaTyped{constructor(r){super(r);const a=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[s,[o,u]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[o]=a*u;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(r,a,s){if(!a||!(a in this.mediaTypePriorities))throw new Error(`Unrecognized media type: ${a}`);return await this.testHandleChecked(r,s)}async testMediaType(r){return!0}async getMediaTypes(r){return this.mediaTypePriorities}async testMediaTypeFormats(r){return!0}async getMediaTypeFormats(r){return this.mediaTypeFormats}};return If.ActorAbstractMediaTypedFixed=e,If}var kM;function Xl(){return kM||(kM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(cJ(),t),n(tTe(),t)}(rE)),rE}var VM;function rTe(){if(VM)return Rf;VM=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.ActorQueryResultSerialize=void 0;const t=Xl();let e=class extends t.ActorAbstractMediaTyped{constructor(r){super(r)}};return Rf.ActorQueryResultSerialize=e,Rf}var Pf={},HM;function nTe(){if(HM)return Pf;HM=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.ActorQueryResultSerializeFixedMediaTypes=void 0;const t=Xl();let e=class extends t.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r,a){return!0}};return Pf.ActorQueryResultSerializeFixedMediaTypes=e,Pf}var QM;function Va(){return QM||(QM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(rTe(),t),n(nTe(),t)}(tE)),tE}var zM;function iTe(){if(zM)return Of;zM=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.ActorQueryResultSerializeJson=void 0;const t=Va(),e=Bt(),n=tr,r=Dt;let a=class extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads","boolean"].includes(o.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(o,u,l){const c=new r.Readable;if(c._read=()=>{},o.type==="bindings"||o.type==="quads"){let d=o.type==="bindings"?(0,e.wrap)(o.bindingsStream).map(h=>JSON.stringify(Object.fromEntries([...h].map(([p,m])=>[p.value,n.termToString(m)])))):(0,e.wrap)(o.quadStream).map(h=>JSON.stringify(n.quadToStringQuad(h))),f=!0;d=d.map(h=>{const p=`${f?"":","}
${h}`;return f=!1,p}).prepend(["["]).append([`
]
`]),c.wrap(d)}else try{c.push(`${JSON.stringify(await o.execute())}
`),c.push(null)}catch(d){setTimeout(()=>c.emit("error",d))}return{data:c}}};return Of.ActorQueryResultSerializeJson=a,Of}var GM;function aTe(){return GM||(GM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(iTe(),t)}(eE)),eE}var nE={},Nf={},WM;function sTe(){if(WM)return Nf;WM=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.ActorQueryResultSerializeSimple=void 0;const t=Va(),e=Bt(),n=tr,r=Dt;let a=class Lc extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads","boolean","void"].includes(o.type))throw new Error("This actor can only handle bindings streams, quad streams, booleans, or updates.");return!0}static termToString(o){return o.termType==="Quad"?(0,n.termToString)(o):o.value}async runHandle(o,u,l){const c=new r.Readable;return o.type==="bindings"?c.wrap(o.bindingsStream.map(d=>`${[...d].map(([f,h])=>`?${f.value}: ${Lc.termToString(h)}`).join(`
`)}

`)):o.type==="quads"?c.wrap(o.quadStream.map(d=>`subject: ${Lc.termToString(d.subject)}
predicate: ${Lc.termToString(d.predicate)}
object: ${Lc.termToString(d.object)}
graph: ${Lc.termToString(d.graph)}

`)):c.wrap((0,e.wrap)(o.type==="boolean"?o.execute().then(d=>[`${d}
`]):o.execute().then(()=>[`ok
`]))),{data:c}}};return Nf.ActorQueryResultSerializeSimple=a,Nf}var KM;function oTe(){return KM||(KM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(sTe(),t)}(nE)),nE}var iE={},Df={},JM;function uTe(){if(JM)return Df;JM=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.ActorQueryResultSerializeSparqlCsv=void 0;const t=Va(),e=Dt;let n=class _g extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToCsvBindings(a){if(!a)return"";let s=a.value;if(a.termType==="Literal")s=`${s}`;else if(a.termType==="BlankNode")s=`_:${s}`;else if(a.termType==="Quad"){let o=_g.bindingToCsvBindings(a.object);a.object.termType==="Literal"&&(o=`"${o.replaceAll('"','""')}"`),s=`<< ${_g.bindingToCsvBindings(a.subject)} ${_g.bindingToCsvBindings(a.predicate)} ${o} >>`}else s=`<${s}>`;return/[",\n\r]/u.test(s)&&(s=`"${s.replaceAll('"','""')}"`),s}async testHandleChecked(a,s){if(a.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(a,s,o){const u=a,l=new e.Readable,c=await u.metadata();return l.push(`${c.variables.map(d=>d.value).join(",")}\r
`),l.wrap(u.bindingsStream.map(d=>`${c.variables.map(f=>_g.bindingToCsvBindings(d.get(f))).join(",")}\r
`)),{data:l}}};return Df.ActorQueryResultSerializeSparqlCsv=n,Df}var XM;function cTe(){return XM||(XM=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(uTe(),t)}(iE)),iE}var aE={},Cf={},sE={},pn={},YM;function lTe(){if(YM)return pn;YM=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.stringQuadToQuad=pn.quadToStringQuad=pn.stringToTerm=pn.getLiteralLanguage=pn.getLiteralType=pn.getLiteralValue=pn.termToString=void 0;const t=Rt,e=new t.DataFactory;function n(m){if(m)switch(m.termType){case"NamedNode":return`<${c(m.value)}>`;case"BlankNode":return`_:${m.value}`;case"Literal":{const y=m;return`"${d(y.value)}"${y.datatype&&y.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&y.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${y.datatype.value}>`:""}${y.language?`@${y.language}`:""}`}case"Quad":return`<<${n(m.subject)} ${n(m.predicate)} ${n(m.object)}${m.graph.termType==="DefaultGraph"?"":` ${n(m.graph)}`}>>`;case"Variable":return`?${m.value}`;case"DefaultGraph":return m.value}}pn.termToString=n;function r(m){const y=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1].replace(/\\"/ug,'"')}pn.getLiteralValue=r;function a(m){const y=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1]||(y[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}pn.getLiteralType=a;function s(m){const y=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(m);if(!y)throw new Error(`${m} is not a literal`);return y[1]?y[1].toLowerCase():""}pn.getLiteralLanguage=s;function o(m,y){if(y=y||e,!m||m.length===0)return y.defaultGraph();switch(m[0]){case"_":return y.blankNode(m.slice(2));case"?":if(!y.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return y.variable(m.slice(1));case'"':{const g=s(m),_=y.namedNode(a(m));return y.literal(r(m),g||_)}case"<":default:if(m.startsWith("<<")&&m.endsWith(">>")){const g=m.slice(2,-2),_=[];let v=0,b=0;for(let w=0;w<g.length;w++){const S=g[w];if(S==="<"&&v++,S===">"){if(v===0)throw new Error(`Found closing tag without opening tag in ${m}`);v--}S===" "&&v===0&&(_.push(g.slice(b,w)),b=w+1)}if(v!==0)throw new Error(`Found opening tag without closing tag in ${m}`);if(_.push(g.slice(b,g.length)),_.length!==3&&_.length!==4)throw new Error(`Nested quad syntax error ${m}`);return y.quad(o(_[0]),o(_[1]),o(_[2]),_[3]?o(_[3]):void 0)}if(!m.startsWith("<")||!m.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${m}`);return y.namedNode(m.slice(1,-1))}}pn.stringToTerm=o;function u(m){return{subject:n(m.subject),predicate:n(m.predicate),object:n(m.object),graph:n(m.graph)}}pn.quadToStringQuad=u;function l(m,y){return y=y||e,y.quad(o(m.subject,y),o(m.predicate,y),o(m.object,y),o(m.graph,y))}pn.stringQuadToQuad=l;function c(m){return m.replace(f,p)}function d(m){return f.test(m)&&(m=m.replace(f,p)),m}const f=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function p(m){const y=h.get(m);if(!y){if(m.length===1){const _=m.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-_.length)}${_}`}const g=((m.charCodeAt(0)-55296)*1024+m.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-g.length)}${g}`}return y}return pn}var ZM;function ib(){return ZM||(ZM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=lTe();Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})}(sE)),sE}var e8;function dTe(){if(e8)return Cf;e8=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.ActorQueryResultSerializeSparqlTsv=void 0;const t=Va(),e=ib(),n=Dt;let r=class lJ extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static bindingToTsvBindings(s){return s?(0,e.termToString)(s).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(s,o){if(s.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(s,o,u){const l=s,c=new n.Readable,d=await l.metadata();return c.push(`${d.variables.map(f=>f.value).join("	")}
`),c.wrap(l.bindingsStream.map(f=>`${d.variables.map(h=>lJ.bindingToTsvBindings(f.get(h))).join("	")}
`)),{data:c}}};return Cf.ActorQueryResultSerializeSparqlTsv=r,Cf}var t8;function fTe(){return t8||(t8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(dTe(),t)}(aE)),aE}var oE={},Lf={},jf={},r8;function hTe(){if(r8)return jf;r8=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.XmlSerializer=void 0;let t=class{constructor(){this.stack=[]}open(n,r){const a=`${this.identation()+this.formatTag(n,r,"open")}
`;return this.stack.push(n),a}close(){const n=this.stack.pop();if(n===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(n,{},"close")}
`}serializeNode(n){if(n.children===void 0)return`${this.identation()+this.formatTag(n.name,n.attributes,"self-closing")}
`;if(typeof n.children=="string")return`${this.identation()+this.formatTag(n.name,n.attributes,"open")+this.escape(n.children)+this.formatTag(n.name,{},"close")}
`;const r=[];r.push(`${this.identation()+this.formatTag(n.name,n.attributes,"open")}
`),this.stack.push(n.name);for(const a of n.children)r.push(this.serializeNode(a));return this.stack.pop(),r.push(`${this.identation()+this.formatTag(n.name,{},"close")}
`),r.join("")}identation(){return this.stack.map(n=>"  ").join("")}formatTag(n,r,a){return`<${a==="close"?"/":""}${n}${Object.entries(r??{}).map(s=>` ${s[0]}="${this.escape(s[1])}"`)}${a==="self-closing"?"/":""}>`}escape(n){return n.replaceAll(/["&'<>]/gu,r=>{switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}};return jf.XmlSerializer=t,t.header=`<?xml version="1.0" encoding="UTF-8"?>
`,jf}var n8;function pTe(){if(n8)return Lf;n8=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.ActorQueryResultSerializeSparqlXml=void 0;const t=Va(),e=Bt(),n=Dt,r=hTe();let a=class dJ extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}static bindingToXmlBindings(o,u){return{name:"binding",attributes:{name:u.value},children:[this.valueToXmlValue(o)]}}static valueToXmlValue(o){let u;switch(o.termType){case"Literal":return o.language?u={"xml:lang":o.language}:o.datatype&&o.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?u={datatype:o.datatype.value}:u={},{name:"literal",attributes:u,children:o.value};case"BlankNode":return{name:"bnode",children:o.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(o.subject)]},{name:"predicate",children:[this.valueToXmlValue(o.predicate)]},{name:"object",children:[this.valueToXmlValue(o.object)]}]};default:return{name:"uri",children:o.value}}}async testHandleChecked(o,u){if(!["bindings","boolean"].includes(o.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(o,u,l){const c=new n.Readable;c._read=()=>{};const d=new r.XmlSerializer,f=await o.metadata();if(c.push(r.XmlSerializer.header),c.push(d.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),c.push(d.serializeNode({name:"head",children:f.variables.map(h=>({name:"variable",attributes:{name:h.value}}))})),o.type==="bindings"){function*h(){yield d.close(),yield d.close()}c.push(d.open("results"));const p=(0,e.wrap)(o.bindingsStream).map(m=>d.serializeNode({name:"result",children:[...m].map(([y,g])=>dJ.bindingToXmlBindings(g,y))})).append((0,e.wrap)(h()));c.wrap(p)}else try{const h=await o.execute();c.push(d.serializeNode({name:"boolean",children:h.toString()})),c.push(d.close()),setTimeout(()=>c.push(null))}catch(h){setTimeout(()=>c.emit("error",h))}return{data:c}}};return Lf.ActorQueryResultSerializeSparqlXml=a,Lf}var i8;function yTe(){return i8||(i8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(pTe(),t)}(oE)),oE}var uE={},Mf={},a8;function mTe(){if(a8)return Mf;a8=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.ActorQueryResultSerializeTable=void 0;const t=Va(),e=Rt,n=tr,r=vn(),a=Dt,s=new e.DataFactory,o=r.QUAD_TERM_NAMES.map(l=>s.variable(l));let u=class Tx extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(c){super(c),this.padding=Tx.repeat(" ",this.columnWidth)}static repeat(c,d){return c.repeat(d)}async testHandleChecked(c,d){if(!["bindings","quads"].includes(c.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}termToString(c){return c.termType==="Quad"?(0,n.termToString)(c):c.value}pad(c){return c.length<=this.columnWidth?c+this.padding.slice(c.length):`${c.slice(0,this.columnWidth-1)}`}pushHeader(c,d){const f=d.map(h=>this.pad(h.value)).join(" ");c.push(`${f}
${Tx.repeat("-",f.length)}
`)}createRow(c,d){return`${c.map(f=>d.has(f)?this.termToString(d.get(f)):"").map(f=>this.pad(f)).join(" ")}
`}async runHandle(c,d,f){const h=new a.Readable;let p;if(c.type==="bindings"){p=c.bindingsStream.map(y=>this.createRow(m,y));const m=(await c.metadata()).variables;this.pushHeader(h,m)}else p=c.quadStream.map(m=>`${(0,r.getTerms)(m).map(y=>this.pad(this.termToString(y))).join(" ")}
`),this.pushHeader(h,o);return h.wrap(p),{data:h}}};return Mf.ActorQueryResultSerializeTable=u,Mf}var s8;function gTe(){return s8||(s8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(mTe(),t)}(uE)),uE}var cE={},Ff={},lE={},qf={},dE={},fE={},Bf={},$f={},o8;function Sl(){if(o8)return $f;o8=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.Translator=void 0;let t=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(n){throw new Error(`Invalid RDF ${n.datatype.value} value: '${n.value}'`)}registerHandler(n,r,a){for(const s of r)this.supportedRdfDatatypes.push(s),this.fromRdfHandlers[s.value]=n;for(const s of a){let o=this.toRdfHandlers[s];o||(this.toRdfHandlers[s]=o=[]),o.push(n)}}fromRdf(n,r){const a=this.fromRdfHandlers[n.datatype.value];return a?a.fromRdf(n,r):n.value}toRdf(n,r){const a=this.toRdfHandlers[typeof n];if(a)for(const s of a){const o=s.toRdf(n,r);if(o)return o}throw new Error(`Invalid JavaScript value: '${n}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}};return $f.Translator=t,$f}var u8;function _Te(){if(u8)return Bf;u8=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.TypeHandlerBoolean=void 0;const t=Sl();let e=class fJ{fromRdf(r,a){switch(r.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return a&&t.Translator.incorrectRdfDataType(r),!1}toRdf(r,{datatype:a,dataFactory:s}){return s.literal(r?"true":"false",a||s.namedNode(fJ.TYPE))}};return e.TYPE="http://www.w3.org/2001/XMLSchema#boolean",Bf.TypeHandlerBoolean=e,Bf}var Uf={},c8;function bTe(){if(c8)return Uf;c8=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.TypeHandlerDate=void 0;const t=Sl();let e=class Ex{fromRdf(r,a){switch(a&&!r.value.match(Ex.VALIDATORS[r.datatype.value.substr(33,r.datatype.value.length)])&&t.Translator.incorrectRdfDataType(r),r.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(r.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const s=r.value.split("-");return new Date(0,parseInt(s[0],10)-1,parseInt(s[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(r.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(r.value+"-01");default:return new Date(r.value)}}toRdf(r,{datatype:a,dataFactory:s}){if(a=a||s.namedNode(Ex.TYPES[0]),!(r instanceof Date))return null;const o=r;let u;switch(a.value){case"http://www.w3.org/2001/XMLSchema#gDay":u=String(o.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":u=o.getUTCMonth()+1+"-"+o.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":u=String(o.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":u=o.getUTCFullYear()+"-"+(o.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":u=o.toISOString().replace(/T.*$/,"");break;default:u=o.toISOString()}return s.literal(u,a)}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],e.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},Uf.TypeHandlerDate=e,Uf}var kf={},l8;function vTe(){if(l8)return kf;l8=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.TypeHandlerNumberDouble=void 0;const t=Sl();let e=class hJ{fromRdf(r,a){const s=parseFloat(r.value);return a&&isNaN(s)&&t.Translator.incorrectRdfDataType(r),s}toRdf(r,{datatype:a,dataFactory:s}){return a=a||s.namedNode(hJ.TYPES[0]),isNaN(r)?s.literal("NaN",a):isFinite(r)?r%1===0?null:s.literal(r.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),a):s.literal(r>0?"INF":"-INF",a)}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],kf.TypeHandlerNumberDouble=e,kf}var Vf={},d8;function wTe(){if(d8)return Vf;d8=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.TypeHandlerNumberInteger=void 0;const t=Sl();let e=class bg{fromRdf(r,a){const s=parseInt(r.value,10);return a&&(isNaN(s)||r.value.indexOf(".")>=0)&&t.Translator.incorrectRdfDataType(r),s}toRdf(r,{datatype:a,dataFactory:s}){return s.literal(String(r),a||(r<=bg.MAX_INT&&r>=bg.MIN_INT?s.namedNode(bg.TYPES[0]):s.namedNode(bg.TYPES[1])))}};return e.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],e.MAX_INT=2147483647,e.MIN_INT=-2147483648,Vf.TypeHandlerNumberInteger=e,Vf}var Hf={},f8;function STe(){if(f8)return Hf;f8=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.TypeHandlerString=void 0;let t=class{fromRdf(n){return n.value}toRdf(n,{datatype:r,dataFactory:a}){return a.literal(n,r)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],Hf.TypeHandlerString=t,Hf}var h8;function p8(){return h8||(h8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(_Te(),t),n(bTe(),t),n(vTe(),t),n(wTe(),t),n(STe(),t)}(fE)),fE}var hE={},y8;function TTe(){return y8||(y8=1,Object.defineProperty(hE,"__esModule",{value:!0})),hE}var m8;function ETe(){return m8||(m8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(p,m,y,g){g===void 0&&(g=y);var _=Object.getOwnPropertyDescriptor(m,y);(!_||("get"in _?!m.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(p,g,_)}:function(p,m,y,g){g===void 0&&(g=y),p[g]=m[y]}),n=P&&P.__exportStar||function(p,m){for(var y in p)y!=="default"&&!Object.prototype.hasOwnProperty.call(m,y)&&e(m,p,y)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedJavaScriptPrimitives=t.getSupportedRdfDatatypes=t.getTermRaw=t.toRdf=t.fromRdf=void 0;const r=Rt,a=p8(),s=Sl();n(p8(),t),n(TTe(),t),n(Sl(),t);const o=new r.DataFactory,u=new s.Translator;u.registerHandler(new a.TypeHandlerString,a.TypeHandlerString.TYPES.map(p=>o.namedNode(p)),["string"]),u.registerHandler(new a.TypeHandlerBoolean,[a.TypeHandlerBoolean.TYPE].map(p=>o.namedNode(p)),["boolean"]),u.registerHandler(new a.TypeHandlerNumberDouble,a.TypeHandlerNumberDouble.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerNumberInteger,a.TypeHandlerNumberInteger.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerDate,a.TypeHandlerDate.TYPES.map(p=>o.namedNode(p)),["object"]);function l(p,m){return u.fromRdf(p,m)}t.fromRdf=l;function c(p,m){return m&&"namedNode"in m&&(m={dataFactory:m}),m=m||{},m&&!m.dataFactory&&(m.dataFactory=o),u.toRdf(p,m)}t.toRdf=c;function d(p,m){return p.termType==="Literal"?l(p,m):p.value}t.getTermRaw=d;function f(){return u.getSupportedRdfDatatypes()}t.getSupportedRdfDatatypes=f;function h(){return u.getSupportedJavaScriptPrimitives()}t.getSupportedJavaScriptPrimitives=h}(dE)),dE}var pE={},Qf={},yE,g8;function pJ(){if(g8)return yE;g8=1;var{Buffer:t}=Ma,e={},n=e.LEFT_BRACE=1,r=e.RIGHT_BRACE=2,a=e.LEFT_BRACKET=3,s=e.RIGHT_BRACKET=4,o=e.COLON=5,u=e.COMMA=6,l=e.TRUE=7,c=e.FALSE=8,d=e.NULL=9,f=e.STRING=10,h=e.NUMBER=11,p=e.START=17,m=e.STOP=18,y=e.TRUE1=33,g=e.TRUE2=34,_=e.TRUE3=35,v=e.FALSE1=49,b=e.FALSE2=50,w=e.FALSE3=51,S=e.FALSE4=52,A=e.NULL1=65,x=e.NULL2=66,M=e.NULL3=67,I=e.NUMBER1=81,N=e.NUMBER3=83,F=e.STRING1=97,D=e.STRING2=98,V=e.STRING3=99,k=e.STRING4=100,U=e.STRING5=101,H=e.STRING6=102,X=e.VALUE=113,ee=e.KEY=114,fe=e.OBJECT=129,Te=e.ARRAY=130,De=92,Ve=47,le=8,ue=12,Ie=10,Ne=13,we=9,Ae=64*1024;function Se(B){return t.alloc?t.alloc(B):new t(B)}function z(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=Se(Ae),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=X,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:Se(2),3:Se(3),4:Se(4)},this.offset=-1}z.toknam=function(B){for(var T=Object.keys(e),O=0,$=T.length;O<$;O++){var G=T[O];if(e[G]===B)return G}return B&&"0x"+B.toString(16)};var L=z.prototype;return L.onError=function(B){throw B},L.charError=function(B,T){this.tState=m,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(B[T]))+" at position "+T+" in state "+z.toknam(this.tState)))},L.appendStringChar=function(B){this.stringBufferOffset>=Ae&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=B},L.appendStringBuf=function(B,T,O){var $=B.length;typeof T=="number"&&(typeof O=="number"?O<0?$=B.length-T+O:$=O-T:$=B.length-T),$<0&&($=0),this.stringBufferOffset+$>Ae&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),B.copy(this.stringBuffer,this.stringBufferOffset,T,O),this.stringBufferOffset+=$},L.write=function(B){typeof B=="string"&&(B=new t(B));for(var T,O=0,$=B.length;O<$;O++)if(this.tState===p){if(T=B[O],this.offset++,T===123)this.onToken(n,"{");else if(T===125)this.onToken(r,"}");else if(T===91)this.onToken(a,"[");else if(T===93)this.onToken(s,"]");else if(T===58)this.onToken(o,":");else if(T===44)this.onToken(u,",");else if(T===116)this.tState=y;else if(T===102)this.tState=v;else if(T===110)this.tState=A;else if(T===34)this.string="",this.stringBufferOffset=0,this.tState=F;else if(T===45)this.string="-",this.tState=I;else if(T>=48&&T<64)this.string=String.fromCharCode(T),this.tState=N;else if(!(T===32||T===9||T===10||T===13))return this.charError(B,O)}else if(this.tState===F)if(T=B[O],this.bytes_remaining>0){for(var G=0;G<this.bytes_remaining;G++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+G]=B[G];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,O=O+G-1}else if(this.bytes_remaining===0&&T>=128){if(T<=193||T>244)return this.onError(new Error("Invalid UTF-8 character at position "+O+" in state "+z.toknam(this.tState)));if(T>=194&&T<=223&&(this.bytes_in_sequence=2),T>=224&&T<=239&&(this.bytes_in_sequence=3),T>=240&&T<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+O>B.length){for(var Q=0;Q<=B.length-1-O;Q++)this.temp_buffs[this.bytes_in_sequence][Q]=B[O+Q];this.bytes_remaining=O+this.bytes_in_sequence-B.length,O=B.length-1}else this.appendStringBuf(B,O,O+this.bytes_in_sequence),O=O+this.bytes_in_sequence-1}else if(T===34)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(f,this.string),this.offset+=t.byteLength(this.string,"utf8")+1,this.string=void 0;else if(T===92)this.tState=D;else if(T>=32)this.appendStringChar(T);else return this.charError(B,O);else if(this.tState===D)if(T=B[O],T===34)this.appendStringChar(T),this.tState=F;else if(T===92)this.appendStringChar(De),this.tState=F;else if(T===47)this.appendStringChar(Ve),this.tState=F;else if(T===98)this.appendStringChar(le),this.tState=F;else if(T===102)this.appendStringChar(ue),this.tState=F;else if(T===110)this.appendStringChar(Ie),this.tState=F;else if(T===114)this.appendStringChar(Ne),this.tState=F;else if(T===116)this.appendStringChar(we),this.tState=F;else if(T===117)this.unicode="",this.tState=V;else return this.charError(B,O);else if(this.tState===V||this.tState===k||this.tState===U||this.tState===H)if(T=B[O],T>=48&&T<64||T>64&&T<=70||T>96&&T<=102){if(this.unicode+=String.fromCharCode(T),this.tState++===H){var Y=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&Y>=56320&&Y<57344?(this.appendStringBuf(new t(String.fromCharCode(this.highSurrogate,Y))),this.highSurrogate=void 0):this.highSurrogate===void 0&&Y>=55296&&Y<56320?this.highSurrogate=Y:(this.highSurrogate!==void 0&&(this.appendStringBuf(new t(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new t(String.fromCharCode(Y)))),this.tState=F}}else return this.charError(B,O);else if(this.tState===I||this.tState===N)switch(T=B[O],T){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(T),this.tState=N;break;default:this.tState=p;var ie=this.numberReviver(this.string);if(ie)return ie;this.offset+=this.string.length-1,this.string=void 0,O--;break}else if(this.tState===y)if(B[O]===114)this.tState=g;else return this.charError(B,O);else if(this.tState===g)if(B[O]===117)this.tState=_;else return this.charError(B,O);else if(this.tState===_)if(B[O]===101)this.tState=p,this.onToken(l,!0),this.offset+=3;else return this.charError(B,O);else if(this.tState===v)if(B[O]===97)this.tState=b;else return this.charError(B,O);else if(this.tState===b)if(B[O]===108)this.tState=w;else return this.charError(B,O);else if(this.tState===w)if(B[O]===115)this.tState=S;else return this.charError(B,O);else if(this.tState===S)if(B[O]===101)this.tState=p,this.onToken(c,!1),this.offset+=4;else return this.charError(B,O);else if(this.tState===A)if(B[O]===117)this.tState=x;else return this.charError(B,O);else if(this.tState===x)if(B[O]===108)this.tState=M;else return this.charError(B,O);else if(this.tState===M)if(B[O]===108)this.tState=p,this.onToken(d,null),this.offset+=3;else return this.charError(B,O)},L.onToken=function(B,T){},L.parseError=function(B,T){this.tState=m,this.onError(new Error("Unexpected "+z.toknam(B)+(T?"("+JSON.stringify(T)+")":"")+" in state "+z.toknam(this.state)))},L.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},L.pop=function(){var B=this.value,T=this.stack.pop();this.value=T.value,this.key=T.key,this.mode=T.mode,this.emit(B),this.mode||(this.state=X)},L.emit=function(B){this.mode&&(this.state=u),this.onValue(B)},L.onValue=function(B){},L.onToken=function(B,T){if(this.state===X)if(B===f||B===h||B===l||B===c||B===d)this.value&&(this.value[this.key]=T),this.emit(T);else if(B===n)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ee,this.mode=fe;else if(B===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=Te,this.state=X;else if(B===r)if(this.mode===fe)this.pop();else return this.parseError(B,T);else if(B===s)if(this.mode===Te)this.pop();else return this.parseError(B,T);else return this.parseError(B,T);else if(this.state===ee)if(B===f)this.key=T,this.state=o;else if(B===r)this.pop();else return this.parseError(B,T);else if(this.state===o)if(B===o)this.state=X;else return this.parseError(B,T);else if(this.state===u)if(B===u)this.mode===Te?(this.key++,this.state=X):this.mode===fe&&(this.state=ee);else if(B===s&&this.mode===Te||B===r&&this.mode===fe)this.pop();else return this.parseError(B,T);else return this.parseError(B,T)},L.numberReviver=function(B){var T=Number(B);if(isNaN(T))return this.charError(buffer,i);B.match(/[0-9]+/)==B&&T.toString()!=B?this.onToken(f,B):this.onToken(h,T)},z.C=e,yE=z,yE}var _8;function ATe(){if(_8)return Qf;_8=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.SparqlJsonParser=void 0;const t=Rt,e=Dt,n=pJ();let r=class{constructor(s){var o;s=s||{},this.dataFactory=s.dataFactory||new t.DataFactory,this.prefixVariableQuestionMark=!!s.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(o=s.suppressMissingStreamResultsError)!==null&&o!==void 0?o:!0}parseJsonResults(s){return s.results.bindings.map(o=>this.parseJsonBindings(o))}parseJsonResultsStream(s){const o=f=>d.emit("error",f);s.on("error",o);const u=new n;u.onError=o;let l=!1,c=!1;u.onValue=f=>{if(u.key==="vars"&&u.stack.length===2&&u.stack[1].key==="head")d.emit("variables",f.map(h=>this.dataFactory.variable(h))),l=!0;else if(u.key==="results"&&u.stack.length===1)c=!0;else if(typeof u.key=="number"&&u.stack.length===3&&u.stack[1].key==="results"&&u.stack[2].key==="bindings")try{d.push(this.parseJsonBindings(f))}catch(h){d.emit("error",h)}else u.key==="metadata"&&u.stack.length===1&&d.emit("metadata",f)};const d=s.on("end",f=>{!c&&!this.suppressMissingStreamResultsError?d.emit("error",new Error("No valid SPARQL query results were found.")):l||d.emit("variables",[])}).pipe(new e.Transform({objectMode:!0,transform(f,h,p){u.write(f),p()}}));return d}parseJsonBindings(s){const o={};for(const u in s){const l=s[u];o[this.prefixVariableQuestionMark?"?"+u:u]=this.parseJsonValue(l)}return o}parseJsonValue(s){let o;switch(s.type){case"bnode":o=this.dataFactory.blankNode(s.value);break;case"literal":s["xml:lang"]?o=this.dataFactory.literal(s.value,s["xml:lang"]):s.datatype?o=this.dataFactory.literal(s.value,this.dataFactory.namedNode(s.datatype)):o=this.dataFactory.literal(s.value);break;case"typed-literal":o=this.dataFactory.literal(s.value,this.dataFactory.namedNode(s.datatype));break;case"triple":const u=s.value;if(!u||!u.subject||!u.predicate||!u.object)throw new Error("Invalid quoted triple: "+JSON.stringify(s));o=this.dataFactory.quad(this.parseJsonValue(u.subject),this.parseJsonValue(u.predicate),this.parseJsonValue(u.object));break;default:o=this.dataFactory.namedNode(s.value);break}return o}parseJsonBoolean(s){if("boolean"in s)return s.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(s){return new Promise((o,u)=>{const l=new n;l.onError=u,l.onValue=c=>{l.key==="boolean"&&typeof c=="boolean"&&l.stack.length===1&&o(c)},s.on("error",u).on("data",c=>l.write(c)).on("end",()=>u(new Error("No valid ASK response was found.")))})}};return Qf.SparqlJsonParser=r,Qf}var b8;function yJ(){return b8||(b8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ATe(),t)}(pE)),pE}var v8;function OTe(){if(v8)return qf;v8=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.Converter=void 0;const t=ETe(),e=yJ();let n=class ls{constructor(a){a=a||{delimiter:"_"},a.prefixVariableQuestionMark=!1,this.delimiter=a.delimiter||"_",this.parser=new e.SparqlJsonParser(a),this.materializeRdfJsTerms=a.materializeRdfJsTerms}static addValueToTree(a,s,o,u,l,c){const d=s[0],f=u?u+c+d:d,h=l.singularizeVariables[f];if(s.length===1)h?a[d]||(a[d]=o):(a[d]||(a[d]=[]),a[d].push(o));else{let p;h?(a[d]||(a[d]={}),p=a[d]):(a[d]||(a[d]=[{}]),p=a[d][0]),ls.addValueToTree(p,s.slice(1),o,f,l,c)}}static mergeTrees(a,s){if(typeof a!=typeof s)throw new Error(`Two incompatible tree nodes were found: ${typeof a} and ${typeof s}`);if(Array.isArray(a)!==Array.isArray(s))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(a)} and Array?${Array.isArray(s)}`);if(typeof a=="object"&&typeof s=="object"){if(a.termType&&s.termType)return a.equals(s)?{valid:!0,result:a}:{valid:!1,result:a};if(Array.isArray(a)&&Array.isArray(s)){if(a.length>0){const o=[];let u=!1;for(const l of a){const c=ls.mergeTrees(l,s[0]);c.valid?(u=!0,o.push(c.result)):o.push(l)}if(u)return{valid:!0,result:o}}return{valid:!0,result:a.concat(s)}}else{const o={};for(const u in s)o[u]=s[u];for(const u in a)if(o[u]){const l=ls.mergeTrees(a[u],o[u]);if(l.valid)o[u]=l.result;else return{valid:!1,result:a}}else o[u]=a[u];return{valid:!0,result:o}}}else throw new Error(`Unmergable tree types: ${typeof a} and ${typeof s}`)}static materializeTree(a){if(a.termType)return(0,t.getTermRaw)(a);if(Array.isArray(a))return a.map(ls.materializeTree);{const s={};for(const o in a)s[o]=ls.materializeTree(a[o]);return s}}sparqlJsonResultsToTree(a,s){return this.bindingsToTree(this.parser.parseJsonResults(a),s||{singularizeVariables:{}})}bindingsToTree(a,s){const o=s&&s.singularizeVariables[""];let u=o?{}:[];for(const l of a){const c=o?{}:[{}];for(const d in l){const f=d.split(this.delimiter),h=l[d];ls.addValueToTree(o?c:c[0],f,h,"",s,this.delimiter)}u=ls.mergeTrees(u,c).result}return this.materializeRdfJsTerms&&(u=ls.materializeTree(u)),u}};return qf.Converter=n,qf}var w8;function RTe(){return w8||(w8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(OTe(),t)}(lE)),lE}var S8;function T8(){if(S8)return Ff;S8=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.ActorQueryResultSerializeTree=void 0;const t=Va(),e=Ut,n=lt,r=Dt,a=RTe();let s=class mJ extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u)}static async bindingsStreamToGraphQl(u,l,c){const d=n.ActionContext.ensureActionContext(l),f=new a.Converter(c),h={singularizeVariables:d.get(e.KeysInitQuery.graphqlSingularizeVariables)??{}};return f.bindingsToTree(await u.map(p=>Object.fromEntries([...p].map(([m,y])=>[m.value,y]))).toArray(),h)}async testHandleChecked(u){if(u.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(u,l){const c=new r.Readable;return c._read=()=>{c._read=()=>{},mJ.bindingsStreamToGraphQl(u.bindingsStream,u.context,{materializeRdfJsTerms:!0}).then(d=>{c.push(JSON.stringify(d,null,"  ")),c.push(null)}).catch(d=>c.emit("error",d))},{data:c}}};return Ff.ActorQueryResultSerializeTree=s,Ff}var E8;function xTe(){return E8||(E8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(s,o,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(o,u);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,l,c)}:function(s,o,u,l){l===void 0&&(l=u),s[l]=o[u]}),n=P&&P.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,s,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindingsStreamToGraphQl=void 0;const r=T8(),{bindingsStreamToGraphQl:a}=r.ActorQueryResultSerializeTree;t.bindingsStreamToGraphQl=a,n(T8(),t)}(cE)),cE}var mE={},zf={},A8;function ITe(){if(A8)return zf;A8=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.MediatorCombineUnion=void 0;const t=lt;let e=class extends t.Mediator{constructor(r){super(r),this.combiner=this.createCombiner()}async mediate(r){let a;try{a=this.publish(r)}catch{a=[]}if(this.filterErrors){const o=[];for(const u of a)try{await u.reply,o.push(u)}catch{}a=o}await Promise.all(a.map(({reply:o})=>o));const s=await Promise.all(a.map(o=>o.actor.runObservable(r)));return this.combiner(s)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return r=>{const a={};return a[this.field]={},[{}].concat(r.map(s=>s[this.field])).forEach(s=>{a[this.field]={...s,...a[this.field]}}),a}}};return zf.MediatorCombineUnion=e,zf}var O8;function Vs(){return O8||(O8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ITe(),t)}(mE)),mE}var gE={},Gf={},R8;function PTe(){if(R8)return Gf;R8=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.MediatorNumber=void 0;const t=lt;let e=class extends t.Mediator{constructor(r){super(r),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return r=>r.reduce((a,s,o)=>{const u=this.getOrDefault(s[this.field],Number.POSITIVE_INFINITY);return u!==null&&(Number.isNaN(a[0])||a[0]>u)?[u,o]:a},[Number.NaN,-1])[1];case"max":return r=>r.reduce((a,s,o)=>{const u=this.getOrDefault(s[this.field],Number.NEGATIVE_INFINITY);return u!==null&&(Number.isNaN(a[0])||a[0]<u)?[u,o]:a},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(r,a){return r===void 0?a:r}async mediateWith(r,a){let s=a.map(({reply:c})=>c);const o=[];if(this.ignoreErrors){const c={};c[this.field]=null,s=s.map(d=>d.catch(f=>(o.push(f),c)))}const u=await Promise.all(s),l=this.indexPicker(u);if(l<0)throw new Error(`All actors rejected their test in ${this.name}
${o.map(c=>c.message).join(`
`)}`);return a[l].actor}};return Gf.MediatorNumber=e,Gf}var x8;function Wf(){return x8||(x8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(PTe(),t)}(gE)),gE}var _E={},Kf={},bE={},Jf={},ss={},I8;function dN(){if(I8)return ss;I8=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.ActorDereferenceBase=ss.isHardError=ss.emptyReadable=void 0;const t=Ut,e=lt,n=Dt;function r(){const o=new n.Readable;return o.push(null),o}ss.emptyReadable=r;function a(o){return!o.get(t.KeysInitQuery.lenient)}ss.isHardError=a;let s=class extends e.Actor{constructor(u){super(u)}async dereferenceErrorHandler(u,l,c){if(a(u.context))throw l;return this.logWarn(u.context,l.message),{...c,data:r()}}};return ss.ActorDereferenceBase=s,ss}var P8;function NTe(){if(P8)return Jf;P8=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.ActorDereference=void 0;const t=dN();let e=class extends t.ActorDereferenceBase{constructor(r){super(r)}async handleDereferenceErrors(r,a,s,o=0){return this.dereferenceErrorHandler(r,a,{url:r.url,exists:!1,headers:s,requestTime:o})}};return Jf.ActorDereference=e,Jf}var Xo={},N8;function DTe(){if(N8)return Xo;N8=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.ActorDereferenceParse=Xo.getMediaTypeFromExtension=void 0;const t=Dt,e=dN();function n(a,s){const o=a.lastIndexOf(".");return o>=0&&(s==null?void 0:s[a.slice(o+1)])||""}Xo.getMediaTypeFromExtension=n;let r=class extends e.ActorDereferenceBase{constructor(s){super(s)}async test(s){return!0}handleDereferenceStreamErrors(s,o){return(0,e.isHardError)(s.context)||(o.on("error",u=>{this.logWarn(s.context,u.message,()=>({url:s.url})),o.push(null)}),o=o.pipe(new t.PassThrough({objectMode:!0}))),o}async run(s){var c,d;const{context:o}=s,u=await this.mediatorDereference.mediate({...s,mediaTypes:async()=>{var f,h;return(h=await((f=this.mediatorParseMediatypes)==null?void 0:f.mediate({context:o,mediaTypes:!0})))==null?void 0:h.mediaTypes}});let l;try{l=(await this.mediatorParse.mediate({context:o,handle:{context:o,...u,metadata:await this.getMetadata(u)},handleMediaType:u.mediaType||n(u.url,this.mediaMappings)||s.mediaType})).handle,l.data=this.handleDereferenceStreamErrors(s,l.data)}catch(f){await((d=(c=u.data).close)==null?void 0:d.call(c)),l=await this.dereferenceErrorHandler(s,f,{})}return{...u,...l}}};return Xo.ActorDereferenceParse=r,Xo}var D8;function fN(){return D8||(D8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(NTe(),t),n(DTe(),t),n(dN(),t)}(bE)),bE}var C8;function CTe(){if(C8)return Kf;C8=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.ActorDereferenceFallback=void 0;const t=fN();let e=class extends t.ActorDereference{constructor(r){super(r)}async test(r){return!0}async run(r){return this.handleDereferenceErrors(r,new Error(`Could not dereference '${r.url}'`))}};return Kf.ActorDereferenceFallback=e,Kf}var L8;function LTe(){return L8||(L8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(CTe(),t)}(_E)),_E}var vE={},Xf={},wE={},Yf={},j8;function jTe(){if(j8)return Yf;j8=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.ActorRdfJoinEntriesSort=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return Yf.ActorRdfJoinEntriesSort=e,Yf}var M8;function MTe(){return M8||(M8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(jTe(),t)}(wE)),wE}var F8;function FTe(){if(F8)return Xf;F8=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.ActorRdfJoinEntriesSortCardinality=void 0;const t=MTe();let e=class extends t.ActorRdfJoinEntriesSort{constructor(r){super(r)}async test(r){return!0}async run(r){return{entries:[...r.entries].sort((s,o)=>s.metadata.cardinality.value-o.metadata.cardinality.value)}}};return Xf.ActorRdfJoinEntriesSortCardinality=e,Xf}var q8;function qTe(){return q8||(q8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(FTe(),t)}(vE)),vE}var SE={},Yo={},TE={},Zf={},B8;function BTe(){if(B8)return Zf;B8=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.ActorRdfJoinSelectivity=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return Zf.ActorRdfJoinSelectivity=e,Zf}var $8;function $Te(){return $8||($8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(BTe(),t)}(TE)),TE}var U8;function UTe(){if(U8)return Yo;U8=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.JoinTypes=Yo.ActorRdfJoinSelectivityVariableCounting=void 0;const t=$Te(),e=Pt();let n=class hu extends t.ActorRdfJoinSelectivity{constructor(s){super(s)}async test(s){return{accuracy:.5}}static getPatternCost(s){let o=1;return s.subject.termType==="Variable"&&(o+=4),(s.predicate.termType==="Variable"||s.type===e.Algebra.types.PATH)&&(o+=1),s.object.termType==="Variable"&&(o+=2),s.graph.termType==="Variable"&&(o+=1),o/9}static getJoinTypes(s,o){const u=[];return s.subject.termType==="Variable"?(s.subject.equals(o.subject)&&u.push(r.unboundSS),o.type==="pattern"&&s.subject.equals(o.predicate)&&u.push(r.unboundSP),s.subject.equals(o.object)&&u.push(r.unboundSO),s.subject.equals(o.graph)&&u.push(r.unboundSG)):(s.subject.equals(o.subject)&&u.push(r.boundSS),o.type==="pattern"&&s.subject.equals(o.predicate)&&u.push(r.boundSP),s.subject.equals(o.object)&&u.push(r.boundSO),s.subject.equals(o.graph)&&u.push(r.boundSG)),s.type==="pattern"&&(s.predicate.termType==="Variable"?(s.predicate.equals(o.subject)&&u.push(r.unboundPS),o.type==="pattern"&&s.predicate.equals(o.predicate)&&u.push(r.unboundPP),s.predicate.equals(o.object)&&u.push(r.unboundPO),s.predicate.equals(o.graph)&&u.push(r.unboundPG)):(s.predicate.equals(o.subject)&&u.push(r.boundPS),o.type==="pattern"&&s.predicate.equals(o.predicate)&&u.push(r.boundPP),s.predicate.equals(o.object)&&u.push(r.boundPO),s.predicate.equals(o.graph)&&u.push(r.boundPG))),s.object.termType==="Variable"?(s.object.equals(o.subject)&&u.push(r.unboundOS),o.type==="pattern"&&s.object.equals(o.predicate)&&u.push(r.unboundOP),s.object.equals(o.object)&&u.push(r.unboundOO),s.object.equals(o.graph)&&u.push(r.unboundOG)):(s.object.equals(o.subject)&&u.push(r.boundOS),o.type==="pattern"&&s.object.equals(o.predicate)&&u.push(r.boundOP),s.object.equals(o.object)&&u.push(r.boundOO),s.object.equals(o.graph)&&u.push(r.boundOG)),s.graph.termType==="Variable"?(s.graph.equals(o.subject)&&u.push(r.unboundGS),o.type==="pattern"&&s.graph.equals(o.predicate)&&u.push(r.unboundGP),s.graph.equals(o.object)&&u.push(r.unboundGO),s.graph.equals(o.graph)&&u.push(r.unboundGG)):(s.graph.equals(o.subject)&&u.push(r.boundGS),o.type==="pattern"&&s.graph.equals(o.predicate)&&u.push(r.boundGP),s.graph.equals(o.object)&&u.push(r.boundGO),s.graph.equals(o.graph)&&u.push(r.boundGG)),u}static getOperationsPairwiseJoinCost(s,o){let u=hu.MAX_PAIRWISE_COST;for(const l of hu.getJoinTypes(s,o))switch(l){case r.boundSS:u-=2*2;break;case r.boundSP:u-=3*2;break;case r.boundSO:u-=1*2;break;case r.boundSG:u-=3*2;break;case r.boundPS:u-=3*2;break;case r.boundPP:return 1;case r.boundPO:u-=3*2;break;case r.boundPG:u-=3*2;break;case r.boundOS:u-=1*2;break;case r.boundOP:u-=3*2;break;case r.boundOO:u-=1*2;break;case r.boundOG:u-=3*2;break;case r.boundGS:u-=3*2;break;case r.boundGP:u-=3*2;break;case r.boundGO:u-=3*2;break;case r.boundGG:u-=3*2;break;case r.unboundSS:u-=2;break;case r.unboundSP:u-=3;break;case r.unboundSO:u-=1;break;case r.unboundSG:u-=3;break;case r.unboundPS:u-=3;break;case r.unboundPP:u-=3;break;case r.unboundPO:u-=3;break;case r.unboundPG:u-=3;break;case r.unboundOS:u-=1;break;case r.unboundOP:u-=3;break;case r.unboundOO:u-=1;break;case r.unboundOG:u-=3;break;case r.unboundGS:u-=3;break;case r.unboundGP:u-=3;break;case r.unboundGO:u-=3;break;case r.unboundGG:u-=3;break}return u/hu.MAX_PAIRWISE_COST}static getOperationsJoinCost(s){const o=[];for(const c of s)e.Util.recurseOperation(c,{[e.Algebra.types.PATTERN](d){return o.push(d),!1},[e.Algebra.types.PATH](d){return o.push(d),!1}});let u=0,l=0;for(const c of o)for(const d of o)c!==d&&(u+=hu.getOperationsPairwiseJoinCost(c,d),l++);return l===0?1:u/l*o.reduce((c,d)=>c*hu.getPatternCost(d),1)}async run(s){return s.entries.length<=1?{selectivity:1}:{selectivity:hu.getOperationsJoinCost(s.entries.map(o=>o.operation))}}};Yo.ActorRdfJoinSelectivityVariableCounting=n,n.MAX_PAIRWISE_COST=41*2;var r;return function(a){a[a.boundSS=0]="boundSS",a[a.boundSP=1]="boundSP",a[a.boundSO=2]="boundSO",a[a.boundSG=3]="boundSG",a[a.boundPS=4]="boundPS",a[a.boundPP=5]="boundPP",a[a.boundPO=6]="boundPO",a[a.boundPG=7]="boundPG",a[a.boundOS=8]="boundOS",a[a.boundOP=9]="boundOP",a[a.boundOO=10]="boundOO",a[a.boundOG=11]="boundOG",a[a.boundGS=12]="boundGS",a[a.boundGP=13]="boundGP",a[a.boundGO=14]="boundGO",a[a.boundGG=15]="boundGG",a[a.unboundSS=16]="unboundSS",a[a.unboundSP=17]="unboundSP",a[a.unboundSO=18]="unboundSO",a[a.unboundSG=19]="unboundSG",a[a.unboundPS=20]="unboundPS",a[a.unboundPP=21]="unboundPP",a[a.unboundPO=22]="unboundPO",a[a.unboundPG=23]="unboundPG",a[a.unboundOS=24]="unboundOS",a[a.unboundOP=25]="unboundOP",a[a.unboundOO=26]="unboundOO",a[a.unboundOG=27]="unboundOG",a[a.unboundGS=28]="unboundGS",a[a.unboundGP=29]="unboundGP",a[a.unboundGO=30]="unboundGO",a[a.unboundGG=31]="unboundGG"}(r||(Yo.JoinTypes=r={})),Yo}var k8;function kTe(){return k8||(k8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(UTe(),t)}(SE)),SE}var EE={},eh={},AE={},th={},V8;function VTe(){if(V8)return th;V8=1,Object.defineProperty(th,"__esModule",{value:!0}),th.ActorRdfMetadata=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return th.ActorRdfMetadata=e,th}var H8;function gJ(){return H8||(H8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(VTe(),t)}(AE)),AE}var Q8;function HTe(){if(Q8)return eh;Q8=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.ActorRdfMetadataPrimaryTopic=void 0;const t=gJ(),e=Dt;let n=class extends t.ActorRdfMetadata{constructor(a){super(a)}async test(a){if(a.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(a){const s=new e.Readable({objectMode:!0}),o=new e.Readable({objectMode:!0}),u=()=>{s._read=o._read=()=>{},a.quads.on("error",f=>{s.emit("error",f),o.emit("error",f)});const l={};let c;const d={};a.quads.on("data",f=>{f.predicate.value==="http://rdfs.org/ns/void#subset"&&f.object.value===a.url?c=f.subject.value:f.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(d[f.object.value]=f.subject.value);let h=l[f.graph.value];h||(h=l[f.graph.value]=[]),h.push(f)}),a.quads.on("end",()=>{const f=c?d[c]:void 0;for(const h in l)if(h===f){for(const p of l[h])o.push(p);if(this.metadataToData)for(const p of l[h])s.push(p)}else{for(const p of l[h])s.push(p);if(!f&&this.dataToMetadataOnInvalidMetadataGraph)for(const p of l[h])o.push(p)}s.push(null),o.push(null)})};return s._read=o._read=()=>{u()},{data:s,metadata:o}}};return eh.ActorRdfMetadataPrimaryTopic=n,eh}var z8;function QTe(){return z8||(z8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(HTe(),t)}(EE)),EE}var OE={},rh={},G8;function zTe(){if(G8)return rh;G8=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.ActorRdfMetadataAll=void 0;const t=gJ(),e=Dt;let n=class extends t.ActorRdfMetadata{constructor(a){super(a)}async test(a){return!0}async run(a){const s=new e.Readable({objectMode:!0}),o=new e.Readable({objectMode:!0});a.quads.on("error",l=>{s.emit("error",l),o.emit("error",l)}),a.quads.on("end",()=>{s.push(null),o.push(null)});const u=s._read=o._read=l=>{for(;l>0;){const c=a.quads.read();if(c===null)return a.quads.once("readable",()=>u(l));l--,s.push(c),o.push(c)}};return{data:s,metadata:o}}};return rh.ActorRdfMetadataAll=n,rh}var W8;function GTe(){return W8||(W8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(zTe(),t)}(OE)),OE}var RE={},nh={},xE={},ih={},K8;function WTe(){if(K8)return ih;K8=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.ActorRdfMetadataAccumulate=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return ih.ActorRdfMetadataAccumulate=e,ih}var J8;function Kw(){return J8||(J8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(WTe(),t)}(xE)),xE}var X8;function KTe(){if(X8)return nh;X8=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.ActorRdfMetadataAccumulateCanContainUndefs=void 0;const t=Kw();let e=class extends t.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return!0}async run(r){if(r.mode==="initialize")return{metadata:{canContainUndefs:!1}};let a=r.accumulatedMetadata.canContainUndefs;return r.appendingMetadata.canContainUndefs&&(a=!0),{metadata:{canContainUndefs:a}}}};return nh.ActorRdfMetadataAccumulateCanContainUndefs=e,nh}var Y8;function JTe(){return Y8||(Y8=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(KTe(),t)}(RE)),RE}var IE={},ah={},Z8;function XTe(){if(Z8)return ah;Z8=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.ActorRdfMetadataAccumulateCardinality=void 0;const t=Kw();let e=class extends t.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return!0}async run(r){if(r.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const a={...r.accumulatedMetadata.cardinality};if(a.dataset)if(r.appendingMetadata.cardinality.dataset){if(a.dataset!==r.appendingMetadata.cardinality.dataset&&r.appendingMetadata.subsetOf===a.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(a.dataset===r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:a}};delete a.dataset}else return{metadata:{cardinality:a}};return!r.appendingMetadata.cardinality||!Number.isFinite(r.appendingMetadata.cardinality.value)?(a.type="estimate",a.value=Number.POSITIVE_INFINITY):(r.appendingMetadata.cardinality.type==="estimate"&&(a.type="estimate"),a.value+=r.appendingMetadata.cardinality.value),{metadata:{cardinality:a}}}};return ah.ActorRdfMetadataAccumulateCardinality=e,ah}var eF;function YTe(){return eF||(eF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(XTe(),t)}(IE)),IE}var PE={},sh={},tF;function ZTe(){if(tF)return sh;tF=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.ActorRdfMetadataAccumulatePageSize=void 0;const t=Kw();let e=class extends t.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return!0}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in r.accumulatedMetadata||"pageSize"in r.appendingMetadata?{pageSize:(r.accumulatedMetadata.pageSize??0)+(r.appendingMetadata.pageSize??0)}:{}}}}};return sh.ActorRdfMetadataAccumulatePageSize=e,sh}var rF;function eEe(){return rF||(rF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ZTe(),t)}(PE)),PE}var NE={},oh={},nF;function tEe(){if(nF)return oh;nF=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.ActorRdfMetadataAccumulateRequestTime=void 0;const t=Kw();let e=class extends t.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return!0}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in r.accumulatedMetadata||"requestTime"in r.appendingMetadata?{requestTime:(r.accumulatedMetadata.requestTime??0)+(r.appendingMetadata.requestTime??0)}:{}}}}};return oh.ActorRdfMetadataAccumulateRequestTime=e,oh}var iF;function rEe(){return iF||(iF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(tEe(),t)}(NE)),NE}var DE={},uh={},CE={},ch={},aF;function nEe(){if(aF)return ch;aF=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.ActorRdfMetadataExtract=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return ch.ActorRdfMetadataExtract=e,ch}var sF;function No(){return sF||(sF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(nEe(),t)}(CE)),CE}var LE={exports:{}},oF;function iEe(){return oF||(oF=1,function(t){(function(e){var n=function(){function m(y){this.options=y}return m.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},m}(),r=function(){function m(x){return Object.prototype.toString.apply(x)==="[object Array]"}function y(x){return Object.prototype.toString.apply(x)==="[object String]"}function g(x){return Object.prototype.toString.apply(x)==="[object Number]"}function _(x){return Object.prototype.toString.apply(x)==="[object Boolean]"}function v(x,M){var I="",N=!0,F;for(F=0;F<x.length;F+=1)N?N=!1:I+=M,I+=x[F];return I}function b(x,M){for(var I=[],N=0;N<x.length;N+=1)I.push(M(x[N]));return I}function w(x,M){for(var I=[],N=0;N<x.length;N+=1)M(x[N])&&I.push(x[N]);return I}function S(x){if(typeof x!="object"||x===null)return x;Object.freeze(x);var M,I;for(I in x)x.hasOwnProperty(I)&&(M=x[I],typeof M=="object"&&A(M));return x}function A(x){return typeof Object.freeze=="function"?S(x):x}return{isArray:m,isString:y,isNumber:g,isBoolean:_,join:v,map:b,filter:w,deepFreeze:A}}(),a=function(){function m(_){return _>="a"&&_<="z"||_>="A"&&_<="Z"}function y(_){return _>="0"&&_<="9"}function g(_){return y(_)||_>="a"&&_<="f"||_>="A"&&_<="F"}return{isAlpha:m,isDigit:y,isHexDigit:g}}(),s=function(){var m={encode:function(w){return unescape(encodeURIComponent(w))},numBytes:function(w){return w<=127?1:194<=w&&w<=223?2:224<=w&&w<=239?3:240<=w&&w<=244?4:0},isValidFollowingCharCode:function(w){return 128<=w&&w<=191}};function y(w){var S="",A=m.encode(w),x,M;for(M=0;M<A.length;M+=1)x=A.charCodeAt(M),S+="%"+(x<16?"0":"")+x.toString(16).toUpperCase();return S}function g(w,S){return w.charAt(S)==="%"&&a.isHexDigit(w.charAt(S+1))&&a.isHexDigit(w.charAt(S+2))}function _(w,S){return parseInt(w.substr(S,2),16)}function v(w){if(!g(w,0))return!1;var S=_(w,1),A=m.numBytes(S);if(A===0)return!1;for(var x=1;x<A;x+=1)if(!g(w,3*x)||!m.isValidFollowingCharCode(_(w,3*x+1)))return!1;return!0}function b(w,S){var A=w.charAt(S);if(!g(w,S))return A;var x=_(w,S+1),M=m.numBytes(x);if(M===0)return A;for(var I=1;I<M;I+=1)if(!g(w,S+3*I)||!m.isValidFollowingCharCode(_(w,S+3*I+1)))return A;return w.substr(S,3*M)}return{encodeCharacter:y,isPctEncoded:v,pctCharAt:b}}(),o=function(){function m(_){return a.isAlpha(_)||a.isDigit(_)||_==="_"||s.isPctEncoded(_)}function y(_){return a.isAlpha(_)||a.isDigit(_)||_==="-"||_==="."||_==="_"||_==="~"}function g(_){return _===":"||_==="/"||_==="?"||_==="#"||_==="["||_==="]"||_==="@"||_==="!"||_==="$"||_==="&"||_==="("||_===")"||_==="*"||_==="+"||_===","||_===";"||_==="="||_==="'"}return{isVarchar:m,isUnreserved:y,isReserved:g}}(),u=function(){function m(v,b){var w="",S,A="";for((typeof v=="number"||typeof v=="boolean")&&(v=v.toString()),S=0;S<v.length;S+=A.length)A=v.charAt(S),w+=o.isUnreserved(A)||b&&o.isReserved(A)?A:s.encodeCharacter(A);return w}function y(v){return m(v,!0)}function g(v,b){var w=s.pctCharAt(v,b);return w.length>1||o.isReserved(w)||o.isUnreserved(w)?w:s.encodeCharacter(w)}function _(v){var b="",w,S="";for(w=0;w<v.length;w+=S.length)S=s.pctCharAt(v,w),S.length>1?b+=S:b+=o.isReserved(S)||o.isUnreserved(S)?S:s.encodeCharacter(S);return b}return{encode:m,encodePassReserved:y,encodeLiteral:_,encodeLiteralCharacter:g}}(),l=function(){var m={};function y(g){m[g]={symbol:g,separator:g==="?"?"&":g===""||g==="+"||g==="#"?",":g,named:g===";"||g==="&"||g==="?",ifEmpty:g==="&"||g==="?"?"=":"",first:g==="+"?"":g,encode:g==="+"||g==="#"?u.encodePassReserved:u.encode,toString:function(){return this.symbol}}}return y(""),y("+"),y("#"),y("."),y("/"),y(";"),y("?"),y("&"),{valueOf:function(g){return m[g]?m[g]:"=,!@|".indexOf(g)>=0?null:m[""]}}}();function c(m){var y;if(m==null)return!1;if(r.isArray(m))return m.length>0;if(typeof m=="string"||typeof m=="number"||typeof m=="boolean")return!0;for(y in m)if(m.hasOwnProperty(y)&&c(m[y]))return!0;return!1}var d=function(){function m(y){this.literal=u.encodeLiteral(y)}return m.prototype.expand=function(){return this.literal},m.prototype.toString=m.prototype.expand,m}(),f=function(){function m(g){var _,v=[],b=null,w=null,S=null,A,x="";function M(){var N=g.substring(w,A);if(N.length===0)throw new n({expressionText:g,message:"a varname must be specified",position:A});b={varname:N,exploded:!1,maxLength:null},w=null}function I(){if(S===A)throw new n({expressionText:g,message:"after a ':' you have to specify the length",position:A});b.maxLength=parseInt(g.substring(S,A),10),S=null}for(_=function(N){var F=l.valueOf(N);if(F===null)throw new n({expressionText:g,message:"illegal use of reserved operator",position:A,operator:N});return F}(g.charAt(0)),A=_.symbol.length,w=A;A<g.length;A+=x.length){if(x=s.pctCharAt(g,A),w!==null){if(x==="."){if(w===A)throw new n({expressionText:g,message:"a varname MUST NOT start with a dot",position:A});continue}if(o.isVarchar(x))continue;M()}if(S!==null){if(A===S&&x==="0")throw new n({expressionText:g,message:"A :prefix must not start with digit 0",position:A});if(a.isDigit(x)){if(A-S>=4)throw new n({expressionText:g,message:"A :prefix must have max 4 digits",position:A});continue}I()}if(x===":"){if(b.maxLength!==null)throw new n({expressionText:g,message:"only one :maxLength is allowed per varspec",position:A});if(b.exploded)throw new n({expressionText:g,message:"an exploeded varspec MUST NOT be varspeced",position:A});S=A+1;continue}if(x==="*"){if(b===null)throw new n({expressionText:g,message:"exploded without varspec",position:A});if(b.exploded)throw new n({expressionText:g,message:"exploded twice",position:A});if(b.maxLength)throw new n({expressionText:g,message:"an explode (*) MUST NOT follow to a prefix",position:A});b.exploded=!0;continue}if(x===","){v.push(b),b=null,w=A+1;continue}throw new n({expressionText:g,message:"illegal character",character:x,position:A})}return w!==null&&M(),S!==null&&I(),v.push(b),new h(g,_,v)}function y(g){var _,v,b=[],w=null,S=0;for(_=0;_<g.length;_+=1){if(v=g.charAt(_),S!==null){if(v==="}")throw new n({templateText:g,message:"unopened brace closed",position:_});v==="{"&&(S<_&&b.push(new d(g.substring(S,_))),S=null,w=_);continue}if(w!==null){if(v==="{")throw new n({templateText:g,message:"brace already opened",position:_});if(v==="}"){if(w+1===_)throw new n({templateText:g,message:"empty braces",position:w});try{b.push(m(g.substring(w+1,_)))}catch(A){throw A.prototype===n.prototype?new n({templateText:g,message:A.options.message,position:w+A.options.position,details:A.options}):A}w=null,S=_+1}continue}throw new Error("reached unreachable code")}if(w!==null)throw new n({templateText:g,message:"unclosed brace",position:w});return S<g.length&&b.push(new d(g.substr(S))),new p(g,b)}return y}(),h=function(){function m(x){return JSON&&JSON.stringify?JSON.stringify(x):x}function y(x){if(!c(x))return!0;if(r.isString(x))return x==="";if(r.isNumber(x)||r.isBoolean(x))return!1;if(r.isArray(x))return x.length===0;for(var M in x)if(x.hasOwnProperty(M))return!1;return!0}function g(x){var M=[],I;for(I in x)x.hasOwnProperty(I)&&M.push({name:I,value:x[I]});return M}function _(x,M,I){this.templateText=x,this.operator=M,this.varspecs=I}_.prototype.toString=function(){return this.templateText};function v(x,M,I){var N="";if(I=I.toString(),M.named){if(N+=u.encodeLiteral(x.varname),I==="")return N+=M.ifEmpty,N;N+="="}return x.maxLength!==null&&(I=I.substr(0,x.maxLength)),N+=M.encode(I),N}function b(x){return c(x.value)}function w(x,M,I){var N=[],F="";if(M.named){if(F+=u.encodeLiteral(x.varname),y(I))return F+=M.ifEmpty,F;F+="="}return r.isArray(I)?(N=I,N=r.filter(N,c),N=r.map(N,M.encode),F+=r.join(N,",")):(N=g(I),N=r.filter(N,b),N=r.map(N,function(D){return M.encode(D.name)+","+M.encode(D.value)}),F+=r.join(N,",")),F}function S(x,M,I){var N=r.isArray(I),F=[];return N?(F=I,F=r.filter(F,c),F=r.map(F,function(D){var V=u.encodeLiteral(x.varname);return y(D)?V+=M.ifEmpty:V+="="+M.encode(D),V})):(F=g(I),F=r.filter(F,b),F=r.map(F,function(D){var V=u.encodeLiteral(D.name);return y(D.value)?V+=M.ifEmpty:V+="="+M.encode(D.value),V})),r.join(F,M.separator)}function A(x,M){var I=[],N="";return r.isArray(M)?(I=M,I=r.filter(I,c),I=r.map(I,x.encode),N+=r.join(I,x.separator)):(I=g(M),I=r.filter(I,function(F){return c(F.value)}),I=r.map(I,function(F){return x.encode(F.name)+"="+x.encode(F.value)}),N+=r.join(I,x.separator)),N}return _.prototype.expand=function(x){var M=[],I,N,F,D=this.operator;for(I=0;I<this.varspecs.length;I+=1)if(N=this.varspecs[I],F=x[N.varname],F!=null)if(N.exploded,r.isArray(F),typeof F=="string"||typeof F=="number"||typeof F=="boolean")M.push(v(N,D,F));else{if(N.maxLength&&c(F))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+m(F));N.exploded?c(F)&&(D.named?M.push(S(N,D,F)):M.push(A(D,F))):(D.named||!y(F))&&M.push(w(N,D,F))}return M.length===0?"":D.first+r.join(M,D.separator)},_}(),p=function(){function m(y,g){this.templateText=y,this.expressions=g,r.deepFreeze(this)}return m.prototype.toString=function(){return this.templateText},m.prototype.expand=function(y){var g,_="";for(g=0;g<this.expressions.length;g+=1)_+=this.expressions[g].expand(y);return _},m.parse=f,m.UriTemplateError=n,m}();e(p)})(function(e){t.exports=e})}(LE)),LE.exports}var uF;function aEe(){if(uF)return uh;uF=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.ActorRdfMetadataExtractHydraControls=void 0;const t=No(),e=iEe();let n=class G1 extends t.ActorRdfMetadataExtract{constructor(a){super(a),this.parsedUriTemplateCache={}}async test(a){return!0}getLinks(a,s){return Object.fromEntries(G1.LINK_TYPES.map(o=>{const u=s[o]||s[`${o}Page`],l=u&&u[a];return[o,l&&l.length>0?[l[0]]:[]]}))}parseUriTemplateCached(a){const s=this.parsedUriTemplateCache[a];return s||(this.parsedUriTemplateCache[a]=(0,e.parse)(a))}getSearchForms(a){const s=a.search,o=[];if(s)for(const u in s)for(const l of s[u]){const c=(a.template||{})[l]||[];if(c.length!==1)throw new Error(`Expected 1 hydra:template for ${l}`);const d=c[0],f=this.parseUriTemplateCached(d),h=Object.fromEntries(((a.mapping||{})[l]||[]).map(m=>{const y=((a.variable||{})[m]||[])[0],g=((a.property||{})[m]||[])[0];if(!y)throw new Error(`Expected a hydra:variable for ${m}`);if(!g)throw new Error(`Expected a hydra:property for ${m}`);return[g,y]})),p=m=>f.expand(Object.fromEntries(Object.keys(m).map(y=>[h[y],m[y]])));o.push({dataset:u,template:d,mappings:h,getUri:p})}return{values:o}}getHydraProperties(a){return new Promise((s,o)=>{a.on("error",o);const u={};a.on("data",l=>{if(l.predicate.value.startsWith(G1.HYDRA)){const c=l.predicate.value.slice(G1.HYDRA.length),d=u[c]||(u[c]={});(d[l.subject.value]||(d[l.subject.value]=[])).push(l.object.value)}}),a.on("end",()=>s(u))})}async run(a){const s={},o=await this.getHydraProperties(a.metadata);return Object.assign(s,this.getLinks(a.url,o)),s.searchForms=this.getSearchForms(o),{metadata:s}}};return uh.ActorRdfMetadataExtractHydraControls=n,n.HYDRA="http://www.w3.org/ns/hydra/core#",n.LINK_TYPES=["first","next","previous","last"],uh}var cF;function sEe(){return cF||(cF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(aEe(),t)}(DE)),DE}var jE={},lh={},lF;function oEe(){if(lF)return lh;lF=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.ActorRdfMetadataExtractHydraCount=void 0;const t=No();let e=class extends t.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}run(r){return new Promise((a,s)=>{r.metadata.on("error",s),r.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&a({metadata:{cardinality:{type:"estimate",value:Number.parseInt(o.object.value,10),dataset:o.subject.value}}})}),r.metadata.on("end",()=>{a({metadata:{cardinality:{type:"estimate",value:0}}})})})}};return lh.ActorRdfMetadataExtractHydraCount=e,lh}var dF;function uEe(){return dF||(dF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(oEe(),t)}(jE)),jE}var ME={},dh={},fF;function cEe(){if(fF)return dh;fF=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.ActorRdfMetadataExtractHydraPagesize=void 0;const t=No();let e=class extends t.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){return new Promise((a,s)=>{r.metadata.on("error",s),r.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&a({metadata:{pageSize:Number.parseInt(o.object.value,10)}})}),r.metadata.on("end",()=>{a({metadata:{}})})})}};return dh.ActorRdfMetadataExtractHydraPagesize=e,dh}var hF;function lEe(){return hF||(hF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(cEe(),t)}(ME)),ME}var FE={},fh={},pF;function dEe(){if(pF)return fh;pF=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.ActorRdfMetadataExtractRequestTime=void 0;const t=No();let e=class extends t.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){return{metadata:{requestTime:r.requestTime}}}};return fh.ActorRdfMetadataExtractRequestTime=e,fh}var yF;function fEe(){return yF||(yF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(dEe(),t)}(FE)),FE}var qE={},hh={},mF;function hEe(){if(mF)return hh;mF=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.ActorRdfMetadataExtractAllowHttpMethods=void 0;const t=No();let e=class extends t.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){var s,o;const a={};return(s=r.headers)!=null&&s.get("allow")&&(a.allowHttpMethods=(o=r.headers.get("allow"))==null?void 0:o.split(/, */u)),{metadata:a}}};return hh.ActorRdfMetadataExtractAllowHttpMethods=e,hh}var gF;function pEe(){return gF||(gF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(hEe(),t)}(qE)),qE}var BE={},ph={},_F;function yEe(){if(_F)return ph;_F=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.ActorRdfMetadataExtractPutAccepted=void 0;const t=No();let e=class extends t.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){var s,o;const a={};return(s=r.headers)!=null&&s.get("accept-put")&&(a.putAccepted=(o=r.headers.get("accept-put"))==null?void 0:o.split(/, */u)),{metadata:a}}};return ph.ActorRdfMetadataExtractPutAccepted=e,ph}var bF;function mEe(){return bF||(bF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(yEe(),t)}(BE)),BE}var $E={},yh={},vF;function gEe(){if(vF)return yh;vF=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const t=No();let e=class extends t.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return!0}async run(r){var s,o,u,l;const a={};return(((o=(s=r.headers)==null?void 0:s.get("accept-patch"))==null?void 0:o.includes("application/sparql-update"))??((l=(u=r.headers)==null?void 0:u.get("ms-author-via"))==null?void 0:l.includes("SPARQL")))&&(a.patchSparqlUpdate=!0),{metadata:a}}};return yh.ActorRdfMetadataExtractPatchSparqlUpdate=e,yh}var wF;function _Ee(){return wF||(wF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(gEe(),t)}($E)),$E}var UE={},mh={},SF;function bEe(){if(SF)return mh;SF=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.ActorRdfMetadataExtractSparqlService=void 0;const t=No(),e=la();let n=class extends t.ActorRdfMetadataExtract{constructor(a){super(a)}async test(a){return!0}async run(a){return new Promise((s,o)=>{a.metadata.on("error",o);const u={};a.metadata.on("data",l=>{l.predicate.value==="http://www.w3.org/ns/sparql-service-description#endpoint"&&(l.subject.termType==="BlankNode"||l.subject.value===a.url)?(u.sparqlService=l.object.termType==="Literal"?(0,e.resolve)(l.object.value,a.url):l.object.value,this.inferHttpsEndpoint&&a.url.startsWith("https")&&!u.sparqlService.startsWith("https")&&(u.sparqlService=u.sparqlService.replace("http:","https:"))):l.predicate.value==="http://www.w3.org/ns/sparql-service-description#defaultGraph"&&(u.defaultGraph=l.object.value)}),a.metadata.on("end",()=>{s({metadata:u})})})}};return mh.ActorRdfMetadataExtractSparqlService=n,mh}var TF;function vEe(){return TF||(TF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(bEe(),t)}(UE)),UE}var kE={},gh={},VE={},_h={},EF;function wEe(){if(EF)return _h;EF=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.ActorRdfParse=void 0;const t=Xl();let e=class extends t.ActorAbstractMediaTyped{constructor(r){super(r)}};return _h.ActorRdfParse=e,_h}var bh={},AF;function SEe(){if(AF)return bh;AF=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.ActorRdfParseFixedMediaTypes=void 0;const t=Xl();let e=class extends t.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r){return!0}};return bh.ActorRdfParseFixedMediaTypes=e,bh}var OF;function Yl(){return OF||(OF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(wEe(),t),n(SEe(),t)}(VE)),VE}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let RF;var TEe=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:P):t=>(RF||(RF=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0));const _J=Tz(TEe),vh="http://www.w3.org/1999/02/22-rdf-syntax-ns#",wh="http://www.w3.org/2001/XMLSchema#",HE="http://www.w3.org/2000/10/swap/",En={xsd:{decimal:`${wh}decimal`,boolean:`${wh}boolean`,double:`${wh}double`,integer:`${wh}integer`,string:`${wh}string`},rdf:{type:`${vh}type`,nil:`${vh}nil`,first:`${vh}first`,rest:`${vh}rest`,langString:`${vh}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${HE}reify#forSome`,forAll:`${HE}reify#forAll`},log:{implies:`${HE}log#implies`}},{xsd:e1}=En,EEe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,xF={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},AEe=/[\x00-\x20<>\\"\{\}\|\^\`]/,OEe={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},REe=/$0^/;let hN=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in OEe)&&this[n]instanceof RegExp&&(this[n]=REe)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,a=r.length;for(;;){let u,l;for(;u=this._newline.exec(r);)this._comments&&(l=this._comment.exec(u[0]))&&s("comment",l[1],"",this._line,u[0].length),r=r.substr(u[0].length,r.length),a=r.length,this._line++;if(!u&&(u=this._whitespace.exec(r))&&(r=r.substr(u[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&s("comment",l[1],"",this._line,r.length),r=null,s("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let f="",h="",p="",m=null,y=0,g=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){g=!0;break}}else{this._n3Mode&&(y=1,f="^");break}case"<":if(m=this._unescapedIri.exec(r))f="IRI",h=m[1];else if(m=this._iri.exec(r)){if(h=this._unescape(m[1]),h===null||AEe.test(h))return o(this);f="IRI"}else r.length>1&&r[1]==="<"?(f="<<",y=2):this._n3Mode&&r.length>1&&r[1]==="="&&(f="inverse",y=2,h=">");break;case">":r.length>1&&r[1]===">"&&(f=">>",y=2);break;case"_":((m=this._blank.exec(r))||n&&(m=this._blank.exec(`${r} `)))&&(f="blank",p="_",h=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(r))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(r),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(r))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(r),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(r))&&(f="var",h=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(r))?(f="langcode",h=m[1]):(m=this._keyword.exec(r))&&(f=m[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){f=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(r)||n&&(m=this._number.exec(`${r} `)))&&(f="literal",h=m[0],p=typeof m[1]=="string"?e1.double:typeof m[2]=="string"?e1.decimal:e1.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(r))?f=m[0].toUpperCase():g=!0;break;case"f":case"t":(m=this._boolean.exec(r))?(f="literal",h=m[0],p=e1.boolean):g=!0;break;case"a":(m=this._shortPredicates.exec(r))?(f="abbreviation",h="a"):g=!0;break;case"=":this._n3Mode&&r.length>1&&(f="abbreviation",r[1]!==">"?(y=1,h="="):(y=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,f=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(f="{|",y=2):(f=d,y=1));break;case"|":r.length>=2&&r[1]==="}"&&(f="|}",y=2);break;default:g=!0}if(g&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(r))?(f="prefix",h=m[1]||""):((m=this._prefixed.exec(r))||n&&(m=this._prefixed.exec(`${r} `)))&&(f="prefixed",p=m[1]||"",h=this._unescape(m[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const _=y||m[0].length,v=s(f,h,p,c,_);this.previousToken=v,this._previousMarker=f,r=r.substr(_,r.length)}function s(u,l,c,d,f){const h=r?a-r.length:a,p=h+f,m={type:u,value:l,prefix:c,line:d,start:h,end:p};return e(null,m),m}function o(u){e(u._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(EEe,(a,s,o,u)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return u in xF?xF[u]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let a=Math.max(this._literalClosingPos,r);for(;(a=e.indexOf(n,a))>0;){let s=0;for(;e[a-s-1]==="\\";)s++;if(s%2===0){const o=e.substring(r,a),u=o.split(/\r\n|\r|\n/).length-1,l=a+r;if(r===1&&u!==0||r===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(o),matchLength:l}}a++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")_J(()=>this._tokenizeToEnd(n,!0));else{const r=[];let a;if(this._tokenizeToEnd((s,o)=>s?a=s:r.push(o),!0),a)throw a;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=E1e.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}};const{rdf:xEe,xsd:Tu}=En;let ab,IEe=0;const vo={namedNode:PEe,blankNode:NEe,variable:CEe,literal:DEe,defaultGraph:LEe,quad:IF,triple:IF};let Ha=class bJ{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof bJ?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Jw=class extends Ha{get termType(){return"NamedNode"}},Xc=class vJ extends Ha{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new Jw(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?Tu.string:xEe.langString}equals(e){return e instanceof vJ?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},pN=class extends Ha{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},yN=class extends Ha{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},mN=class extends Ha{constructor(){return super(""),ab||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};ab=new mN;function Nu(t,e,n){if(e=e||vo,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===vo)return new Xc(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Nu(t[0],e,!0),Nu(t[1],e,!0),Nu(t[2],e,!0),t[3]&&Nu(t[3],e,!0))}function Qn(t,e){if(typeof t=="string")return t;if(t instanceof Ha&&t.termType!=="Quad")return t.id;if(!t)return ab.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Tu.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[Qn(t.subject,!0),Qn(t.predicate,!0),Qn(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&n.push(Qn(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let c_=class extends Ha{constructor(e,n,r,a){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=a||ab}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function PEe(t){return new Jw(t)}function NEe(t){return new pN(t||`n3-${IEe++}`)}function DEe(t,e){if(typeof e=="string")return new Xc(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=Tu.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?Tu.integer:Tu.double:(n=Tu.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===Tu.string?new Xc(`"${t}"`):new Xc(`"${t}"^^${n}`)}function CEe(t){return new yN(t)}function LEe(){return ab}function IF(t,e,n,r){return new c_(t,e,n,r)}let PF=0,Xw=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&wJ(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),a=/trig/.test(n),s=/triple/.test(n),o=/quad/.test(n),u=this._n3Mode=/n3/.test(n),l=s||o;(this._supportsNamedGraphs=!(r||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||a||s||u),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new hN({lineMode:l,n3:u}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){PF=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,a,s){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:a,object:s,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const a=this._resolveIRI(e.value);if(a===null)return this._error("Invalid IRI",e);r=this._namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(s+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,a=this._readListItem;const s=this._subject,o=this._contextStack,u=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),s===null?u.predicate===null?u.subject=r:u.object=r:this._emit(s,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const a=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,u=this._object;this._subject=this._quad(a,o,u,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(a!==null){const o=this._predicate,u=this._object;s?this._emit(u,o,a,r):this._emit(a,o,u,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const a=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const a=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=a):(n=this._object,this._object=a),this._emit(n,r,a,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,a;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(a=this._subject,this._subject=n):(a=this._object,this._object=n),this._emit(n,r,a,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,a){this._callback(null,this._quad(e,n,r,a||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=QE}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",a=-1,s=-1,o=0,u="/";for(;a<n;){switch(u){case":":if(s<0&&e[++a]==="/"&&e[++a]==="/")for(;(s=a+1)<n&&e[s]!=="/";)a=s;break;case"?":case"#":a=n;break;case"/":if(e[a+1]===".")switch(u=e[++a+1],u){case"/":r+=e.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return r+e.substring(o,a)+e.substr(a+1);case".":if(u=e[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(r+=e.substring(o,a-2),(o=r.lastIndexOf("/"))>=s&&(r=r.substr(0,o)),u!=="/")return`${r}/${e.substr(a+1)}`;o=a+1}}}u=e[++a]}return r+e.substring(o)}parse(e,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${PF++}_`,this._prefixCallback=r||QE,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const a=[];let s;if(this._callback=(o,u)=>{o?s=o:u&&a.push(u)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return a}this._callback=n,this._lexer.tokenize(e,(a,s)=>{a!==null?(this._callback(a),this._callback=QE):this._readCallback&&(this._readCallback=this._readCallback(s))})}};function QE(){}function wJ(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(En.rdf.first),t.RDF_REST=n(En.rdf.rest),t.RDF_NIL=n(En.rdf.nil),t.N3_FORALL=n(En.r.forAll),t.N3_FORSOME=n(En.r.forSome),t.ABBREVIATIONS={a:n(En.rdf.type),"=":n(En.owl.sameAs),">":n(En.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}wJ(Xw.prototype,vo);function jEe(t){return!!t&&t.termType==="NamedNode"}function MEe(t){return!!t&&t.termType==="BlankNode"}function FEe(t){return!!t&&t.termType==="Literal"}function qEe(t){return!!t&&t.termType==="Variable"}function l_(t){return!!t&&t.termType==="DefaultGraph"}function BEe(t){return l_(t.graph)}function $Ee(t,e){return SJ({"":t.value||t},e)("")}function SJ(t,e){const n=Object.create(null);for(const a in t)r(a,t[a]);e=e||vo;function r(a,s){if(typeof s=="string"){const o=Object.create(null);n[a]=u=>o[u]||(o[u]=e.namedNode(s+u))}else if(!(a in n))throw new Error(`Unknown prefix: ${a}`);return n[a]}return r}const TJ=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:BEe,isBlankNode:MEe,isDefaultGraph:l_,isLiteral:FEe,isNamedNode:jEe,isVariable:qEe,prefix:$Ee,prefixes:SJ},Symbol.toStringTag,{value:"Module"})),Sh=vo.defaultGraph(),{rdf:UEe,xsd:Sc}=En,NF=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,DF=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,kEe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let Th=class extends Ha{equals(e){return e===this}},gN=class{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(a,s,o){r+=a,o&&o()},end:a=>{a&&a(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Sh,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${LF(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return Sh.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,a,s){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Sh.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,n,r,a,s){delete this._prefixMatch,this._write(this.quadToString(e,n,r,a),s)}quadToString(e,n,r,a){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(e){return e.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),NF.test(n)&&(n=n.replace(DF,CF));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(NF.test(n)&&(n=n.replace(DF,CF)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Sc.string)return`"${n}"`}else switch(e.datatype.value){case Sc.string:return`"${n}"`;case Sc.boolean:if(n==="true"||n==="false")return n;break;case Sc.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Sc.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Sc.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===UEe.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:a}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${l_(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,a,s){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof a=="function"?this._writeQuad(e,n,r,Sh,a):this._writeQuad(e,n,r,a||Sh,s)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const a={};a[e]=n,this.addPrefixes(a,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let a in e){let s=e[a];typeof s!="string"&&(s=s.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=a+=":",this._write(`@prefix ${a} <${s}>.
`)}if(r){let a="",s="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];a=LF(a),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${a})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,a,s;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),s=r.length){case 0:return new Th("[]");case 1:if(a=r[0],!(a.object instanceof Th))return new Th(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let u=0;u<s;u++)a=r[u],a.predicate.equals(e)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,e=a.predicate);return new Th(`${o}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let a=0;a<n;a++)r[a]=this._encodeObject(e[a]);return new Th(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,a)=>{n=null,e(r,a)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function CF(t){let e=kEe[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function LF(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}let _N=class{constructor(e,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||vo,e&&this.addQuads(e)}_termFromId(e,n){if(e[0]==="."){const r=this._entities,a=e.split(".");return this._factory.quad(this._termFromId(r[a[1]]),this._termFromId(r[a[2]]),this._termFromId(r[a[3]]),a[4]&&this._termFromId(r[a[4]]))}return Nu(e,n)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),a=this._termToNumericId(e.object);let s;return n&&r&&a&&(l_(e.graph)||(s=this._termToNumericId(e.graph)))&&this._ids[s?`.${n}.${r}.${a}.${s}`:`.${n}.${r}.${a}`]}return this._ids[Qn(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${l_(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:Qn(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,a;for(const s in n)for(const o in r=n[s].subjects)for(const u in a=r[o])e+=Object.keys(a[u]).length;return this._size=e}_addToIndex(e,n,r,a){const s=e[n]||(e[n]={}),o=s[r]||(s[r]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(e,n,r,a){const s=e[n],o=s[r];delete o[a];for(const u in o)return;delete s[r];for(const u in s)return;delete e[n]}*_findInIndex(e,n,r,a,s,o,u,l){let c,d,f;const h=this._entities,p=this._termFromId(l,this._factory),m={subject:null,predicate:null,object:null};n&&((c=e,e={})[n]=c[n]);for(const y in e)if(d=e[y]){m[s]=this._termFromId(h[y],this._factory),r&&((c=d,d={})[r]=c[r]);for(const g in d)if(f=d[g]){m[o]=this._termFromId(h[g],this._factory);const _=a?a in f?[a]:[]:Object.keys(f);for(let v=0;v<_.length;v++)m[u]=this._termFromId(h[_[v]],this._factory),yield this._factory.quad(m.subject,m.predicate,m.object,p)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let a,s;if(a=e[n])for(s in a)r(s)}_loopByKey1(e,n,r){let a,s;for(a in e)s=e[a],s[n]&&r(a)}_loopBy2Keys(e,n,r,a){let s,o,u;if((s=e[n])&&(o=s[r]))for(u in o)a(u)}_countInIndex(e,n,r,a){let s=0,o,u,l;n&&((o=e,e={})[n]=o[n]);for(const c in e)if(u=e[c]){r&&((o=u,u={})[r]=o[r]);for(const d in u)(l=u[d])&&(a?a in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(e){if(!VEe(e))return this._graphs;const n={};return n[e]=this._graphs[e],n}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,a){n||(a=e.graph,r=e.object,n=e.predicate,e=e.subject),a=Qn(a);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const o=this._addToIndex(s.subjects,e,n,r);return this._addToIndex(s.predicates,n,r,e),this._addToIndex(s.objects,r,e,n),this._size=null,o}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,a){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:a}=e),!this.readQuads(e,n,r,a).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,a){n||(a=e.graph,r=e.object,n=e.predicate,e=e.subject),a=Qn(a);const s=this._graphs;let o,u,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=s[a])||!(u=o.subjects[e])||!(l=u[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,e,n,r),this._removeFromIndex(o.predicates,n,r,e),this._removeFromIndex(o.objects,r,e,n),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete s[a],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,a){const s=new Dt.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(e,n,r,a))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,a){return[...this.readQuads(e,n,r,a)]}*readQuads(e,n,r,a){a=a&&Qn(a);const s=this._getGraphs(a);let o,u,l,c;if(!(e&&!(u=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in s)(o=s[d])&&(u?c?yield*this._findInIndex(o.objects,c,u,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,u,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(e,n,r,a){return new HEe(this,e,n,r,a)}countQuads(e,n,r,a){a=a&&Qn(a);const s=this._getGraphs(a);let o=0,u,l,c,d;if(e&&!(l=this._termToNumericId(e))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const f in s)(u=s[f])&&(e?r?o+=this._countInIndex(u.objects,d,l,c):o+=this._countInIndex(u.subjects,l,c,d):n?o+=this._countInIndex(u.predicates,c,d,l):o+=this._countInIndex(u.objects,d,l,c));return o}forEach(e,n,r,a,s){this.some(o=>(e(o),!1),n,r,a,s)}every(e,n,r,a,s){let o=!1;const u=!this.some(l=>(o=!0,!e(l)),n,r,a,s);return o&&u}some(e,n,r,a,s){for(const o of this.readQuads(n,r,a,s))if(e(o))return!0;return!1}getSubjects(e,n,r){const a=[];return this.forSubjects(s=>{a.push(s)},e,n,r),a}forSubjects(e,n,r,a){a=a&&Qn(a);const s=this._getGraphs(a);let o,u,l;if(e=this._uniqueEntities(e),!(n&&!(u=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.predicates,u,l,e):this._loopByKey1(o.subjects,u,e):l?this._loopByKey0(o.objects,l,e):this._loop(o.subjects,e))}getPredicates(e,n,r){const a=[];return this.forPredicates(s=>{a.push(s)},e,n,r),a}forPredicates(e,n,r,a){a=a&&Qn(a);const s=this._getGraphs(a);let o,u,l;if(e=this._uniqueEntities(e),!(n&&!(u=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.objects,l,u,e):this._loopByKey0(o.subjects,u,e):l?this._loopByKey1(o.predicates,l,e):this._loop(o.predicates,e))}getObjects(e,n,r){const a=[];return this.forObjects(s=>{a.push(s)},e,n,r),a}forObjects(e,n,r,a){a=a&&Qn(a);const s=this._getGraphs(a);let o,u,l;if(e=this._uniqueEntities(e),!(n&&!(u=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.subjects,u,l,e):this._loopByKey1(o.objects,u,e):l?this._loopByKey0(o.predicates,l,e):this._loop(o.objects,e))}getGraphs(e,n,r){const a=[];return this.forGraphs(s=>{a.push(s)},e,n,r),a}forGraphs(e,n,r,a){for(const s in this._graphs)this.some(o=>(e(o.graph),!0),n,r,a,s)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},a=n?()=>!0:(u,l)=>{throw new Error(`${u.value} ${l}`)},s=this.getQuads(null,En.rdf.rest,En.rdf.nil,null),o=e?[...s]:[];return s.forEach(u=>{const l=[];let c=!1,d,f;const h=u.graph;let p=u.subject;for(;p&&!c;){const m=this.getQuads(null,null,p,null),y=this.getQuads(p,null,null,null);let g,_=null,v=null,b=null;for(let w=0;w<y.length&&!c;w++)g=y[w],g.graph.equals(h)?d?c=a(p,"has non-list arcs out"):g.predicate.value===En.rdf.first?_?c=a(p,"has multiple rdf:first arcs"):o.push(_=g):g.predicate.value===En.rdf.rest?v?c=a(p,"has multiple rdf:rest arcs"):o.push(v=g):m.length?c=a(p,"can't be subject and object"):(d=g,f="subject"):c=a(p,"not confined to single graph");for(let w=0;w<m.length&&!c;++w)g=m[w],d?c=a(p,"can't have coreferences"):g.predicate.value===En.rdf.rest?b?c=a(p,"has incoming rdf:rest arcs"):b=g:(d=g,f="object");_?l.unshift(_.object):c=a(p,"has no list head"),p=b&&b.subject}c?e=!1:d&&(r[d[f].value]=l)}),e&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}};function VEe(t){return typeof t=="string"||t instanceof String}let HEe=class EJ extends Dt.Readable{constructor(e,n,r,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:a,graph:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:a,subject:s}=this,o=this._filtered=new _N({factory:e._factory});for(const u of e.readQuads(s,a,r,n))o.addQuad(u)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,a){return new EJ(this.filtered,e,n,r,a)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}},AJ=class extends Dt.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new Xw(e);let r,a;n.parse({on:(s,o)=>{switch(s){case"data":r=o;break;case"end":a=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,u)=>{r(s),u()},this._flush=s=>{a(),s()}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),this}},OJ=class extends Dt.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new gN({write:(r,a,s)=>{this.push(r),s&&s()},end:r=>{this.push(null),r&&r()}},e);this._transform=(r,a,s)=>{n.addQuad(r,s)},this._flush=r=>{n.end(r)}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),e.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}};const QEe={Lexer:hN,Parser:Xw,Writer:gN,Store:_N,StreamParser:AJ,StreamWriter:OJ,Util:TJ,DataFactory:vo,Term:Ha,NamedNode:Jw,Literal:Xc,BlankNode:pN,Variable:yN,DefaultGraph:mN,Quad:c_,Triple:c_,termFromId:Nu,termToId:Qn},zEe=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:pN,DataFactory:vo,DefaultGraph:mN,Lexer:hN,Literal:Xc,NamedNode:Jw,Parser:Xw,Quad:c_,Store:_N,StreamParser:AJ,StreamWriter:OJ,Term:Ha,Triple:c_,Util:TJ,Variable:yN,Writer:gN,default:QEe,termFromId:Nu,termToId:Qn},Symbol.toStringTag,{value:"Module"})),Do=CI(zEe);var jF;function GEe(){if(jF)return gh;jF=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.ActorRdfParseN3=void 0;const t=Yl(),e=Do;let n=class extends t.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){var l;a.data.on("error",c=>u.emit("error",c));const u=a.data.pipe(new e.StreamParser({baseIRI:(l=a.metadata)==null?void 0:l.baseIRI,format:s.endsWith("n3")?s:`${s}*`}));return{data:u,metadata:{triples:s==="text/turtle"||s==="application/n-triples"||s==="text/n3"}}}};return gh.ActorRdfParseN3=n,gh}var MF;function WEe(){return MF||(MF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(GEe(),t)}(kE)),kE}var zE={},Eh={},GE={},Zo={},eu={},WE={},FF;function KEe(){return FF||(FF=1,function(t){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR=`	
\r ---`,t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z-----------",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9--",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,n=10,r=13,a=32;t.S_LIST=[a,n,r,e];function s(c){return c>=a&&c<=55295||c===n||c===r||c===e||c>=57344&&c<=65533||c>=65536&&c<=1114111}t.isChar=s;function o(c){return c===a||c===n||c===r||c===e}t.isS=o;function u(c){return c>=65&&c<=90||c>=97&&c<=122||c===58||c===95||c===8204||c===8205||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}t.isNameStartChar=u;function l(c){return u(c)||c>=48&&c<=57||c===45||c===46||c===183||c>=768&&c<=879||c>=8255&&c<=8256}t.isNameChar=l}(WE)),WE}var KE={},qF;function JEe(){return qF||(qF=1,function(t){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="---",t.RESTRICTED_CHAR="-\b\v\f---",t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z-----------",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9--",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,n=10,r=13,a=32;t.S_LIST=[a,n,r,e];function s(f){return f>=1&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}t.isChar=s;function o(f){return f>=1&&f<=8||f===11||f===12||f>=14&&f<=31||f>=127&&f<=132||f>=134&&f<=159}t.isRestrictedChar=o;function u(f){return f===9||f===10||f===13||f>31&&f<127||f===133||f>159&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}t.isCharAndNotRestricted=u;function l(f){return f===a||f===n||f===r||f===e}t.isS=l;function c(f){return f>=65&&f<=90||f>=97&&f<=122||f===58||f===95||f===8204||f===8205||f>=192&&f<=214||f>=216&&f<=246||f>=248&&f<=767||f>=880&&f<=893||f>=895&&f<=8191||f>=8304&&f<=8591||f>=11264&&f<=12271||f>=12289&&f<=55295||f>=63744&&f<=64975||f>=65008&&f<=65533||f>=65536&&f<=983039}t.isNameStartChar=c;function d(f){return c(f)||f>=48&&f<=57||f===45||f===46||f===183||f>=768&&f<=879||f>=8255&&f<=8256}t.isNameChar=d}(KE)),KE}var JE={},BF;function XEe(){return BF||(BF=1,function(t){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z------------",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9--",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u");function e(r){return r>=65&&r<=90||r===95||r>=97&&r<=122||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}t.isNCNameStartChar=e;function n(r){return e(r)||r===45||r===46||r>=48&&r<=57||r===183||r>=768&&r<=879||r>=8255&&r<=8256}t.isNCNameChar=n}(JE)),JE}var $F;function RJ(){if($F)return eu;$F=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.SaxesParser=eu.EVENTS=void 0;const t=KEe(),e=JEe(),n=XEe();var r=t.isS,a=t.isChar,s=t.isNameStartChar,o=t.isNameChar,u=t.S_LIST,l=t.NAME_RE,c=e.isChar,d=n.isNCNameStartChar,f=n.isNCNameChar,h=n.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:p,xmlns:m},g={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_=-1,v=-2,b=0,w=1,S=2,A=3,x=4,M=5,I=6,N=7,F=8,D=9,V=10,k=11,U=12,H=13,X=14,ee=15,fe=16,Te=17,De=18,Ve=19,le=20,ue=21,Ie=22,Ne=23,we=24,Ae=25,Se=26,z=27,L=28,B=29,T=30,O=31,$=32,G=33,Q=34,Y=35,ie=36,te=37,he=38,ce=39,ve=40,Ce=41,Ee=42,Ue=43,Fe=44,Qe=9,ke=10,K=13,C=32,q=33,W=34,re=38,pe=39,ge=45,qe=47,Z=59,Oe=60,je=61,Be=62,Ye=63,ct=91,ft=93,st=133,yt=8232,ne=Je=>Je===W||Je===pe,E=[W,pe],R=[...E,ct,Be],j=[...E,Oe,ft],J=[je,Ye,...u],me=[...u,Be,re,Oe];function ye(Je,de,Pe){switch(de){case"xml":Pe!==p&&Je.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":Pe!==m&&Je.fail(`xmlns prefix must be bound to ${m}.`);break}switch(Pe){case m:Je.fail(de===""?`the default namespace may not be set to ${Pe}.`:`may not assign a prefix (even "xmlns") to the URI ${m}.`);break;case p:switch(de){case"xml":break;case"":Je.fail(`the default namespace may not be set to ${Pe}.`);break;default:Je.fail("may not assign the xml namespace to another prefix.")}break}}function xe(Je,de){for(const Pe of Object.keys(de))ye(Je,Pe,de[Pe])}const Me=Je=>h.test(Je),Ke=Je=>l.test(Je),et=0,dt=1,it=2;eu.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const rt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class Qr{get closed(){return this._closed}constructor(de){this.opt=de??{},this.fragmentOpt=!!this.opt.fragment;const Pe=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Pe){this.nameStartCheck=d,this.nameCheck=f,this.isName=Me,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},y);const Le=this.opt.additionalNamespaces;Le!=null&&(xe(this,Le),Object.assign(this.ns,Le))}else this.nameStartCheck=s,this.nameCheck=o,this.isName=Ke,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var de;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=et,this.attribList=[];const{fragmentOpt:Pe}=this;this.state=Pe?H:b,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Pe,this.xmlDeclPossible=!Pe,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Le}=this.opt;if(Le===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Le="1.0"}this.setXMLVersion(Le),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(g),(de=this.readyHandler)===null||de===void 0||de.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(de,Pe){this[rt[de]]=Pe}off(de){this[rt[de]]=void 0}makeError(de){var Pe;let Le=(Pe=this.fileName)!==null&&Pe!==void 0?Pe:"";return this.trackPosition&&(Le.length>0&&(Le+=":"),Le+=`${this.line}:${this.column}`),Le.length>0&&(Le+=": "),new Error(Le+de)}fail(de){const Pe=this.makeError(de),Le=this.errorHandler;if(Le===void 0)throw Pe;return Le(Pe),this}write(de){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Pe=!1;de===null?(Pe=!0,de=""):typeof de=="object"&&(de=de.toString()),this.carriedFromPrevious!==void 0&&(de=`${this.carriedFromPrevious}${de}`,this.carriedFromPrevious=void 0);let Le=de.length;const Ze=de.charCodeAt(Le-1);!Pe&&(Ze===K||Ze>=55296&&Ze<=56319)&&(this.carriedFromPrevious=de[Le-1],Le--,de=de.slice(0,Le));const{stateTable:mt}=this;for(this.chunk=de,this.i=0;this.i<Le;)mt[this.state].call(this);return this.chunkPosition+=Le,Pe?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:de,i:Pe}=this;if(this.prevI=Pe,this.i=Pe+1,Pe>=de.length)return _;const Le=de.charCodeAt(Pe);if(this.column++,Le<55296){if(Le>=C||Le===Qe)return Le;switch(Le){case ke:return this.line++,this.column=0,this.positionAtNewLine=this.position,ke;case K:return de.charCodeAt(Pe+1)===ke&&(this.i=Pe+2),this.line++,this.column=0,this.positionAtNewLine=this.position,v;default:return this.fail("disallowed character."),Le}}if(Le>56319)return Le>=57344&&Le<=65533||this.fail("disallowed character."),Le;const Ze=65536+(Le-55296)*1024+(de.charCodeAt(Pe+1)-56320);return this.i=Pe+2,Ze>1114111&&this.fail("disallowed character."),Ze}getCode11(){const{chunk:de,i:Pe}=this;if(this.prevI=Pe,this.i=Pe+1,Pe>=de.length)return _;const Le=de.charCodeAt(Pe);if(this.column++,Le<55296){if(Le>31&&Le<127||Le>159&&Le!==yt||Le===Qe)return Le;switch(Le){case ke:return this.line++,this.column=0,this.positionAtNewLine=this.position,ke;case K:{const mt=de.charCodeAt(Pe+1);(mt===ke||mt===st)&&(this.i=Pe+2)}case st:case yt:return this.line++,this.column=0,this.positionAtNewLine=this.position,v;default:return this.fail("disallowed character."),Le}}if(Le>56319)return Le>=57344&&Le<=65533||this.fail("disallowed character."),Le;const Ze=65536+(Le-55296)*1024+(de.charCodeAt(Pe+1)-56320);return this.i=Pe+2,Ze>1114111&&this.fail("disallowed character."),Ze}getCodeNorm(){const de=this.getCode();return de===v?ke:de}unget(){this.i=this.prevI,this.column--}captureTo(de){let{i:Pe}=this;const{chunk:Le}=this;for(;;){const Ze=this.getCode(),mt=Ze===v,xt=mt?ke:Ze;if(xt===_||de.includes(xt))return this.text+=Le.slice(Pe,this.prevI),xt;mt&&(this.text+=`${Le.slice(Pe,this.prevI)}
`,Pe=this.i)}}captureToChar(de){let{i:Pe}=this;const{chunk:Le}=this;for(;;){let Ze=this.getCode();switch(Ze){case v:this.text+=`${Le.slice(Pe,this.prevI)}
`,Pe=this.i,Ze=ke;break;case _:return this.text+=Le.slice(Pe),!1}if(Ze===de)return this.text+=Le.slice(Pe,this.prevI),!0}}captureNameChars(){const{chunk:de,i:Pe}=this;for(;;){const Le=this.getCode();if(Le===_)return this.name+=de.slice(Pe),_;if(!o(Le))return this.name+=de.slice(Pe,this.prevI),Le===v?ke:Le}}skipSpaces(){for(;;){const de=this.getCodeNorm();if(de===_||!r(de))return de}}setXMLVersion(de){this.currentXMLVersion=de,de==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=w}sBeginWhitespace(){const de=this.i,Pe=this.skipSpaces();switch(this.prevI!==de&&(this.xmlDeclPossible=!1),Pe){case Oe:if(this.state=ee,this.text.length!==0)throw new Error("no-empty text at start");break;case _:break;default:this.unget(),this.state=H,this.xmlDeclPossible=!1}}sDoctype(){var de;const Pe=this.captureTo(R);switch(Pe){case Be:{(de=this.doctypeHandler)===null||de===void 0||de.call(this,this.text),this.text="",this.state=H,this.doctype=!0;break}case _:break;default:this.text+=String.fromCodePoint(Pe),Pe===ct?this.state=x:ne(Pe)&&(this.state=A,this.q=Pe)}}sDoctypeQuote(){const de=this.q;this.captureToChar(de)&&(this.text+=String.fromCodePoint(de),this.q=null,this.state=S)}sDTD(){const de=this.captureTo(j);de!==_&&(this.text+=String.fromCodePoint(de),de===ft?this.state=S:de===Oe?this.state=I:ne(de)&&(this.state=M,this.q=de))}sDTDQuoted(){const de=this.q;this.captureToChar(de)&&(this.text+=String.fromCodePoint(de),this.state=x,this.q=null)}sDTDOpenWaka(){const de=this.getCodeNorm();switch(this.text+=String.fromCodePoint(de),de){case q:this.state=N,this.openWakaBang="";break;case Ye:this.state=k;break;default:this.state=x}}sDTDOpenWakaBang(){const de=String.fromCodePoint(this.getCodeNorm()),Pe=this.openWakaBang+=de;this.text+=de,Pe!=="-"&&(this.state=Pe==="--"?F:x,this.openWakaBang="")}sDTDComment(){this.captureToChar(ge)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const de=this.getCodeNorm();this.text+=String.fromCodePoint(de),this.state=de===ge?V:F}sDTDCommentEnded(){const de=this.getCodeNorm();this.text+=String.fromCodePoint(de),de===Be?this.state=x:(this.fail("malformed comment."),this.state=F)}sDTDPI(){this.captureToChar(Ye)&&(this.text+="?",this.state=U)}sDTDPIEnding(){const de=this.getCodeNorm();this.text+=String.fromCodePoint(de),de===Be&&(this.state=x)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:de}=this;const{chunk:Pe}=this;e:for(;;)switch(this.getCode()){case v:this.entity+=`${Pe.slice(de,this.prevI)}
`,de=this.i;break;case Z:{const{entityReturnState:Le}=this,Ze=this.entity+Pe.slice(de,this.prevI);this.state=Le;let mt;Ze===""?(this.fail("empty entity name."),mt="&;"):(mt=this.parseEntity(Ze),this.entity=""),(Le!==H||this.textHandler!==void 0)&&(this.text+=mt);break e}case _:this.entity+=Pe.slice(de);break e}}sOpenWaka(){const de=this.getCode();if(s(de))this.state=Q,this.unget(),this.xmlDeclPossible=!1;else switch(de){case qe:this.state=Ue,this.xmlDeclPossible=!1;break;case q:this.state=fe,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Ye:this.state=Ne;break;default:this.fail("disallowed character in tag name"),this.state=H,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=le,this.openWakaBang="";break;case"--":this.state=Te,this.openWakaBang="";break;case"DOCTYPE":this.state=S,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(ge)&&(this.state=De)}sCommentEnding(){var de;const Pe=this.getCodeNorm();Pe===ge?(this.state=Ve,(de=this.commentHandler)===null||de===void 0||de.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(Pe)}`,this.state=Te)}sCommentEnded(){const de=this.getCodeNorm();de!==Be?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(de)}`,this.state=Te):this.state=H}sCData(){this.captureToChar(ft)&&(this.state=ue)}sCDataEnding(){const de=this.getCodeNorm();de===ft?this.state=Ie:(this.text+=`]${String.fromCodePoint(de)}`,this.state=le)}sCDataEnding2(){var de;const Pe=this.getCodeNorm();switch(Pe){case Be:{(de=this.cdataHandler)===null||de===void 0||de.call(this,this.text),this.text="",this.state=H;break}case ft:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(Pe)}`,this.state=le}}sPIFirstChar(){const de=this.getCodeNorm();this.nameStartCheck(de)?(this.piTarget+=String.fromCodePoint(de),this.state=we):de===Ye||r(de)?(this.fail("processing instruction without a target."),this.state=de===Ye?Se:Ae):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(de),this.state=we)}sPIRest(){const{chunk:de,i:Pe}=this;for(;;){const Le=this.getCodeNorm();if(Le===_){this.piTarget+=de.slice(Pe);return}if(!this.nameCheck(Le)){this.piTarget+=de.slice(Pe,this.prevI);const Ze=Le===Ye;Ze||r(Le)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=Ze?G:z):this.state=Ze?Se:Ae:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Le));break}}}sPIBody(){if(this.text.length===0){const de=this.getCodeNorm();de===Ye?this.state=Se:r(de)||(this.text=String.fromCodePoint(de))}else this.captureToChar(Ye)&&(this.state=Se)}sPIEnding(){var de;const Pe=this.getCodeNorm();if(Pe===Be){const{piTarget:Le}=this;Le.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(de=this.piHandler)===null||de===void 0||de.call(this,{target:Le,body:this.text}),this.piTarget=this.text="",this.state=H}else Pe===Ye?this.text+="?":(this.text+=`?${String.fromCodePoint(Pe)}`,this.state=Ae);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const de=this.skipSpaces();if(de===Ye){this.state=G;return}de!==_&&(this.state=L,this.name=String.fromCodePoint(de))}sXMLDeclName(){const de=this.captureTo(J);if(de===Ye){this.state=G,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(r(de)||de===je){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=de===je?T:B}}sXMLDeclEq(){const de=this.getCodeNorm();if(de===Ye){this.state=G,this.fail("XML declaration is incomplete.");return}r(de)||(de!==je&&this.fail("value required."),this.state=T)}sXMLDeclValueStart(){const de=this.getCodeNorm();if(de===Ye){this.state=G,this.fail("XML declaration is incomplete.");return}r(de)||(ne(de)?this.q=de:(this.fail("value must be quoted."),this.q=C),this.state=O)}sXMLDeclValue(){const de=this.captureTo([this.q,Ye]);if(de===Ye){this.state=G,this.text="",this.fail("XML declaration is incomplete.");return}if(de===_)return;const Pe=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Le=Pe;this.xmlDecl.version=Le,/^1\.[0-9]+$/.test(Le)?this.opt.forceXMLVersion||this.setXMLVersion(Le):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Pe)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Pe;break;case"standalone":Pe!=="yes"&&Pe!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Pe;break}this.name="",this.state=$}sXMLDeclSeparator(){const de=this.getCodeNorm();if(de===Ye){this.state=G;return}r(de)||(this.fail("whitespace required."),this.unget()),this.state=z}sXMLDeclEnding(){var de;this.getCodeNorm()===Be?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(de=this.xmldeclHandler)===null||de===void 0||de.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=H):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var de;const Pe=this.captureNameChars();if(Pe===_)return;const Le=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Le.ns=Object.create(null)),(de=this.openTagStartHandler)===null||de===void 0||de.call(this,Le),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Pe){case Be:this.openTag();break;case qe:this.state=Y;break;default:r(Pe)||this.fail("disallowed character in tag name."),this.state=ie}}sOpenTagSlash(){this.getCode()===Be?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=ie)}sAttrib(){const de=this.skipSpaces();de!==_&&(s(de)?(this.unget(),this.state=te):de===Be?this.openTag():de===qe?this.state=Y:this.fail("disallowed character in attribute name."))}sAttribName(){const de=this.captureNameChars();de===je?this.state=ce:r(de)?this.state=he:de===Be?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):de!==_&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const de=this.skipSpaces();switch(de){case _:return;case je:this.state=ce;break;default:this.fail("attribute without value."),this.text="",this.name="",de===Be?this.openTag():s(de)?(this.unget(),this.state=te):(this.fail("disallowed character in attribute name."),this.state=ie)}}sAttribValue(){const de=this.getCodeNorm();ne(de)?(this.q=de,this.state=ve):r(de)||(this.fail("unquoted attribute value."),this.state=Ee,this.unget())}sAttribValueQuoted(){const{q:de,chunk:Pe}=this;let{i:Le}=this;for(;;)switch(this.getCode()){case de:this.pushAttrib(this.name,this.text+Pe.slice(Le,this.prevI)),this.name=this.text="",this.q=null,this.state=Ce;return;case re:this.text+=Pe.slice(Le,this.prevI),this.state=X,this.entityReturnState=ve;return;case ke:case v:case Qe:this.text+=`${Pe.slice(Le,this.prevI)} `,Le=this.i;break;case Oe:this.text+=Pe.slice(Le,this.prevI),this.fail("disallowed character.");return;case _:this.text+=Pe.slice(Le);return}}sAttribValueClosed(){const de=this.getCodeNorm();r(de)?this.state=ie:de===Be?this.openTag():de===qe?this.state=Y:s(de)?(this.fail("no whitespace between attributes."),this.unget(),this.state=te):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const de=this.captureTo(me);switch(de){case re:this.state=X,this.entityReturnState=Ee;break;case Oe:this.fail("disallowed character.");break;case _:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",de===Be?this.openTag():this.state=ie}}sCloseTag(){const de=this.captureNameChars();de===Be?this.closeTag():r(de)?this.state=Fe:de!==_&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Be:this.closeTag();break;case _:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:de,forbiddenState:Pe}=this;const{chunk:Le,textHandler:Ze}=this;e:for(;;)switch(this.getCode()){case Oe:{if(this.state=ee,Ze!==void 0){const{text:mt}=this,xt=Le.slice(de,this.prevI);mt.length!==0?(Ze(mt+xt),this.text=""):xt.length!==0&&Ze(xt)}Pe=et;break e}case re:this.state=X,this.entityReturnState=H,Ze!==void 0&&(this.text+=Le.slice(de,this.prevI)),Pe=et;break e;case ft:switch(Pe){case et:Pe=dt;break;case dt:Pe=it;break;case it:break;default:throw new Error("impossible state")}break;case Be:Pe===it&&this.fail('the string "]]>" is disallowed in char data.'),Pe=et;break;case v:Ze!==void 0&&(this.text+=`${Le.slice(de,this.prevI)}
`),de=this.i,Pe=et;break;case _:Ze!==void 0&&(this.text+=Le.slice(de));break e;default:Pe=et}this.forbiddenState=Pe}handleTextOutsideRoot(){let{i:de}=this;const{chunk:Pe,textHandler:Le}=this;let Ze=!1;e:for(;;){const mt=this.getCode();switch(mt){case Oe:{if(this.state=ee,Le!==void 0){const{text:xt}=this,Nt=Pe.slice(de,this.prevI);xt.length!==0?(Le(xt+Nt),this.text=""):Nt.length!==0&&Le(Nt)}break e}case re:this.state=X,this.entityReturnState=H,Le!==void 0&&(this.text+=Pe.slice(de,this.prevI)),Ze=!0;break e;case v:Le!==void 0&&(this.text+=`${Pe.slice(de,this.prevI)}
`),de=this.i;break;case _:Le!==void 0&&(this.text+=Pe.slice(de));break e;default:r(mt)||(Ze=!0)}}Ze&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(de,Pe){var Le;const{prefix:Ze,local:mt}=this.qname(de),xt={name:de,prefix:Ze,local:mt,value:Pe};if(this.attribList.push(xt),(Le=this.attributeHandler)===null||Le===void 0||Le.call(this,xt),Ze==="xmlns"){const Nt=Pe.trim();this.currentXMLVersion==="1.0"&&Nt===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[mt]=Nt,ye(this,mt,Nt)}else if(de==="xmlns"){const Nt=Pe.trim();this.topNS[""]=Nt,ye(this,"",Nt)}}pushAttribPlain(de,Pe){var Le;const Ze={name:de,value:Pe};this.attribList.push(Ze),(Le=this.attributeHandler)===null||Le===void 0||Le.call(this,Ze)}end(){var de,Pe;this.sawRoot||this.fail("document must contain a root element.");const{tags:Le}=this;for(;Le.length>0;){const mt=Le.pop();this.fail(`unclosed tag: ${mt.name}`)}this.state!==b&&this.state!==H&&this.fail("unexpected end.");const{text:Ze}=this;return Ze.length!==0&&((de=this.textHandler)===null||de===void 0||de.call(this,Ze),this.text=""),this._closed=!0,(Pe=this.endHandler)===null||Pe===void 0||Pe.call(this),this._init(),this}resolve(de){var Pe,Le;let Ze=this.topNS[de];if(Ze!==void 0)return Ze;const{tags:mt}=this;for(let xt=mt.length-1;xt>=0;xt--)if(Ze=mt[xt].ns[de],Ze!==void 0)return Ze;return Ze=this.ns[de],Ze!==void 0?Ze:(Le=(Pe=this.opt).resolvePrefix)===null||Le===void 0?void 0:Le.call(Pe,de)}qname(de){const Pe=de.indexOf(":");if(Pe===-1)return{prefix:"",local:de};const Le=de.slice(Pe+1),Ze=de.slice(0,Pe);return(Ze===""||Le===""||Le.includes(":"))&&this.fail(`malformed name: ${de}.`),{prefix:Ze,local:Le}}processAttribsNS(){var de;const{attribList:Pe}=this,Le=this.tag;{const{prefix:xt,local:Nt}=this.qname(Le.name);Le.prefix=xt,Le.local=Nt;const nn=Le.uri=(de=this.resolve(xt))!==null&&de!==void 0?de:"";xt!==""&&(xt==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),nn===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(xt)}.`),Le.uri=xt))}if(Pe.length===0)return;const{attributes:Ze}=Le,mt=new Set;for(const xt of Pe){const{name:Nt,prefix:nn,local:fa}=xt;let Cn,cr;nn===""?(Cn=Nt==="xmlns"?m:"",cr=Nt):(Cn=this.resolve(nn),Cn===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(nn)}.`),Cn=nn),cr=`{${Cn}}${fa}`),mt.has(cr)&&this.fail(`duplicate attribute: ${cr}.`),mt.add(cr),xt.uri=Cn,Ze[Nt]=xt}this.attribList=[]}processAttribsPlain(){const{attribList:de}=this,Pe=this.tag.attributes;for(const{name:Le,value:Ze}of de)Pe[Le]!==void 0&&this.fail(`duplicate attribute: ${Le}.`),Pe[Le]=Ze;this.attribList=[]}openTag(){var de;this.processAttribs();const{tags:Pe}=this,Le=this.tag;Le.isSelfClosing=!1,(de=this.openTagHandler)===null||de===void 0||de.call(this,Le),Pe.push(Le),this.state=H,this.name=""}openSelfClosingTag(){var de,Pe,Le;this.processAttribs();const{tags:Ze}=this,mt=this.tag;mt.isSelfClosing=!0,(de=this.openTagHandler)===null||de===void 0||de.call(this,mt),(Pe=this.closeTagHandler)===null||Pe===void 0||Pe.call(this,mt),(this.tag=(Le=Ze[Ze.length-1])!==null&&Le!==void 0?Le:null)===null&&(this.closedRoot=!0),this.state=H,this.name=""}closeTag(){const{tags:de,name:Pe}=this;if(this.state=H,this.name="",Pe===""){this.fail("weird empty close tag."),this.text+="</>";return}const Le=this.closeTagHandler;let Ze=de.length;for(;Ze-- >0;){const mt=this.tag=de.pop();if(this.topNS=mt.ns,Le==null||Le(mt),mt.name===Pe)break;this.fail("unexpected close tag.")}Ze===0?this.closedRoot=!0:Ze<0&&(this.fail(`unmatched closing tag: ${Pe}.`),this.text+=`</${Pe}>`)}parseEntity(de){if(de[0]!=="#"){const Le=this.ENTITIES[de];return Le!==void 0?Le:(this.fail(this.isName(de)?"undefined entity.":"disallowed character in entity name."),`&${de};`)}let Pe=NaN;return de[1]==="x"&&/^#x[0-9a-f]+$/i.test(de)?Pe=parseInt(de.slice(2),16):/^#[0-9]+$/.test(de)&&(Pe=parseInt(de.slice(1),10)),this.isChar(Pe)?String.fromCodePoint(Pe):(this.fail("malformed character entity."),`&${de};`)}}return eu.SaxesParser=Qr,eu}var Ah={},UF;function YEe(){if(UF)return Ah;UF=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.ParseError=void 0;let t=class extends Error{constructor(n,r){const a=n.saxParser;super(n.trackPosition?`Line ${a.line} column ${a.column+1}: ${r}`:r)}};return Ah.ParseError=t,Ah}var XE={},YE={},kF;function ZEe(){return kF||(kF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateIri=t.IriValidationStrategy=void 0;function e(){const u="[!$&'()*+,;=]",l="%[a-fA-F0-9]{2}",c="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",d=`${c}\\.${c}\\.${c}\\.${c}`,f="[a-fA-F0-9]{1,4}",h=`(${f}:${f}|${d})`,p=`((${f}:){6}${h}|::(${f}:){5}${h}|(${f})?::(${f}:){4}${h}|((${f}:){0,1}${f})?::(${f}:){3}${h}|((${f}:){0,2}${f})?::(${f}:){2}${h}|((${f}:){0,3}${f})?::${f}:${h}|((${f}:){0,4}${f})?::${h}|((${f}:){0,5}${f})?::${f}|((${f}:){0,6}${f})?::)`,m=`v[a-fA-F0-9]+\\.(${u}|${u}|":)+`,y=`\\[(${p}|${m})\\]`,g="[0-9]*",_="[a-zA-Z][a-zA-Z0-9+\\-.]*",b="[---]",A="[a-zA-Z0-9\\-._~-----------------]",x=`(${A}|${l}|${u}|[:@])*`,M=`(${x}|[\\/?])*`,I=`(${x}|${b}|[\\/?])*`,N=`(${x})+`,F=`(${x})*`,D="",V=`${N}(\\/${F})*`,k=`\\/(${N}(\\/${F})*)?`,U=`(\\/${F})*`,H=`(${A}|${l}|${u})*`,X=`(${y}|${d}|${H})`,Te=`(\\/\\/${`(${`(${A}|${l}|${u}|:)*`}@)?${X}(:${g})?`}${U}|${k}|${V}|${D})`,De=`^${_}:${Te}(\\?${I})?(#${M})?$`;return new RegExp(De,"u")}const n=e(),r=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var a;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(a=t.IriValidationStrategy||(t.IriValidationStrategy={}));function s(o,u=a.Strict){switch(u){case a.Strict:return n.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case a.Pragmatic:return r.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case a.None:return;default:return new Error(`Not supported validation strategy "${u}"`)}}t.validateIri=s}(YE)),YE}var VF;function eAe(){return VF||(VF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ZEe(),t)}(XE)),XE}var HF;function tAe(){if(HF)return Zo;HF=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.ParseType=Zo.RdfXmlParser=void 0;const t=la(),e=RJ(),n=Dt,r=YEe(),a=Rt,s=eAe();let o=class Pr extends n.Transform{constructor(c){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},c&&(Object.assign(this,c),this.options=c),this.dataFactory||(this.dataFactory=new a.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?s.IriValidationStrategy.Pragmatic:s.IriValidationStrategy.None),this.saxParser=new e.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(c){const d=new n.PassThrough({readableObjectMode:!0});c.on("error",h=>f.emit("error",h)),c.on("data",h=>d.push(h)),c.on("end",()=>d.push(null));const f=d.pipe(new Pr(this.options));return f}_transform(c,d,f){try{this.saxParser.write(c)}catch(h){return f(h)}f()}newParseError(c){return new r.ParseError(this,c)}valueToUri(c,d){return this.uriToNamedNode((0,t.resolve)(c,d.baseIRI))}uriToNamedNode(c){const d=(0,s.validateIri)(c,this.iriValidationStrategy);if(d instanceof Error)throw this.newParseError(d.message);return this.dataFactory.namedNode(c)}validateNcname(c){if(!Pr.NCNAME_MATCHER.test(c))throw this.newParseError(`Not a valid NCName: ${c}`)}attachSaxListeners(){this.saxParser.on("error",c=>this.emit("error",c)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(c){const d=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let f=u.RESOURCE;if(d&&(d.hadChildren=!0,f=d.childrenParseType),d&&d.childrenStringTags){const p=c.name;let m="";for(const v in c.attributes)m+=` ${v}="${c.attributes[v].value}"`;const g=`<${`${p}${m}`}>`;d.childrenStringTags.push(g);const _={childrenStringTags:d.childrenStringTags};_.childrenStringEmitClosingTag=`</${p}>`,this.activeTagStack.push(_);return}const h={};d?(h.language=d.language,h.baseIRI=d.baseIRI):h.baseIRI=this.baseIRI,this.activeTagStack.push(h),f===u.RESOURCE?this.onTagResource(c,h,d,!d):this.onTagProperty(c,h,d)}onTagResource(c,d,f,h){d.childrenParseType=u.PROPERTY;let p=!0;if(c.uri===Pr.RDF){if(!h&&Pr.FORBIDDEN_NODE_ELEMENTS.indexOf(c.local)>=0)throw this.newParseError(`Illegal node element name: ${c.local}`);switch(c.local){case"RDF":d.childrenParseType=u.RESOURCE;case"Description":p=!1}}const m=[],y=[];let g=null,_=!1,v=!1,b=null;for(const w in c.attributes){const S=c.attributes[w];if(f&&S.uri===Pr.RDF)switch(S.local){case"about":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${g} where found.`);g=S.value;continue;case"ID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${g} where found.`);this.validateNcname(S.value),g="#"+S.value,_=!0;continue;case"nodeID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${g} where found.`);this.validateNcname(S.value),g=S.value,v=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":b=S.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(S.uri===Pr.XML){if(S.local==="lang"){d.language=S.value===""?null:S.value.toLowerCase();continue}else if(S.local==="base"){d.baseIRI=(0,t.resolve)(S.value,d.baseIRI);continue}}S.prefix!=="xml"&&S.prefix!=="xmlns"&&(S.prefix!==""||S.local!=="xmlns")&&S.uri&&(m.push(this.uriToNamedNode(S.uri+S.local)),y.push(S.value))}if(g!==null&&(d.subject=v?this.dataFactory.blankNode(g):this.valueToUri(g,d),_&&this.claimNodeId(d.subject)),d.subject||(d.subject=this.dataFactory.blankNode()),p){const w=this.uriToNamedNode(c.uri+c.local);this.emitTriple(d.subject,this.dataFactory.namedNode(Pr.RDF+"type"),w,f?f.reifiedStatementId:null)}if(f){if(f.predicate)if(f.childrenCollectionSubject){const w=this.dataFactory.blankNode();this.emitTriple(f.childrenCollectionSubject,f.childrenCollectionPredicate,w,f.reifiedStatementId),this.emitTriple(w,this.dataFactory.namedNode(Pr.RDF+"first"),d.subject,d.reifiedStatementId),f.childrenCollectionSubject=w,f.childrenCollectionPredicate=this.dataFactory.namedNode(Pr.RDF+"rest")}else{this.emitTriple(f.subject,f.predicate,d.subject,f.reifiedStatementId);for(let w=0;w<f.predicateSubPredicates.length;w++)this.emitTriple(d.subject,f.predicateSubPredicates[w],f.predicateSubObjects[w],null);f.predicateSubPredicates=[],f.predicateSubObjects=[],f.predicateEmitted=!0}for(let w=0;w<m.length;w++){const S=this.dataFactory.literal(y[w],d.datatype||d.language);this.emitTriple(d.subject,m[w],S,f.reifiedStatementId)}b&&this.emitTriple(d.subject,this.dataFactory.namedNode(Pr.RDF+"type"),this.uriToNamedNode(b),null)}}onTagProperty(c,d,f){if(d.childrenParseType=u.RESOURCE,d.subject=f.subject,c.uri===Pr.RDF&&c.local==="li"?(f.listItemCounter||(f.listItemCounter=1),d.predicate=this.uriToNamedNode(c.uri+"_"+f.listItemCounter++)):d.predicate=this.uriToNamedNode(c.uri+c.local),c.uri===Pr.RDF&&Pr.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(c.local)>=0)throw this.newParseError(`Illegal property element name: ${c.local}`);d.predicateSubPredicates=[],d.predicateSubObjects=[];let h=!1,p=!1,m=null,y=!0;const g=[],_=[];for(const v in c.attributes){const b=c.attributes[v];if(b.uri===Pr.RDF)switch(b.local){case"resource":if(m)throw this.newParseError(`Found both rdf:resource (${b.value}) and rdf:nodeID (${m}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${b.value})`);d.hadChildren=!0,m=b.value,y=!1;continue;case"datatype":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${b.value}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${b.value})`);d.datatype=this.valueToUri(b.value,d);continue;case"nodeID":if(p)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${b.value}).`);if(d.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${b.value}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${b.value})`);this.validateNcname(b.value),d.hadChildren=!0,m=b.value,y=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(p)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(d.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${d.datatype.value})`);if(m)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${m})`);if(b.value==="Resource"){h=!0,d.childrenParseType=u.PROPERTY;const w=this.dataFactory.blankNode();this.emitTriple(d.subject,d.predicate,w,d.reifiedStatementId),d.subject=w,d.predicate=null}else b.value==="Collection"?(h=!0,d.hadChildren=!0,d.childrenCollectionSubject=d.subject,d.childrenCollectionPredicate=d.predicate,y=!1):b.value==="Literal"&&(h=!0,d.childrenTagsToString=!0,d.childrenStringTags=[]);continue;case"ID":this.validateNcname(b.value),d.reifiedStatementId=this.valueToUri("#"+b.value,d),this.claimNodeId(d.reifiedStatementId);continue}else if(b.uri===Pr.XML&&b.local==="lang"){d.language=b.value===""?null:b.value.toLowerCase();continue}if(b.prefix!=="xml"&&b.prefix!=="xmlns"&&(b.prefix!==""||b.local!=="xmlns")&&b.uri){if(h||d.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${b.value}`);d.hadChildren=!0,p=!0,g.push(this.uriToNamedNode(b.uri+b.local)),_.push(this.dataFactory.literal(b.value,d.datatype||d.language))}}if(m!==null){const v=d.subject;d.subject=y?this.dataFactory.blankNode(m):this.valueToUri(m,d),this.emitTriple(v,d.predicate,d.subject,d.reifiedStatementId);for(let b=0;b<g.length;b++)this.emitTriple(d.subject,g[b],_[b],null);d.predicateEmitted=!0}else y&&(d.predicateSubPredicates=g,d.predicateSubObjects=_,d.predicateEmitted=!1)}emitTriple(c,d,f,h){this.push(this.dataFactory.quad(c,d,f,this.defaultGraph)),h&&(this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(Pr.RDF+"type"),this.dataFactory.namedNode(Pr.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(Pr.RDF+"subject"),c,this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(Pr.RDF+"predicate"),d,this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(Pr.RDF+"object"),f,this.defaultGraph)))}claimNodeId(c){if(!this.allowDuplicateRdfIds){if(this.nodeIds[c.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${c.value}'.`);this.nodeIds[c.value]=!0}}onText(c){const d=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;d&&(d.childrenStringTags?d.childrenStringTags.push(c):d.predicate&&(d.text=c))}onCloseTag(){const c=this.activeTagStack.pop();if(c.childrenStringEmitClosingTag&&c.childrenStringTags.push(c.childrenStringEmitClosingTag),c.childrenTagsToString&&(c.datatype=this.dataFactory.namedNode(Pr.RDF+"XMLLiteral"),c.text=c.childrenStringTags.join(""),c.hadChildren=!1),c.childrenCollectionSubject)this.emitTriple(c.childrenCollectionSubject,c.childrenCollectionPredicate,this.dataFactory.namedNode(Pr.RDF+"nil"),c.reifiedStatementId);else if(c.predicate){if(!c.hadChildren&&c.childrenParseType!==u.PROPERTY)this.emitTriple(c.subject,c.predicate,this.dataFactory.literal(c.text||"",c.datatype||c.language),c.reifiedStatementId);else if(!c.predicateEmitted){const d=this.dataFactory.blankNode();this.emitTriple(c.subject,c.predicate,d,c.reifiedStatementId);for(let f=0;f<c.predicateSubPredicates.length;f++)this.emitTriple(d,c.predicateSubPredicates[f],c.predicateSubObjects[f],null)}}}onDoctype(c){c.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(d,f,h)=>(this.saxParser.ENTITIES[f]=h,""))}};Zo.RdfXmlParser=o,o.MIME_TYPE="application/rdf+xml",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XML="http://www.w3.org/XML/1998/namespace",o.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],o.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],o.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var u;return function(l){l[l.RESOURCE=0]="RESOURCE",l[l.PROPERTY=1]="PROPERTY"}(u||(Zo.ParseType=u={})),Zo}var QF;function rAe(){return QF||(QF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(tAe(),t)}(GE)),GE}var zF;function nAe(){if(zF)return Eh;zF=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.ActorRdfParseRdfXml=void 0;const t=Yl(),e=rAe();let n=class extends t.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a){var o;a.data.on("error",u=>s.emit("error",u));const s=a.data.pipe(new e.RdfXmlParser({baseIRI:(o=a.metadata)==null?void 0:o.baseIRI}));return{data:s,metadata:{triples:!0}}}};return Eh.ActorRdfParseRdfXml=n,Eh}var GF;function iAe(){return GF||(GF=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(nAe(),t)}(zE)),zE}var ZE={},Oh={},eA={},tA={},WF;function aAe(){return WF||(WF=1,Object.defineProperty(tA,"__esModule",{value:!0})),tA}var rA={},KF;function sAe(){return KF||(KF=1,Object.defineProperty(rA,"__esModule",{value:!0})),rA}var nA={},JF;function oAe(){return JF||(JF=1,Object.defineProperty(nA,"__esModule",{value:!0})),nA}var Rh={},iA={},xh={},aA={},sA={},t1={},XF;function uAe(){return XF||(XF=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}))),t1}var r1={},YF;function cAe(){return YF||(YF=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}))),r1}var oA={},ZF;function e5(){return ZF||(ZF=1,function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function r(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=n.get(s))!==null&&o!==void 0?o:s}t.replaceCodePoint=r;function a(s){return(0,t.fromCodePoint)(r(s))}t.default=a}(oA)),oA}var t5;function Tl(){return t5||(t5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(F,D,V,k){k===void 0&&(k=V);var U=Object.getOwnPropertyDescriptor(D,V);(!U||("get"in U?!D.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return D[V]}}),Object.defineProperty(F,k,U)}:function(F,D,V,k){k===void 0&&(k=V),F[k]=D[V]}),n=P&&P.__setModuleDefault||(Object.create?function(F,D){Object.defineProperty(F,"default",{enumerable:!0,value:D})}:function(F,D){F.default=D}),r=P&&P.__importStar||function(F){if(F&&F.__esModule)return F;var D={};if(F!=null)for(var V in F)V!=="default"&&Object.prototype.hasOwnProperty.call(F,V)&&e(D,F,V);return n(D,F),D},a=P&&P.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var s=a(uAe());t.htmlDecodeTree=s.default;var o=a(cAe());t.xmlDecodeTree=o.default;var u=r(e5());t.decodeCodePoint=u.default;var l=e5();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return l.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return l.fromCodePoint}});var c;(function(F){F[F.NUM=35]="NUM",F[F.SEMI=59]="SEMI",F[F.EQUALS=61]="EQUALS",F[F.ZERO=48]="ZERO",F[F.NINE=57]="NINE",F[F.LOWER_A=97]="LOWER_A",F[F.LOWER_F=102]="LOWER_F",F[F.LOWER_X=120]="LOWER_X",F[F.LOWER_Z=122]="LOWER_Z",F[F.UPPER_A=65]="UPPER_A",F[F.UPPER_F=70]="UPPER_F",F[F.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var d=32,f;(function(F){F[F.VALUE_LENGTH=49152]="VALUE_LENGTH",F[F.BRANCH_LENGTH=16256]="BRANCH_LENGTH",F[F.JUMP_TABLE=127]="JUMP_TABLE"})(f=t.BinTrieFlags||(t.BinTrieFlags={}));function h(F){return F>=c.ZERO&&F<=c.NINE}function p(F){return F>=c.UPPER_A&&F<=c.UPPER_F||F>=c.LOWER_A&&F<=c.LOWER_F}function m(F){return F>=c.UPPER_A&&F<=c.UPPER_Z||F>=c.LOWER_A&&F<=c.LOWER_Z||h(F)}function y(F){return F===c.EQUALS||m(F)}var g;(function(F){F[F.EntityStart=0]="EntityStart",F[F.NumericStart=1]="NumericStart",F[F.NumericDecimal=2]="NumericDecimal",F[F.NumericHex=3]="NumericHex",F[F.NamedEntity=4]="NamedEntity"})(g||(g={}));var _;(function(F){F[F.Legacy=0]="Legacy",F[F.Strict=1]="Strict",F[F.Attribute=2]="Attribute"})(_=t.DecodingMode||(t.DecodingMode={}));var v=function(){function F(D,V,k){this.decodeTree=D,this.emitCodePoint=V,this.errors=k,this.state=g.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=_.Strict}return F.prototype.startEntity=function(D){this.decodeMode=D,this.state=g.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},F.prototype.write=function(D,V){switch(this.state){case g.EntityStart:return D.charCodeAt(V)===c.NUM?(this.state=g.NumericStart,this.consumed+=1,this.stateNumericStart(D,V+1)):(this.state=g.NamedEntity,this.stateNamedEntity(D,V));case g.NumericStart:return this.stateNumericStart(D,V);case g.NumericDecimal:return this.stateNumericDecimal(D,V);case g.NumericHex:return this.stateNumericHex(D,V);case g.NamedEntity:return this.stateNamedEntity(D,V)}},F.prototype.stateNumericStart=function(D,V){return V>=D.length?-1:(D.charCodeAt(V)|d)===c.LOWER_X?(this.state=g.NumericHex,this.consumed+=1,this.stateNumericHex(D,V+1)):(this.state=g.NumericDecimal,this.stateNumericDecimal(D,V))},F.prototype.addToNumericResult=function(D,V,k,U){if(V!==k){var H=k-V;this.result=this.result*Math.pow(U,H)+parseInt(D.substr(V,H),U),this.consumed+=H}},F.prototype.stateNumericHex=function(D,V){for(var k=V;V<D.length;){var U=D.charCodeAt(V);if(h(U)||p(U))V+=1;else return this.addToNumericResult(D,k,V,16),this.emitNumericEntity(U,3)}return this.addToNumericResult(D,k,V,16),-1},F.prototype.stateNumericDecimal=function(D,V){for(var k=V;V<D.length;){var U=D.charCodeAt(V);if(h(U))V+=1;else return this.addToNumericResult(D,k,V,10),this.emitNumericEntity(U,2)}return this.addToNumericResult(D,k,V,10),-1},F.prototype.emitNumericEntity=function(D,V){var k;if(this.consumed<=V)return(k=this.errors)===null||k===void 0||k.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(D===c.SEMI)this.consumed+=1;else if(this.decodeMode===_.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(D!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},F.prototype.stateNamedEntity=function(D,V){for(var k=this.decodeTree,U=k[this.treeIndex],H=(U&f.VALUE_LENGTH)>>14;V<D.length;V++,this.excess++){var X=D.charCodeAt(V);if(this.treeIndex=w(k,U,this.treeIndex+Math.max(1,H),X),this.treeIndex<0)return this.result===0||this.decodeMode===_.Attribute&&(H===0||y(X))?0:this.emitNotTerminatedNamedEntity();if(U=k[this.treeIndex],H=(U&f.VALUE_LENGTH)>>14,H!==0){if(X===c.SEMI)return this.emitNamedEntityData(this.treeIndex,H,this.consumed+this.excess);this.decodeMode!==_.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},F.prototype.emitNotTerminatedNamedEntity=function(){var D,V=this,k=V.result,U=V.decodeTree,H=(U[k]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(k,H,this.consumed),(D=this.errors)===null||D===void 0||D.missingSemicolonAfterCharacterReference(),this.consumed},F.prototype.emitNamedEntityData=function(D,V,k){var U=this.decodeTree;return this.emitCodePoint(V===1?U[D]&~f.VALUE_LENGTH:U[D+1],k),V===3&&this.emitCodePoint(U[D+2],k),k},F.prototype.end=function(){var D;switch(this.state){case g.NamedEntity:return this.result!==0&&(this.decodeMode!==_.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case g.NumericDecimal:return this.emitNumericEntity(0,2);case g.NumericHex:return this.emitNumericEntity(0,3);case g.NumericStart:return(D=this.errors)===null||D===void 0||D.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case g.EntityStart:return 0}},F}();t.EntityDecoder=v;function b(F){var D="",V=new v(F,function(k){return D+=(0,u.fromCodePoint)(k)});return function(U,H){for(var X=0,ee=0;(ee=U.indexOf("&",ee))>=0;){D+=U.slice(X,ee),V.startEntity(H);var fe=V.write(U,ee+1);if(fe<0){X=ee+V.end();break}X=ee+fe,ee=fe===0?X+1:X}var Te=D+U.slice(X);return D="",Te}}function w(F,D,V,k){var U=(D&f.BRANCH_LENGTH)>>7,H=D&f.JUMP_TABLE;if(U===0)return H!==0&&k===H?V:-1;if(H){var X=k-H;return X<0||X>=U?-1:F[V+X]-1}for(var ee=V,fe=ee+U-1;ee<=fe;){var Te=ee+fe>>>1,De=F[Te];if(De<k)ee=Te+1;else if(De>k)fe=Te-1;else return F[Te+U]}return-1}t.determineBranch=w;var S=b(s.default),A=b(o.default);function x(F,D){return D===void 0&&(D=_.Legacy),S(F,D)}t.decodeHTML=x;function M(F){return S(F,_.Attribute)}t.decodeHTMLAttribute=M;function I(F){return S(F,_.Strict)}t.decodeHTMLStrict=I;function N(F){return A(F,_.Strict)}t.decodeXML=N}(sA)),sA}var r5;function xJ(){return r5||(r5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Tl(),n;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(n||(n={}));var r;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(r||(r={}));function a(h){return h===n.Space||h===n.NewLine||h===n.Tab||h===n.FormFeed||h===n.CarriageReturn}function s(h){return h===n.Slash||h===n.Gt||a(h)}function o(h){return h>=n.Zero&&h<=n.Nine}function u(h){return h>=n.LowerA&&h<=n.LowerZ||h>=n.UpperA&&h<=n.UpperZ}function l(h){return h>=n.UpperA&&h<=n.UpperF||h>=n.LowerA&&h<=n.LowerF}var c;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(c=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function h(p,m){var y=p.xmlMode,g=y===void 0?!1:y,_=p.decodeEntities,v=_===void 0?!0:_;this.cbs=m,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=g,this.decodeEntities=v,this.entityTrie=g?e.xmlDecodeTree:e.htmlDecodeTree}return h.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(p){p===n.Lt||!this.decodeEntities&&this.fastForwardTo(n.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===n.Amp&&(this.state=r.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(p){var m=this.sequenceIndex===this.currentSequence.length,y=m?s(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!y)this.isSpecial=!1;else if(!m){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(p)},h.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===n.Gt||a(p)){var m=this.index-this.currentSequence.length;if(this.sectionStart<m){var y=this.index;this.index=m,this.cbs.ontext(this.sectionStart,m),this.index=y}this.isSpecial=!1,this.sectionStart=m+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&p===n.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(n.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===n.Lt)},h.prototype.stateCDATASequence=function(p){p===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(p))},h.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(p){return this.xmlMode?!s(p):u(p)},h.prototype.startSpecial=function(p,m){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=m,this.state=r.SpecialStartSequence},h.prototype.stateBeforeTagName=function(p){if(p===n.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===n.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var m=p|32;this.sectionStart=this.index,!this.xmlMode&&m===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&m===d.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else p===n.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(p))},h.prototype.stateInTagName=function(p){s(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===n.Gt?this.state=r.Text:(this.state=this.isTagStartChar(p)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(p){(p===n.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(p))},h.prototype.stateAfterClosingTagName=function(p){(p===n.Gt||this.fastForwardTo(n.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(p){p===n.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===n.Slash?this.state=r.InSelfClosingTag:a(p)||(this.state=r.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(p){p===n.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateInAttributeName=function(p){(p===n.Eq||s(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(p))},h.prototype.stateAfterAttributeName=function(p){p===n.Eq?this.state=r.BeforeAttributeValue:p===n.Slash||p===n.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(c.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(p){p===n.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):p===n.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},h.prototype.handleInAttributeValue=function(p,m){p===m||!this.decodeEntities&&this.fastForwardTo(m)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(m===n.DoubleQuote?c.Double:c.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&p===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,n.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,n.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===n.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(p){p===n.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=p===n.Dash?r.BeforeComment:r.InDeclaration},h.prototype.stateInDeclaration=function(p){(p===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(p){(p===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(p){p===n.Dash?(this.state=r.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},h.prototype.stateInSpecialComment=function(p){(p===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(p){var m=p|32;m===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):m===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(p))},h.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===n.Number?this.state=r.BeforeNumericEntity:p===n.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(p))},h.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var m=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(m){var y=(m>>14)-1;if(!this.allowLegacyEntity()&&p!==n.Semi)this.trieIndex+=y;else{var g=this.index-this.entityExcess+1;g>this.sectionStart&&this.emitPartial(this.sectionStart,g),this.entityResult=this.trieIndex,this.trieIndex+=y,this.entityExcess=0,this.sectionStart=this.index+1,y===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(p){(p|32)===n.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(p))},h.prototype.emitNumericEntity=function(p){var m=this.index-this.entityExcess-1,y=m+2+ +(this.state===r.InHexEntity);y!==this.index&&(m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(p){p===n.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-n.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(p){p===n.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-n.Zero),this.entityExcess++):l(p)?(this.entityResult=this.entityResult*16+((p|32)-n.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(p);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case r.InSpecialTag:{this.stateInSpecialTag(p);break}case r.CDATASequence:{this.stateCDATASequence(p);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case r.InAttributeName:{this.stateInAttributeName(p);break}case r.InCommentLike:{this.stateInCommentLike(p);break}case r.InSpecialComment:{this.stateInSpecialComment(p);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case r.InTagName:{this.stateInTagName(p);break}case r.InClosingTagName:{this.stateInClosingTagName(p);break}case r.BeforeTagName:{this.stateBeforeTagName(p);break}case r.AfterAttributeName:{this.stateAfterAttributeName(p);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case r.InDeclaration:{this.stateInDeclaration(p);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case r.BeforeComment:{this.stateBeforeComment(p);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case r.InNamedEntity:{this.stateInNamedEntity(p);break}case r.BeforeEntity:{this.stateBeforeEntity(p);break}case r.InHexEntity:{this.stateInHexEntity(p);break}case r.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},h.prototype.emitPartial=function(p,m){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(p,m):this.cbs.ontext(p,m)},h.prototype.emitCodePoint=function(p){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},h}();t.default=f}(aA)),aA}var n5;function i5(){if(n5)return xh;n5=1;var t=P&&P.__createBinding||(Object.create?function(g,_,v,b){b===void 0&&(b=v);var w=Object.getOwnPropertyDescriptor(_,v);(!w||("get"in w?!_.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,b,w)}:function(g,_,v,b){b===void 0&&(b=v),g[b]=_[v]}),e=P&&P.__setModuleDefault||(Object.create?function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}:function(g,_){g.default=_}),n=P&&P.__importStar||function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&t(_,g,v);return e(_,g),_};Object.defineProperty(xh,"__esModule",{value:!0}),xh.Parser=void 0;var r=n(xJ()),a=Tl(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),u=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),c=new Set(["rt","rp"]),d=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",c],["rp",c],["tbody",u],["tfoot",u]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,y=function(){function g(_,v){v===void 0&&(v={});var b,w,S,A,x;this.options=v,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=_??{},this.lowerCaseTagNames=(b=v.lowerCaseTags)!==null&&b!==void 0?b:!v.xmlMode,this.lowerCaseAttributeNames=(w=v.lowerCaseAttributeNames)!==null&&w!==void 0?w:!v.xmlMode,this.tokenizer=new((S=v.Tokenizer)!==null&&S!==void 0?S:r.default)(this.options,this),(x=(A=this.cbs).onparserinit)===null||x===void 0||x.call(A,this)}return g.prototype.ontext=function(_,v){var b,w,S=this.getSlice(_,v);this.endIndex=v-1,(w=(b=this.cbs).ontext)===null||w===void 0||w.call(b,S),this.startIndex=v},g.prototype.ontextentity=function(_){var v,b,w=this.tokenizer.getSectionStart();this.endIndex=w-1,(b=(v=this.cbs).ontext)===null||b===void 0||b.call(v,(0,a.fromCodePoint)(_)),this.startIndex=w},g.prototype.isVoidElement=function(_){return!this.options.xmlMode&&f.has(_)},g.prototype.onopentagname=function(_,v){this.endIndex=v;var b=this.getSlice(_,v);this.lowerCaseTagNames&&(b=b.toLowerCase()),this.emitOpenTag(b)},g.prototype.emitOpenTag=function(_){var v,b,w,S;this.openTagStart=this.startIndex,this.tagname=_;var A=!this.options.xmlMode&&d.get(_);if(A)for(;this.stack.length>0&&A.has(this.stack[this.stack.length-1]);){var x=this.stack.pop();(b=(v=this.cbs).onclosetag)===null||b===void 0||b.call(v,x,!0)}this.isVoidElement(_)||(this.stack.push(_),h.has(_)?this.foreignContext.push(!0):p.has(_)&&this.foreignContext.push(!1)),(S=(w=this.cbs).onopentagname)===null||S===void 0||S.call(w,_),this.cbs.onopentag&&(this.attribs={})},g.prototype.endOpenTag=function(_){var v,b;this.startIndex=this.openTagStart,this.attribs&&((b=(v=this.cbs).onopentag)===null||b===void 0||b.call(v,this.tagname,this.attribs,_),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},g.prototype.onopentagend=function(_){this.endIndex=_,this.endOpenTag(!1),this.startIndex=_+1},g.prototype.onclosetag=function(_,v){var b,w,S,A,x,M;this.endIndex=v;var I=this.getSlice(_,v);if(this.lowerCaseTagNames&&(I=I.toLowerCase()),(h.has(I)||p.has(I))&&this.foreignContext.pop(),this.isVoidElement(I))!this.options.xmlMode&&I==="br"&&((w=(b=this.cbs).onopentagname)===null||w===void 0||w.call(b,"br"),(A=(S=this.cbs).onopentag)===null||A===void 0||A.call(S,"br",{},!0),(M=(x=this.cbs).onclosetag)===null||M===void 0||M.call(x,"br",!1));else{var N=this.stack.lastIndexOf(I);if(N!==-1)if(this.cbs.onclosetag)for(var F=this.stack.length-N;F--;)this.cbs.onclosetag(this.stack.pop(),F!==0);else this.stack.length=N;else!this.options.xmlMode&&I==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=v+1},g.prototype.onselfclosingtag=function(_){this.endIndex=_,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=_+1):this.onopentagend(_)},g.prototype.closeCurrentTag=function(_){var v,b,w=this.tagname;this.endOpenTag(_),this.stack[this.stack.length-1]===w&&((b=(v=this.cbs).onclosetag)===null||b===void 0||b.call(v,w,!_),this.stack.pop())},g.prototype.onattribname=function(_,v){this.startIndex=_;var b=this.getSlice(_,v);this.attribname=this.lowerCaseAttributeNames?b.toLowerCase():b},g.prototype.onattribdata=function(_,v){this.attribvalue+=this.getSlice(_,v)},g.prototype.onattribentity=function(_){this.attribvalue+=(0,a.fromCodePoint)(_)},g.prototype.onattribend=function(_,v){var b,w;this.endIndex=v,(w=(b=this.cbs).onattribute)===null||w===void 0||w.call(b,this.attribname,this.attribvalue,_===r.QuoteType.Double?'"':_===r.QuoteType.Single?"'":_===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},g.prototype.getInstructionName=function(_){var v=_.search(m),b=v<0?_:_.substr(0,v);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},g.prototype.ondeclaration=function(_,v){this.endIndex=v;var b=this.getSlice(_,v);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(b);this.cbs.onprocessinginstruction("!".concat(w),"!".concat(b))}this.startIndex=v+1},g.prototype.onprocessinginstruction=function(_,v){this.endIndex=v;var b=this.getSlice(_,v);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(b);this.cbs.onprocessinginstruction("?".concat(w),"?".concat(b))}this.startIndex=v+1},g.prototype.oncomment=function(_,v,b){var w,S,A,x;this.endIndex=v,(S=(w=this.cbs).oncomment)===null||S===void 0||S.call(w,this.getSlice(_,v-b)),(x=(A=this.cbs).oncommentend)===null||x===void 0||x.call(A),this.startIndex=v+1},g.prototype.oncdata=function(_,v,b){var w,S,A,x,M,I,N,F,D,V;this.endIndex=v;var k=this.getSlice(_,v-b);this.options.xmlMode||this.options.recognizeCDATA?((S=(w=this.cbs).oncdatastart)===null||S===void 0||S.call(w),(x=(A=this.cbs).ontext)===null||x===void 0||x.call(A,k),(I=(M=this.cbs).oncdataend)===null||I===void 0||I.call(M)):((F=(N=this.cbs).oncomment)===null||F===void 0||F.call(N,"[CDATA[".concat(k,"]]")),(V=(D=this.cbs).oncommentend)===null||V===void 0||V.call(D)),this.startIndex=v+1},g.prototype.onend=function(){var _,v;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var b=this.stack.length;b>0;this.cbs.onclosetag(this.stack[--b],!0));}(v=(_=this.cbs).onend)===null||v===void 0||v.call(_)},g.prototype.reset=function(){var _,v,b,w;(v=(_=this.cbs).onreset)===null||v===void 0||v.call(_),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(w=(b=this.cbs).onparserinit)===null||w===void 0||w.call(b,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},g.prototype.parseComplete=function(_){this.reset(),this.end(_)},g.prototype.getSlice=function(_,v){for(;_-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var b=this.buffers[0].slice(_-this.bufferOffset,v-this.bufferOffset);v-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),b+=this.buffers[0].slice(0,v-this.bufferOffset);return b},g.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},g.prototype.write=function(_){var v,b;if(this.ended){(b=(v=this.cbs).onerror)===null||b===void 0||b.call(v,new Error(".write() after done!"));return}this.buffers.push(_),this.tokenizer.running&&(this.tokenizer.write(_),this.writeIndex++)},g.prototype.end=function(_){var v,b;if(this.ended){(b=(v=this.cbs).onerror)===null||b===void 0||b.call(v,new Error(".end() after done!"));return}_&&this.write(_),this.ended=!0,this.tokenizer.end()},g.prototype.pause=function(){this.tokenizer.pause()},g.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},g.prototype.parseChunk=function(_){this.write(_)},g.prototype.done=function(_){this.end(_)},g}();return xh.Parser=y,xh}var uA={},cA={},a5;function Zl(){return a5||(a5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype}(cA)),cA}var Vt={},s5;function o5(){if(s5)return Vt;s5=1;var t=P&&P.__extends||function(){var S=function(A,x){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,I){M.__proto__=I}||function(M,I){for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(M[N]=I[N])},S(A,x)};return function(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");S(A,x);function M(){this.constructor=A}A.prototype=x===null?Object.create(x):(M.prototype=x.prototype,new M)}}(),e=P&&P.__assign||function(){return e=Object.assign||function(S){for(var A,x=1,M=arguments.length;x<M;x++){A=arguments[x];for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(S[I]=A[I])}return S},e.apply(this,arguments)};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.cloneNode=Vt.hasChildren=Vt.isDocument=Vt.isDirective=Vt.isComment=Vt.isText=Vt.isCDATA=Vt.isTag=Vt.Element=Vt.Document=Vt.CDATA=Vt.NodeWithChildren=Vt.ProcessingInstruction=Vt.Comment=Vt.Text=Vt.DataNode=Vt.Node=void 0;var n=Zl(),r=function(){function S(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(S.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),S.prototype.cloneNode=function(A){return A===void 0&&(A=!1),b(this,A)},S}();Vt.Node=r;var a=function(S){t(A,S);function A(x){var M=S.call(this)||this;return M.data=x,M}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(x){this.data=x},enumerable:!1,configurable:!0}),A}(r);Vt.DataNode=a;var s=function(S){t(A,S);function A(){var x=S!==null&&S.apply(this,arguments)||this;return x.type=n.ElementType.Text,x}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),A}(a);Vt.Text=s;var o=function(S){t(A,S);function A(){var x=S!==null&&S.apply(this,arguments)||this;return x.type=n.ElementType.Comment,x}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),A}(a);Vt.Comment=o;var u=function(S){t(A,S);function A(x,M){var I=S.call(this,M)||this;return I.name=x,I.type=n.ElementType.Directive,I}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),A}(a);Vt.ProcessingInstruction=u;var l=function(S){t(A,S);function A(x){var M=S.call(this)||this;return M.children=x,M}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var x;return(x=this.children[0])!==null&&x!==void 0?x:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(x){this.children=x},enumerable:!1,configurable:!0}),A}(r);Vt.NodeWithChildren=l;var c=function(S){t(A,S);function A(){var x=S!==null&&S.apply(this,arguments)||this;return x.type=n.ElementType.CDATA,x}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),A}(l);Vt.CDATA=c;var d=function(S){t(A,S);function A(){var x=S!==null&&S.apply(this,arguments)||this;return x.type=n.ElementType.Root,x}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),A}(l);Vt.Document=d;var f=function(S){t(A,S);function A(x,M,I,N){I===void 0&&(I=[]),N===void 0&&(N=x==="script"?n.ElementType.Script:x==="style"?n.ElementType.Style:n.ElementType.Tag);var F=S.call(this,I)||this;return F.name=x,F.attribs=M,F.type=N,F}return Object.defineProperty(A.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(x){this.name=x},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var x=this;return Object.keys(this.attribs).map(function(M){var I,N;return{name:M,value:x.attribs[M],namespace:(I=x["x-attribsNamespace"])===null||I===void 0?void 0:I[M],prefix:(N=x["x-attribsPrefix"])===null||N===void 0?void 0:N[M]}})},enumerable:!1,configurable:!0}),A}(l);Vt.Element=f;function h(S){return(0,n.isTag)(S)}Vt.isTag=h;function p(S){return S.type===n.ElementType.CDATA}Vt.isCDATA=p;function m(S){return S.type===n.ElementType.Text}Vt.isText=m;function y(S){return S.type===n.ElementType.Comment}Vt.isComment=y;function g(S){return S.type===n.ElementType.Directive}Vt.isDirective=g;function _(S){return S.type===n.ElementType.Root}Vt.isDocument=_;function v(S){return Object.prototype.hasOwnProperty.call(S,"children")}Vt.hasChildren=v;function b(S,A){A===void 0&&(A=!1);var x;if(m(S))x=new s(S.data);else if(y(S))x=new o(S.data);else if(h(S)){var M=A?w(S.children):[],I=new f(S.name,e({},S.attribs),M);M.forEach(function(V){return V.parent=I}),S.namespace!=null&&(I.namespace=S.namespace),S["x-attribsNamespace"]&&(I["x-attribsNamespace"]=e({},S["x-attribsNamespace"])),S["x-attribsPrefix"]&&(I["x-attribsPrefix"]=e({},S["x-attribsPrefix"])),x=I}else if(p(S)){var M=A?w(S.children):[],N=new c(M);M.forEach(function(k){return k.parent=N}),x=N}else if(_(S)){var M=A?w(S.children):[],F=new d(M);M.forEach(function(k){return k.parent=F}),S["x-mode"]&&(F["x-mode"]=S["x-mode"]),x=F}else if(g(S)){var D=new u(S.name,S.data);S["x-name"]!=null&&(D["x-name"]=S["x-name"],D["x-publicId"]=S["x-publicId"],D["x-systemId"]=S["x-systemId"]),x=D}else throw new Error("Not implemented yet: ".concat(S.type));return x.startIndex=S.startIndex,x.endIndex=S.endIndex,S.sourceCodeLocation!=null&&(x.sourceCodeLocation=S.sourceCodeLocation),x}Vt.cloneNode=b;function w(S){for(var A=S.map(function(M){return b(M,!0)}),x=1;x<A.length;x++)A[x].prev=A[x-1],A[x-1].next=A[x];return A}return Vt}var u5;function ja(){return u5||(u5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(u,l,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(u,d,f)}:function(u,l,c,d){d===void 0&&(d=c),u[d]=l[c]}),n=P&&P.__exportStar||function(u,l){for(var c in u)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&e(l,u,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=Zl(),a=o5();n(o5(),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function u(l,c,d){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??s,this.elementCB=d??null}return u.prototype.onparserinit=function(l){this.parser=l},u.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(l){this.handleCallback(l)},u.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},u.prototype.onopentag=function(l,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,f=new a.Element(l,c,void 0,d);this.addNode(f),this.tagStack.push(f)},u.prototype.ontext=function(l){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=l,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new a.Text(l);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var c=new a.Comment(l);this.addNode(c),this.lastNode=c},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var l=new a.Text(""),c=new a.CDATA([l]);this.addNode(c),l.parent=c,this.lastNode=l},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(l,c){var d=new a.ProcessingInstruction(l,c);this.addNode(d)},u.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},u.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),d&&(l.prev=d,d.next=l),l.parent=c,this.lastNode=null},u}();t.DomHandler=o,t.default=o}(uA)),uA}var lA={},pi={},Tc={},dA={},tu={},n1={},c5;function lAe(){if(c5)return n1;c5=1,Object.defineProperty(n1,"__esModule",{value:!0});function t(e){for(var n=1;n<e.length;n++)e[n][0]+=e[n-1][0]+1;return e}return n1.default=new Map(t([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(t([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(t([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(t([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),n1}var fA={},l5;function Ax(){return l5||(l5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(a,s){return a.codePointAt(s)}:function(a,s){return(a.charCodeAt(s)&64512)===55296?(a.charCodeAt(s)-55296)*1024+a.charCodeAt(s+1)-56320+65536:a.charCodeAt(s)};function n(a){for(var s="",o=0,u;(u=t.xmlReplacer.exec(a))!==null;){var l=u.index,c=a.charCodeAt(l),d=e.get(c);d!==void 0?(s+=a.substring(o,l)+d,o=l+1):(s+="".concat(a.substring(o,l),"&#x").concat((0,t.getCodePoint)(a,l).toString(16),";"),o=t.xmlReplacer.lastIndex+=+((c&64512)===55296))}return s+a.substr(o)}t.encodeXML=n,t.escape=n;function r(a,s){return function(u){for(var l,c=0,d="";l=a.exec(u);)c!==l.index&&(d+=u.substring(c,l.index)),d+=s.get(l[0].charCodeAt(0)),c=l.index+1;return d+u.substring(c)}}t.escapeUTF8=r(/[&<>'"]/g,e),t.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(fA)),fA}var d5;function f5(){if(d5)return tu;d5=1;var t=P&&P.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(tu,"__esModule",{value:!0}),tu.encodeNonAsciiHTML=tu.encodeHTML=void 0;var e=t(lAe()),n=Ax(),r=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(u){return o(r,u)}tu.encodeHTML=a;function s(u){return o(n.xmlReplacer,u)}tu.encodeNonAsciiHTML=s;function o(u,l){for(var c="",d=0,f;(f=u.exec(l))!==null;){var h=f.index;c+=l.substring(d,h);var p=l.charCodeAt(h),m=e.default.get(p);if(typeof m=="object"){if(h+1<l.length){var y=l.charCodeAt(h+1),g=typeof m.n=="number"?m.n===y?m.o:void 0:m.n.get(y);if(g!==void 0){c+=g,d=u.lastIndex+=1;continue}}m=m.v}if(m!==void 0)c+=m,d=h+1;else{var _=(0,n.getCodePoint)(l,h);c+="&#x".concat(_.toString(16),";"),d=u.lastIndex+=+(_!==p)}}return c+l.substr(d)}return tu}var h5;function dAe(){return h5||(h5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=Tl(),n=f5(),r=Ax(),a;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(a=t.EntityLevel||(t.EntityLevel={}));var s;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(s=t.EncodingMode||(t.EncodingMode={}));function o(h,p){p===void 0&&(p=a.XML);var m=typeof p=="number"?p:p.level;if(m===a.HTML){var y=typeof p=="object"?p.mode:void 0;return(0,e.decodeHTML)(h,y)}return(0,e.decodeXML)(h)}t.decode=o;function u(h,p){var m;p===void 0&&(p=a.XML);var y=typeof p=="number"?{level:p}:p;return(m=y.mode)!==null&&m!==void 0||(y.mode=e.DecodingMode.Strict),o(h,y)}t.decodeStrict=u;function l(h,p){p===void 0&&(p=a.XML);var m=typeof p=="number"?{level:p}:p;return m.mode===s.UTF8?(0,r.escapeUTF8)(h):m.mode===s.Attribute?(0,r.escapeAttribute)(h):m.mode===s.Text?(0,r.escapeText)(h):m.level===a.HTML?m.mode===s.ASCII?(0,n.encodeNonAsciiHTML)(h):(0,n.encodeHTML)(h):(0,r.encodeXML)(h)}t.encode=l;var c=Ax();Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var d=f5();Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var f=Tl();Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})}(dA)),dA}var ru={},p5;function fAe(){return p5||(p5=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.attributeNames=ru.elementNames=void 0,ru.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]})),ru.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))),ru}var y5;function hAe(){if(y5)return Tc;y5=1;var t=P&&P.__assign||function(){return t=Object.assign||function(w){for(var S,A=1,x=arguments.length;A<x;A++){S=arguments[A];for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&(w[M]=S[M])}return w},t.apply(this,arguments)},e=P&&P.__createBinding||(Object.create?function(w,S,A,x){x===void 0&&(x=A);var M=Object.getOwnPropertyDescriptor(S,A);(!M||("get"in M?!S.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return S[A]}}),Object.defineProperty(w,x,M)}:function(w,S,A,x){x===void 0&&(x=A),w[x]=S[A]}),n=P&&P.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),r=P&&P.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var A in w)A!=="default"&&Object.prototype.hasOwnProperty.call(w,A)&&e(S,w,A);return n(S,w),S};Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.render=void 0;var a=r(Zl()),s=dAe(),o=fAe(),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function l(w){return w.replace(/"/g,"&quot;")}function c(w,S){var A;if(w){var x=((A=S.encodeEntities)!==null&&A!==void 0?A:S.decodeEntities)===!1?l:S.xmlMode||S.encodeEntities!=="utf8"?s.encodeXML:s.escapeAttribute;return Object.keys(w).map(function(M){var I,N,F=(I=w[M])!==null&&I!==void 0?I:"";return S.xmlMode==="foreign"&&(M=(N=o.attributeNames.get(M))!==null&&N!==void 0?N:M),!S.emptyAttrs&&!S.xmlMode&&F===""?M:"".concat(M,'="').concat(x(F),'"')}).join(" ")}}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(w,S){S===void 0&&(S={});for(var A=("length"in w)?w:[w],x="",M=0;M<A.length;M++)x+=h(A[M],S);return x}Tc.render=f,Tc.default=f;function h(w,S){switch(w.type){case a.Root:return f(w.children,S);case a.Doctype:case a.Directive:return g(w);case a.Comment:return b(w);case a.CDATA:return v(w);case a.Script:case a.Style:case a.Tag:return y(w,S);case a.Text:return _(w,S)}}var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"]);function y(w,S){var A;S.xmlMode==="foreign"&&(w.name=(A=o.elementNames.get(w.name))!==null&&A!==void 0?A:w.name,w.parent&&p.has(w.parent.name)&&(S=t(t({},S),{xmlMode:!1}))),!S.xmlMode&&m.has(w.name)&&(S=t(t({},S),{xmlMode:"foreign"}));var x="<".concat(w.name),M=c(w.attribs,S);return M&&(x+=" ".concat(M)),w.children.length===0&&(S.xmlMode?S.selfClosingTags!==!1:S.selfClosingTags&&d.has(w.name))?(S.xmlMode||(x+=" "),x+="/>"):(x+=">",w.children.length>0&&(x+=f(w.children,S)),(S.xmlMode||!d.has(w.name))&&(x+="</".concat(w.name,">"))),x}function g(w){return"<".concat(w.data,">")}function _(w,S){var A,x=w.data||"";return((A=S.encodeEntities)!==null&&A!==void 0?A:S.decodeEntities)!==!1&&!(!S.xmlMode&&w.parent&&u.has(w.parent.name))&&(x=S.xmlMode||S.encodeEntities!=="utf8"?(0,s.encodeXML)(x):(0,s.escapeText)(x)),x}function v(w){return"<![CDATA[".concat(w.children[0].data,"]]>")}function b(w){return"<!--".concat(w.data,"-->")}return Tc}var m5;function IJ(){if(m5)return pi;m5=1;var t=P&&P.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(pi,"__esModule",{value:!0}),pi.innerText=pi.textContent=pi.getText=pi.getInnerHTML=pi.getOuterHTML=void 0;var e=ja(),n=t(hAe()),r=Zl();function a(c,d){return(0,n.default)(c,d)}pi.getOuterHTML=a;function s(c,d){return(0,e.hasChildren)(c)?c.children.map(function(f){return a(f,d)}).join(""):""}pi.getInnerHTML=s;function o(c){return Array.isArray(c)?c.map(o).join(""):(0,e.isTag)(c)?c.name==="br"?`
`:o(c.children):(0,e.isCDATA)(c)?o(c.children):(0,e.isText)(c)?c.data:""}pi.getText=o;function u(c){return Array.isArray(c)?c.map(u).join(""):(0,e.hasChildren)(c)&&!(0,e.isComment)(c)?u(c.children):(0,e.isText)(c)?c.data:""}pi.textContent=u;function l(c){return Array.isArray(c)?c.map(l).join(""):(0,e.hasChildren)(c)&&(c.type===r.ElementType.Tag||(0,e.isCDATA)(c))?l(c.children):(0,e.isText)(c)?c.data:""}return pi.innerText=l,pi}var Zr={},g5;function pAe(){if(g5)return Zr;g5=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.prevElementSibling=Zr.nextElementSibling=Zr.getName=Zr.hasAttrib=Zr.getAttributeValue=Zr.getSiblings=Zr.getParent=Zr.getChildren=void 0;var t=ja();function e(c){return(0,t.hasChildren)(c)?c.children:[]}Zr.getChildren=e;function n(c){return c.parent||null}Zr.getParent=n;function r(c){var d,f,h=n(c);if(h!=null)return e(h);for(var p=[c],m=c.prev,y=c.next;m!=null;)p.unshift(m),d=m,m=d.prev;for(;y!=null;)p.push(y),f=y,y=f.next;return p}Zr.getSiblings=r;function a(c,d){var f;return(f=c.attribs)===null||f===void 0?void 0:f[d]}Zr.getAttributeValue=a;function s(c,d){return c.attribs!=null&&Object.prototype.hasOwnProperty.call(c.attribs,d)&&c.attribs[d]!=null}Zr.hasAttrib=s;function o(c){return c.name}Zr.getName=o;function u(c){for(var d,f=c.next;f!==null&&!(0,t.isTag)(f);)d=f,f=d.next;return f}Zr.nextElementSibling=u;function l(c){for(var d,f=c.prev;f!==null&&!(0,t.isTag)(f);)d=f,f=d.prev;return f}return Zr.prevElementSibling=l,Zr}var $n={},_5;function yAe(){if(_5)return $n;_5=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.prepend=$n.prependChild=$n.append=$n.appendChild=$n.replaceElement=$n.removeElement=void 0;function t(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var u=o.parent.children,l=u.lastIndexOf(o);l>=0&&u.splice(l,1)}o.next=null,o.prev=null,o.parent=null}$n.removeElement=t;function e(o,u){var l=u.prev=o.prev;l&&(l.next=u);var c=u.next=o.next;c&&(c.prev=u);var d=u.parent=o.parent;if(d){var f=d.children;f[f.lastIndexOf(o)]=u,o.parent=null}}$n.replaceElement=e;function n(o,u){if(t(u),u.next=null,u.parent=o,o.children.push(u)>1){var l=o.children[o.children.length-2];l.next=u,u.prev=l}else u.prev=null}$n.appendChild=n;function r(o,u){t(u);var l=o.parent,c=o.next;if(u.next=c,u.prev=o,o.next=u,u.parent=l,c){if(c.prev=u,l){var d=l.children;d.splice(d.lastIndexOf(c),0,u)}}else l&&l.children.push(u)}$n.append=r;function a(o,u){if(t(u),u.parent=o,u.prev=null,o.children.unshift(u)!==1){var l=o.children[1];l.prev=u,u.next=l}else u.next=null}$n.prependChild=a;function s(o,u){t(u);var l=o.parent;if(l){var c=l.children;c.splice(c.indexOf(o),0,u)}o.prev&&(o.prev.next=u),u.parent=l,u.prev=o.prev,u.next=o,o.prev=u}return $n.prepend=s,$n}var Un={},b5;function PJ(){if(b5)return Un;b5=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.findAll=Un.existsOne=Un.findOne=Un.findOneChild=Un.find=Un.filter=void 0;var t=ja();function e(u,l,c,d){return c===void 0&&(c=!0),d===void 0&&(d=1/0),n(u,Array.isArray(l)?l:[l],c,d)}Un.filter=e;function n(u,l,c,d){for(var f=[],h=[l],p=[0];;){if(p[0]>=h[0].length){if(p.length===1)return f;h.shift(),p.shift();continue}var m=h[0][p[0]++];if(u(m)&&(f.push(m),--d<=0))return f;c&&(0,t.hasChildren)(m)&&m.children.length>0&&(p.unshift(0),h.unshift(m.children))}}Un.find=n;function r(u,l){return l.find(u)}Un.findOneChild=r;function a(u,l,c){c===void 0&&(c=!0);for(var d=null,f=0;f<l.length&&!d;f++){var h=l[f];if((0,t.isTag)(h))u(h)?d=h:c&&h.children.length>0&&(d=a(u,h.children,!0));else continue}return d}Un.findOne=a;function s(u,l){return l.some(function(c){return(0,t.isTag)(c)&&(u(c)||s(u,c.children))})}Un.existsOne=s;function o(u,l){for(var c=[],d=[l],f=[0];;){if(f[0]>=d[0].length){if(d.length===1)return c;d.shift(),f.shift();continue}var h=d[0][f[0]++];(0,t.isTag)(h)&&(u(h)&&c.push(h),h.children.length>0&&(f.unshift(0),d.unshift(h.children)))}}return Un.findAll=o,Un}var yi={},v5;function NJ(){if(v5)return yi;v5=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.getElementsByTagType=yi.getElementsByTagName=yi.getElementById=yi.getElements=yi.testElement=void 0;var t=ja(),e=PJ(),n={tag_name:function(f){return typeof f=="function"?function(h){return(0,t.isTag)(h)&&f(h.name)}:f==="*"?t.isTag:function(h){return(0,t.isTag)(h)&&h.name===f}},tag_type:function(f){return typeof f=="function"?function(h){return f(h.type)}:function(h){return h.type===f}},tag_contains:function(f){return typeof f=="function"?function(h){return(0,t.isText)(h)&&f(h.data)}:function(h){return(0,t.isText)(h)&&h.data===f}}};function r(f,h){return typeof h=="function"?function(p){return(0,t.isTag)(p)&&h(p.attribs[f])}:function(p){return(0,t.isTag)(p)&&p.attribs[f]===h}}function a(f,h){return function(p){return f(p)||h(p)}}function s(f){var h=Object.keys(f).map(function(p){var m=f[p];return Object.prototype.hasOwnProperty.call(n,p)?n[p](m):r(p,m)});return h.length===0?null:h.reduce(a)}function o(f,h){var p=s(f);return p?p(h):!0}yi.testElement=o;function u(f,h,p,m){m===void 0&&(m=1/0);var y=s(f);return y?(0,e.filter)(y,h,p,m):[]}yi.getElements=u;function l(f,h,p){return p===void 0&&(p=!0),Array.isArray(h)||(h=[h]),(0,e.findOne)(r("id",f),h,p)}yi.getElementById=l;function c(f,h,p,m){return p===void 0&&(p=!0),m===void 0&&(m=1/0),(0,e.filter)(n.tag_name(f),h,p,m)}yi.getElementsByTagName=c;function d(f,h,p,m){return p===void 0&&(p=!0),m===void 0&&(m=1/0),(0,e.filter)(n.tag_type(f),h,p,m)}return yi.getElementsByTagType=d,yi}var hA={},w5;function mAe(){return w5||(w5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.DocumentPosition=t.removeSubsets=void 0;var e=ja();function n(o){for(var u=o.length;--u>=0;){var l=o[u];if(u>0&&o.lastIndexOf(l,u-1)>=0){o.splice(u,1);continue}for(var c=l.parent;c;c=c.parent)if(o.includes(c)){o.splice(u,1);break}}return o}t.removeSubsets=n;var r;(function(o){o[o.DISCONNECTED=1]="DISCONNECTED",o[o.PRECEDING=2]="PRECEDING",o[o.FOLLOWING=4]="FOLLOWING",o[o.CONTAINS=8]="CONTAINS",o[o.CONTAINED_BY=16]="CONTAINED_BY"})(r=t.DocumentPosition||(t.DocumentPosition={}));function a(o,u){var l=[],c=[];if(o===u)return 0;for(var d=(0,e.hasChildren)(o)?o:o.parent;d;)l.unshift(d),d=d.parent;for(d=(0,e.hasChildren)(u)?u:u.parent;d;)c.unshift(d),d=d.parent;for(var f=Math.min(l.length,c.length),h=0;h<f&&l[h]===c[h];)h++;if(h===0)return r.DISCONNECTED;var p=l[h-1],m=p.children,y=l[h],g=c[h];return m.indexOf(y)>m.indexOf(g)?p===u?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:p===o?r.PRECEDING|r.CONTAINS:r.PRECEDING}t.compareDocumentPosition=a;function s(o){return o=o.filter(function(u,l,c){return!c.includes(u,l+1)}),o.sort(function(u,l){var c=a(u,l);return c&r.PRECEDING?-1:c&r.FOLLOWING?1:0}),o}t.uniqueSort=s}(hA)),hA}var Ih={},S5;function gAe(){if(S5)return Ih;S5=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.getFeed=void 0;var t=IJ(),e=NJ();function n(h){var p=l(f,h);return p?p.name==="feed"?r(p):a(p):null}Ih.getFeed=n;function r(h){var p,m=h.children,y={type:"atom",items:(0,e.getElementsByTagName)("entry",m).map(function(v){var b,w=v.children,S={media:u(w)};d(S,"id","id",w),d(S,"title","title",w);var A=(b=l("link",w))===null||b===void 0?void 0:b.attribs.href;A&&(S.link=A);var x=c("summary",w)||c("content",w);x&&(S.description=x);var M=c("updated",w);return M&&(S.pubDate=new Date(M)),S})};d(y,"id","id",m),d(y,"title","title",m);var g=(p=l("link",m))===null||p===void 0?void 0:p.attribs.href;g&&(y.link=g),d(y,"description","subtitle",m);var _=c("updated",m);return _&&(y.updated=new Date(_)),d(y,"author","email",m,!0),y}function a(h){var p,m,y=(m=(p=l("channel",h.children))===null||p===void 0?void 0:p.children)!==null&&m!==void 0?m:[],g={type:h.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",h.children).map(function(v){var b=v.children,w={media:u(b)};d(w,"id","guid",b),d(w,"title","title",b),d(w,"link","link",b),d(w,"description","description",b);var S=c("pubDate",b)||c("dc:date",b);return S&&(w.pubDate=new Date(S)),w})};d(g,"title","title",y),d(g,"link","link",y),d(g,"description","description",y);var _=c("lastBuildDate",y);return _&&(g.updated=new Date(_)),d(g,"author","managingEditor",y,!0),g}var s=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function u(h){return(0,e.getElementsByTagName)("media:content",h).map(function(p){for(var m=p.attribs,y={medium:m.medium,isDefault:!!m.isDefault},g=0,_=s;g<_.length;g++){var v=_[g];m[v]&&(y[v]=m[v])}for(var b=0,w=o;b<w.length;b++){var v=w[b];m[v]&&(y[v]=parseInt(m[v],10))}return m.expression&&(y.expression=m.expression),y})}function l(h,p){return(0,e.getElementsByTagName)(h,p,!0,1)[0]}function c(h,p,m){return m===void 0&&(m=!1),(0,t.textContent)((0,e.getElementsByTagName)(h,p,m,1)).trim()}function d(h,p,m,y,g){g===void 0&&(g=!1);var _=c(m,y,g);_&&(h[p]=_)}function f(h){return h==="rss"||h==="feed"||h==="rdf:RDF"}return Ih}var T5;function Yc(){return T5||(T5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,l)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),n=P&&P.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,n(IJ(),t),n(pAe(),t),n(yAe(),t),n(PJ(),t),n(NJ(),t),n(mAe(),t),n(gAe(),t);var r=ja();Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})}(lA)),lA}var E5;function DJ(){return E5||(E5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(_,v,b,w){w===void 0&&(w=b);var S=Object.getOwnPropertyDescriptor(v,b);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[b]}}),Object.defineProperty(_,w,S)}:function(_,v,b,w){w===void 0&&(w=b),_[w]=v[b]}),n=P&&P.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),r=P&&P.__importStar||function(_){if(_&&_.__esModule)return _;var v={};if(_!=null)for(var b in _)b!=="default"&&Object.prototype.hasOwnProperty.call(_,b)&&e(v,_,b);return n(v,_),v},a=P&&P.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=i5(),o=i5();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=ja(),l=ja();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function c(_,v){var b=new u.DomHandler(void 0,v);return new s.Parser(b,v).end(_),b.root}t.parseDocument=c;function d(_,v){return c(_,v).children}t.parseDOM=d;function f(_,v,b){var w=new u.DomHandler(_,v,b);return new s.Parser(w,v)}t.createDomStream=f;var h=xJ();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}}),t.ElementType=r(Zl());var p=Yc(),m=Yc();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var y={xmlMode:!0};function g(_,v){return v===void 0&&(v=y),(0,p.getFeed)(d(_,v))}t.parseFeed=g,t.DomUtils=r(Yc())}(iA)),iA}const _Ae={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},bAe={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var nu={},A5;function bN(){return A5||(A5=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.RDFA_CONTENTTYPES=nu.RDFA_FEATURES=void 0,nu.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},nu.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),nu}var Ph={},O5;function CJ(){if(O5)return Ph;O5=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.Util=void 0;const t=la(),e=bN(),n=Rt;class r{constructor(s,o){this.dataFactory=s||new n.DataFactory,this.baseIRI=this.dataFactory.namedNode(o||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(s,o,u){const l={};if(u)for(const c in s)c.startsWith("xmlns")&&(l[c.substr(6)]=s[c]);if(s.prefix||Object.keys(l).length>0){const c=Object.assign(Object.assign({},o),l);if(s.prefix){let d;for(;d=r.PREFIX_REGEX.exec(s.prefix);)c[d[1]]=d[2]}return c}else return o}static expandPrefixedTerm(s,o){const u=s.indexOf(":");let l,c;if(u>=0&&(l=s.substr(0,u),c=s.substr(u+1)),l==="")return"http://www.w3.org/1999/xhtml/vocab#"+c;if(l){const d=o.prefixesAll[l];if(d)return d+c}if(s){const d=o.prefixesAll[s.toLocaleLowerCase()];if(d)return d}return s}static isValidIri(s){return r.IRI_REGEX.test(s)}static contentTypeToProfile(s){return e.RDFA_CONTENTTYPES[s]||""}getBaseIRI(s){let o=s;const u=o.indexOf("#");return u>=0&&(o=o.substr(0,u)),this.dataFactory.namedNode((0,t.resolve)(o,this.baseIRI.value))}getResourceOrBaseIri(s,o){return s===!0?this.getBaseIriTerm(o):s}getBaseIriTerm(s){return s.localBaseIRI||this.baseIRI}createVocabIris(s,o,u,l){return s.split(/\s+/).filter(c=>c&&(u||c.indexOf(":")>=0)).map(c=>this.createIri(c,o,!0,!0,l)).filter(c=>c!=null)}createLiteral(s,o){if(o.interpretObjectAsTime&&!o.datatype){for(const u of r.TIME_REGEXES)if(s.match(u.regex)){o.datatype=this.dataFactory.namedNode(r.XSD+u.type);break}}return this.dataFactory.literal(s,o.datatype||o.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(s,o,u,l,c){if(s=s||"",!l)return u||(s=(0,t.resolve)(s,this.getBaseIriTerm(o).value)),r.isValidIri(s)?this.dataFactory.namedNode(s):null;if(s.length>0&&s[0]==="["&&s[s.length-1]==="]"&&(s=s.substr(1,s.length-2),s.indexOf(":")<0))return null;if(s.startsWith("_:"))return c?this.dataFactory.blankNode(s.substr(2)||"b_identity"):null;if(u&&o.vocab&&s.indexOf(":")<0)return this.dataFactory.namedNode(o.vocab+s);let d=r.expandPrefixedTerm(s,o);return u?s!==d&&(d=(0,t.resolve)(d,this.baseIRIDocument.value)):d=(0,t.resolve)(d,this.getBaseIriTerm(o).value),r.isValidIri(d)?this.dataFactory.namedNode(d):null}}return Ph.Util=r,r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.XSD="http://www.w3.org/2001/XMLSchema#",r.RDFA="http://www.w3.org/ns/rdfa#",r.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,r.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,Ph}var R5;function vAe(){if(R5)return Rh;R5=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.RdfaParser=void 0;const t=DJ(),e=Dt,n=_Ae,r=bAe,a=bN(),s=CJ();let o=class LJ extends e.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],l=l||{},this.options=l,this.util=new s.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph();const c=l.contentType?s.Util.contentTypeToProfile(l.contentType):l.profile||"";this.features=l.features||a.RDFA_FEATURES[c],this.htmlParseListener=l.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(c==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:l.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},r["@context"]),this.features.xhtmlInitialContext?n["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:l.vocab})}import(l){const c=new e.PassThrough({readableObjectMode:!0});l.on("error",f=>d.emit("error",f)),l.on("data",f=>c.push(f)),l.on("end",()=>c.push(null));const d=c.pipe(new LJ(this.options));return d}_transform(l,c,d){this.parser.write(l.toString()),d()}_flush(l){this.parser.end(),l()}onTagOpen(l,c){let d=this.activeTagStack.length-1;for(;d>0&&this.activeTagStack[d].skipElement;)d--;let f=this.activeTagStack[d];d!==this.activeTagStack.length-1&&(f=Object.assign(Object.assign({},f),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const h={collectChildTags:f.collectChildTags,incompleteTriples:[],inlist:"inlist"in c,listMapping:[],listMappingLocal:f.listMapping,localBaseIRI:f.localBaseIRI,name:l,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(h),h.collectChildTags){for(const S of Object.keys(f.prefixesCustom).sort()){const A=f.prefixesCustom[S],x=S===""?"xmlns":"xmlns:"+S;x in c||(c[x]=A)}const w=Object.keys(c).map(S=>`${S}="${c[S]}"`).join(" ");if(h.text=[`<${l}${w?" "+w:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let p=!0,m=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in c&&"rel"in c&&(p=!1,c.rel.indexOf(":")<0&&delete c.rel),"property"in c&&"rev"in c&&(m=!1,c.rev.indexOf(":")<0&&delete c.rev)),this.features.copyRdfaPatterns){if(f.collectedPatternTag){const w={attributes:c,children:[],name:l,referenced:!1,rootPattern:!1,text:[]};f.collectedPatternTag.children.push(w),h.collectedPatternTag=w;return}if(c.typeof==="rdfa:Pattern"){h.collectedPatternTag={attributes:c,children:[],name:l,parentTag:f,referenced:!1,rootPattern:!0,text:[]};return}if(c.property==="rdfa:copy"){const w=c.resource||c.href||c.src;this.rdfaPatterns[w]?this.emitPatternCopy(f,this.rdfaPatterns[w],w):(this.pendingRdfaPatternCopies[w]||(this.pendingRdfaPatternCopies[w]=[]),this.pendingRdfaPatternCopies[w].push(f));return}}this.features.baseTag&&l==="base"&&c.href&&(this.util.baseIRI=this.util.getBaseIRI(c.href)),this.features.xmlBase&&c["xml:base"]&&(h.localBaseIRI=this.util.getBaseIRI(c["xml:base"])),this.features.timeTag&&l==="time"&&!c.datatype&&(h.interpretObjectAsTime=!0);let y,g,_;if("vocab"in c?c.vocab?(h.vocab=c.vocab,this.emitTriple(this.util.getBaseIriTerm(h),this.util.dataFactory.namedNode(s.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(h.vocab))):h.vocab=this.activeTagStack[0].vocab:h.vocab=f.vocab,h.prefixesCustom=s.Util.parsePrefixes(c,f.prefixesCustom,this.features.xmlnsPrefixMappings),h.prefixesAll=Object.keys(h.prefixesCustom).length>0?Object.assign(Object.assign({},f.prefixesAll),h.prefixesCustom):f.prefixesAll,this.features.roleAttribute&&c.role){const w=c.id?this.util.createIri("#"+c.id,h,!1,!1,!1):this.util.createBlankNode(),S=h.vocab;h.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const A of this.util.createVocabIris(c.role,h,!0,!1))this.emitTriple(w,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),A);h.vocab=S}"xml:lang"in c||this.features.langAttribute&&"lang"in c?h.language=c["xml:lang"]||c.lang:h.language=f.language;const v=this.activeTagStack.length===2;if(!("rel"in c)&&!("rev"in c)?"property"in c&&!("content"in c)&&!("datatype"in c)?("about"in c?(y=this.util.createIri(c.about,h,!1,!0,!0),h.explicitNewSubject=!!y):v?y=!0:f.object&&(y=f.object),"typeof"in c&&("about"in c&&(_=this.util.createIri(c.about,h,!1,!0,!0)),!_&&v&&(_=!0),!_&&"resource"in c&&(_=this.util.createIri(c.resource,h,!1,!0,!0)),!_&&("href"in c||"src"in c)&&(_=this.util.createIri(c.href||c.src,h,!1,!1,!0)),!_&&this.isInheritSubjectInHeadBody(l)&&(_=y),_||(_=this.util.createBlankNode()),g=_)):(("about"in c||"resource"in c)&&(y=this.util.createIri(c.about||c.resource,h,!1,!0,!0),h.explicitNewSubject=!!y),!y&&("href"in c||"src"in c)&&(y=this.util.createIri(c.href||c.src,h,!1,!1,!0),h.explicitNewSubject=!!y),y||(v?y=!0:this.isInheritSubjectInHeadBody(l)?y=f.object:"typeof"in c?(y=this.util.createBlankNode(),h.explicitNewSubject=!0):f.object&&(y=f.object,"property"in c||(h.skipElement=!0))),"typeof"in c&&(_=y)):("about"in c?(y=this.util.createIri(c.about,h,!1,!0,!0),h.explicitNewSubject=!!y,"typeof"in c&&(_=y)):v?y=!0:f.object&&(y=f.object),"resource"in c&&(g=this.util.createIri(c.resource,h,!1,!0,!0)),g||("href"in c||"src"in c?g=this.util.createIri(c.href||c.src,h,!1,!1,!0):"typeof"in c&&!("about"in c)&&!this.isInheritSubjectInHeadBody(l)&&(g=this.util.createBlankNode())),"typeof"in c&&!("about"in c)&&(this.isInheritSubjectInHeadBody(l)?_=y:_=g)),_)for(const w of this.util.createVocabIris(c.typeof,h,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(_,h),this.util.dataFactory.namedNode(s.Util.RDF+"type"),w);if(y&&(h.listMapping={}),g){if("rel"in c&&"inlist"in c)for(const w of this.util.createVocabIris(c.rel,h,p,!1))this.addListMapping(h,y,w,g);if(!("rel"in c&&"inlist"in c)){if("rel"in c)for(const w of this.util.createVocabIris(c.rel,h,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(y,h),w,this.util.getResourceOrBaseIri(g,h));if("rev"in c)for(const w of this.util.createVocabIris(c.rev,h,m,!1))this.emitTriple(this.util.getResourceOrBaseIri(g,h),w,this.util.getResourceOrBaseIri(y,h))}}if(!g){if("rel"in c)if("inlist"in c)for(const w of this.util.createVocabIris(c.rel,h,p,!1))this.addListMapping(h,y,w,null),h.incompleteTriples.push({predicate:w,reverse:!1,list:!0});else for(const w of this.util.createVocabIris(c.rel,h,p,!1))h.incompleteTriples.push({predicate:w,reverse:!1});if("rev"in c)for(const w of this.util.createVocabIris(c.rev,h,m,!1))h.incompleteTriples.push({predicate:w,reverse:!0});h.incompleteTriples.length>0&&(g=this.util.createBlankNode())}if("property"in c){h.predicates=this.util.createVocabIris(c.property,h,!0,!1);let w;if("datatype"in c?(h.datatype=this.util.createIri(c.datatype,h,!0,!0,!1),h.datatype&&(h.datatype.value===s.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&h.datatype.value===s.Util.RDF+"HTML")&&(h.collectChildTags=!0)):(!("rev"in c)&&!("rel"in c)&&!("content"in c)&&("resource"in c&&(w=this.util.createIri(c.resource,h,!1,!0,!0)),!w&&"href"in c&&(w=this.util.createIri(c.href,h,!1,!1,!0)),!w&&"src"in c&&(w=this.util.createIri(c.src,h,!1,!1,!0))),"typeof"in c&&!("about"in c)&&(w=_)),"content"in c){const S=this.util.createLiteral(c.content,h);if("inlist"in c)for(const A of h.predicates)this.addListMapping(h,y,A,S);else{const A=this.util.getResourceOrBaseIri(y,h);for(const x of h.predicates)this.emitTriple(A,x,S)}h.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in c){h.interpretObjectAsTime=!0;const S=this.util.createLiteral(c.datetime,h);if("inlist"in c)for(const A of h.predicates)this.addListMapping(h,y,A,S);else{const A=this.util.getResourceOrBaseIri(y,h);for(const x of h.predicates)this.emitTriple(A,x,S)}h.predicates=null}else if(w){const S=this.util.getResourceOrBaseIri(w,h);if("inlist"in c)for(const A of h.predicates)this.addListMapping(h,y,A,S);else{const A=this.util.getResourceOrBaseIri(y,h);for(const x of h.predicates)this.emitTriple(A,x,S)}h.predicates=null}}let b=!1;if(!h.skipElement&&y&&f.incompleteTriples.length>0){b=!0;const w=this.util.getResourceOrBaseIri(f.subject,h),S=this.util.getResourceOrBaseIri(y,h);for(const A of f.incompleteTriples)if(A.reverse)this.emitTriple(S,A.predicate,w);else if(A.list){let x=null;for(let M=this.activeTagStack.length-1;M>=0;M--)if(this.activeTagStack[M].inlist){x=this.activeTagStack[M];break}this.addListMapping(x,y,A.predicate,S)}else this.emitTriple(w,A.predicate,S)}!b&&f.incompleteTriples.length>0&&(h.incompleteTriples=h.incompleteTriples.concat(f.incompleteTriples)),h.subject=y||f.subject,h.object=g||y}onText(l){const c=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&c.collectedPatternTag){c.collectedPatternTag.text.push(l);return}c.text||(c.text=[]),c.text.push(l)}onTagClose(){const l=this.activeTagStack[this.activeTagStack.length-1],c=this.activeTagStack[this.activeTagStack.length-2];if(!(l.collectChildTags&&c.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&l.collectedPatternTag&&l.collectedPatternTag.rootPattern){const d=l.collectedPatternTag.attributes.resource;if(delete l.collectedPatternTag.attributes.resource,delete l.collectedPatternTag.attributes.typeof,this.rdfaPatterns[d]=l.collectedPatternTag,this.pendingRdfaPatternCopies[d]){for(const f of this.pendingRdfaPatternCopies[d])this.emitPatternCopy(f,l.collectedPatternTag,d);delete this.pendingRdfaPatternCopies[d]}this.activeTagStack.pop();return}if(l.predicates){const d=this.util.getResourceOrBaseIri(l.subject,l);let f=l.text||[];l.collectChildTags&&c.collectChildTags&&(f=f.slice(1));const h=this.util.createLiteral(f.join(""),l);if(l.inlist)for(const p of l.predicates)this.addListMapping(l,d,p,h);else for(const p of l.predicates)this.emitTriple(d,p,h);c.predicates||(l.text=null)}if(l.object&&Object.keys(l.listMapping).length>0){const d=this.util.getResourceOrBaseIri(l.object,l);for(const f in l.listMapping){const h=this.util.dataFactory.namedNode(f),p=l.listMapping[f];if(p.length>0){const m=p.map(()=>this.util.createBlankNode());for(let y=0;y<p.length;y++){const g=this.util.getResourceOrBaseIri(p[y],l);this.emitTriple(m[y],this.util.dataFactory.namedNode(s.Util.RDF+"first"),g),this.emitTriple(m[y],this.util.dataFactory.namedNode(s.Util.RDF+"rest"),y<p.length-1?m[y+1]:this.util.dataFactory.namedNode(s.Util.RDF+"nil"))}this.emitTriple(d,h,m[0])}else this.emitTriple(d,h,this.util.dataFactory.namedNode(s.Util.RDF+"nil"))}}}this.activeTagStack.pop(),l.collectChildTags&&l.text&&l.text.push(`</${l.name}>`),l.text&&c&&(c.text?c.text=c.text.concat(l.text):c.text=l.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const l in this.rdfaPatterns){const c=this.rdfaPatterns[l];c.referenced||(c.attributes.typeof="rdfa:Pattern",c.attributes.resource=l,this.emitPatternCopy(c.parentTag,c,l),c.referenced=!1,delete c.attributes.typeof,delete c.attributes.resource)}for(const l in this.pendingRdfaPatternCopies)for(const c of this.pendingRdfaPatternCopies[l])this.activeTagStack.push(c),this.onTagOpen("link",{property:"rdfa:copy",href:l}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(l){return this.features.inheritSubjectInHeadBody&&(l==="head"||l==="body")}addListMapping(l,c,d,f){if(l.explicitNewSubject){const h=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(c,l),d,h),this.emitTriple(h,this.util.dataFactory.namedNode(s.Util.RDF+"first"),this.util.getResourceOrBaseIri(f,l)),this.emitTriple(h,this.util.dataFactory.namedNode(s.Util.RDF+"rest"),this.util.dataFactory.namedNode(s.Util.RDF+"nil"))}else{let h=l.listMappingLocal[d.value];h||(l.listMappingLocal[d.value]=h=[]),f&&h.push(f)}}emitTriple(l,c,d){l.termType==="NamedNode"&&l.value.indexOf(":")<0||c.termType==="NamedNode"&&c.value.indexOf(":")<0||d.termType==="NamedNode"&&d.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(l,c,d,this.defaultGraph))}emitPatternCopy(l,c,d){if(this.activeTagStack.push(l),c.referenced=!0,!c.constructedBlankNodes)c.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const f=this.util.dataFactory.blankNode();return c.constructedBlankNodes.push(f),f};else{let f=0;this.util.blankNodeFactory=()=>c.constructedBlankNodes[f++]}this.emitPatternCopyAbsolute(c,!0,d),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(l,c,d){if(!(!c&&l.attributes.property==="rdfa:copy"&&l.attributes.href===d)){this.onTagOpen(l.name,l.attributes);for(const f of l.text)this.onText(f);for(const f of l.children)this.emitPatternCopyAbsolute(f,!1,d);this.onTagClose()}}initializeParser(l){return new t.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(c){this.emit("error",c)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(c){this.emit("error",c)}},onopentag:(c,d)=>{try{this.onTagOpen(c,d),this.htmlParseListener&&this.htmlParseListener.onTagOpen(c,d)}catch(f){this.emit("error",f)}},ontext:c=>{try{this.onText(c),this.htmlParseListener&&this.htmlParseListener.onText(c)}catch(d){this.emit("error",d)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}};return Rh.RdfaParser=o,Rh}var x5;function jJ(){return x5||(x5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(aAe(),t),n(sAe(),t),n(oAe(),t),n(vAe(),t),n(bN(),t),n(CJ(),t)}(eA)),eA}var I5;function wAe(){if(I5)return Oh;I5=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.ActorRdfParseXmlRdfa=void 0;const t=Yl(),e=jJ();let n=class extends t.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){var c;const u=(a.headers&&a.headers.get("content-language"))??void 0;a.data.on("error",d=>l.emit("error",d));const l=a.data.pipe(new e.RdfaParser({baseIRI:(c=a.metadata)==null?void 0:c.baseIRI,profile:"xml",language:u}));return{data:l,metadata:{triples:!0}}}};return Oh.ActorRdfParseXmlRdfa=n,Oh}var P5;function SAe(){return P5||(P5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(wAe(),t)}(ZE)),ZE}var pA={},Nh={},i1={},yA,N5;function TAe(){if(N5)return yA;N5=1;var t=function(){var e=function(xe,Me,Ke,et){for(Ke=Ke||{},et=xe.length;et--;Ke[xe[et]]=Me);return Ke},n=[7,12,13,14,15,16,20,25,115,130],r=[7,13,16,20,25,115,130],a=[7,13,16,115,130],s=[1,25],o=[1,29],u=[1,27],l=[1,28],c=[13,16,115,130],d=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],f=[28,56],h=[1,42],p=[46,48,53,56],m=[1,54],y=[1,60],g=[1,56],_=[1,57],v=[1,58],b=[1,63],w=[1,64],S=[1,65],A=[1,66],x=[1,67],M=[1,68],I=[1,75],N=[28,46,48,53,56],F=[28,42,46,48,53,56],D=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],V=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],k=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],U=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],H=[13,16,28,56,115,130],X=[13,16,38,58,87,96,109,115,126,130],ee=[1,116],fe=[1,112],Te=[1,108],De=[1,114],Ve=[1,111],le=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],ue=[48,53],Ie=[48,53,87,96,126],Ne=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],we=[1,126],Ae=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],Se=[1,129],z=[48,53,67,87,96,126],L=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],B=[1,133],T=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],O=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],$=[1,151],G=[1,153],Q=[1,156],Y=[1,157],ie=[1,158],te=[1,167],he=[1,175],ce=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],ve=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],Ce=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Ee={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(Me,Ke,et,dt,it,rt,Qr){var Je=rt.length-1;switch(it){case 1:this.$=E(ye.factory.namedNode(Be("")),ye.factory.namedNode(Fe),ye.factory.namedNode(qe+"Ontology"));break;case 5:ye.base=ye.factory.namedNode(rt[Je].slice(1,-1)),ye.n3Parser._setBase(ye.base.value);break;case 6:this.$=E(ye.base,ye.factory.namedNode(qe+"imports"),ye.factory.namedNode(rt[Je].slice(1,-1)));break;case 7:this.$=ye.prefixes[rt[Je-1].substr(0,rt[Je-1].length-1)]=Be(rt[Je]);break;case 8:ye.nodeShapeStack=!1,E(ye.currentNodeShape=rt[Je],ye.factory.namedNode(Fe),ye.factory.namedNode(ge+"NodeShape"));break;case 10:this.$=E(ye.currentNodeShape,ye.factory.namedNode(Fe),ye.factory.namedNode(Z+"Class"));break;case 11:this.$=J();break;case 13:this.$=rt[Je].forEach(Le=>E(ye.currentNodeShape,rt[Je-1],Le));break;case 14:this.$=[rt[Je-1],...rt[Je]];break;case 18:this.$=je(rt[Je-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=rt[Je];break;case 20:ye.tempCurrentNodeShape=ye.currentNodeShape,this.$=ye.currentNodeShape=st();break;case 21:ye.currentNodeShape=ye.tempCurrentNodeShape;break;case 22:case 31:this.$=rt[Je-2];break;case 23:ye.tempCurrentNodeShape=ye.currentNodeShape,ye.currentNodeShape=ye.currentPropertyNode;break;case 24:ye.currentNodeShape=ye.tempCurrentNodeShape;break;case 26:ye.currentNodeShape=rt[Je];break;case 29:ye.nodeShapeStack?(ye.nodeShapeStack.push(ye.currentNodeShape),E(ye.currentPropertyNode,ye.factory.namedNode(ge+"node"),ye.currentNodeShape=st())):ye.nodeShapeStack=[],this.$=ye.currentNodeShape;break;case 30:ye.nodeShapeStack.length>0&&(ye.currentNodeShape=ye.nodeShapeStack.pop());break;case 32:this.$=rt[Je].forEach(Le=>{E(ye.currentNodeShape,ye.factory.namedNode(ge+"targetClass"),Le)});break;case 35:this.$=E(ye.currentNodeShape,ye.factory.namedNode(ge+rt[Je][0]),rt[Je][1]);break;case 36:break;case 37:const de=je([rt[Je-1],...rt[Je]].map(Le=>{const Ze=st();return E(Ze,ye.factory.namedNode(ge+Le[0]),Le[1]),Ze}));this.$=["or",de];break;case 39:case 46:this.$=j("not",...rt[Je]);break;case 40:case 50:this.$=[rt[Je-2],rt[Je]];break;case 43:this.$=rt[Je]&&R(...rt[Je]);break;case 44:this.$=R("or",je([rt[Je-1],...rt[Je]].map(Le=>{const Ze=st();return E(Ze,ye.factory.namedNode(ge+Le[0]),Le[1]),Ze})));break;case 47:this.$=[Oe[rt[Je].value]?"datatype":"class",rt[Je]];break;case 48:this.$=["nodeKind",ye.factory.namedNode(ge+rt[Je])];break;case 49:this.$=["node",ye.factory.namedNode(rt[Je])];break;case 51:this.$=void 0;break;case 53:this.$=rt[Je]>0&&R("minCount",ct(rt[Je],q));break;case 54:this.$=R("maxCount",ct(rt[Je],q));break;case 56:this.$=Ye(rt[Je].slice(1));break;case 57:this.$=Be(rt[Je]);break;case 59:E(ye.currentNodeShape,ye.factory.namedNode(ge+"property"),ye.currentPropertyNode=st()),R("path",rt[Je]);break;case 62:const Pe=st();E(Pe,ye.factory.namedNode(ge+"alternativePath"),je([rt[Je-1],...rt[Je]])),this.$=Pe;break;case 65:this.$=je([rt[Je-1],...rt[Je]]);break;case 67:E(this.$=st(),ye.factory.namedNode(ge+rt[Je]),rt[Je-1]);break;case 69:E(this.$=st(),ye.factory.namedNode(ge+"inversePath"),rt[Je]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=rt[Je-1];break;case 77:this.$=je(rt[Je-1]);break;case 80:this.$=ye.factory.namedNode(Be(rt[Je]));break;case 81:this.$=ye.factory.namedNode(Ye(rt[Je]));break;case 82:this.$=J(ye.factory.namedNode(Fe));break;case 83:this.$=ct(rt[Je]);break;case 84:this.$=ft(rt[Je-1],lowercase(rt[Je].substr(1)));break;case 85:this.$=ct(rt[Je-2],rt[Je]);break;case 86:this.$=ct(rt[Je],q);break;case 87:this.$=ct(rt[Je],W);break;case 88:this.$=ct(rt[Je].toLowerCase(),re);break;case 89:this.$=ct(rt[Je].toLowerCase(),pe);break;case 90:this.$=ne(rt[Je],1);break;case 91:this.$=ne(rt[Je],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:rt[Je-1].push(rt[Je]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[rt[Je]];break}},table:[e(n,[2,92],{3:1,4:2}),{1:[3]},e(r,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),e(a,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),e(n,[2,93]),e(n,[2,2]),e(n,[2,3]),e(n,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},e(r,[2,97]),{7:[2,28],13:s,16:o,18:24,51:23,52:22,114:26,115:u,130:l},e(r,[2,94]),e(r,[2,95]),{13:s,16:o,17:30,18:31,114:26,115:u,130:l},{13:s,16:o,17:32,18:31,114:26,115:u,130:l},e(n,[2,5]),e(n,[2,6]),{13:[1,33]},{1:[2,1]},e(a,[2,111]),{13:s,16:o,18:36,29:34,30:35,114:26,115:u,130:l},e(c,[2,26]),e(d,[2,80]),e(d,[2,81]),e(d,[2,82]),e(d,[2,140]),e(d,[2,141]),e(f,[2,98],{21:37,60:38,61:[1,39]}),e([28,56,61],[2,8]),{26:40,27:41,28:h,56:[2,102]},e(n,[2,7]),{53:[1,43]},e(p,[2,104],{31:44,27:45,28:h}),{13:s,16:o,18:51,32:46,33:47,35:48,36:49,37:50,38:m,43:53,44:y,92:g,113:52,114:26,115:u,116:55,119:_,120:v,121:59,122:61,123:62,130:l,131:b,132:w,133:S,134:A,135:x,136:M},{22:69,27:70,28:h,56:[2,100]},e(f,[2,99]),{13:s,16:o,18:72,62:71,114:26,115:u,130:l},{23:73,55:74,56:I},{56:[2,103]},{13:s,16:o,18:36,29:76,30:35,114:26,115:u,130:l},e(a,[2,27]),e(p,[2,12]),e(p,[2,105]),e(N,[2,13]),e(F,[2,106],{34:77}),e(D,[2,15]),e(D,[2,16]),e(D,[2,17]),e(V,[2,78]),e(V,[2,79]),{13:s,16:o,18:36,29:78,30:35,114:26,115:u,130:l},e(k,[2,108],{39:79}),e(V,[2,83],{117:[1,80],118:[1,81]}),e(V,[2,86]),e(V,[2,87]),e(V,[2,88]),e(V,[2,89]),e(c,[2,20]),e(U,[2,90]),e(U,[2,91]),e(V,[2,142]),e(V,[2,143]),e(U,[2,144]),e(U,[2,145]),e(U,[2,146]),e(U,[2,147]),{23:82,55:74,56:I},{56:[2,101]},e(f,[2,32],{114:26,18:83,13:s,16:o,115:u,130:l}),e(H,[2,114]),e(r,[2,10]),e(X,[2,112],{59:84}),e(X,[2,29]),e(p,[2,11]),e(N,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:s,16:o,18:51,33:90,35:48,36:49,37:50,38:m,40:[1,89],43:53,44:y,92:g,113:52,114:26,115:u,116:55,119:_,120:v,121:59,122:61,123:62,130:l,131:b,132:w,133:S,134:A,135:x,136:M},e(V,[2,84]),{13:s,16:o,18:91,114:26,115:u,130:l},e(r,[2,9]),e(H,[2,115]),{13:s,16:o,18:115,38:ee,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:fe,96:Te,97:101,99:103,103:106,105:109,106:113,108:110,109:De,114:26,115:u,125:96,126:Ve,130:l},e(F,[2,107]),{13:s,16:o,18:51,33:117,35:48,36:49,37:50,38:m,43:53,44:y,92:g,113:52,114:26,115:u,116:55,119:_,120:v,121:59,122:61,123:62,130:l,131:b,132:w,133:S,134:A,135:x,136:M},e(D,[2,22]),e(D,[2,21]),e(D,[2,18]),e(k,[2,109]),e(V,[2,85]),e(le,[2,31]),e(X,[2,113]),e(le,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},e(ue,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:fe,96:Te,126:Ve}),e(ue,[2,119]),e(Ie,[2,116]),e(Ne,[2,128],{79:123}),e(Ie,[2,35]),e(Ne,[2,59]),e(Ie,[2,36],{71:124,66:125,67:we}),e(Ae,[2,61],{100:127,98:128,67:Se}),e(z,[2,38]),{72:130,74:107,87:fe,126:Ve},e(L,[2,64],{104:131,101:132,102:B}),{75:[1,134]},e([13,16,56,85,87,95,115,126,128,129,130],[2,58]),e(T,[2,68]),{13:s,16:o,18:115,38:ee,105:135,106:113,114:26,115:u,130:l},{75:[2,124]},{75:[2,125]},e(T,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),e([13,16,38,115,130],[2,70]),e(O,[2,74]),{13:s,16:o,18:115,38:ee,97:140,99:103,103:106,105:109,106:113,108:110,109:De,114:26,115:u,130:l},e(F,[2,19]),{53:[1,141]},{53:[2,121]},{13:s,16:o,18:36,29:142,30:35,114:26,115:u,130:l},e(c,[2,23]),e(Ie,[2,117]),e(ue,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:s,16:o,44:[1,146],56:I,85:$,87:G,95:Q,96:Te,115:u,128:Y,129:ie,130:l}),e(Ie,[2,37],{66:159,67:we}),e(z,[2,122]),{68:160,72:104,73:105,74:107,87:fe,96:Te,126:Ve},e(Ae,[2,62],{98:161,67:Se}),e(L,[2,134]),{13:s,16:o,18:115,38:ee,99:162,103:106,105:109,106:113,108:110,109:De,114:26,115:u,130:l},e(z,[2,39]),e(L,[2,65],{101:163,102:B}),e(T,[2,136]),{13:s,16:o,18:115,38:ee,103:164,105:109,106:113,108:110,109:De,114:26,115:u,130:l},{13:s,16:o,18:51,35:166,44:te,76:165,92:g,113:52,114:26,115:u,116:55,119:_,120:v,121:59,122:61,123:62,130:l,131:b,132:w,133:S,134:A,135:x,136:M},e(T,[2,69]),e(T,[2,67]),e(T,[2,71]),e(T,[2,72]),e(T,[2,73]),{40:[1,168]},e(X,[2,33]),{48:[1,170],49:169},e(Ne,[2,129]),e(Ne,[2,126]),e(Ne,[2,127]),{89:171,92:[1,172]},e(Ne,[2,43],{83:173,80:174,67:he}),e(ce,[2,45]),{13:s,16:o,18:150,23:154,55:74,56:I,84:176,85:$,86:152,87:G,94:155,95:Q,114:26,115:u,128:Y,129:ie,130:l},e(ce,[2,47]),e(ce,[2,48]),e(ce,[2,49]),{75:[1,177]},e(ce,[2,51]),e(ce,[2,56]),{13:[1,178]},e(ce,[2,132]),e(ce,[2,133]),e(z,[2,123]),e(z,[2,34]),e(L,[2,135]),e(L,[2,60]),e(T,[2,137]),e(T,[2,63]),e(z,[2,40]),e(ve,[2,76]),e(Ce,[2,138],{112:179}),e(O,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},e(Ne,[2,44],{80:181,67:he}),e(ce,[2,130]),{13:s,16:o,18:150,23:154,55:74,56:I,73:149,81:182,84:148,85:$,86:152,87:G,94:155,95:Q,96:Te,114:26,115:u,128:Y,129:ie,130:l},e(ce,[2,46]),{13:s,16:o,18:51,35:166,44:te,76:183,92:g,113:52,114:26,115:u,116:55,119:_,120:v,121:59,122:61,123:62,130:l,131:b,132:w,133:S,134:A,135:x,136:M},e(ce,[2,57]),{13:s,16:o,18:51,35:185,46:[1,184],92:g,113:52,114:26,115:u,116:55,119:_,120:v,121:59,122:61,123:62,130:l,131:b,132:w,133:S,134:A,135:x,136:M},{91:186,92:[1,187],93:[1,188]},e(ce,[2,131]),e(ce,[2,42]),e(ce,[2,50]),e(ve,[2,77]),e(Ce,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},e(Ne,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(Me,Ke){if(Ke.recoverable)this.trace(Me);else{var et=new Error(Me);throw et.hash=Ke,et}},parse:function(Me){var Ke=this,et=[0],dt=[null],it=[],rt=this.table,Qr="",Je=0,de=0,Pe=2,Le=1,Ze=it.slice.call(arguments,1),mt=Object.create(this.lexer),xt={yy:{}};for(var Nt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Nt)&&(xt.yy[Nt]=this.yy[Nt]);mt.setInput(Me,xt.yy),xt.yy.lexer=mt,xt.yy.parser=this,typeof mt.yylloc>"u"&&(mt.yylloc={});var nn=mt.yylloc;it.push(nn);var fa=mt.options&&mt.options.ranges;typeof xt.yy.parseError=="function"?this.parseError=xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Cn=function(){var jn;return jn=mt.lex()||Le,typeof jn!="number"&&(jn=Ke.symbols_[jn]||jn),jn},cr,ii,Lr,wn,li={},Ln,cn,Ka,Sn;;){if(ii=et[et.length-1],this.defaultActions[ii]?Lr=this.defaultActions[ii]:((cr===null||typeof cr>"u")&&(cr=Cn()),Lr=rt[ii]&&rt[ii][cr]),typeof Lr>"u"||!Lr.length||!Lr[0]){var di="";Sn=[];for(Ln in rt[ii])this.terminals_[Ln]&&Ln>Pe&&Sn.push("'"+this.terminals_[Ln]+"'");mt.showPosition?di="Parse error on line "+(Je+1)+`:
`+mt.showPosition()+`
Expecting `+Sn.join(", ")+", got '"+(this.terminals_[cr]||cr)+"'":di="Parse error on line "+(Je+1)+": Unexpected "+(cr==Le?"end of input":"'"+(this.terminals_[cr]||cr)+"'"),this.parseError(di,{text:mt.match,token:this.terminals_[cr]||cr,line:mt.yylineno,loc:nn,expected:Sn})}if(Lr[0]instanceof Array&&Lr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ii+", token: "+cr);switch(Lr[0]){case 1:et.push(cr),dt.push(mt.yytext),it.push(mt.yylloc),et.push(Lr[1]),cr=null,de=mt.yyleng,Qr=mt.yytext,Je=mt.yylineno,nn=mt.yylloc;break;case 2:if(cn=this.productions_[Lr[1]][1],li.$=dt[dt.length-cn],li._$={first_line:it[it.length-(cn||1)].first_line,last_line:it[it.length-1].last_line,first_column:it[it.length-(cn||1)].first_column,last_column:it[it.length-1].last_column},fa&&(li._$.range=[it[it.length-(cn||1)].range[0],it[it.length-1].range[1]]),wn=this.performAction.apply(li,[Qr,de,Je,xt.yy,Lr[1],dt,it].concat(Ze)),typeof wn<"u")return wn;cn&&(et=et.slice(0,-1*cn*2),dt=dt.slice(0,-1*cn),it=it.slice(0,-1*cn)),et.push(this.productions_[Lr[1]][0]),dt.push(li.$),it.push(li._$),Ka=rt[et[et.length-2]][et[et.length-1]],et.push(Ka);break;case 3:return!0}}return!0}};const Ue="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Fe=Ue+"type",Qe=Ue+"first",ke=Ue+"rest",K=Ue+"nil",C="http://www.w3.org/2001/XMLSchema#",q=C+"integer",W=C+"decimal",re=C+"double",pe=C+"boolean",ge="http://www.w3.org/ns/shacl#",qe="http://www.w3.org/2002/07/owl#",Z="http://www.w3.org/2000/01/rdf-schema#",Oe={[q]:!0,[W]:!0,[C+"float"]:!0,[re]:!0,[C+"string"]:!0,[pe]:!0,[C+"dateTime"]:!0,[C+"nonPositiveInteger"]:!0,[C+"negativeInteger"]:!0,[C+"long"]:!0,[C+"int"]:!0,[C+"short"]:!0,[C+"byte"]:!0,[C+"nonNegativeInteger"]:!0,[C+"unsignedLong"]:!0,[C+"unsignedShort"]:!0,[C+"unsignedByte"]:!0,[C+"positiveInteger"]:!0,[Ue+"langString"]:!0};function je(xe,Me=!1){let Ke=0,et=xe.length;if(Me&&et===0)return ye.factory.namedNode(K);const dt=head=st();return et===0&&E(head,ye.factory.namedNode(ke),ye.factory.namedNode(K)),xe.forEach(it=>{if(it===void 0)throw new Error("b");E(head,ye.factory.namedNode(Qe),it),E(head,ye.factory.namedNode(ke),head=++Ke<et?st():ye.factory.namedNode(K))}),dt}function Be(xe){return ye.n3Parser._resolveIRI(xe[0]==="<"?xe.substring(1,xe.length-1):xe)}function Ye(xe){const Me=xe.indexOf(":"),Ke=xe.substr(0,Me),et=ye.prefixes[Ke];if(!et)throw new Error("Unknown prefix: "+Ke);return Be(et+xe.substr(Me+1))}function ct(xe,Me){return Me&&Me.termType!=="NamedNode"&&(Me=ye.factory.namedNode(Me)),ye.factory.literal(xe,Me)}function ft(xe,Me){return ye.factory.literal(xe,Me)}function st(xe){return typeof xe=="string"?xe.startsWith("e_")?ye.factory.blankNode(xe):ye.factory.blankNode("e_"+xe):ye.factory.blankNode("g_"+yt++)}var yt=0;ye._resetBlanks=function(){yt=0};function ne(xe,Me){return ye.n3Parser._lexer._unescape(xe.substring(Me,xe.length-Me))}function E(xe,Me,Ke){if(!xe.termType||!Me.termType||Me.value.includes(",")||!Ke.termType)throw new Error(`boo ${xe.value} ${Me.value} ${Ke.value}`);ye.onQuad(ye.factory.quad(xe,Me,Ke))}function R(xe,Me){E(ye.currentPropertyNode,ye.factory.namedNode(ge+xe),Me)}function j(xe,Me,Ke){const et=st();return E(et,ye.factory.namedNode(ge+Me),Ke),[xe,et]}function J(xe){if(!ye.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return xe}var me=function(){var xe={EOF:1,parseError:function(Ke,et){if(this.yy.parser)this.yy.parser.parseError(Ke,et);else throw new Error(Ke)},setInput:function(Me,Ke){return this.yy=Ke||this.yy||{},this._input=Me,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Me=this._input[0];this.yytext+=Me,this.yyleng++,this.offset++,this.match+=Me,this.matched+=Me;var Ke=Me.match(/(?:\r\n?|\n).*/g);return Ke?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Me},unput:function(Me){var Ke=Me.length,et=Me.split(/(?:\r\n?|\n)/g);this._input=Me+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ke),this.offset-=Ke;var dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),et.length-1&&(this.yylineno-=et.length-1);var it=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:et?(et.length===dt.length?this.yylloc.first_column:0)+dt[dt.length-et.length].length-et[0].length:this.yylloc.first_column-Ke},this.options.ranges&&(this.yylloc.range=[it[0],it[0]+this.yyleng-Ke]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Me){this.unput(this.match.slice(Me))},pastInput:function(){var Me=this.matched.substr(0,this.matched.length-this.match.length);return(Me.length>20?"...":"")+Me.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Me=this.match;return Me.length<20&&(Me+=this._input.substr(0,20-Me.length)),(Me.substr(0,20)+(Me.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Me=this.pastInput(),Ke=new Array(Me.length+1).join("-");return Me+this.upcomingInput()+`
`+Ke+"^"},test_match:function(Me,Ke){var et,dt,it;if(this.options.backtrack_lexer&&(it={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(it.yylloc.range=this.yylloc.range.slice(0))),dt=Me[0].match(/(?:\r\n?|\n).*/g),dt&&(this.yylineno+=dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:dt?dt[dt.length-1].length-dt[dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Me[0].length},this.yytext+=Me[0],this.match+=Me[0],this.matches=Me,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Me[0].length),this.matched+=Me[0],et=this.performAction.call(this,this.yy,this,Ke,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),et)return et;if(this._backtrack){for(var rt in it)this[rt]=it[rt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Me,Ke,et,dt;this._more||(this.yytext="",this.match="");for(var it=this._currentRules(),rt=0;rt<it.length;rt++)if(et=this._input.match(this.rules[it[rt]]),et&&(!Ke||et[0].length>Ke[0].length)){if(Ke=et,dt=rt,this.options.backtrack_lexer){if(Me=this.test_match(et,it[rt]),Me!==!1)return Me;if(this._backtrack){Ke=!1;continue}else return!1}else if(!this.options.flex)break}return Ke?(Me=this.test_match(Ke,it[dt]),Me!==!1?Me:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ke=this.next();return Ke||this.lex()},begin:function(Ke){this.conditionStack.push(Ke)},popState:function(){var Ke=this.conditionStack.length-1;return Ke>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ke){return Ke=this.conditionStack.length-1-Math.abs(Ke||0),Ke>=0?this.conditionStack[Ke]:"INITIAL"},pushState:function(Ke){this.begin(Ke)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Ke,et,dt,it){switch(dt){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(et.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return xe}();Ee.lexer=me;function ye(){this.yy={}}return ye.prototype=Ee,Ee.Parser=ye,new ye}();return yA=t,yA}var D5;function EAe(){if(D5)return i1;D5=1;const t=TAe().Parser,e=Do;class n{constructor(){}parse(a,{extendedSyntax:s,baseIRI:o}={}){this._parser=new t,this._parser.Parser.factory=e.DataFactory,this._parser.Parser.base=e.DataFactory.namedNode(o||"urn:x-base:default"),this._parser.Parser.extended=s===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new e.Parser({baseIRI:o||"urn:x-base:default"});const u=[];return this._parser.Parser.onQuad=l=>{u.push(l)},this._parser.parse(a),u.prefixes=this._parser.Parser.prefixes,u}}return i1.Parser=n,i1.parse=function(a,s){return new n().parse(a,s)},i1}var mA={exports:{}},C5;function AAe(){return C5||(C5=1,function(t){(function(){var e;typeof window=="object"&&window?e=window:e=P,t.exports?t.exports=e.Promise?e.Promise:s:e.Promise||(e.Promise=s);var n=e.setImmediate||function(h){setTimeout(h,1)};function r(h,p){return function(){h.apply(p,arguments)}}var a=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function s(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof h!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(h,r(u,this),r(l,this))}function o(h){var p=this;if(this._state===null){this._deferreds.push(h);return}n(function(){var m=p._state?h.onFulfilled:h.onRejected;if(m===null){(p._state?h.resolve:h.reject)(p._value);return}var y;try{y=m(p._value)}catch(g){h.reject(g);return}h.resolve(y)})}function u(h){try{if(h===this)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var p=h.then;if(typeof p=="function"){f(r(p,h),r(u,this),r(l,this));return}}this._state=!0,this._value=h,c.call(this)}catch(m){l.call(this,m)}}function l(h){this._state=!1,this._value=h,c.call(this)}function c(){for(var h=0,p=this._deferreds.length;h<p;h++)o.call(this,this._deferreds[h]);this._deferreds=null}function d(h,p,m,y){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof p=="function"?p:null,this.resolve=m,this.reject=y}function f(h,p,m){var y=!1;try{h(function(g){y||(y=!0,p(g))},function(g){y||(y=!0,m(g))})}catch(g){if(y)return;y=!0,m(g)}}s.prototype.catch=function(h){return this.then(null,h)},s.prototype.then=function(h,p){var m=this;return new s(function(y,g){o.call(m,new d(h,p,y,g))})},s.all=function(){var h=Array.prototype.slice.call(arguments.length===1&&a(arguments[0])?arguments[0]:arguments);return new s(function(p,m){if(h.length===0)return p([]);var y=h.length;function g(v,b){try{if(b&&(typeof b=="object"||typeof b=="function")){var w=b.then;if(typeof w=="function"){w.call(b,function(S){g(v,S)},m);return}}h[v]=b,--y===0&&p(h)}catch(S){m(S)}}for(var _=0;_<h.length;_++)g(_,h[_])})},s.resolve=function(h){return h&&typeof h=="object"&&h.constructor===s?h:new s(function(p){p(h)})},s.reject=function(h){return new s(function(p,m){m(h)})},s.race=function(h){return new s(function(p,m){for(var y=0,g=h.length;y<g;y++)h[y].then(p,m)})}})()}(mA)),mA.exports}var gA,L5;function ac(){if(L5)return gA;L5=1;var t=AAe();return gA=function(e,n,r){typeof n=="function"&&(r=n,n=null);var a="",s=new t(function(o,u){e.on("data",function(l){a+=typeof n=="string"?l.toString(n):l.toString()}),e.on("end",function(){o(a)}),e.on("error",u)});return r&&s.then(function(o){r(null,o)},r),s},gA}var Dh={},j5;function OAe(){if(j5)return Dh;j5=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.PrefixWrappingIterator=void 0;const t=Bt();let e=class extends t.WrappingIterator{constructor(r){super(r==null?void 0:r.then(a=>(this.prefixes=a.prefixes,a)))}read(){if(this.prefixes){for(const r of Object.entries(this.prefixes))this.emit("prefix",...r);delete this.prefixes}return super.read()}};return Dh.PrefixWrappingIterator=e,Dh}var M5;function RAe(){if(M5)return Nh;M5=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.ActorRdfParseShaclc=void 0;const t=Yl(),e=Dt,n=EAe(),r=ac(),a=OAe();let s=class extends t.ActorRdfParseFixedMediaTypes{constructor(u){super(u)}async runHandle(u,l,c){const d=new a.PrefixWrappingIterator(r(u.data).then(h=>{var p;return(0,n.parse)(h,{extendedSyntax:l==="text/shaclc-ext",baseIRI:(p=u.metadata)==null?void 0:p.baseIRI})})),f=new e.Readable({objectMode:!0});return d.on("prefix",(...h)=>f.emit("prefix",...h)),{data:f.wrap(d),metadata:{triples:!0}}}};return Nh.ActorRdfParseShaclc=s,Nh}var F5;function xAe(){return F5||(F5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(RAe(),t)}(pA)),pA}var _A={},Ch={},bA={},Lh={},Ec={},q5;function MJ(){if(q5)return Ec;q5=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.QuoteType=void 0;var t=Tl(),e;(function(c){c[c.Tab=9]="Tab",c[c.NewLine=10]="NewLine",c[c.FormFeed=12]="FormFeed",c[c.CarriageReturn=13]="CarriageReturn",c[c.Space=32]="Space",c[c.ExclamationMark=33]="ExclamationMark",c[c.Number=35]="Number",c[c.Amp=38]="Amp",c[c.SingleQuote=39]="SingleQuote",c[c.DoubleQuote=34]="DoubleQuote",c[c.Dash=45]="Dash",c[c.Slash=47]="Slash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.Semi=59]="Semi",c[c.Lt=60]="Lt",c[c.Eq=61]="Eq",c[c.Gt=62]="Gt",c[c.Questionmark=63]="Questionmark",c[c.UpperA=65]="UpperA",c[c.LowerA=97]="LowerA",c[c.UpperF=70]="UpperF",c[c.LowerF=102]="LowerF",c[c.UpperZ=90]="UpperZ",c[c.LowerZ=122]="LowerZ",c[c.LowerX=120]="LowerX",c[c.OpeningSquareBracket=91]="OpeningSquareBracket"})(e||(e={}));var n;(function(c){c[c.Text=1]="Text",c[c.BeforeTagName=2]="BeforeTagName",c[c.InTagName=3]="InTagName",c[c.InSelfClosingTag=4]="InSelfClosingTag",c[c.BeforeClosingTagName=5]="BeforeClosingTagName",c[c.InClosingTagName=6]="InClosingTagName",c[c.AfterClosingTagName=7]="AfterClosingTagName",c[c.BeforeAttributeName=8]="BeforeAttributeName",c[c.InAttributeName=9]="InAttributeName",c[c.AfterAttributeName=10]="AfterAttributeName",c[c.BeforeAttributeValue=11]="BeforeAttributeValue",c[c.InAttributeValueDq=12]="InAttributeValueDq",c[c.InAttributeValueSq=13]="InAttributeValueSq",c[c.InAttributeValueNq=14]="InAttributeValueNq",c[c.BeforeDeclaration=15]="BeforeDeclaration",c[c.InDeclaration=16]="InDeclaration",c[c.InProcessingInstruction=17]="InProcessingInstruction",c[c.BeforeComment=18]="BeforeComment",c[c.CDATASequence=19]="CDATASequence",c[c.InSpecialComment=20]="InSpecialComment",c[c.InCommentLike=21]="InCommentLike",c[c.BeforeSpecialS=22]="BeforeSpecialS",c[c.BeforeSpecialT=23]="BeforeSpecialT",c[c.SpecialStartSequence=24]="SpecialStartSequence",c[c.InSpecialTag=25]="InSpecialTag",c[c.InEntity=26]="InEntity"})(n||(n={}));function r(c){return c===e.Space||c===e.NewLine||c===e.Tab||c===e.FormFeed||c===e.CarriageReturn}function a(c){return c===e.Slash||c===e.Gt||r(c)}function s(c){return c>=e.LowerA&&c<=e.LowerZ||c>=e.UpperA&&c<=e.UpperZ}var o;(function(c){c[c.NoValue=0]="NoValue",c[c.Unquoted=1]="Unquoted",c[c.Single=2]="Single",c[c.Double=3]="Double"})(o||(Ec.QuoteType=o={}));var u={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},l=function(){function c(d,f){var h=d.xmlMode,p=h===void 0?!1:h,m=d.decodeEntities,y=m===void 0?!0:m,g=this;this.cbs=f,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=p,this.decodeEntities=y,this.entityDecoder=new t.EntityDecoder(p?t.xmlDecodeTree:t.htmlDecodeTree,function(_,v){return g.emitCodePoint(_,v)})}return c.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},c.prototype.write=function(d){this.offset+=this.buffer.length,this.buffer=d,this.parse()},c.prototype.end=function(){this.running&&this.finish()},c.prototype.pause=function(){this.running=!1},c.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},c.prototype.stateText=function(d){d===e.Lt||!this.decodeEntities&&this.fastForwardTo(e.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&d===e.Amp&&this.startEntity()},c.prototype.stateSpecialStartSequence=function(d){var f=this.sequenceIndex===this.currentSequence.length,h=f?a(d):(d|32)===this.currentSequence[this.sequenceIndex];if(!h)this.isSpecial=!1;else if(!f){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(d)},c.prototype.stateInSpecialTag=function(d){if(this.sequenceIndex===this.currentSequence.length){if(d===e.Gt||r(d)){var f=this.index-this.currentSequence.length;if(this.sectionStart<f){var h=this.index;this.index=f,this.cbs.ontext(this.sectionStart,f),this.index=h}this.isSpecial=!1,this.sectionStart=f+2,this.stateInClosingTagName(d);return}this.sequenceIndex=0}(d|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===u.TitleEnd?this.decodeEntities&&d===e.Amp&&this.startEntity():this.fastForwardTo(e.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(d===e.Lt)},c.prototype.stateCDATASequence=function(d){d===u.Cdata[this.sequenceIndex]?++this.sequenceIndex===u.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=u.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(d))},c.prototype.fastForwardTo=function(d){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===d)return!0;return this.index=this.buffer.length+this.offset-1,!1},c.prototype.stateInCommentLike=function(d){d===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):d!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},c.prototype.isTagStartChar=function(d){return this.xmlMode?!a(d):s(d)},c.prototype.startSpecial=function(d,f){this.isSpecial=!0,this.currentSequence=d,this.sequenceIndex=f,this.state=n.SpecialStartSequence},c.prototype.stateBeforeTagName=function(d){if(d===e.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(d===e.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(d)){var f=d|32;this.sectionStart=this.index,this.xmlMode?this.state=n.InTagName:f===u.ScriptEnd[2]?this.state=n.BeforeSpecialS:f===u.TitleEnd[2]?this.state=n.BeforeSpecialT:this.state=n.InTagName}else d===e.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(d))},c.prototype.stateInTagName=function(d){a(d)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(d))},c.prototype.stateBeforeClosingTagName=function(d){r(d)||(d===e.Gt?this.state=n.Text:(this.state=this.isTagStartChar(d)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},c.prototype.stateInClosingTagName=function(d){(d===e.Gt||r(d))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(d))},c.prototype.stateAfterClosingTagName=function(d){(d===e.Gt||this.fastForwardTo(e.Gt))&&(this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeAttributeName=function(d){d===e.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.sectionStart=this.index+1):d===e.Slash?this.state=n.InSelfClosingTag:r(d)||(this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateInSelfClosingTag=function(d){d===e.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(d)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(d))},c.prototype.stateInAttributeName=function(d){(d===e.Eq||a(d))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=n.AfterAttributeName,this.stateAfterAttributeName(d))},c.prototype.stateAfterAttributeName=function(d){d===e.Eq?this.state=n.BeforeAttributeValue:d===e.Slash||d===e.Gt?(this.cbs.onattribend(o.NoValue,this.sectionStart),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(d)):r(d)||(this.cbs.onattribend(o.NoValue,this.sectionStart),this.state=n.InAttributeName,this.sectionStart=this.index)},c.prototype.stateBeforeAttributeValue=function(d){d===e.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):d===e.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):r(d)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(d))},c.prototype.handleInAttributeValue=function(d,f){d===f||!this.decodeEntities&&this.fastForwardTo(f)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(f===e.DoubleQuote?o.Double:o.Single,this.index+1),this.state=n.BeforeAttributeName):this.decodeEntities&&d===e.Amp&&this.startEntity()},c.prototype.stateInAttributeValueDoubleQuotes=function(d){this.handleInAttributeValue(d,e.DoubleQuote)},c.prototype.stateInAttributeValueSingleQuotes=function(d){this.handleInAttributeValue(d,e.SingleQuote)},c.prototype.stateInAttributeValueNoQuotes=function(d){r(d)||d===e.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(d)):this.decodeEntities&&d===e.Amp&&this.startEntity()},c.prototype.stateBeforeDeclaration=function(d){d===e.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=d===e.Dash?n.BeforeComment:n.InDeclaration},c.prototype.stateInDeclaration=function(d){(d===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateInProcessingInstruction=function(d){(d===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeComment=function(d){d===e.Dash?(this.state=n.InCommentLike,this.currentSequence=u.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},c.prototype.stateInSpecialComment=function(d){(d===e.Gt||this.fastForwardTo(e.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},c.prototype.stateBeforeSpecialS=function(d){var f=d|32;f===u.ScriptEnd[3]?this.startSpecial(u.ScriptEnd,4):f===u.StyleEnd[3]?this.startSpecial(u.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(d))},c.prototype.stateBeforeSpecialT=function(d){var f=d|32;f===u.TitleEnd[3]?this.startSpecial(u.TitleEnd,4):f===u.TextareaEnd[3]?this.startSpecial(u.TextareaEnd,4):(this.state=n.InTagName,this.stateInTagName(d))},c.prototype.startEntity=function(){this.baseState=this.state,this.state=n.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?t.DecodingMode.Strict:this.baseState===n.Text||this.baseState===n.InSpecialTag?t.DecodingMode.Legacy:t.DecodingMode.Attribute)},c.prototype.stateInEntity=function(){var d=this.entityDecoder.write(this.buffer,this.index-this.offset);d>=0?(this.state=this.baseState,d===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},c.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},c.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},c.prototype.parse=function(){for(;this.shouldContinue();){var d=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(d);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(d);break}case n.InSpecialTag:{this.stateInSpecialTag(d);break}case n.CDATASequence:{this.stateCDATASequence(d);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(d);break}case n.InAttributeName:{this.stateInAttributeName(d);break}case n.InCommentLike:{this.stateInCommentLike(d);break}case n.InSpecialComment:{this.stateInSpecialComment(d);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(d);break}case n.InTagName:{this.stateInTagName(d);break}case n.InClosingTagName:{this.stateInClosingTagName(d);break}case n.BeforeTagName:{this.stateBeforeTagName(d);break}case n.AfterAttributeName:{this.stateAfterAttributeName(d);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(d);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(d);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(d);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(d);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(d);break}case n.BeforeSpecialT:{this.stateBeforeSpecialT(d);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(d);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(d);break}case n.InDeclaration:{this.stateInDeclaration(d);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(d);break}case n.BeforeComment:{this.stateBeforeComment(d);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(d);break}case n.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},c.prototype.finish=function(){this.state===n.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},c.prototype.handleTrailingData=function(){var d=this.buffer.length+this.offset;this.sectionStart>=d||(this.state===n.InCommentLike?this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,d,0):this.cbs.oncomment(this.sectionStart,d,0):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,d))},c.prototype.emitCodePoint=function(d,f){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+f,this.index=this.sectionStart-1,this.cbs.onattribentity(d)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+f,this.index=this.sectionStart-1,this.cbs.ontextentity(d,this.sectionStart))},c}();return Ec.default=l,Ec}var B5;function $5(){if(B5)return Lh;B5=1;var t=P&&P.__createBinding||(Object.create?function(g,_,v,b){b===void 0&&(b=v);var w=Object.getOwnPropertyDescriptor(_,v);(!w||("get"in w?!_.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,b,w)}:function(g,_,v,b){b===void 0&&(b=v),g[b]=_[v]}),e=P&&P.__setModuleDefault||(Object.create?function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}:function(g,_){g.default=_}),n=P&&P.__importStar||function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&t(_,g,v);return e(_,g),_};Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.Parser=void 0;var r=n(MJ()),a=Tl(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),u=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),c=new Set(["rt","rp"]),d=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",c],["rp",c],["tbody",u],["tfoot",u]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,y=function(){function g(_,v){v===void 0&&(v={});var b,w,S,A,x,M;this.options=v,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=_??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(b=v.lowerCaseTags)!==null&&b!==void 0?b:this.htmlMode,this.lowerCaseAttributeNames=(w=v.lowerCaseAttributeNames)!==null&&w!==void 0?w:this.htmlMode,this.recognizeSelfClosing=(S=v.recognizeSelfClosing)!==null&&S!==void 0?S:!this.htmlMode,this.tokenizer=new((A=v.Tokenizer)!==null&&A!==void 0?A:r.default)(this.options,this),this.foreignContext=[!this.htmlMode],(M=(x=this.cbs).onparserinit)===null||M===void 0||M.call(x,this)}return g.prototype.ontext=function(_,v){var b,w,S=this.getSlice(_,v);this.endIndex=v-1,(w=(b=this.cbs).ontext)===null||w===void 0||w.call(b,S),this.startIndex=v},g.prototype.ontextentity=function(_,v){var b,w;this.endIndex=v-1,(w=(b=this.cbs).ontext)===null||w===void 0||w.call(b,(0,a.fromCodePoint)(_)),this.startIndex=v},g.prototype.isVoidElement=function(_){return this.htmlMode&&f.has(_)},g.prototype.onopentagname=function(_,v){this.endIndex=v;var b=this.getSlice(_,v);this.lowerCaseTagNames&&(b=b.toLowerCase()),this.emitOpenTag(b)},g.prototype.emitOpenTag=function(_){var v,b,w,S;this.openTagStart=this.startIndex,this.tagname=_;var A=this.htmlMode&&d.get(_);if(A)for(;this.stack.length>0&&A.has(this.stack[0]);){var x=this.stack.shift();(b=(v=this.cbs).onclosetag)===null||b===void 0||b.call(v,x,!0)}this.isVoidElement(_)||(this.stack.unshift(_),this.htmlMode&&(h.has(_)?this.foreignContext.unshift(!0):p.has(_)&&this.foreignContext.unshift(!1))),(S=(w=this.cbs).onopentagname)===null||S===void 0||S.call(w,_),this.cbs.onopentag&&(this.attribs={})},g.prototype.endOpenTag=function(_){var v,b;this.startIndex=this.openTagStart,this.attribs&&((b=(v=this.cbs).onopentag)===null||b===void 0||b.call(v,this.tagname,this.attribs,_),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},g.prototype.onopentagend=function(_){this.endIndex=_,this.endOpenTag(!1),this.startIndex=_+1},g.prototype.onclosetag=function(_,v){var b,w,S,A,x,M,I,N;this.endIndex=v;var F=this.getSlice(_,v);if(this.lowerCaseTagNames&&(F=F.toLowerCase()),this.htmlMode&&(h.has(F)||p.has(F))&&this.foreignContext.shift(),this.isVoidElement(F))this.htmlMode&&F==="br"&&((A=(S=this.cbs).onopentagname)===null||A===void 0||A.call(S,"br"),(M=(x=this.cbs).onopentag)===null||M===void 0||M.call(x,"br",{},!0),(N=(I=this.cbs).onclosetag)===null||N===void 0||N.call(I,"br",!1));else{var D=this.stack.indexOf(F);if(D!==-1)for(var V=0;V<=D;V++){var k=this.stack.shift();(w=(b=this.cbs).onclosetag)===null||w===void 0||w.call(b,k,V!==D)}else this.htmlMode&&F==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=v+1},g.prototype.onselfclosingtag=function(_){this.endIndex=_,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=_+1):this.onopentagend(_)},g.prototype.closeCurrentTag=function(_){var v,b,w=this.tagname;this.endOpenTag(_),this.stack[0]===w&&((b=(v=this.cbs).onclosetag)===null||b===void 0||b.call(v,w,!_),this.stack.shift())},g.prototype.onattribname=function(_,v){this.startIndex=_;var b=this.getSlice(_,v);this.attribname=this.lowerCaseAttributeNames?b.toLowerCase():b},g.prototype.onattribdata=function(_,v){this.attribvalue+=this.getSlice(_,v)},g.prototype.onattribentity=function(_){this.attribvalue+=(0,a.fromCodePoint)(_)},g.prototype.onattribend=function(_,v){var b,w;this.endIndex=v,(w=(b=this.cbs).onattribute)===null||w===void 0||w.call(b,this.attribname,this.attribvalue,_===r.QuoteType.Double?'"':_===r.QuoteType.Single?"'":_===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},g.prototype.getInstructionName=function(_){var v=_.search(m),b=v<0?_:_.substr(0,v);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},g.prototype.ondeclaration=function(_,v){this.endIndex=v;var b=this.getSlice(_,v);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(b);this.cbs.onprocessinginstruction("!".concat(w),"!".concat(b))}this.startIndex=v+1},g.prototype.onprocessinginstruction=function(_,v){this.endIndex=v;var b=this.getSlice(_,v);if(this.cbs.onprocessinginstruction){var w=this.getInstructionName(b);this.cbs.onprocessinginstruction("?".concat(w),"?".concat(b))}this.startIndex=v+1},g.prototype.oncomment=function(_,v,b){var w,S,A,x;this.endIndex=v,(S=(w=this.cbs).oncomment)===null||S===void 0||S.call(w,this.getSlice(_,v-b)),(x=(A=this.cbs).oncommentend)===null||x===void 0||x.call(A),this.startIndex=v+1},g.prototype.oncdata=function(_,v,b){var w,S,A,x,M,I,N,F,D,V;this.endIndex=v;var k=this.getSlice(_,v-b);!this.htmlMode||this.options.recognizeCDATA?((S=(w=this.cbs).oncdatastart)===null||S===void 0||S.call(w),(x=(A=this.cbs).ontext)===null||x===void 0||x.call(A,k),(I=(M=this.cbs).oncdataend)===null||I===void 0||I.call(M)):((F=(N=this.cbs).oncomment)===null||F===void 0||F.call(N,"[CDATA[".concat(k,"]]")),(V=(D=this.cbs).oncommentend)===null||V===void 0||V.call(D)),this.startIndex=v+1},g.prototype.onend=function(){var _,v;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var b=0;b<this.stack.length;b++)this.cbs.onclosetag(this.stack[b],!0)}(v=(_=this.cbs).onend)===null||v===void 0||v.call(_)},g.prototype.reset=function(){var _,v,b,w;(v=(_=this.cbs).onreset)===null||v===void 0||v.call(_),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(w=(b=this.cbs).onparserinit)===null||w===void 0||w.call(b,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},g.prototype.parseComplete=function(_){this.reset(),this.end(_)},g.prototype.getSlice=function(_,v){for(;_-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var b=this.buffers[0].slice(_-this.bufferOffset,v-this.bufferOffset);v-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),b+=this.buffers[0].slice(0,v-this.bufferOffset);return b},g.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},g.prototype.write=function(_){var v,b;if(this.ended){(b=(v=this.cbs).onerror)===null||b===void 0||b.call(v,new Error(".write() after done!"));return}this.buffers.push(_),this.tokenizer.running&&(this.tokenizer.write(_),this.writeIndex++)},g.prototype.end=function(_){var v,b;if(this.ended){(b=(v=this.cbs).onerror)===null||b===void 0||b.call(v,new Error(".end() after done!"));return}_&&this.write(_),this.ended=!0,this.tokenizer.end()},g.prototype.pause=function(){this.tokenizer.pause()},g.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},g.prototype.parseChunk=function(_){this.write(_)},g.prototype.done=function(_){this.end(_)},g}();return Lh.Parser=y,Lh}var U5;function IAe(){return U5||(U5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(v,b,w,S){S===void 0&&(S=w);var A=Object.getOwnPropertyDescriptor(b,w);(!A||("get"in A?!b.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return b[w]}}),Object.defineProperty(v,S,A)}:function(v,b,w,S){S===void 0&&(S=w),v[S]=b[w]}),n=P&&P.__setModuleDefault||(Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b}),r=P&&P.__importStar||function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&e(b,v,w);return n(b,v),b},a=P&&P.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.QuoteType=t.Tokenizer=t.createDomStream=t.createDocumentStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=$5(),o=$5();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=ja(),l=ja();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function c(v,b){var w=new u.DomHandler(void 0,b);return new s.Parser(w,b).end(v),w.root}t.parseDocument=c;function d(v,b){return c(v,b).children}t.parseDOM=d;function f(v,b,w){var S=new u.DomHandler(function(A){return v(A,S.root)},b,w);return new s.Parser(S,b)}t.createDocumentStream=f;function h(v,b,w){var S=new u.DomHandler(v,b,w);return new s.Parser(S,b)}t.createDomStream=h;var p=MJ();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(p).default}}),Object.defineProperty(t,"QuoteType",{enumerable:!0,get:function(){return p.QuoteType}}),t.ElementType=r(Zl());var m=Yc(),y=Yc();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return y.getFeed}});var g={xmlMode:!0};function _(v,b){return b===void 0&&(b=g),(0,m.getFeed)(d(v,b))}t.parseFeed=_,t.DomUtils=r(Yc())}(bA)),bA}var k5;function PAe(){if(k5)return Ch;k5=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.ActorRdfParseHtml=void 0;const t=Yl(),e=IAe(),n=Dt;class r extends t.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async runHandle(s,o,u){var m;const l=new n.Readable({objectMode:!0});l._read=()=>{};let c=0,d=1;function f(y){l.emit("error",y)}function h(){--d===0&&l.push(null)}const p={baseIRI:((m=s.metadata)==null?void 0:m.baseIRI)??"",context:u,emit:y=>{c--,l.push(y)},end:h,error:f,headers:s.headers};try{const y=await Promise.all(this.busRdfParseHtml.publish(p));d+=y.length;const g=[];for(const b of y){const{htmlParseListener:w}=await b.actor.run(p);g.push(w)}const _=new e.Parser({onclosetag(){try{for(const b of g)b.onTagClose()}catch(b){f(b)}},onend(){try{for(const b of g)b.onEnd()}catch(b){f(b)}h()},onopentag(b,w){try{for(const S of g)S.onTagOpen(b,w)}catch(S){f(S)}},ontext(b){try{for(const w of g)w.onText(b)}catch(w){f(w)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),v=l._read=b=>{for(c=Math.max(b,c);c>0;){const w=s.data.read();if(w===null){s.data.once("readable",()=>v(0));return}_.write(w.toString())}};s.data.on("error",f).on("end",()=>_.end())}catch(y){setTimeout(()=>{l.emit("error",y)})}return{data:l}}}return Ch.ActorRdfParseHtml=r,Ch}var V5;function NAe(){return V5||(V5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(PAe(),t)}(_A)),_A}var vA={},jh={},wA={},Mh={},H5;function DAe(){if(H5)return Mh;H5=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.ActorRdfParseHtml=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return Mh.ActorRdfParseHtml=e,Mh}var Q5;function vN(){return Q5||(Q5=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(DAe(),t)}(wA)),wA}var SA={},TA={},z5;function CAe(){return z5||(z5=1,Object.defineProperty(TA,"__esModule",{value:!0})),TA}var Fh={},G5;function FJ(){if(G5)return Fh;G5=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.ItemPropertyHandlerContent=void 0;let t=class{canHandle(n,r){return"content"in r}getObject(n,r,a){return r.createLiteral(n.content,a)}};return Fh.ItemPropertyHandlerContent=t,Fh}var qh={},Bh={},W5;function Yw(){if(W5)return Bh;W5=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.Util=void 0;const t=Rt,e=la();class n{constructor(a,s){this.dataFactory=a||new t.DataFactory,this.baseIRI=s||""}static isValidIri(a){return n.IRI_REGEX.test(a)}createVocabIris(a,s,o){return a.split(/\s+/u).filter(u=>!!u).map(u=>{if(!n.isValidIri(u)){if(!o)return;u=`${s.vocab||`${this.baseIRI}#`}${u}`}return this.dataFactory.namedNode(u)}).filter(u=>!!u)}getVocabularyExpansionType(a,s,o){const u=a.split(/\s+/u);if(u.includes("subPropertyOf")||u.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${n.RDF}type`)];if(s.vocab&&s.vocab in o&&o[s.vocab].properties){let l=[];for(const[c,d]of Object.entries(o[s.vocab].properties))u.includes(c)&&(l=[...Object.values(d).map(f=>this.dataFactory.namedNode(f))]);return l}return[]}createSubject(a){if(!n.isValidIri(a))try{a=(0,e.resolve)(a,this.baseIRI)}catch{return}return this.dataFactory.namedNode(a)}createLiteral(a,s){return this.dataFactory.literal(a,s.language)}deriveVocab(a,s){let o;for(const u in s)if(a.startsWith(u)){o=u,o.endsWith("/")||(o+="#");break}if(!o){const u=a.indexOf("#");u>0?o=a.slice(0,u+1):o=(0,e.resolve)(".",a)}return o}}return Bh.Util=n,n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.XSD="http://www.w3.org/2001/XMLSchema#",n.RDFA="http://www.w3.org/ns/rdfa#",n.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,Bh}var K5;function qJ(){if(K5)return qh;K5=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.ItemPropertyHandlerNumber=void 0;const t=Yw();let e=class{constructor(r,a){this.tagName=r,this.attributeName=a}canHandle(r,a){return this.tagName===r&&this.attributeName in a}getObject(r,a,s){const o=r[this.attributeName];let u;return!Number.isNaN(Number.parseInt(o,10))&&!o.includes(".")?u=`${t.Util.XSD}integer`:Number.isNaN(Number.parseFloat(o))||(u=`${t.Util.XSD}double`),a.dataFactory.literal(o,u&&a.dataFactory.namedNode(u))}};return qh.ItemPropertyHandlerNumber=e,qh}var $h={},J5;function $J(){if(J5)return $h;J5=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.ItemPropertyHandlerTime=void 0;const t=Yw();let e=class BJ{canHandle(r,a){return r==="time"&&"datetime"in a}getObject(r,a,s){const o=r.datetime;let u;for(const l of BJ.TIME_REGEXES)if(l.regex.test(o)){u=a.dataFactory.namedNode(t.Util.XSD+l.type);break}return a.dataFactory.literal(o,u)}};return $h.ItemPropertyHandlerTime=e,e.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],$h}var Uh={},X5;function UJ(){if(X5)return Uh;X5=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.ItemPropertyHandlerUrl=void 0;const t=la();let e=class{constructor(r,a){this.tagName=r,this.attributeName=a}canHandle(r,a){return this.tagName===r&&this.attributeName in a}getObject(r,a,s){return a.dataFactory.namedNode((0,t.resolve)(r[this.attributeName],a.baseIRI))}};return Uh.ItemPropertyHandlerUrl=e,Uh}var EA={},Y5;function LAe(){return Y5||(Y5=1,Object.defineProperty(EA,"__esModule",{value:!0})),EA}var AA={},Z5;function jAe(){return Z5||(Z5=1,Object.defineProperty(AA,"__esModule",{value:!0})),AA}var OA={},e9;function MAe(){return e9||(e9=1,Object.defineProperty(OA,"__esModule",{value:!0})),OA}var kh={};const FAe={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};var t9;function qAe(){if(t9)return kh;t9=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.MicrodataRdfParser=void 0;const t=DJ(),e=Dt,n=FJ(),r=qJ(),a=$J(),s=UJ(),o=Yw(),u=FAe;let l=class Ox extends e.Transform{constructor(d){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},d=d||{},this.options=d,this.util=new o.Util(d.dataFactory,d.baseIRI),this.defaultGraph=d.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=d.htmlParseListener,this.vocabRegistry=d.vocabRegistry||u,this.parser=this.initializeParser(!!d.xmlMode)}import(d){const f=new e.PassThrough({readableObjectMode:!0});d.on("error",p=>h.emit("error",p)),d.on("data",p=>f.push(p)),d.on("end",()=>f.push(null));const h=f.pipe(new Ox(this.options));return h}_transform(d,f,h){this.parser.write(d.toString()),h()}_flush(d){this.parser.end(),d()}getItemScope(d){let f=this.itemScopeStack.length-(d?2:1);for(;f>0&&!this.itemScopeStack[f];)f--;return this.itemScopeStack[f]}getDepth(){return this.itemScopeStack.length}onTagOpen(d,f){if(!this.isEmittingReferences){if("id"in f){const p=f.id;this.pendingItemRefsRangeCollecting[p]={events:[],counter:0,ids:[]}}for(const p of Object.values(this.pendingItemRefsRangeCollecting))p.counter++,p.events.push({type:"open",name:d,attributes:f})}this.textBufferStack.push(void 0);let h;if("itemscope"in f){let p;if(this.emittingReferencesItemScopeIdGenerator)p=this.emittingReferencesItemScopeIdGenerator();else{p="itemid"in f&&this.util.createSubject(f.itemid)||this.util.dataFactory.blankNode();for(const y of Object.values(this.pendingItemRefsRangeCollecting))y.ids.push(p)}h={subject:p},this.isEmittingReferences&&(h.blockEmission=!0);const m=this.getItemScope();m&&m.vocab&&(h.vocab=m.vocab),this.itemScopeStack.push(h)}else h=this.getItemScope(),this.itemScopeStack.push(void 0);if(h){if("itemtype"in f)for(const p of this.util.createVocabIris(f.itemtype,h,!1))h.vocab||(h.vocab=this.util.deriveVocab(p.value,this.vocabRegistry)),h.blockEmission||this.emitTriple(h.subject,this.util.dataFactory.namedNode(`${o.Util.RDF}type`),p);if("lang"in f&&(h.language=f.lang),"xml:lang"in f&&(h.language=f["xml:lang"]),"itemscope"in f&&!this.isEmittingReferences&&"itemref"in f)for(const p of f.itemref.split(/\s+/u))p in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[p]=[]),this.pendingItemRefsDomain[p].push(h),this.tryToEmitReferences(p,h)}"itemprop"in f&&this.handleItemProperties(f.itemprop,!1,h,d,f),"itemprop-reverse"in f&&this.handleItemProperties(f["itemprop-reverse"],!0,h,d,f)}onText(d){if(!this.isEmittingReferences)for(const f of Object.values(this.pendingItemRefsRangeCollecting))f.events.push({type:"text",data:d});for(const f of this.textBufferStack)f&&f.push(d)}onTagClose(){if(!this.isEmittingReferences)for(const[f,h]of Object.entries(this.pendingItemRefsRangeCollecting))h.counter--,h.events.push({type:"close"}),h.counter===0&&(this.pendingItemRefsRangeFinalized[f]=h,delete this.pendingItemRefsRangeCollecting[f],this.tryToEmitReferences(f));const d=this.getItemScope(!0);if(d){const f=this.getDepth();if(d.predicates&&f in d.predicates)for(const[h,p]of Object.entries(d.predicates[f])){const m=this.util.createLiteral(this.textBufferStack[f].join(""),d);this.emitPredicateTriples(d,p,m,h==="reverse"),delete d.predicates[f][h]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(d){return new t.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(f){this.emit("error",f)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(f){this.emit("error",f)}},onopentag:(f,h)=>{try{this.onTagOpen(f,h),this.htmlParseListener&&this.htmlParseListener.onTagOpen(f,h)}catch(p){this.emit("error",p)}},ontext:f=>{try{this.onText(f),this.htmlParseListener&&this.htmlParseListener.onText(f)}catch(h){this.emit("error",h)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:d})}handleItemProperties(d,f,h,p,m){const y=this.getItemScope(!0);if(y){const g=this.getDepth(),_=this.util.createVocabIris(d,y,!0);y.predicates||(y.predicates={}),y.predicates[g]||(y.predicates[g]={});const v=f?"reverse":"forward";y.predicates[g][v]=_;for(const b of this.util.getVocabularyExpansionType(d,y,this.vocabRegistry))_.push(b);if(h&&"itemscope"in m)this.emitPredicateTriples(y,_,h.subject,f),delete y.predicates[g][v];else for(const b of Ox.ITEM_PROPERTY_HANDLERS)if(b.canHandle(p,m)){const w=b.getObject(m,this.util,y);this.emitPredicateTriples(y,_,w,f),delete y.predicates[g][v]}y.predicates[g][v]&&(this.textBufferStack[g]=[])}}emitPredicateTriples(d,f,h,p){if(!d.blockEmission)for(const m of f)p?h.termType!=="Literal"&&this.emitTriple(h,m,d.subject):this.emitTriple(d.subject,m,h)}emitTriple(d,f,h){this.push(this.util.dataFactory.quad(d,f,h,this.defaultGraph))}tryToEmitReferences(d,f){const h=this.pendingItemRefsRangeFinalized[d];if(h){let p;if(f){p=[f];const m=this.pendingItemRefsDomain[d].indexOf(f);this.pendingItemRefsDomain[d].splice(m,1)}else p=this.pendingItemRefsDomain[d],delete this.pendingItemRefsDomain[d];if(p){const m=this.itemScopeStack,y=this.textBufferStack;this.isEmittingReferences=!0;for(const g of p){this.itemScopeStack=[g],this.textBufferStack=[void 0];const _=[...h.ids];this.emittingReferencesItemScopeIdGenerator=()=>_.shift();for(const v of h.events)switch(v.type){case"open":this.onTagOpen(v.name,v.attributes);break;case"text":this.onText(v.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=m,this.textBufferStack=y,this.isEmittingReferences=!1}}}};return kh.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new n.ItemPropertyHandlerContent,new s.ItemPropertyHandlerUrl("a","href"),new s.ItemPropertyHandlerUrl("area","href"),new s.ItemPropertyHandlerUrl("audio","src"),new s.ItemPropertyHandlerUrl("embed","src"),new s.ItemPropertyHandlerUrl("iframe","src"),new s.ItemPropertyHandlerUrl("img","src"),new s.ItemPropertyHandlerUrl("link","href"),new s.ItemPropertyHandlerUrl("object","data"),new s.ItemPropertyHandlerUrl("source","src"),new s.ItemPropertyHandlerUrl("track","src"),new s.ItemPropertyHandlerUrl("video","src"),new r.ItemPropertyHandlerNumber("data","value"),new r.ItemPropertyHandlerNumber("meter","value"),new a.ItemPropertyHandlerTime],kh}var r9;function BAe(){return r9||(r9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(CAe(),t),n(FJ(),t),n(qJ(),t),n($J(),t),n(UJ(),t),n(LAe(),t),n(jAe(),t),n(MAe(),t),n(qAe(),t),n(Yw(),t)}(SA)),SA}var n9;function $Ae(){if(n9)return jh;n9=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.ActorRdfParseHtmlMicrodata=void 0;const t=vN(),e=BAe();let n=class extends t.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=a.headers?a.headers.get("content-type"):null,o=s==null?void 0:s.includes("xml"),u=new e.MicrodataRdfParser({baseIRI:a.baseIRI,xmlMode:o});u.on("error",a.error),u.on("data",a.emit);const l=u.onEnd;return u.onEnd=()=>{l.call(u),a.end()},{htmlParseListener:u}}};return jh.ActorRdfParseHtmlMicrodata=n,jh}var i9;function UAe(){return i9||(i9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n($Ae(),t)}(vA)),vA}var RA={},Vh={},a9;function kAe(){if(a9)return Vh;a9=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.ActorRdfParseHtmlRdfa=void 0;const t=vN(),e=jJ();let n=class extends t.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=a.headers?a.headers.get("content-type"):null,o=(a.headers&&a.headers.get("content-language"))??void 0,u=s&&s.includes("xml")?"xhtml":"html",l=new e.RdfaParser({baseIRI:a.baseIRI,profile:u,language:o});l.on("error",a.error),l.on("data",a.emit);const c=l.onEnd;return l.onEnd=()=>{c.call(l),a.end()},{htmlParseListener:l}}};return Vh.ActorRdfParseHtmlRdfa=n,Vh}var s9;function VAe(){return s9||(s9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(kAe(),t)}(RA)),RA}var xA={},Hh={},IA={},Qh={},o9;function HAe(){if(o9)return Qh;o9=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.ActorRdfResolveHypermediaLinksQueue=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return Qh.ActorRdfResolveHypermediaLinksQueue=e,Qh}var PA={},u9;function QAe(){return u9||(u9=1,Object.defineProperty(PA,"__esModule",{value:!0})),PA}var zh={},c9;function zAe(){if(c9)return zh;c9=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.LinkQueueWrapper=void 0;let t=class{constructor(n){this.linkQueue=n}push(n,r){return this.linkQueue.push(n,r)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}};return zh.LinkQueueWrapper=t,zh}var l9;function GAe(){return l9||(l9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(HAe(),t),n(QAe(),t),n(zAe(),t)}(IA)),IA}var Gh={},d9;function kJ(){if(d9)return Gh;d9=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.LinkQueueFifo=void 0;let t=class{constructor(){this.links=[]}push(n){return this.links.push(n),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}};return Gh.LinkQueueFifo=t,Gh}var f9;function WAe(){if(f9)return Hh;f9=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const t=GAe(),e=kJ();let n=class extends t.ActorRdfResolveHypermediaLinksQueue{constructor(a){super(a)}async test(a){return!0}async run(a){return{linkQueue:new e.LinkQueueFifo}}};return Hh.ActorRdfResolveHypermediaLinksQueueFifo=n,Hh}var h9;function KAe(){return h9||(h9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(WAe(),t),n(kJ(),t)}(xA)),xA}var NA={},Wh={},DA={},Kh={},p9;function JAe(){if(p9)return Kh;p9=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.ActorRdfResolveHypermediaLinks=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return Kh.ActorRdfResolveHypermediaLinks=e,Kh}var y9;function XAe(){return y9||(y9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(JAe(),t)}(DA)),DA}var m9;function YAe(){if(m9)return Wh;m9=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.ActorRdfResolveHypermediaLinksNext=void 0;const t=XAe();let e=class extends t.ActorRdfResolveHypermediaLinks{constructor(r){super(r)}async test(r){if(!r.metadata.next||r.metadata.next.length===0)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(r){return{links:r.metadata.next.map(a=>({url:a}))}}};return Wh.ActorRdfResolveHypermediaLinksNext=e,Wh}var g9;function ZAe(){return g9||(g9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(YAe(),t)}(NA)),NA}var CA={},Jh={},LA={},Xh={},_9;function e3e(){if(_9)return Xh;_9=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.ActorRdfSerialize=void 0;const t=Xl();let e=class extends t.ActorAbstractMediaTyped{constructor(r){super(r)}};return Xh.ActorRdfSerialize=e,Xh}var Yh={},b9;function t3e(){if(b9)return Yh;b9=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.ActorRdfSerializeFixedMediaTypes=void 0;const t=Xl();let e=class extends t.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(){return!0}};return Yh.ActorRdfSerializeFixedMediaTypes=e,Yh}var v9;function wN(){return v9||(v9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(e3e(),t),n(t3e(),t)}(LA)),LA}var w9;function r3e(){if(w9)return Jh;w9=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.ActorRdfSerializeN3=void 0;const t=wN(),e=Do;let n=class extends t.ActorRdfSerializeFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s){const o=new e.StreamWriter({format:s});let u;return"pipe"in a.quadStream?(a.quadStream.on("error",l=>o.emit("error",l)),u=a.quadStream.pipe(o)):u=o.import(a.quadStream),{data:u,triples:s==="text/turtle"||s==="application/n-triples"||s==="text/n3"}}};return Jh.ActorRdfSerializeN3=n,Jh}var S9;function n3e(){return S9||(S9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(r3e(),t)}(CA)),CA}var jA={},Zh={},MA={},ep={},tp={},T9;function i3e(){if(T9)return tp;T9=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.SeparatorType=void 0;let t=class{constructor(n){this.label=n}};return tp.SeparatorType=t,t.COMMA=new t(","),t.OBJECT_START=new t("{"),t.OBJECT_END=new t("}"),t.OBJECT_END_COMMA=new t("},"),t.ARRAY_START=new t("["),t.ARRAY_END=new t("]"),t.ARRAY_END_COMMA=new t("],"),t.GRAPH_FIELD_NONCOMPACT=new t('"@graph": ['),t.GRAPH_FIELD_COMPACT=new t('"@graph":['),t.CONTEXT_FIELD=new t('"@context":'),tp}var rp={},E9;function VJ(){if(E9)return rp;E9=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.Util=void 0;const t=un();class e{static termToValue(r,a,s={compactIds:!1,useNativeTypes:!1}){switch(r.termType){case"NamedNode":const o=a.compactIri(r.value,s.vocab);return s.compactIds?o:{"@id":o};case"DefaultGraph":return s.compactIds?r.value:{"@id":r.value};case"BlankNode":const u=`_:${r.value}`;return s.compactIds?u:{"@id":u};case"Literal":if(r.datatype.value===e.RDF_JSON){let d;try{d=JSON.parse(r.value)}catch(f){throw new t.ErrorCoded("Invalid JSON literal: "+f.message,t.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":d,"@type":"@json"}}if(s.rdfDirection==="i18n-datatype"&&r.datatype.value.startsWith(e.I18N)){const[d,f]=r.datatype.value.substr(e.I18N.length,r.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":r.value},d?{"@language":d}:{}),f?{"@direction":f}:{})}const l=r.datatype.value===e.XSD_STRING,c={"@value":!l&&s.useNativeTypes?e.stringToNativeType(r.value,r.datatype.value):r.value};return r.language?Object.assign(Object.assign({},c),{"@language":r.language}):!l&&typeof c["@value"]=="string"?Object.assign(Object.assign({},c),{"@type":r.datatype.value}):c}}static stringToNativeType(r,a){if(a.startsWith(e.XSD))switch(a.substr(e.XSD.length)){case"boolean":if(r==="true")return!0;if(r==="false")return!1;throw new Error(`Invalid xsd:boolean value '${r}'`);case"integer":case"number":case"int":case"byte":case"long":const o=parseInt(r,10);if(isNaN(o))throw new Error(`Invalid xsd:integer value '${r}'`);return o;case"float":case"double":const u=parseFloat(r);if(isNaN(u))throw new Error(`Invalid xsd:float value '${r}'`);return u}return r}}return rp.Util=e,e.XSD="http://www.w3.org/2001/XMLSchema#",e.XSD_STRING=e.XSD+"string",e.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.RDF_TYPE=e.RDF+"type",e.RDF_JSON=e.RDF+"JSON",e.I18N="https://www.w3.org/ns/i18n#",rp}var A9;function a3e(){if(A9)return ep;A9=1,Object.defineProperty(ep,"__esModule",{value:!0}),ep.JsonLdSerializer=void 0;const t=un(),e=i3e(),n=VJ(),r=Dt;let a=class HJ extends r.Transform{constructor(o={}){super({objectMode:!0}),this.indentation=0,this.options=o,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new t.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new t.JsonLdContextNormalized({}))}import(o){const u=new r.PassThrough({objectMode:!0});o.on("error",c=>l.emit("error",c)),o.on("data",c=>u.push(c)),o.on("end",()=>u.push(null));const l=u.pipe(new HJ(this.options));return l}_transform(o,u,l){this.context.then(c=>{this.transformQuad(o,c),l()}).catch(l)}async list(o){const u=await this.context;return{"@list":o.map(l=>n.Util.termToValue(l,u,this.options))}}_flush(o){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),o(null,null)}transformQuad(o,u){this.opened||this.pushDocumentStart();const l=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(o.subject);if(!l&&(!this.lastGraph||!o.graph.equals(this.lastGraph))){let c=o.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(o.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),c=!1):c?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),o.graph.termType!=="DefaultGraph"&&(c||this.pushId(o.graph,!0,u),this.pushSeparator(this.options.space?e.SeparatorType.GRAPH_FIELD_NONCOMPACT:e.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=o.graph}(!this.lastSubject||!o.subject.equals(this.lastSubject))&&(l?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END_COMMA),this.lastGraph=o.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(o.subject,!0,u)),this.lastSubject=o.subject),(!this.lastPredicate||!o.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(o.predicate,u)),this.pushObject(o.object,u)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(e.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(e.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?e.SeparatorType.GRAPH_FIELD_NONCOMPACT:e.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(e.SeparatorType.ARRAY_START),this.indentation++)}pushId(o,u,l){if(o.termType==="Quad")this.pushNestedQuad(o,!0,l);else{const c=o.termType==="BlankNode"?"_:"+o.value:l.compactIri(o.value,!1);u?this.pushSeparator(e.SeparatorType.OBJECT_START):(this.push(e.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${c}",`:`"@id":"${c}",`)}}pushPredicate(o,u){let l=o.value;!this.options.useRdfType&&l===n.Util.RDF_TYPE&&(l="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const c=u.compactIri(l,!0);this.pushIndented(this.options.space?`"${c}": [`:`"${c}":[`),this.indentation++,this.lastPredicate=o}pushObject(o,u){if(this.hadObjectForPredicate?this.pushSeparator(e.SeparatorType.COMMA):this.hadObjectForPredicate=!0,o.termType==="Quad"){const c=this.lastSubject,d=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(o,!1,u),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=d,this.lastSubject=c;return}let l;try{o["@list"]?l=o:l=n.Util.termToValue(o,u,this.objectOptions||this.options)}catch(c){return this.emit("error",c)}this.pushIndented(JSON.stringify(l,null,this.options.space))}pushNestedQuad(o,u,l){this.pushSeparator(e.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),o.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${o.graph.value}`)),this.pushId(o.subject,!1,l),this.pushPredicate(o.predicate,l),this.pushObject(o.object,l),this.endPredicate(!1),this.endSubject(u)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(e.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END))}endPredicate(o){this.indentation--,this.pushSeparator(o?e.SeparatorType.ARRAY_END_COMMA:e.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(o){this.indentation--,this.pushSeparator(o?e.SeparatorType.OBJECT_END_COMMA:e.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(o){this.indentation--,this.pushSeparator(e.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(o?e.SeparatorType.OBJECT_END_COMMA:e.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(o){this.pushIndented(o.label)}pushIndented(o,u=!0){const l=this.getIndentPrefix(),c=o.split(`
`).map(d=>l+d).join(`
`);this.push(c),this.options.space&&u&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}};return ep.JsonLdSerializer=a,ep}var O9;function s3e(){return O9||(O9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(a3e(),t),n(VJ(),t)}(MA)),MA}var R9;function o3e(){if(R9)return Zh;R9=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.ActorRdfSerializeJsonLd=void 0;const t=wN(),e=s3e();let n=class extends t.ActorRdfSerializeFixedMediaTypes{constructor(a){super(a)}async runHandle(a,s,o){const u=new e.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let l;return"pipe"in a.quadStream?(a.quadStream.on("error",c=>u.emit("error",c)),l=a.quadStream.pipe(u)):l=u.import(a.quadStream),{data:l}}};return Zh.ActorRdfSerializeJsonLd=n,Zh}var x9;function u3e(){return x9||(x9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(o3e(),t)}(jA)),jA}var FA={},np={},a1={},I9;function c3e(){if(I9)return a1;I9=1,Object.defineProperty(a1,"__esModule",{value:!0});function t(n,r){return new Promise((a,s)=>{n.on("end",()=>a(r)),n.on("error",s)})}function e(n){const r=[];return t(n.on("data",a=>r.push(a)),r)}return a1.default=e,a1}var ip={},s1={},qA={},ap={},P9;function l3e(){if(P9)return ap;P9=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.fragment=void 0;function t(r){let a=r;(a.endsWith("/")||a.endsWith("#"))&&(a=a.slice(0,a.length-1));const s=[];a.lastIndexOf("/")>0&&s.push(a.lastIndexOf("/")),a.lastIndexOf("#")>0&&s.push(a.lastIndexOf("#"));const o=Math.max(...s);return a.slice(o+1)}function e(r){var a;const s=(a=r.split(/[^a-z0-9]+/ig).filter(o=>o!=="").map(o=>o[0].toUpperCase()+o.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||a===void 0?void 0:a[0];return typeof s>"u"?void 0:s[0].toLowerCase()+s.slice(1)}function n(r){let a=t(r);return a=a?e(a):void 0,a||"v"}return ap.fragment=n,ap}var BA={},sp={},iu={},o1={exports:{}},N9;function d3e(){return N9||(N9=1,function(t,e){var n=typeof self<"u"?self:P,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(k){return k&&DataView.prototype.isPrototypeOf(k)}if(u.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(k){return k&&c.indexOf(Object.prototype.toString.call(k))>-1};function f(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function h(k){return typeof k!="string"&&(k=String(k)),k}function p(k){var U={next:function(){var H=k.shift();return{done:H===void 0,value:H}}};return u.iterable&&(U[Symbol.iterator]=function(){return U}),U}function m(k){this.map={},k instanceof m?k.forEach(function(U,H){this.append(H,U)},this):Array.isArray(k)?k.forEach(function(U){this.append(U[0],U[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(U){this.append(U,k[U])},this)}m.prototype.append=function(k,U){k=f(k),U=h(U);var H=this.map[k];this.map[k]=H?H+", "+U:U},m.prototype.delete=function(k){delete this.map[f(k)]},m.prototype.get=function(k){return k=f(k),this.has(k)?this.map[k]:null},m.prototype.has=function(k){return this.map.hasOwnProperty(f(k))},m.prototype.set=function(k,U){this.map[f(k)]=h(U)},m.prototype.forEach=function(k,U){for(var H in this.map)this.map.hasOwnProperty(H)&&k.call(U,this.map[H],H,this)},m.prototype.keys=function(){var k=[];return this.forEach(function(U,H){k.push(H)}),p(k)},m.prototype.values=function(){var k=[];return this.forEach(function(U){k.push(U)}),p(k)},m.prototype.entries=function(){var k=[];return this.forEach(function(U,H){k.push([H,U])}),p(k)},u.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function g(k){return new Promise(function(U,H){k.onload=function(){U(k.result)},k.onerror=function(){H(k.error)}})}function _(k){var U=new FileReader,H=g(U);return U.readAsArrayBuffer(k),H}function v(k){var U=new FileReader,H=g(U);return U.readAsText(k),H}function b(k){for(var U=new Uint8Array(k),H=new Array(U.length),X=0;X<U.length;X++)H[X]=String.fromCharCode(U[X]);return H.join("")}function w(k){if(k.slice)return k.slice(0);var U=new Uint8Array(k.byteLength);return U.set(new Uint8Array(k)),U.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(k){this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:u.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:u.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():u.arrayBuffer&&u.blob&&l(k)?(this._bodyArrayBuffer=w(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||d(k))?this._bodyArrayBuffer=w(k):this._bodyText=k=Object.prototype.toString.call(k):this._bodyText="",this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var k=y(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var k=y(this);if(k)return k;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(k){var U=k.toUpperCase();return A.indexOf(U)>-1?U:k}function M(k,U){U=U||{};var H=U.body;if(k instanceof M){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,U.headers||(this.headers=new m(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!H&&k._bodyInit!=null&&(H=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=U.credentials||this.credentials||"same-origin",(U.headers||!this.headers)&&(this.headers=new m(U.headers)),this.method=x(U.method||this.method||"GET"),this.mode=U.mode||this.mode||null,this.signal=U.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function I(k){var U=new FormData;return k.trim().split("&").forEach(function(H){if(H){var X=H.split("="),ee=X.shift().replace(/\+/g," "),fe=X.join("=").replace(/\+/g," ");U.append(decodeURIComponent(ee),decodeURIComponent(fe))}}),U}function N(k){var U=new m,H=k.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(X){var ee=X.split(":"),fe=ee.shift().trim();if(fe){var Te=ee.join(":").trim();U.append(fe,Te)}}),U}S.call(M.prototype);function F(k,U){U||(U={}),this.type="default",this.status=U.status===void 0?200:U.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in U?U.statusText:"OK",this.headers=new m(U.headers),this.url=U.url||"",this._initBody(k)}S.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},F.error=function(){var k=new F(null,{status:0,statusText:""});return k.type="error",k};var D=[301,302,303,307,308];F.redirect=function(k,U){if(D.indexOf(U)===-1)throw new RangeError("Invalid status code");return new F(null,{status:U,headers:{location:k}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(U,H){this.message=U,this.name=H;var X=Error(U);this.stack=X.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function V(k,U){return new Promise(function(H,X){var ee=new M(k,U);if(ee.signal&&ee.signal.aborted)return X(new o.DOMException("Aborted","AbortError"));var fe=new XMLHttpRequest;function Te(){fe.abort()}fe.onload=function(){var De={status:fe.status,statusText:fe.statusText,headers:N(fe.getAllResponseHeaders()||"")};De.url="responseURL"in fe?fe.responseURL:De.headers.get("X-Request-URL");var Ve="response"in fe?fe.response:fe.responseText;H(new F(Ve,De))},fe.onerror=function(){X(new TypeError("Network request failed"))},fe.ontimeout=function(){X(new TypeError("Network request failed"))},fe.onabort=function(){X(new o.DOMException("Aborted","AbortError"))},fe.open(ee.method,ee.url,!0),ee.credentials==="include"?fe.withCredentials=!0:ee.credentials==="omit"&&(fe.withCredentials=!1),"responseType"in fe&&u.blob&&(fe.responseType="blob"),ee.headers.forEach(function(De,Ve){fe.setRequestHeader(Ve,De)}),ee.signal&&(ee.signal.addEventListener("abort",Te),fe.onreadystatechange=function(){fe.readyState===4&&ee.signal.removeEventListener("abort",Te)}),fe.send(typeof ee._bodyInit>"u"?null:ee._bodyInit)})}return V.polyfill=!0,s.fetch||(s.fetch=V,s.Headers=m,s.Request=M,s.Response=F),o.Headers=m,o.Request=M,o.Response=F,o.fetch=V,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=r;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e}(o1,o1.exports)),o1.exports}var D9;function SN(){if(D9)return iu;D9=1;var t=P&&P.__awaiter||function(a,s,o,u){function l(c){return c instanceof o?c:new o(function(d){d(c)})}return new(o||(o=Promise))(function(c,d){function f(m){try{p(u.next(m))}catch(y){d(y)}}function h(m){try{p(u.throw(m))}catch(y){d(y)}}function p(m){m.done?c(m.value):l(m.value).then(f,h)}p((u=u.apply(a,s||[])).next())})};Object.defineProperty(iu,"__esModule",{value:!0}),iu.fetchContext=iu.fetchJson=void 0;const e=d3e();function n(a,s){var o;return t(this,void 0,void 0,function*(){return(yield((o=s==null?void 0:s.fetch)!==null&&o!==void 0?o:e.fetch)(a)).json()})}iu.fetchJson=n;function r(a,s){return t(this,void 0,void 0,function*(){return(yield n(a,s))["@context"]})}return iu.fetchContext=r,iu}var C9;function f3e(){if(C9)return sp;C9=1;var t=P&&P.__awaiter||function(r,a,s,o){function u(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(p){try{h(o.next(p))}catch(m){c(m)}}function f(p){try{h(o.throw(p))}catch(m){c(m)}}function h(p){p.done?l(p.value):u(p.value).then(d,f)}h((o=o.apply(r,a||[])).next())})};Object.defineProperty(sp,"__esModule",{value:!0}),sp.lookupUri=void 0;const e=SN();function n(r,a){return t(this,void 0,void 0,function*(){const s=(yield(0,e.fetchContext)(`https://prefix.cc/${r}.file.jsonld`,a))[r];if(typeof s!="string")throw new Error(`Expected uri to be a string, received: ${s} of type ${typeof s}`);return s})}return sp.lookupUri=n,sp}var op={},L9;function h3e(){if(L9)return op;L9=1;var t=P&&P.__awaiter||function(r,a,s,o){function u(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(p){try{h(o.next(p))}catch(m){c(m)}}function f(p){try{h(o.throw(p))}catch(m){c(m)}}function h(p){p.done?l(p.value):u(p.value).then(d,f)}h((o=o.apply(r,a||[])).next())})};Object.defineProperty(op,"__esModule",{value:!0}),op.lookupPrefix=void 0;const e=SN();function n(r,a){return t(this,void 0,void 0,function*(){const s=new URL("https://prefix.cc/reverse");s.searchParams.append("uri",r),s.searchParams.append("format","jsonld");const o=Object.keys(yield(0,e.fetchContext)(s,a));if(o.length===0)throw new Error("No prefixes returned");return o[0]})}return op.lookupPrefix=n,op}var up={},j9;function p3e(){if(j9)return up;j9=1;var t=P&&P.__awaiter||function(r,a,s,o){function u(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(p){try{h(o.next(p))}catch(m){c(m)}}function f(p){try{h(o.throw(p))}catch(m){c(m)}}function h(p){p.done?l(p.value):u(p.value).then(d,f)}h((o=o.apply(r,a||[])).next())})};Object.defineProperty(up,"__esModule",{value:!0}),up.lookupAllPrefixes=void 0;const e=SN();function n(r){return t(this,void 0,void 0,function*(){return(0,e.fetchContext)("https://prefix.cc/context",r)})}return up.lookupAllPrefixes=n,up}var M9;function F9(){return M9||(M9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(f3e(),t),n(h3e(),t),n(p3e(),t)}(BA)),BA}var q9;function y3e(){return q9||(q9=1,function(t){var e=P&&P.__awaiter||function(u,l,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(_){try{g(d.next(_))}catch(v){p(v)}}function y(_){try{g(d.throw(_))}catch(v){p(v)}}function g(_){_.done?h(_.value):f(_.value).then(m,y)}g((d=d.apply(u,l||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.lookupAllPrefixes=t.prefixToUri=t.uriToPrefix=void 0;const n=l3e(),r=F9();function a(u,l){return e(this,void 0,void 0,function*(){let c;try{c=yield(0,r.lookupPrefix)(u,l)}catch{l!=null&&l.mintOnUnknown&&(c=(0,n.fragment)(u).slice(0,4))}if(typeof c<"u"&&typeof(l==null?void 0:l.existingPrefixes)=="object"&&c in l.existingPrefixes){let d=0;for(;`${c}${d}`in l.existingPrefixes;)d+=1;c=`${c}${d}`}return c})}t.uriToPrefix=a;function s(u,l){return e(this,void 0,void 0,function*(){try{return yield(0,r.lookupUri)(u,l)}catch{return}})}t.prefixToUri=s;var o=F9();Object.defineProperty(t,"lookupAllPrefixes",{enumerable:!0,get:function(){return o.lookupAllPrefixes}})}(qA)),qA}var cp={},B9;function m3e(){if(B9)return cp;B9=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.getShaclName=void 0;function t(e){if(e.termType!=="NamedNode"||!e.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${e.value} is not part of the SHACL namespace`);return e.value.slice(27)}return cp.getShaclName=t,cp}var u1={},$9;function g3e(){return $9||($9=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}),u1}var c1={},U9;function _3e(){return U9||(U9=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}),c1}var l1={},k9;function b3e(){return k9||(k9=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}),l1}var V9;function v3e(){if(V9)return s1;V9=1;var t=P&&P.__awaiter||function(p,m,y,g){function _(v){return v instanceof y?v:new y(function(b){b(v)})}return new(y||(y=Promise))(function(v,b){function w(x){try{A(g.next(x))}catch(M){b(M)}}function S(x){try{A(g.throw(x))}catch(M){b(M)}}function A(x){x.done?v(x.value):_(x.value).then(w,S)}A((g=g.apply(p,m||[])).next())})},e=P&&P.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s1,"__esModule",{value:!0});const n=Do,r=y3e(),a=ib(),s=m3e(),o=e(g3e()),u=e(_3e()),l=e(b3e());function c(p){var m;return(m=/^[^]*[#/]/.exec(p))===null||m===void 0?void 0:m[0]}const d={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},f={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class h{constructor(m,y,g={},_=void 0,v=!0,b=!1,w,S=!1){this.store=m,this.base=_,this.errorOnExtraQuads=v,this.mintUnspecifiedPrefixes=b,this.fetch=w,this.extendedSyntax=S,this.prefixes={},this.prefixRev={};for(const A of Object.keys(g)){const x=g[A],M=typeof x=="string"?x:x.value;!(M in d)&&!(A in f)&&(this.prefixRev[M]=A,this.prefixes[A]=M)}this.writer=y}write(){return t(this,void 0,void 0,function*(){const m=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(m.length===1&&m[0].subject.termType==="NamedNode"){const g=m[0].subject;this.store.removeQuads(m),g.equals(new n.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,a.termToString)(g)}`),yield this.writeImports(g)}else throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const g=new Set;for(const v of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(v.termType==="NamedNode"){const b=c(v.value);b&&!(b in this.prefixRev)&&!(b in d)&&g.add(b)}const _=Object.assign(Object.assign({},this.prefixes),f);yield Promise.all([...g].map(v=>(0,r.uriToPrefix)(v,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:_}).then(b=>{this.prefixes[b]=v,_[b]=v,this.prefixRev[v]=b})))}const y=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(g=>g.termType==="NamedNode").map(g=>c(g.value)).filter(g=>typeof g=="string"));for(const g in this.prefixRev)y.has(g)||(delete this.prefixes[this.prefixRev[g]],delete this.prefixRev[g]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),f),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),d),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const g=this.store.getSubjects(null,null,null);g.length>0&&this.writer.newLine(1);for(const _ of g)this.writer.add(yield this.termToString(_,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(_),this.writer.deindent();g.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new n.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(m){return t(this,void 0,void 0,function*(){const y=this.store.getObjectsOnce(m,new n.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(y.length>0)for(const g of y)this.writer.add(`IMPORTS <${g.value}>`,!0)})}writePrefixes(){return t(this,void 0,void 0,function*(){const m=Object.keys(this.prefixes).filter(y=>!(y in u.default)).sort();if(m.length>0)for(const y of m)this.writer.add(`PREFIX ${y}: <${this.prefixes[y]}>`,!0)})}termToString(m,y=!1,g=!1){return t(this,void 0,void 0,function*(){try{if(y)throw new Error("Shacl name disabled");return(0,s.getShaclName)(m)}catch{}if(m.termType==="NamedNode"){const _=c(m.value);return _&&_ in this.prefixRev&&_ in this.prefixRev?`${this.prefixRev[_]}:${m.value.slice(_.length)}`:(0,a.termToString)(m)}if(m.termType==="Literal")return m.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||m.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?m.value:(0,a.termToString)(m);throw m.termType==="BlankNode"&&g&&(0,a.termToString)(m),new Error(`Invalid term type for extra statement ${m.value} (${m.termType})`)})}writeShapes(){return t(this,void 0,void 0,function*(){for(const m of this.store.getSubjectsOnce(new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new n.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(m,new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new n.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(m)),this.writer.add(" ");const y=this.store.getObjectsOnce(m,new n.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(y.length>0){this.writer.add("-> ");for(const _ of y)_.termType==="NamedNode"?this.writer.add(yield this.termToString(_)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(_,new n.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const g=this.store.getPredicates(m,null,null).filter(_=>[new n.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new n.NamedNode("http://www.w3.org/ns/shacl#property"),new n.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(l.default).map(v=>new n.NamedNode("http://www.w3.org/ns/shacl#"+v))].every(v=>!_.equals(v)));g.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(m,g)),g.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(m,!1)}})}getSingleProperty(m,y){let g=[m];try{let _=(0,s.getShaclName)(m.predicate),v="pred";if(_==="not"){const b=this.store.getQuadsOnce(m.object,null,null,null);if(g=g.concat(b),b.length!==1)throw new Error("Can only handle having one predicate of 'not'");[m]=b,_=(0,s.getShaclName)(m.predicate),v="not"}if(!(_ in y))throw new Error(`${_} is not allowed`);return{name:_,type:v,object:m.object}}catch{this.store.addQuads(g)}}singleLayerPropertiesList(m,y){const g=[];for(const _ of this.store.getQuadsOnce(m,null,null,null)){const v=this.getSingleProperty(_,y);v&&g.push(v)}return g}expectOneProperty(m,y){const g=this.store.getQuadsOnce(m,null,null,null);if(g.length===1){const _=this.getSingleProperty(g[0],y);if(_)return _}this.store.addQuads(g)}orProperties(m,y){const g=[];for(const _ of this.store.getQuadsOnce(m,new n.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const v=[];for(const b of this.getList(_.object)){const w=this.expectOneProperty(b,y);if(!w)throw this.store.addQuad(_),new Error("Each entry of the 'or' statement must declare exactly one property");v.push(w)}g.push(v)}return g}getList(m){let y=m;const g=[];for(;!y.equals(new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)g.push(this.singleObject(y,new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),y=this.singleObject(y,new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return g}writeIriLiteralOrArray(m){return t(this,void 0,void 0,function*(){if(m.termType==="BlankNode"){this.writer.add("[");let y=!0;for(const g of this.getList(m))y?y=!1:this.writer.add(" "),this.writer.add(yield this.termToString(g));this.writer.add("]")}else this.writer.add(yield this.termToString(m))})}singleObject(m,y,g){var _;return(_=this.singleQuad(m,y,g))===null||_===void 0?void 0:_.object}singleQuad(m,y,g=!1){const _=this.store.getQuadsOnce(m,y,null,null);if(g&&_.length!==1)throw this.store.addQuads(_),new Error(`The subject and predicate ${m==null?void 0:m.value} ${y==null?void 0:y.value} must have exactly one object. Instead has ${_.length}`);if(_.length>1)throw this.store.addQuads(_),new Error(`The subject and predicate ${m==null?void 0:m.value} ${y==null?void 0:y.value} can have at most one object. Instead has ${_.length}`);return _.length===1?_[0]:void 0}writeAssigment({name:m,type:y,object:g}){return t(this,void 0,void 0,function*(){y==="not"&&this.writer.add("!"),this.writer.add(m),this.writer.add("="),yield this.writeIriLiteralOrArray(g)})}writeAtom({name:m,type:y,object:g}){return t(this,void 0,void 0,function*(){switch(y==="not"&&this.writer.add("!"),m){case"node":{if(g.termType==="NamedNode")this.writer.add(`@${yield this.termToString(g)}`);else if(g.termType==="BlankNode")yield this.writeShapeBody(g);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,s.getShaclName)(g));return}case"class":{this.writer.add(yield this.termToString(g));return}case"datatype":{this.writer.add(yield this.termToString(g));return}default:this.writer.add(m),this.writer.add("="),yield this.writeIriLiteralOrArray(g)}})}writeAssigments(m,y=" ",g=!0,_){return t(this,void 0,void 0,function*(){for(const v of m)g?g=!1:this.writer.add(y),_?yield this.writeAtom(v):yield this.writeAssigment(v)})}writeParams(m,y=!0,g,_=!1,v=!1){return t(this,void 0,void 0,function*(){const b=this.orProperties(m,g),w=this.singleLayerPropertiesList(m,g);v&&(b.length>0||w.length>0)&&this.writer.newLine(1);for(const S of b)y?y=!1:this.writer.add(" "),yield this.writeAssigments(S,"|",!0,_);yield this.writeAssigments(w," ",y,_),v&&(b.length>0||w.length>0)&&this.writer.add(" .")})}writeShapeBody(m,y=!0){return t(this,void 0,void 0,function*(){this.writer.add("{").indent();const g=this.store.getObjectsOnce(m,new n.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(m,!0,l.default,!1,!0);for(const _ of g)this.writer.newLine(1),yield this.writeProperty(_);this.writer.deindent().newLine(1),y?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(m){return t(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(m,new n.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const y=this.singleObject(m,new n.NamedNode("http://www.w3.org/ns/shacl#minCount")),g=this.singleObject(m,new n.NamedNode("http://www.w3.org/ns/shacl#maxCount")),_=this.singleObject(m,new n.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),v=this.singleObject(m,new n.NamedNode("http://www.w3.org/ns/shacl#class")),b=this.singleObject(m,new n.NamedNode("http://www.w3.org/ns/shacl#datatype")),w=this.store.getObjectsOnce(m,new n.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(_&&(this.writer.add(" "),this.writer.add((0,s.getShaclName)(_))),v&&(this.writer.add(" "),this.writer.add(yield this.termToString(v))),b&&(this.writer.add(" "),this.writer.add(yield this.termToString(b))),y!==void 0||g!==void 0){if(this.writer.add(" ["),y){if(y.termType!=="Literal"||y.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(y.value)}else this.writer.add("0");if(this.writer.add(".."),g){if(g.termType!=="Literal"||g.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(m,new n.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(g.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(m,!1,o.default,!0);const S=[];for(const A of w)if(A.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(A)}`);else if(A.termType==="BlankNode")S.push(A);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const A of S)this.writer.add(" "),yield this.writeShapeBody(A);this.extendedSyntax&&this.store.getQuads(m,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(m),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),S.length===0&&this.writer.add(" .")})}writeTurtlePredicates(m){return t(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(m,this.store.getPredicates(m,null,null))})}writeGivenTurtlePredicates(m,y){return t(this,void 0,void 0,function*(){let g=!1;if(y.some(_=>_.equals(n.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const _=this.store.getObjectsOnce(m,n.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);_.length>0&&(g=!0,this.writer.add("a "),yield this.writeTurtleObjects(_))}for(const _ of y)_.equals(n.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(g?(this.writer.add(" ;"),this.writer.newLine(1)):g=!0,this.writer.add(yield this.termToString(_,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(m,_,null)))})}writeTurtleObjects(m){return t(this,void 0,void 0,function*(){const y=[],g=[];for(const v of m)v.termType==="BlankNode"&&[...this.store.match(null,null,v),...this.store.match(null,v,null)].length===0?y.push(v):g.push(v);this.writer.add((yield Promise.all(g.map(v=>this.termToString(v,!0,!0)))).join(", "));let _=g.length>0;if(y.length>0)for(const v of y)_?this.writer.add(", "):_=!0,(yield this.writeList(v))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(v),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(m){return t(this,void 0,void 0,function*(){let y=m;const g=[],_=[];for(;!y.equals(n.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const b=this.store.getQuadsOnce(y,n.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),w=this.store.getQuadsOnce(y,n.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(_.push(...b,...w),b.length!==1||w.length!==1||this.store.getQuads(y,null,null,null).length!==0)return this.store.addQuads(_),!1;g.push(b[0].object),y=w[0].object}let v=!1;this.writer.add("(");for(const b of g)v?this.writer.add(" "):v=!0,yield this.writeTurtleObjects([b]);return this.writer.add(")"),!0})}writePath(m,y=!1){return t(this,void 0,void 0,function*(){if(m.termType==="NamedNode")this.writer.add(yield this.termToString(m));else if(m.termType==="BlankNode"){const g=this.store.getQuadsOnce(m,null,null,null);if(g.length===1){const{predicate:_,object:v}=g[0];switch(_.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(v,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const b=this.getList(v);if(b.length===0)throw new Error("Invalid Alternative Path - no options");if(b.length===1)yield this.writePath(b[0]);else{y&&this.writer.add("(");let w=!0;for(const S of b)w?w=!1:this.writer.add("|"),yield this.writePath(S,!0);y&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(v,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(v,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(v,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${m.value}`)}}else{this.store.addQuads(g);const _=this.getList(m);if(_.length===0)throw new Error("Invalid Path");{y&&this.writer.add("(");let v=!0;for(const b of _)v?v=!1:this.writer.add("/"),yield this.writePath(b,!0);y&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}return s1.default=h,s1}var d1={},H9;function w3e(){if(H9)return d1;H9=1,Object.defineProperty(d1,"__esModule",{value:!0});class t{constructor(n){this.indents=0,this.write=n.write,this.end=n.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(n,r=!1){return this.write(r?`
${"	".repeat(this.indents)}${n}`:n,"utf-8"),this}newLine(n=2){return this.write(`
`.repeat(n)+"	".repeat(this.indents),"utf-8"),this}}return d1.default=t,d1}var f1={},Q9;function S3e(){if(Q9)return f1;Q9=1,Object.defineProperty(f1,"__esModule",{value:!0});const t=Do;class e extends t.Store{getQuadsOnce(r,a,s,o){const u=this.getQuads(r,a,s,o);return this.removeQuads(u),u}getSubjectsOnce(r,a,s){return this.getQuadsOnce(null,r,a,s).map(o=>o.subject)}getObjectsOnce(r,a,s){return this.getQuadsOnce(r,a,null,s).map(o=>o.object)}}return f1.default=e,f1}var z9;function T3e(){if(z9)return ip;z9=1;var t=P&&P.__awaiter||function(u,l,c,d){function f(h){return h instanceof c?h:new c(function(p){p(h)})}return new(c||(c=Promise))(function(h,p){function m(_){try{g(d.next(_))}catch(v){p(v)}}function y(_){try{g(d.throw(_))}catch(v){p(v)}}function g(_){_.done?h(_.value):f(_.value).then(m,y)}g((d=d.apply(u,l||[])).next())})},e=P&&P.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ip,"__esModule",{value:!0}),ip.write=void 0;const n=Do,r=e(v3e()),a=e(w3e()),s=e(S3e());function o(u,l){return t(this,void 0,void 0,function*(){return new Promise((c,d)=>t(this,void 0,void 0,function*(){try{let f="";const h=new s.default(u),p=h.getGraphs(null,null,null);if(p.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(p.length===1&&!p[0].equals(n.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${p[0].value}`);const m=new a.default({write:g=>{f+=g},end:()=>{let g=h.getQuads(null,null,null,null);g.length===0&&(g=void 0),c({text:f,extraQuads:g})}});yield new r.default(h,m,l==null?void 0:l.prefixes,void 0,(l==null?void 0:l.errorOnUnused)!==!1,l==null?void 0:l.mintPrefixes,l==null?void 0:l.fetch,l==null?void 0:l.extendedSyntax).write()}catch(f){d(f)}}))})}return ip.write=o,ip}var G9;function E3e(){if(G9)return np;G9=1,Object.defineProperty(np,"__esModule",{value:!0}),np.ActorRdfSerializeShaclc=void 0;const t=wN(),e=c3e(),n=Dt,r=T3e();let a=class extends t.ActorRdfSerializeFixedMediaTypes{constructor(o){super(o)}async runHandle(o,u){const l=new n.Readable;l._read=()=>{};try{const c={};o.quadStream.on("prefix",(f,h)=>{c[f]=h});const{text:d}=await(0,r.write)(await(0,e.default)(o.quadStream),{errorOnUnused:!0,extendedSyntax:u==="text/shaclc-ext",prefixes:c});l.push(d),l.push(null)}catch(c){l._read=()=>{l.emit("error",c)}}return{data:l,triples:!0}}};return np.ActorRdfSerializeShaclc=a,np}var W9;function A3e(){return W9||(W9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(E3e(),t)}(FA)),FA}var $A={},lp={},UA={},dp={},K9;function QJ(){if(K9)return dp;K9=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.ActorRdfUpdateQuads=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return dp.ActorRdfUpdateQuads=e,dp}var os={},J9;function O3e(){if(J9)return os;J9=1,Object.defineProperty(os,"__esModule",{value:!0}),os.ActorRdfUpdateQuadsDestination=os.deskolemize=os.deskolemizeStream=void 0;const t=BK(),e=Ut,n=QJ();function r(o,u){return o==null?void 0:o.map(l=>(0,t.deskolemizeQuad)(l,u))}os.deskolemizeStream=r;function a(o){var c;const u=o.context.get(e.KeysRdfUpdateQuads.destination),l=(c=o.context.get(e.KeysQuerySourceIdentify.sourceIds))==null?void 0:c.get(u);return l?{...o,quadStreamInsert:r(o.quadStreamInsert,l),quadStreamDelete:r(o.quadStreamDelete,l)}:o}os.deskolemize=a;let s=class extends n.ActorRdfUpdateQuads{async test(u){return!0}async run(u){const l=await this.getDestination(u.context);return await this.getOutput(l,a(u))}async getOutput(u,l){return{execute:async()=>{await(l.quadStreamDelete?u.delete(l.quadStreamDelete):Promise.resolve()),await(l.deleteGraphs?u.deleteGraphs(l.deleteGraphs.graphs,l.deleteGraphs.requireExistence,l.deleteGraphs.dropGraphs):Promise.resolve()),await(l.createGraphs?u.createGraphs(l.createGraphs.graphs,l.createGraphs.requireNonExistence):Promise.resolve()),await(l.quadStreamInsert?u.insert(l.quadStreamInsert):Promise.resolve())}}}};return os.ActorRdfUpdateQuadsDestination=s,os}var kA={},X9;function R3e(){return X9||(X9=1,Object.defineProperty(kA,"__esModule",{value:!0})),kA}var kn={},Y9;function x3e(){if(Y9)return kn;Y9=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.getContextDestinationUrl=kn.getContextDestination=kn.getDataDestinationContext=kn.getDataDestinationValue=kn.getDataDestinationType=kn.isDataDestinationRawType=void 0;const t=Ut;function e(u){return typeof u=="string"||"remove"in u}kn.isDataDestinationRawType=e;function n(u){return typeof u=="string"?"":"remove"in u?"rdfjsStore":u.type}kn.getDataDestinationType=n;function r(u){return e(u)?u:u.value}kn.getDataDestinationValue=r;function a(u,l){return typeof u=="string"||"remove"in u||!u.context?l:l.merge(u.context)}kn.getDataDestinationContext=a;function s(u){return u.get(t.KeysRdfUpdateQuads.destination)}kn.getContextDestination=s;function o(u){if(u){let l=r(u);if(typeof l=="string"){const c=l.indexOf("#");return c>=0&&(l=l.slice(0,c)),l}}}return kn.getContextDestinationUrl=o,kn}var Z9;function TN(){return Z9||(Z9=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(QJ(),t),n(O3e(),t),n(R3e(),t),n(x3e(),t)}(UA)),UA}var fp={},Zw={};Object.defineProperty(Zw,"__esModule",{value:!0});var EN=Zw.promisifyEventEmitter=void 0;function I3e(t,e){return new Promise((n,r)=>{t.on("end",()=>n(e)),t.on("error",r)})}EN=Zw.promisifyEventEmitter=I3e;var eq;function P3e(){if(eq)return fp;eq=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.RdfJsQuadDestination=void 0;const t=Zw,e=Rt,n=tr,r=new e.DataFactory;let a=class{constructor(o){this.store=o}delete(o){return(0,t.promisifyEventEmitter)(this.store.remove(o))}insert(o){return(0,t.promisifyEventEmitter)(this.store.import(o))}async deleteGraphs(o,u,l){switch(o){case"ALL":await(0,t.promisifyEventEmitter)(this.store.deleteGraph(r.defaultGraph()));case"NAMED":const c=this.store.match(),d={};c.on("data",f=>{f.graph.termType!=="DefaultGraph"&&(d[(0,n.termToString)(f.graph)]=!0)}),await(0,t.promisifyEventEmitter)(c),await Promise.all(Object.keys(d).map(f=>(0,t.promisifyEventEmitter)(this.store.deleteGraph((0,n.stringToTerm)(f)))));break;default:for(const f of Array.isArray(o)?o:[o])await(0,t.promisifyEventEmitter)(this.store.deleteGraph(f))}}async createGraphs(o,u){if(u)for(const l of o){const c=this.store.match(void 0,void 0,void 0,l);await new Promise((d,f)=>{c.once("data",()=>{f(new Error(`Unable to create graph ${l.value} as it already exists`))}),c.on("end",d),c.on("error",f)})}}};return fp.RdfJsQuadDestination=a,fp}var tq;function N3e(){if(tq)return lp;tq=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.ActorRdfUpdateQuadsRdfJsStore=void 0;const t=TN(),e=P3e();let n=class extends t.ActorRdfUpdateQuadsDestination{constructor(a){super(a)}async test(a){const s=(0,t.getContextDestination)(a.context);if(!s||typeof s=="string"||!("remove"in s)&&"value"in s&&!s.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(a){const s=(0,t.getContextDestination)(a);return new e.RdfJsQuadDestination("remove"in s?s:s.value)}};return lp.ActorRdfUpdateQuadsRdfJsStore=n,lp}var rq;function D3e(){return rq||(rq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(N3e(),t)}($A)),$A}var VA={},hp={},HA={},pp={},QA={},au={},nq;function C3e(){if(nq)return au;nq=1,Object.defineProperty(au,"__esModule",{value:!0}),au.readableFromWeb=au.ReadableFromWeb=void 0;const t=Dt;let e=class extends t.Readable{constructor(a,s){super(s),this.reader=a.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(o=>{this.readerClosed=!0,this.destroy(o)})}_read(){this.reader.read().then(a=>this.push(a.done?null:a.value)).catch(a=>this.destroy(a))}destroy(a){return this.readerClosed||this.reader.cancel(a).then().catch(()=>{}),super.destroy(a)}};au.ReadableFromWeb=e;function n(r,a){return new e(r,a)}return au.readableFromWeb=n,au}var iq;function L3e(){return iq||(iq=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.readableFromWeb=void 0;var e=C3e();Object.defineProperty(t,"readableFromWeb",{enumerable:!0,get:function(){return e.readableFromWeb}})}(QA)),QA}function h1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zA={exports:{}},aq;function j3e(){return aq||(aq=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,a,s){function o(c,d){if(!a[c]){if(!r[c]){var f=typeof h1=="function"&&h1;if(!d&&f)return f(c,!0);if(u)return u(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[c]={exports:{}};r[c][0].call(p.exports,function(m){var y=r[c][1][m];return o(y||m)},p,p.exports,n,r,a,s)}return a[c].exports}for(var u=typeof h1=="function"&&h1,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,a){Object.defineProperty(a,"__esModule",{value:!0});var s=n("./spec/reference-implementation/lib/readable-stream"),o=s.ReadableStream,u=n("./spec/reference-implementation/lib/writable-stream"),l=u.WritableStream,c=n("./spec/reference-implementation/lib/byte-length-queuing-strategy"),d=n("./spec/reference-implementation/lib/count-queuing-strategy"),f=n("./spec/reference-implementation/lib/transform-stream"),h=f.TransformStream;a.ByteLengthQueuingStrategy=c,a.CountQueuingStrategy=d,a.ReadableStream=o,a.WritableStream=l,a.TransformStream=h;var p={ReadableStream:o,WritableStream:l,ByteLengthQueuingStrategy:c,CountQueuingStrategy:d,TransformStream:h};a.default=p},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(n,r,a){(function(s){function o(k,U){if(k===U)return 0;for(var H=k.length,X=U.length,ee=0,fe=Math.min(H,X);ee<fe;++ee)if(k[ee]!==U[ee]){H=k[ee],X=U[ee];break}return H<X?-1:X<H?1:0}function u(k){return s.Buffer&&typeof s.Buffer.isBuffer=="function"?s.Buffer.isBuffer(k):!(k==null||!k._isBuffer)}function l(k){return Object.prototype.toString.call(k)}function c(k){return!u(k)&&typeof s.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(k):!!k&&(k instanceof DataView||!!(k.buffer&&k.buffer instanceof ArrayBuffer)))}function d(k){if(x.isFunction(k)){if(N)return k.name;var U=k.toString().match(D);return U&&U[1]}}function f(k,U){return typeof k=="string"?k.length<U?k:k.slice(0,U):k}function h(k){if(N||!x.isFunction(k))return x.inspect(k);var U=d(k);return"[Function"+(U?": "+U:"")+"]"}function p(k){return f(h(k.actual),128)+" "+k.operator+" "+f(h(k.expected),128)}function m(k,U,H,X,ee){throw new F.AssertionError({message:H,actual:k,expected:U,operator:X,stackStartFunction:ee})}function y(k,U){k||m(k,!0,U,"==",F.ok)}function g(k,U,H,X){if(k===U)return!0;if(u(k)&&u(U))return o(k,U)===0;if(x.isDate(k)&&x.isDate(U))return k.getTime()===U.getTime();if(x.isRegExp(k)&&x.isRegExp(U))return k.source===U.source&&k.global===U.global&&k.multiline===U.multiline&&k.lastIndex===U.lastIndex&&k.ignoreCase===U.ignoreCase;if(k!==null&&typeof k=="object"||U!==null&&typeof U=="object"){if(c(k)&&c(U)&&l(k)===l(U)&&!(k instanceof Float32Array||k instanceof Float64Array))return o(new Uint8Array(k.buffer),new Uint8Array(U.buffer))===0;if(u(k)!==u(U))return!1;var ee=(X=X||{actual:[],expected:[]}).actual.indexOf(k);return ee!==-1&&ee===X.expected.indexOf(U)||(X.actual.push(k),X.expected.push(U),v(k,U,H,X))}return H?k===U:k==U}function _(k){return Object.prototype.toString.call(k)=="[object Arguments]"}function v(k,U,H,X){if(k==null||U===null||U===void 0)return!1;if(x.isPrimitive(k)||x.isPrimitive(U))return k===U;if(H&&Object.getPrototypeOf(k)!==Object.getPrototypeOf(U))return!1;var ee=_(k),fe=_(U);if(ee&&!fe||!ee&&fe)return!1;if(ee)return k=I.call(k),U=I.call(U),g(k,U,H);var Te,De,Ve=V(k),le=V(U);if(Ve.length!==le.length)return!1;for(Ve.sort(),le.sort(),De=Ve.length-1;De>=0;De--)if(Ve[De]!==le[De])return!1;for(De=Ve.length-1;De>=0;De--)if(Te=Ve[De],!g(k[Te],U[Te],H,X))return!1;return!0}function b(k,U,H){g(k,U,!0)&&m(k,U,H,"notDeepStrictEqual",b)}function w(k,U){if(!k||!U)return!1;if(Object.prototype.toString.call(U)=="[object RegExp]")return U.test(k);try{if(k instanceof U)return!0}catch{}return!Error.isPrototypeOf(U)&&U.call({},k)===!0}function S(k){var U;try{k()}catch(H){U=H}return U}function A(k,U,H,X){var ee;if(typeof U!="function")throw new TypeError('"block" argument must be a function');typeof H=="string"&&(X=H,H=null),ee=S(U),X=(H&&H.name?" ("+H.name+").":".")+(X?" "+X:"."),k&&!ee&&m(ee,H,"Missing expected exception"+X);var fe=typeof X=="string",Te=!k&&x.isError(ee),De=!k&&ee&&!H;if((Te&&fe&&w(ee,H)||De)&&m(ee,H,"Got unwanted exception"+X),k&&ee&&H&&!w(ee,H)||!k&&ee)throw ee}var x=n("util/"),M=Object.prototype.hasOwnProperty,I=Array.prototype.slice,N=(function(){}).name==="foo",F=r.exports=y,D=/\s*function\s+([^\(\s]*)\s*/;F.AssertionError=function(U){this.name="AssertionError",this.actual=U.actual,this.expected=U.expected,this.operator=U.operator,U.message?(this.message=U.message,this.generatedMessage=!1):(this.message=p(this),this.generatedMessage=!0);var H=U.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var X=new Error;if(X.stack){var ee=X.stack,fe=d(H),Te=ee.indexOf(`
`+fe);if(Te>=0){var De=ee.indexOf(`
`,Te+1);ee=ee.substring(De+1)}this.stack=ee}}},x.inherits(F.AssertionError,Error),F.fail=m,F.ok=y,F.equal=function(U,H,X){U!=H&&m(U,H,X,"==",F.equal)},F.notEqual=function(U,H,X){U==H&&m(U,H,X,"!=",F.notEqual)},F.deepEqual=function(U,H,X){g(U,H,!1)||m(U,H,X,"deepEqual",F.deepEqual)},F.deepStrictEqual=function(U,H,X){g(U,H,!0)||m(U,H,X,"deepStrictEqual",F.deepStrictEqual)},F.notDeepEqual=function(U,H,X){g(U,H,!1)&&m(U,H,X,"notDeepEqual",F.notDeepEqual)},F.notDeepStrictEqual=b,F.strictEqual=function(U,H,X){U!==H&&m(U,H,X,"===",F.strictEqual)},F.notStrictEqual=function(U,H,X){U===H&&m(U,H,X,"!==",F.notStrictEqual)},F.throws=function(k,U,H){A(!0,k,U,H)},F.doesNotThrow=function(k,U,H){A(!1,k,U,H)},F.ifError=function(k){if(k)throw k};var V=Object.keys||function(k){var U=[];for(var H in k)M.call(k,H)&&U.push(H);return U}}).call(this,typeof P<"u"?P:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":7}],3:[function(n,r,a){},{}],4:[function(n,r,a){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(w){if(p===setTimeout)return setTimeout(w,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout(w,0);try{return p(w,0)}catch{try{return p.call(null,w,0)}catch{return p.call(this,w,0)}}}function l(w){if(m===clearTimeout)return clearTimeout(w);if((m===o||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(w);try{return m(w)}catch{try{return m.call(null,w)}catch{return m.call(this,w)}}}function c(){v&&g&&(v=!1,g.length?_=g.concat(_):b=-1,_.length&&d())}function d(){if(!v){var w=u(c);v=!0;for(var S=_.length;S;){for(g=_,_=[];++b<S;)g&&g[b].run();b=-1,S=_.length}g=null,v=!1,l(w)}}function f(w,S){this.fun=w,this.array=S}function h(){}var p,m,y=r.exports={};(function(){try{p=typeof setTimeout=="function"?setTimeout:s}catch{p=s}try{m=typeof clearTimeout=="function"?clearTimeout:o}catch{m=o}})();var g,_=[],v=!1,b=-1;y.nextTick=function(w){var S=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)S[A-1]=arguments[A];_.push(new f(w,S)),_.length!==1||v||u(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=h,y.addListener=h,y.once=h,y.off=h,y.removeListener=h,y.removeAllListeners=h,y.emit=h,y.prependListener=h,y.prependOnceListener=h,y.listeners=function(w){return[]},y.binding=function(w){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(w){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],5:[function(n,r,a){typeof Object.create=="function"?r.exports=function(o,u){o.super_=u,o.prototype=Object.create(u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(o,u){o.super_=u;var l=function(){};l.prototype=u.prototype,o.prototype=new l,o.prototype.constructor=o}},{}],6:[function(n,r,a){r.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],7:[function(n,r,a){(function(s,o){function u(le,ue){var Ie={seen:[],stylize:c};return arguments.length>=3&&(Ie.depth=arguments[2]),arguments.length>=4&&(Ie.colors=arguments[3]),v(ue)?Ie.showHidden=ue:ue&&a._extend(Ie,ue),M(Ie.showHidden)&&(Ie.showHidden=!1),M(Ie.depth)&&(Ie.depth=2),M(Ie.colors)&&(Ie.colors=!1),M(Ie.customInspect)&&(Ie.customInspect=!0),Ie.colors&&(Ie.stylize=l),f(Ie,le,Ie.depth)}function l(le,ue){var Ie=u.styles[ue];return Ie?"\x1B["+u.colors[Ie][0]+"m"+le+"\x1B["+u.colors[Ie][1]+"m":le}function c(le,ue){return le}function d(le){var ue={};return le.forEach(function(Ie,Ne){ue[Ie]=!0}),ue}function f(le,ue,Ie){if(le.customInspect&&ue&&V(ue.inspect)&&ue.inspect!==a.inspect&&(!ue.constructor||ue.constructor.prototype!==ue)){var Ne=ue.inspect(Ie,le);return A(Ne)||(Ne=f(le,Ne,Ie)),Ne}var we=h(le,ue);if(we)return we;var Ae=Object.keys(ue),Se=d(Ae);if(le.showHidden&&(Ae=Object.getOwnPropertyNames(ue)),D(ue)&&(Ae.indexOf("message")>=0||Ae.indexOf("description")>=0))return p(ue);if(Ae.length===0){if(V(ue)){var z=ue.name?": "+ue.name:"";return le.stylize("[Function"+z+"]","special")}if(I(ue))return le.stylize(RegExp.prototype.toString.call(ue),"regexp");if(F(ue))return le.stylize(Date.prototype.toString.call(ue),"date");if(D(ue))return p(ue)}var L="",B=!1,T=["{","}"];if(_(ue)&&(B=!0,T=["[","]"]),V(ue)&&(L=" [Function"+(ue.name?": "+ue.name:"")+"]"),I(ue)&&(L=" "+RegExp.prototype.toString.call(ue)),F(ue)&&(L=" "+Date.prototype.toUTCString.call(ue)),D(ue)&&(L=" "+p(ue)),Ae.length===0&&(!B||ue.length==0))return T[0]+L+T[1];if(Ie<0)return I(ue)?le.stylize(RegExp.prototype.toString.call(ue),"regexp"):le.stylize("[Object]","special");le.seen.push(ue);var O;return O=B?m(le,ue,Ie,Se,Ae):Ae.map(function($){return y(le,ue,Ie,Se,$,B)}),le.seen.pop(),g(O,L,T)}function h(le,ue){if(M(ue))return le.stylize("undefined","undefined");if(A(ue)){var Ie="'"+JSON.stringify(ue).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return le.stylize(Ie,"string")}return S(ue)?le.stylize(""+ue,"number"):v(ue)?le.stylize(""+ue,"boolean"):b(ue)?le.stylize("null","null"):void 0}function p(le){return"["+Error.prototype.toString.call(le)+"]"}function m(le,ue,Ie,Ne,we){for(var Ae=[],Se=0,z=ue.length;Se<z;++Se)ee(ue,String(Se))?Ae.push(y(le,ue,Ie,Ne,String(Se),!0)):Ae.push("");return we.forEach(function(L){L.match(/^\d+$/)||Ae.push(y(le,ue,Ie,Ne,L,!0))}),Ae}function y(le,ue,Ie,Ne,we,Ae){var Se,z,L;if((L=Object.getOwnPropertyDescriptor(ue,we)||{value:ue[we]}).get?z=L.set?le.stylize("[Getter/Setter]","special"):le.stylize("[Getter]","special"):L.set&&(z=le.stylize("[Setter]","special")),ee(Ne,we)||(Se="["+we+"]"),z||(le.seen.indexOf(L.value)<0?(z=b(Ie)?f(le,L.value,null):f(le,L.value,Ie-1)).indexOf(`
`)>-1&&(z=Ae?z.split(`
`).map(function(B){return"  "+B}).join(`
`).substr(2):`
`+z.split(`
`).map(function(B){return"   "+B}).join(`
`)):z=le.stylize("[Circular]","special")),M(Se)){if(Ae&&we.match(/^\d+$/))return z;(Se=JSON.stringify(""+we)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Se=Se.substr(1,Se.length-2),Se=le.stylize(Se,"name")):(Se=Se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Se=le.stylize(Se,"string"))}return Se+": "+z}function g(le,ue,Ie){var Ne=0;return le.reduce(function(we,Ae){return Ne++,Ae.indexOf(`
`)>=0&&Ne++,we+Ae.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ie[0]+(ue===""?"":ue+`
 `)+" "+le.join(`,
  `)+" "+Ie[1]:Ie[0]+ue+" "+le.join(", ")+" "+Ie[1]}function _(le){return Array.isArray(le)}function v(le){return typeof le=="boolean"}function b(le){return le===null}function w(le){return le==null}function S(le){return typeof le=="number"}function A(le){return typeof le=="string"}function x(le){return typeof le=="symbol"}function M(le){return le===void 0}function I(le){return N(le)&&U(le)==="[object RegExp]"}function N(le){return typeof le=="object"&&le!==null}function F(le){return N(le)&&U(le)==="[object Date]"}function D(le){return N(le)&&(U(le)==="[object Error]"||le instanceof Error)}function V(le){return typeof le=="function"}function k(le){return le===null||typeof le=="boolean"||typeof le=="number"||typeof le=="string"||typeof le=="symbol"||le===void 0}function U(le){return Object.prototype.toString.call(le)}function H(le){return le<10?"0"+le.toString(10):le.toString(10)}function X(){var le=new Date,ue=[H(le.getHours()),H(le.getMinutes()),H(le.getSeconds())].join(":");return[le.getDate(),Ve[le.getMonth()],ue].join(" ")}function ee(le,ue){return Object.prototype.hasOwnProperty.call(le,ue)}var fe=/%[sdj%]/g;a.format=function(le){if(!A(le)){for(var ue=[],Ie=0;Ie<arguments.length;Ie++)ue.push(u(arguments[Ie]));return ue.join(" ")}for(var Ie=1,Ne=arguments,we=Ne.length,Ae=String(le).replace(fe,function(L){if(L==="%%")return"%";if(Ie>=we)return L;switch(L){case"%s":return String(Ne[Ie++]);case"%d":return Number(Ne[Ie++]);case"%j":try{return JSON.stringify(Ne[Ie++])}catch{return"[Circular]"}default:return L}}),Se=Ne[Ie];Ie<we;Se=Ne[++Ie])b(Se)||!N(Se)?Ae+=" "+Se:Ae+=" "+u(Se);return Ae},a.deprecate=function(le,ue){if(M(o.process))return function(){return a.deprecate(le,ue).apply(this,arguments)};if(s.noDeprecation===!0)return le;var Ie=!1;return function(){if(!Ie){if(s.throwDeprecation)throw new Error(ue);s.traceDeprecation?console.trace(ue):console.error(ue),Ie=!0}return le.apply(this,arguments)}};var Te,De={};a.debuglog=function(le){if(M(Te)&&(Te=s.env.NODE_DEBUG||""),le=le.toUpperCase(),!De[le])if(new RegExp("\\b"+le+"\\b","i").test(Te)){var ue=s.pid;De[le]=function(){var Ie=a.format.apply(a,arguments);console.error("%s %d: %s",le,ue,Ie)}}else De[le]=function(){};return De[le]},a.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=_,a.isBoolean=v,a.isNull=b,a.isNullOrUndefined=w,a.isNumber=S,a.isString=A,a.isSymbol=x,a.isUndefined=M,a.isRegExp=I,a.isObject=N,a.isDate=F,a.isError=D,a.isFunction=V,a.isPrimitive=k,a.isBuffer=n("./support/isBuffer");var Ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a.log=function(){console.log("%s - %s",X(),a.format.apply(a,arguments))},a.inherits=n("inherits"),a._extend=function(le,ue){if(!ue||!N(ue))return le;for(var Ie=Object.keys(ue),Ne=Ie.length;Ne--;)le[Ie[Ne]]=ue[Ie[Ne]];return le}}).call(this,n("_process"),typeof P<"u"?P:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":6,_process:4,inherits:5}],8:[function(n,r,a){function s(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),u=n("./helpers.js"),l=u.createDataProperty;r.exports=function(){function c(d){var f=d.highWaterMark;s(this,c),l(this,"highWaterMark",f)}return o(c,[{key:"size",value:function(f){return f.byteLength}}]),c}()},{"./helpers.js":10}],9:[function(n,r,a){function s(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&c(d.prototype,f),h&&c(d,h),d}}(),u=n("./helpers.js"),l=u.createDataProperty;r.exports=function(){function c(d){var f=d.highWaterMark;s(this,c),l(this,"highWaterMark",f)}return o(c,[{key:"size",value:function(){return 1}}]),c}()},{"./helpers.js":10}],10:[function(n,r,a){function s(c,d,f){if(typeof c!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(c,d,f)}function o(c,d,f){try{return Promise.resolve(s(c,d,f))}catch(h){return Promise.reject(h)}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};n("better-assert");var l=Symbol('is "detached" for our purposes');a.typeIsObject=function(c){return(c===void 0?"undefined":u(c))==="object"&&c!==null||typeof c=="function"},a.createDataProperty=function(c,d,f){Object.defineProperty(c,d,{value:f,writable:!0,enumerable:!0,configurable:!0})},a.createArrayFromList=function(c){return c.slice()},a.ArrayBufferCopy=function(c,d,f,h,p){new Uint8Array(c).set(new Uint8Array(f,h,p),d)},a.CreateIterResultObject=function(c,d){var f={};return Object.defineProperty(f,"value",{value:c,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(f,"done",{value:d,enumerable:!0,writable:!0,configurable:!0}),f},a.IsFiniteNonNegativeNumber=function(c){return a.IsNonNegativeNumber(c)!==!1&&c!==1/0},a.IsNonNegativeNumber=function(c){return typeof c=="number"&&!Number.isNaN(c)&&!(c<0)},a.Call=s,a.CreateAlgorithmFromUnderlyingMethod=function(c,d,f,h){var p=c[d];if(p!==void 0){if(typeof p!="function")throw new TypeError(p+" is not a method");switch(f){case 0:return function(){return o(p,c,h)};case 1:return function(m){var y=[m].concat(h);return o(p,c,y)}}}return function(){return Promise.resolve()}},a.InvokeOrNoop=function(c,d,f){var h=c[d];if(h!==void 0)return s(h,c,f)},a.PromiseCall=o,a.TransferArrayBuffer=function(c){var d=c.slice();return Object.defineProperty(c,"byteLength",{get:function(){return 0}}),c[l]=!0,d},a.IsDetachedBuffer=function(c){return l in c},a.ValidateAndNormalizeHighWaterMark=function(c){if(c=Number(c),Number.isNaN(c)||c<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return c},a.MakeSizeAlgorithmFromSizeFunction=function(c){if(c===void 0)return function(){return 1};if(typeof c!="function")throw new TypeError("size property of a queuing strategy must be a function");return function(d){return c(d)}}},{"better-assert":16}],11:[function(n,r,a){n("better-assert");var s=n("./helpers.js"),o=s.IsFiniteNonNegativeNumber;a.DequeueValue=function(u){var l=u._queue.shift();return u._queueTotalSize-=l.size,u._queueTotalSize<0&&(u._queueTotalSize=0),l.value},a.EnqueueValueWithSize=function(u,l,c){if(c=Number(c),!o(c))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");u._queue.push({value:l,size:c}),u._queueTotalSize+=c},a.PeekQueueValue=function(u){return u._queue[0].value},a.ResetQueue=function(u){u._queue=[],u._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(n,r,a){function s(oe,_e){if(!(oe instanceof _e))throw new TypeError("Cannot call a class as a function")}function o(oe){return new di(oe)}function u(oe){return new Sn(oe)}function l(oe,_e,Re){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,ut=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},ht=Object.create(Ka.prototype);return d(ht),we(ht,Object.create(jn.prototype),oe,_e,Re,nt,ut),ht}function c(oe,_e,Re){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ut=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,ht=Object.create(Ka.prototype);return d(ht),W(ht,Object.create(uc.prototype),oe,_e,Re,nt,ut),ht}function d(oe){oe._state="readable",oe._reader=void 0,oe._storedError=void 0,oe._disturbed=!1}function f(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_readableStreamController")}function h(oe){return oe._disturbed}function p(oe){return oe._reader!==void 0}function m(oe,_e){function Re(){return H(ut).then(function(ln){var Fn=ln.value;if(ln.done===!0&&ht===!1&&(Ct===!1&&Te(Zt._readableStreamController),Ht===!1&&Te(mr._readableStreamController),ht=!0),ht!==!0){var Ki=Fn,an=Fn;Ct===!1&&De(Zt._readableStreamController,Ki),Ht===!1&&De(mr._readableStreamController,an)}})}function nt(){}var ut=u(oe),ht=!1,Ct=!1,Ht=!1,rr=void 0,xr=void 0,Zt=void 0,mr=void 0,Mn=void 0,Tn=new Promise(function(ln){Mn=ln});return Zt=l(nt,Re,function(Fn){if(Ct=!0,rr=Fn,Ht===!0){var Ki=Qr([rr,xr]),an=_(oe,Ki);Mn(an)}return Tn}),mr=l(nt,Re,function(Fn){if(Ht=!0,xr=Fn,Ct===!0){var Ki=Qr([rr,xr]),an=_(oe,Ki);Mn(an)}return Tn}),ut._closedPromise.catch(function(ln){ht!==!0&&(le(Zt._readableStreamController,ln),le(mr._readableStreamController,ln),ht=!0)}),[Zt,mr]}function y(oe){return new Promise(function(_e,Re){var nt={_resolve:_e,_reject:Re};oe._reader._readIntoRequests.push(nt)})}function g(oe){return new Promise(function(_e,Re){var nt={_resolve:_e,_reject:Re};oe._reader._readRequests.push(nt)})}function _(oe,_e){return oe._disturbed=!0,oe._state==="closed"?Promise.resolve(void 0):oe._state==="errored"?Promise.reject(oe._storedError):(v(oe),oe._readableStreamController[Ln](_e).then(function(){}))}function v(oe){oe._state="closed";var _e=oe._reader;if(_e!==void 0){if(F(_e)===!0){var Re=!0,nt=!1,ut=void 0;try{for(var ht,Ct=_e._readRequests[Symbol.iterator]();!(Re=(ht=Ct.next()).done);Re=!0)(0,ht.value._resolve)(xe(void 0,!0))}catch(Ht){nt=!0,ut=Ht}finally{try{!Re&&Ct.return&&Ct.return()}finally{if(nt)throw ut}}_e._readRequests=[]}ft(_e)}}function b(oe,_e){oe._state="errored",oe._storedError=_e;var Re=oe._reader;if(Re!==void 0){if(F(Re)===!0){var nt=!0,ut=!1,ht=void 0;try{for(var Ct,Ht=Re._readRequests[Symbol.iterator]();!(nt=(Ct=Ht.next()).done);nt=!0)Ct.value._reject(_e)}catch(Tn){ut=!0,ht=Tn}finally{try{!nt&&Ht.return&&Ht.return()}finally{if(ut)throw ht}}Re._readRequests=[]}else{var rr=!0,xr=!1,Zt=void 0;try{for(var mr,Mn=Re._readIntoRequests[Symbol.iterator]();!(rr=(mr=Mn.next()).done);rr=!0)mr.value._reject(_e)}catch(Tn){xr=!0,Zt=Tn}finally{try{!rr&&Mn.return&&Mn.return()}finally{if(xr)throw Zt}}Re._readIntoRequests=[]}Ye(Re,_e),Re._closedPromise.catch(function(){})}}function w(oe,_e,Re){oe._reader._readIntoRequests.shift()._resolve(xe(_e,Re))}function S(oe,_e,Re){oe._reader._readRequests.shift()._resolve(xe(_e,Re))}function A(oe){return oe._reader._readIntoRequests.length}function x(oe){return oe._reader._readRequests.length}function M(oe){var _e=oe._reader;return _e!==void 0&&N(_e)!==!1}function I(oe){var _e=oe._reader;return _e!==void 0&&F(_e)!==!1}function N(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_readIntoRequests")}function F(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_readRequests")}function D(oe,_e){oe._ownerReadableStream=_e,_e._reader=oe,_e._state==="readable"?Oe(oe):_e._state==="closed"?Be(oe):(je(oe,_e._storedError),oe._closedPromise.catch(function(){}))}function V(oe,_e){return _(oe._ownerReadableStream,_e)}function k(oe){oe._ownerReadableStream._state==="readable"?Ye(oe,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ct(oe,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),oe._closedPromise.catch(function(){}),oe._ownerReadableStream._reader=void 0,oe._ownerReadableStream=void 0}function U(oe,_e){var Re=oe._ownerReadableStream;return Re._disturbed=!0,Re._state==="errored"?Promise.reject(Re._storedError):he(Re._readableStreamController,_e)}function H(oe){var _e=oe._ownerReadableStream;return _e._disturbed=!0,_e._state==="closed"?Promise.resolve(xe(void 0,!0)):_e._state==="errored"?Promise.reject(_e._storedError):_e._readableStreamController[cn]()}function X(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_controlledReadableStream")}function ee(oe){fe(oe)!==!1&&(oe._pulling!==!0?(oe._pulling=!0,oe._pullAlgorithm().then(function(){if(oe._pulling=!1,oe._pullAgain===!0)return oe._pullAgain=!1,ee(oe)},function(_e){le(oe,_e)}).catch(Pe)):oe._pullAgain=!0)}function fe(oe){var _e=oe._controlledReadableStream;return Ne(oe)!==!1&&oe._started!==!1&&(p(_e)===!0&&x(_e)>0||ue(oe)>0)}function Te(oe){var _e=oe._controlledReadableStream;oe._closeRequested=!0,oe._queue.length===0&&v(_e)}function De(oe,_e){var Re=oe._controlledReadableStream;if(p(Re)===!0&&x(Re)>0)S(Re,_e,!1);else{var nt=void 0;try{nt=oe._strategySizeAlgorithm(_e)}catch(ut){throw le(oe,ut),ut}try{mt(oe,_e,nt)}catch(ut){throw le(oe,ut),ut}}ee(oe)}function Ve(oe,_e){var Re=oe._controlledReadableStream;xt(oe),b(Re,_e)}function le(oe,_e){oe._controlledReadableStream._state==="readable"&&Ve(oe,_e)}function ue(oe){var _e=oe._controlledReadableStream._state;return _e==="errored"?null:_e==="closed"?0:oe._strategyHWM-oe._queueTotalSize}function Ie(oe){return fe(oe)!==!0}function Ne(oe){var _e=oe._controlledReadableStream._state;return oe._closeRequested===!1&&_e==="readable"}function we(oe,_e,Re,nt,ut,ht,Ct){_e._controlledReadableStream=oe,_e._queue=void 0,_e._queueTotalSize=void 0,xt(_e),_e._started=!1,_e._closeRequested=!1,_e._pullAgain=!1,_e._pulling=!1,_e._strategySizeAlgorithm=Ct,_e._strategyHWM=ht,_e._pullAlgorithm=nt,_e._cancelAlgorithm=ut,oe._readableStreamController=_e;var Ht=Re();Promise.resolve(Ht).then(function(){_e._started=!0,ee(_e)},function(rr){le(_e,rr)}).catch(Pe)}function Ae(oe,_e,Re,nt){var ut=Object.create(jn.prototype),ht=ye(_e,"pull",0,[ut]),Ct=ye(_e,"cancel",1,[]);we(oe,ut,function(){return Ke(_e,"start",[ut])},ht,Ct,Re,nt)}function Se(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_controlledReadableByteStream")}function z(oe){return!!Je(oe)&&!!Object.prototype.hasOwnProperty.call(oe,"_associatedReadableByteStreamController")}function L(oe){Ue(oe)!==!1&&(oe._pulling!==!0?(oe._pulling=!0,oe._pullAlgorithm().then(function(){oe._pulling=!1,oe._pullAgain===!0&&(oe._pullAgain=!1,L(oe))},function(_e){oe._controlledReadableByteStream._state==="readable"&&ke(oe,_e)}).catch(Pe)):oe._pullAgain=!0)}function B(oe){ie(oe),oe._pendingPullIntos=[]}function T(oe,_e){var Re=!1;oe._state==="closed"&&(Re=!0);var nt=O(_e);_e.readerType==="default"?S(oe,nt,Re):w(oe,nt,Re)}function O(oe){var _e=oe.bytesFilled,Re=oe.elementSize;return new oe.ctor(oe.buffer,oe.byteOffset,_e/Re)}function $(oe,_e,Re,nt){oe._queue.push({buffer:_e,byteOffset:Re,byteLength:nt}),oe._queueTotalSize+=nt}function G(oe,_e){var Re=_e.elementSize,nt=_e.bytesFilled-_e.bytesFilled%Re,ut=Math.min(oe._queueTotalSize,_e.byteLength-_e.bytesFilled),ht=_e.bytesFilled+ut,Ct=ht-ht%Re,Ht=ut,rr=!1;Ct>nt&&(Ht=Ct-_e.bytesFilled,rr=!0);for(var xr=oe._queue;Ht>0;){var Zt=xr[0],mr=Math.min(Ht,Zt.byteLength),Mn=_e.byteOffset+_e.bytesFilled;me(_e.buffer,Mn,Zt.buffer,Zt.byteOffset,mr),Zt.byteLength===mr?xr.shift():(Zt.byteOffset+=mr,Zt.byteLength-=mr),oe._queueTotalSize-=mr,Q(oe,mr,_e),Ht-=mr}return rr}function Q(oe,_e,Re){ie(oe),Re.bytesFilled+=_e}function Y(oe){oe._queueTotalSize===0&&oe._closeRequested===!0?v(oe._controlledReadableByteStream):L(oe)}function ie(oe){oe._byobRequest!==void 0&&(oe._byobRequest._associatedReadableByteStreamController=void 0,oe._byobRequest._view=void 0,oe._byobRequest=void 0)}function te(oe){for(;oe._pendingPullIntos.length>0;){if(oe._queueTotalSize===0)return;var _e=oe._pendingPullIntos[0];G(oe,_e)===!0&&(Ee(oe),T(oe._controlledReadableByteStream,_e))}}function he(oe,_e){var Re=oe._controlledReadableByteStream,nt=1;_e.constructor!==DataView&&(nt=_e.constructor.BYTES_PER_ELEMENT);var ut=_e.constructor,ht={buffer:dt(_e.buffer),byteOffset:_e.byteOffset,byteLength:_e.byteLength,bytesFilled:0,elementSize:nt,ctor:ut,readerType:"byob"};if(oe._pendingPullIntos.length>0)return oe._pendingPullIntos.push(ht),y(Re);if(Re._state==="closed"){var Ct=new _e.constructor(ht.buffer,ht.byteOffset,0);return Promise.resolve(xe(Ct,!0))}if(oe._queueTotalSize>0){if(G(oe,ht)===!0){var Ht=O(ht);return Y(oe),Promise.resolve(xe(Ht,!1))}if(oe._closeRequested===!0){var rr=new TypeError("Insufficient bytes to fill elements in the given buffer");return ke(oe,rr),Promise.reject(rr)}}oe._pendingPullIntos.push(ht);var xr=y(Re);return L(oe),xr}function ce(oe,_e){_e.buffer=dt(_e.buffer);var Re=oe._controlledReadableByteStream;if(M(Re)===!0)for(;A(Re)>0;)T(Re,Ee(oe))}function ve(oe,_e,Re){if(Re.bytesFilled+_e>Re.byteLength)throw new RangeError("bytesWritten out of range");if(Q(oe,_e,Re),!(Re.bytesFilled<Re.elementSize)){Ee(oe);var nt=Re.bytesFilled%Re.elementSize;if(nt>0){var ut=Re.byteOffset+Re.bytesFilled,ht=Re.buffer.slice(ut-nt,ut);$(oe,ht,0,ht.byteLength)}Re.buffer=dt(Re.buffer),Re.bytesFilled-=nt,T(oe._controlledReadableByteStream,Re),te(oe)}}function Ce(oe,_e){var Re=oe._pendingPullIntos[0];if(oe._controlledReadableByteStream._state==="closed"){if(_e!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");ce(oe,Re)}else ve(oe,_e,Re)}function Ee(oe){var _e=oe._pendingPullIntos.shift();return ie(oe),_e}function Ue(oe){var _e=oe._controlledReadableByteStream;return _e._state==="readable"&&oe._closeRequested!==!0&&oe._started!==!1&&(I(_e)===!0&&x(_e)>0||M(_e)===!0&&A(_e)>0||K(oe)>0)}function Fe(oe){var _e=oe._controlledReadableByteStream;if(oe._queueTotalSize>0)oe._closeRequested=!0;else{if(oe._pendingPullIntos.length>0&&oe._pendingPullIntos[0].bytesFilled>0){var Re=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ke(oe,Re),Re}v(_e)}}function Qe(oe,_e){var Re=oe._controlledReadableByteStream,nt=_e.buffer,ut=_e.byteOffset,ht=_e.byteLength,Ct=dt(nt);I(Re)===!0?x(Re)===0?$(oe,Ct,ut,ht):S(Re,new Uint8Array(Ct,ut,ht),!1):M(Re)===!0?($(oe,Ct,ut,ht),te(oe)):$(oe,Ct,ut,ht)}function ke(oe,_e){var Re=oe._controlledReadableByteStream;B(oe),xt(oe),b(Re,_e)}function K(oe){var _e=oe._controlledReadableByteStream._state;return _e==="errored"?null:_e==="closed"?0:oe._strategyHWM-oe._queueTotalSize}function C(oe,_e){if(_e=Number(_e),Me(_e)===!1)throw new RangeError("bytesWritten must be a finite");Ce(oe,_e)}function q(oe,_e){var Re=oe._pendingPullIntos[0];if(Re.byteOffset+Re.bytesFilled!==_e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Re.byteLength!==_e.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");Re.buffer=_e.buffer,Ce(oe,_e.byteLength)}function W(oe,_e,Re,nt,ut,ht,Ct){_e._controlledReadableByteStream=oe,_e._pullAgain=!1,_e._pulling=!1,B(_e),_e._queue=_e._queueTotalSize=void 0,xt(_e),_e._closeRequested=!1,_e._started=!1,_e._strategyHWM=it(ht),_e._pullAlgorithm=nt,_e._cancelAlgorithm=ut,_e._autoAllocateChunkSize=Ct,_e._pendingPullIntos=[],oe._readableStreamController=_e;var Ht=Re();Promise.resolve(Ht).then(function(){_e._started=!0,L(_e)},function(rr){oe._state==="readable"&&ke(_e,rr)}).catch(Pe)}function re(oe,_e,Re){var nt=Object.create(uc.prototype),ut=ye(_e,"pull",0,[nt]),ht=ye(_e,"cancel",1,[]),Ct=_e.autoAllocateChunkSize;if(Ct!==void 0&&(Number.isInteger(Ct)===!1||Ct<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");W(oe,nt,function(){return Ke(_e,"start",[nt])},ut,ht,Re,Ct)}function pe(oe,_e,Re){oe._associatedReadableByteStreamController=_e,oe._view=Re}function ge(oe){return new TypeError("ReadableStream.prototype."+oe+" can only be used on a ReadableStream")}function qe(oe){return new TypeError("Cannot "+oe+" a stream using a released reader")}function Z(oe){return new TypeError("ReadableStreamDefaultReader.prototype."+oe+" can only be used on a ReadableStreamDefaultReader")}function Oe(oe){oe._closedPromise=new Promise(function(_e,Re){oe._closedPromise_resolve=_e,oe._closedPromise_reject=Re})}function je(oe,_e){oe._closedPromise=Promise.reject(_e),oe._closedPromise_resolve=void 0,oe._closedPromise_reject=void 0}function Be(oe){oe._closedPromise=Promise.resolve(void 0),oe._closedPromise_resolve=void 0,oe._closedPromise_reject=void 0}function Ye(oe,_e){oe._closedPromise_reject(_e),oe._closedPromise_resolve=void 0,oe._closedPromise_reject=void 0}function ct(oe,_e){oe._closedPromise=Promise.reject(_e)}function ft(oe){oe._closedPromise_resolve(void 0),oe._closedPromise_resolve=void 0,oe._closedPromise_reject=void 0}function st(oe){return new TypeError("ReadableStreamBYOBReader.prototype."+oe+" can only be used on a ReadableStreamBYOBReader")}function yt(oe){return new TypeError("ReadableStreamDefaultController.prototype."+oe+" can only be used on a ReadableStreamDefaultController")}function ne(oe){return new TypeError("ReadableStreamBYOBRequest.prototype."+oe+" can only be used on a ReadableStreamBYOBRequest")}function E(oe){return new TypeError("ReadableByteStreamController.prototype."+oe+" can only be used on a ReadableByteStreamController")}function R(oe){try{Promise.prototype.then.call(oe,void 0,function(){})}catch{}}var j=function(){function oe(_e,Re){for(var nt=0;nt<Re.length;nt++){var ut=Re[nt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_e,ut.key,ut)}}return function(_e,Re,nt){return Re&&oe(_e.prototype,Re),nt&&oe(_e,nt),_e}}();n("better-assert");var J=n("./helpers.js"),me=J.ArrayBufferCopy,ye=J.CreateAlgorithmFromUnderlyingMethod,xe=J.CreateIterResultObject,Me=J.IsFiniteNonNegativeNumber,Ke=J.InvokeOrNoop,et=J.IsDetachedBuffer,dt=J.TransferArrayBuffer,it=J.ValidateAndNormalizeHighWaterMark;J.IsNonNegativeNumber;var rt=J.MakeSizeAlgorithmFromSizeFunction,Qr=J.createArrayFromList,Je=J.typeIsObject,de=n("./utils.js"),Pe=de.rethrowAssertionErrorRejection,Le=n("./queue-with-sizes.js"),Ze=Le.DequeueValue,mt=Le.EnqueueValueWithSize,xt=Le.ResetQueue,Nt=n("./writable-stream.js"),nn=Nt.AcquireWritableStreamDefaultWriter,fa=Nt.IsWritableStream,Cn=Nt.IsWritableStreamLocked,cr=Nt.WritableStreamAbort,ii=Nt.WritableStreamDefaultWriterCloseWithErrorPropagation,Lr=Nt.WritableStreamDefaultWriterRelease,wn=Nt.WritableStreamDefaultWriterWrite,li=Nt.WritableStreamCloseQueuedOrInFlight,Ln=Symbol("[[CancelSteps]]"),cn=Symbol("[[PullSteps]]"),Ka=function(){function oe(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=Re.size,ut=Re.highWaterMark;s(this,oe),d(this);var ht=_e.type;if(String(ht)==="bytes"){if(ut===void 0&&(ut=0),ut=it(ut),nt!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");re(this,_e,ut)}else{if(ht!==void 0)throw new RangeError("Invalid type is specified");ut===void 0&&(ut=1),Ae(this,_e,ut=it(ut),rt(nt))}}return j(oe,[{key:"cancel",value:function(Re){return f(this)===!1?Promise.reject(ge("cancel")):p(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):_(this,Re)}},{key:"getReader",value:function(){var Re=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).mode;if(f(this)===!1)throw ge("getReader");if(Re===void 0)return u(this);if((Re=String(Re))==="byob")return o(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(Re,nt){var ut=Re.writable,ht=Re.readable;if(ut===void 0||ht===void 0)throw new TypeError("readable and writable arguments must be defined");return R(this.pipeTo(ut,nt)),ht}},{key:"pipeTo",value:function(Re){var nt=this,ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ht=ut.preventClose,Ct=ut.preventAbort,Ht=ut.preventCancel;if(f(this)===!1)return Promise.reject(ge("pipeTo"));if(fa(Re)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(ht=!!ht,Ct=!!Ct,Ht=!!Ht,p(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(Cn(Re)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var rr=u(this),xr=nn(Re),Zt=!1,mr=Promise.resolve();return new Promise(function(Mn,Tn){function ln(){return Zt===!0?Promise.resolve():xr._readyPromise.then(function(){return H(rr).then(function(Yt){var sn=Yt.value;Yt.done!==!0&&(mr=wn(xr,sn).catch(function(){}))})}).then(ln)}function Fn(){var Yt=mr;return mr.then(function(){return Yt!==mr?Fn():void 0})}function Ki(Yt,sn,Xa){Yt._state==="errored"?Xa(Yt._storedError):sn.catch(Xa).catch(Pe)}function an(Yt,sn,Xa){function Fs(){Yt().then(function(){return qo(sn,Xa)},function(hb){return qo(!0,hb)}).catch(Pe)}Zt!==!0&&(Zt=!0,Re._state==="writable"&&li(Re)===!1?Fn().then(Fs):Fs())}function Ja(Yt,sn){Zt!==!0&&(Zt=!0,Re._state==="writable"&&li(Re)===!1?Fn().then(function(){return qo(Yt,sn)}).catch(Pe):qo(Yt,sn))}function qo(Yt,sn){Lr(xr),k(rr),Yt?Tn(sn):Mn(void 0)}if(Ki(nt,rr._closedPromise,function(Yt){Ct===!1?an(function(){return cr(Re,Yt)},!0,Yt):Ja(!0,Yt)}),Ki(Re,xr._closedPromise,function(Yt){Ht===!1?an(function(){return _(nt,Yt)},!0,Yt):Ja(!0,Yt)}),function(sn,Xa,Fs){sn._state==="closed"?Fs():Xa.then(Fs).catch(Pe)}(nt,rr._closedPromise,function(){ht===!1?an(function(){return ii(xr)}):Ja()}),li(Re)===!0||Re._state==="closed"){var Bo=new TypeError("the destination writable stream closed before all data could be piped to it");Ht===!1?an(function(){return _(nt,Bo)},!0,Bo):Ja(!0,Bo)}ln().catch(function(Yt){mr=Promise.resolve(),Pe(Yt)})})}},{key:"tee",value:function(){if(f(this)===!1)throw ge("tee");var Re=m(this);return Qr(Re)}},{key:"locked",get:function(){if(f(this)===!1)throw ge("locked");return p(this)}}]),oe}();r.exports={CreateReadableByteStream:c,CreateReadableStream:l,ReadableStream:Ka,IsReadableStreamDisturbed:h,ReadableStreamDefaultControllerClose:Te,ReadableStreamDefaultControllerEnqueue:De,ReadableStreamDefaultControllerError:Ve,ReadableStreamDefaultControllerGetDesiredSize:ue,ReadableStreamDefaultControllerHasBackpressure:Ie,ReadableStreamDefaultControllerCanCloseOrEnqueue:Ne};var Sn=function(){function oe(_e){if(s(this,oe),f(_e)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(p(_e)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");D(this,_e),this._readRequests=[]}return j(oe,[{key:"cancel",value:function(Re){return F(this)===!1?Promise.reject(Z("cancel")):this._ownerReadableStream===void 0?Promise.reject(qe("cancel")):V(this,Re)}},{key:"read",value:function(){return F(this)===!1?Promise.reject(Z("read")):this._ownerReadableStream===void 0?Promise.reject(qe("read from")):H(this)}},{key:"releaseLock",value:function(){if(F(this)===!1)throw Z("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}},{key:"closed",get:function(){return F(this)===!1?Promise.reject(Z("closed")):this._closedPromise}}]),oe}(),di=function(){function oe(_e){if(s(this,oe),!f(_e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(Se(_e._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(p(_e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");D(this,_e),this._readIntoRequests=[]}return j(oe,[{key:"cancel",value:function(Re){return N(this)?this._ownerReadableStream===void 0?Promise.reject(qe("cancel")):V(this,Re):Promise.reject(st("cancel"))}},{key:"read",value:function(Re){return N(this)?this._ownerReadableStream===void 0?Promise.reject(qe("read from")):ArrayBuffer.isView(Re)?et(Re.buffer)===!0?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):Re.byteLength===0?Promise.reject(new TypeError("view must have non-zero byteLength")):U(this,Re):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(st("read"))}},{key:"releaseLock",value:function(){if(!N(this))throw st("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");k(this)}}},{key:"closed",get:function(){return N(this)?this._closedPromise:Promise.reject(st("closed"))}}]),oe}(),jn=function(){function oe(){throw s(this,oe),new TypeError}return j(oe,[{key:"close",value:function(){if(X(this)===!1)throw yt("close");if(Ne(this)===!1)throw new TypeError("The stream is not in a state that permits close");Te(this)}},{key:"enqueue",value:function(Re){if(X(this)===!1)throw yt("enqueue");if(Ne(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return De(this,Re)}},{key:"error",value:function(Re){if(X(this)===!1)throw yt("error");var nt=this._controlledReadableStream;if(nt._state!=="readable")throw new TypeError("The stream is "+nt._state+" and so cannot be errored");Ve(this,Re)}},{key:Ln,value:function(Re){return xt(this),this._cancelAlgorithm(Re)}},{key:cn,value:function(){var Re=this._controlledReadableStream;if(this._queue.length>0){var nt=Ze(this);return this._closeRequested===!0&&this._queue.length===0?v(Re):ee(this),Promise.resolve(xe(nt,!1))}var ut=g(Re);return ee(this),ut}},{key:"desiredSize",get:function(){if(X(this)===!1)throw yt("desiredSize");return ue(this)}}]),oe}(),Wi=function(){function oe(){throw s(this,oe),new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return j(oe,[{key:"respond",value:function(Re){if(z(this)===!1)throw ne("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(et(this._view.buffer)===!0)throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");C(this._associatedReadableByteStreamController,Re)}},{key:"respondWithNewView",value:function(Re){if(z(this)===!1)throw ne("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(Re))throw new TypeError("You can only respond with array buffer views");if(et(Re.buffer)===!0)throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");q(this._associatedReadableByteStreamController,Re)}},{key:"view",get:function(){if(z(this)===!1)throw ne("view");return this._view}}]),oe}(),uc=function(){function oe(){throw s(this,oe),new TypeError("ReadableByteStreamController constructor cannot be used directly")}return j(oe,[{key:"close",value:function(){if(Se(this)===!1)throw E("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var Re=this._controlledReadableByteStream._state;if(Re!=="readable")throw new TypeError("The stream (in "+Re+" state) is not in the readable state and cannot be closed");Fe(this)}},{key:"enqueue",value:function(Re){if(Se(this)===!1)throw E("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var nt=this._controlledReadableByteStream._state;if(nt!=="readable")throw new TypeError("The stream (in "+nt+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(Re))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(et(Re.buffer)===!0)throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");Qe(this,Re)}},{key:"error",value:function(Re){if(Se(this)===!1)throw E("error");var nt=this._controlledReadableByteStream;if(nt._state!=="readable")throw new TypeError("The stream is "+nt._state+" and so cannot be errored");ke(this,Re)}},{key:Ln,value:function(Re){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),xt(this),this._cancelAlgorithm(Re)}},{key:cn,value:function(){var Re=this._controlledReadableByteStream;if(this._queueTotalSize>0){var nt=this._queue.shift();this._queueTotalSize-=nt.byteLength,Y(this);var ut=void 0;try{ut=new Uint8Array(nt.buffer,nt.byteOffset,nt.byteLength)}catch(xr){return Promise.reject(xr)}return Promise.resolve(xe(ut,!1))}var ht=this._autoAllocateChunkSize;if(ht!==void 0){var Ct=void 0;try{Ct=new ArrayBuffer(ht)}catch(xr){return Promise.reject(xr)}var Ht={buffer:Ct,byteOffset:0,byteLength:ht,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ht)}var rr=g(Re);return L(this),rr}},{key:"byobRequest",get:function(){if(Se(this)===!1)throw E("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var Re=this._pendingPullIntos[0],nt=new Uint8Array(Re.buffer,Re.byteOffset+Re.bytesFilled,Re.byteLength-Re.bytesFilled),ut=Object.create(Wi.prototype);pe(ut,this,nt),this._byobRequest=ut}return this._byobRequest}},{key:"desiredSize",get:function(){if(Se(this)===!1)throw E("desiredSize");return K(this)}}]),oe}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(n,r,a){function s(z,L){if(!(z instanceof L))throw new TypeError("Cannot call a class as a function")}function o(z,L,B){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},$=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,G=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){return 1},Q=Object.create(Ae.prototype),Y=void 0;u(Q,new Promise(function(te){Y=te}),T,O,$,G),p(Q,Object.create(Se.prototype),L,B);var ie=z();return Y(ie),Q}function u(z,L,B,T,O,$){function G(){return L}z._writable=Ne(G,function(Y){return v(z,Y)},function(){return w(z)},function(){return b(z)},B,T),z._readable=ee(G,function(){return S(z)},function(Y){return d(z,Y),Promise.resolve()},O,$),z._backpressure=void 0,z._backpressureChangePromise=void 0,z._backpressureChangePromise_resolve=void 0,f(z,!0),z._transformStreamController=void 0}function l(z){return!!k(z)&&!!Object.prototype.hasOwnProperty.call(z,"_transformStreamController")}function c(z,L){I("TransformStreamError()"),z._readable._state==="readable"&&De(z._readable._readableStreamController,L),d(z,L)}function d(z,L){we(z._writable._writableStreamController,L),z._backpressure===!0&&f(z,!1)}function f(z,L){I("TransformStreamSetBackpressure() [backpressure = "+L+"]"),z._backpressureChangePromise!==void 0&&z._backpressureChangePromise_resolve(),z._backpressureChangePromise=new Promise(function(B){z._backpressureChangePromise_resolve=B}),z._backpressure=L}function h(z){return!!k(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledTransformStream")}function p(z,L,B,T){L._controlledTransformStream=z,z._transformStreamController=L,L._transformAlgorithm=B,L._flushAlgorithm=T}function m(z,L){var B=Object.create(Se.prototype),T=function(Q){try{return y(B,Q),Promise.resolve()}catch(Y){return Promise.reject(Y)}},O=L.transform;if(O!==void 0){if(typeof O!="function")throw new TypeError("transform is not a method");T=function(Q){return V(O,L,[Q,B]).catch(function(Y){throw c(z,Y),Y})}}var $=D(L,"flush",0,[B]);p(z,B,T,$)}function y(z,L){I("TransformStreamDefaultControllerEnqueue()");var B=z._controlledTransformStream,T=B._readable._readableStreamController;if(ue(T)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{Te(T,L)}catch(O){throw d(B,O),B._readable._storedError}le(T)!==B._backpressure&&f(B,!0)}function g(z,L){c(z._controlledTransformStream,L)}function _(z){I("TransformStreamDefaultControllerTerminate()");var L=z._controlledTransformStream,B=L._readable._readableStreamController;ue(B)===!0&&fe(B),d(L,new TypeError("TransformStream terminated"))}function v(z,L){I("TransformStreamDefaultSinkWriteAlgorithm()");var B=z._transformStreamController;return z._backpressure===!0?z._backpressureChangePromise.then(function(){var T=z._writable;if(T._state==="erroring")throw T._storedError;return B._transformAlgorithm(L)}):B._transformAlgorithm(L)}function b(z){return c(z,new TypeError("Writable side aborted")),Promise.resolve()}function w(z){I("TransformStreamDefaultSinkCloseAlgorithm()");var L=z._readable;return z._transformStreamController._flushAlgorithm().then(function(){if(L._state==="errored")throw L._storedError;var B=L._readableStreamController;ue(B)===!0&&fe(B)}).catch(function(B){throw c(z,B),L._storedError})}function S(z){return I("TransformStreamDefaultSourcePullAlgorithm()"),f(z,!1),z._backpressureChangePromise}function A(z){return new TypeError("TransformStreamDefaultController.prototype."+z+" can only be used on a TransformStreamDefaultController")}function x(z){return new TypeError("TransformStream.prototype."+z+" can only be used on a TransformStream")}var M=function(){function z(L,B){for(var T=0;T<B.length;T++){var O=B[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(L,O.key,O)}}return function(L,B,T){return B&&z(L.prototype,B),T&&z(L,T),L}}();n("better-assert");var I=n("debug")("streams:transform-stream:verbose"),N=n("./helpers.js"),F=N.InvokeOrNoop,D=N.CreateAlgorithmFromUnderlyingMethod,V=N.PromiseCall,k=N.typeIsObject,U=N.ValidateAndNormalizeHighWaterMark;N.IsNonNegativeNumber;var H=N.MakeSizeAlgorithmFromSizeFunction,X=n("./readable-stream.js"),ee=X.CreateReadableStream,fe=X.ReadableStreamDefaultControllerClose,Te=X.ReadableStreamDefaultControllerEnqueue,De=X.ReadableStreamDefaultControllerError,Ve=X.ReadableStreamDefaultControllerGetDesiredSize,le=X.ReadableStreamDefaultControllerHasBackpressure,ue=X.ReadableStreamDefaultControllerCanCloseOrEnqueue,Ie=n("./writable-stream.js"),Ne=Ie.CreateWritableStream,we=Ie.WritableStreamDefaultControllerErrorIfNeeded,Ae=function(){function z(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,z),L.readableType!==void 0)throw new RangeError("Invalid readable type specified");if(L.writableType!==void 0)throw new RangeError("Invalid writable type specified");var O=B.size,$=H(O),G=B.highWaterMark;G===void 0&&(G=1),G=U(G);var Q=T.size,Y=H(Q),ie=T.highWaterMark;ie===void 0&&(ie=0),ie=U(ie);var te=void 0;u(this,new Promise(function(ce){te=ce}),G,$,ie,Y),m(this,L);var he=F(L,"start",[this._transformStreamController]);te(he)}return M(z,[{key:"readable",get:function(){if(l(this)===!1)throw x("readable");return this._readable}},{key:"writable",get:function(){if(l(this)===!1)throw x("writable");return this._writable}}]),z}(),Se=function(){function z(){throw s(this,z),new TypeError("TransformStreamDefaultController instances cannot be created directly")}return M(z,[{key:"enqueue",value:function(B){if(h(this)===!1)throw A("enqueue");y(this,B)}},{key:"error",value:function(B){if(h(this)===!1)throw A("error");g(this,B)}},{key:"terminate",value:function(){if(h(this)===!1)throw A("terminate");_(this)}},{key:"desiredSize",get:function(){if(h(this)===!1)throw A("desiredSize");var B=this._controlledTransformStream._readable._readableStreamController;return Ve(B)}}]),z}();r.exports={CreateTransformStream:o,TransformStream:Ae}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(n,r,a){var s=n("better-assert");a.rethrowAssertionErrorRejection=function(o){o&&o.constructor===s.AssertionError&&setTimeout(function(){throw o},0)}},{"better-assert":16}],15:[function(n,r,a){function s(E,R){if(!(E instanceof R))throw new TypeError("Cannot call a class as a function")}function o(E){return new yt(E)}function u(E,R,j,J){var me=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,ye=arguments.length>5&&arguments[5]!==void 0?arguments[5]:function(){return 1},xe=Object.create(st.prototype);return l(xe),Te(xe,Object.create(ne.prototype),E,R,j,J,me,ye),xe}function l(E){E._state="writable",E._storedError=void 0,E._writer=void 0,E._writableStreamController=void 0,E._writeRequests=[],E._inFlightWriteRequest=void 0,E._closeRequest=void 0,E._inFlightCloseRequest=void 0,E._pendingAbortRequest=void 0,E._backpressure=!1}function c(E){return!!pe(E)&&!!Object.prototype.hasOwnProperty.call(E,"_writableStreamController")}function d(E){return E._writer!==void 0}function f(E,R){var j=E._state;if(j==="closed")return Promise.resolve(void 0);if(j==="errored")return Promise.reject(E._storedError);var J=new TypeError("Requested to abort");if(E._pendingAbortRequest!==void 0)return Promise.reject(J);var me=!1;j==="erroring"&&(me=!0,R=void 0);var ye=new Promise(function(xe,Me){E._pendingAbortRequest={_resolve:xe,_reject:Me,_reason:R,_wasAlreadyErroring:me}});return me===!1&&m(E,J),ye}function h(E){return new Promise(function(R,j){var J={_resolve:R,_reject:j};E._writeRequests.push(J)})}function p(E,R){ke("WritableStreamDealWithRejection(stream, %o)",R),E._state!=="writable"?y(E):m(E,R)}function m(E,R){ke("WritableStreamStartErroring(stream, %o)",R);var j=E._writableStreamController;E._state="erroring",E._storedError=R;var J=E._writer;J!==void 0&&U(J,R),S(E)===!1&&j._started===!0&&y(E)}function y(E){ke("WritableStreamFinishErroring()"),E._state="errored",E._writableStreamController[ft]();var R=E._storedError,j=!0,J=!1,me=void 0;try{for(var ye,xe=E._writeRequests[Symbol.iterator]();!(j=(ye=xe.next()).done);j=!0)ye.value._reject(R)}catch(Ke){J=!0,me=Ke}finally{try{!j&&xe.return&&xe.return()}finally{if(J)throw me}}if(E._writeRequests=[],E._pendingAbortRequest!==void 0){var Me=E._pendingAbortRequest;if(E._pendingAbortRequest=void 0,Me._wasAlreadyErroring===!0)return Me._reject(R),void M(E);E._writableStreamController[ct](Me._reason).then(function(){Me._resolve(),M(E)},function(Ke){Me._reject(Ke),M(E)})}else M(E)}function g(E){E._inFlightWriteRequest._resolve(void 0),E._inFlightWriteRequest=void 0}function _(E,R){E._inFlightWriteRequest._reject(R),E._inFlightWriteRequest=void 0,p(E,R)}function v(E){E._inFlightCloseRequest._resolve(void 0),E._inFlightCloseRequest=void 0,E._state==="erroring"&&(E._storedError=void 0,E._pendingAbortRequest!==void 0&&(E._pendingAbortRequest._resolve(),E._pendingAbortRequest=void 0)),E._state="closed";var R=E._writer;R!==void 0&&te(R)}function b(E,R){E._inFlightCloseRequest._reject(R),E._inFlightCloseRequest=void 0,E._pendingAbortRequest!==void 0&&(E._pendingAbortRequest._reject(R),E._pendingAbortRequest=void 0),p(E,R)}function w(E){return E._closeRequest!==void 0||E._inFlightCloseRequest!==void 0}function S(E){return E._inFlightWriteRequest===void 0&&E._inFlightCloseRequest===void 0?(ke("WritableStreamHasOperationMarkedInFlight() is false"),!1):(ke("WritableStreamHasOperationMarkedInFlight() is true"),!0)}function A(E){E._inFlightCloseRequest=E._closeRequest,E._closeRequest=void 0}function x(E){E._inFlightWriteRequest=E._writeRequests.shift()}function M(E){ke("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),E._closeRequest!==void 0&&(E._closeRequest._reject(E._storedError),E._closeRequest=void 0);var R=E._writer;R!==void 0&&(Y(R,E._storedError),R._closedPromise.catch(function(){}))}function I(E,R){var j=E._writer;j!==void 0&&R!==E._backpressure&&(R===!0?Ee(j):Fe(j)),E._backpressure=R}function N(E){return!!pe(E)&&!!Object.prototype.hasOwnProperty.call(E,"_ownerWritableStream")}function F(E,R){return f(E._ownerWritableStream,R)}function D(E){var R=E._ownerWritableStream,j=R._state;if(j==="closed"||j==="errored")return Promise.reject(new TypeError("The stream (in "+j+" state) is not in the writable state and cannot be closed"));var J=new Promise(function(me,ye){var xe={_resolve:me,_reject:ye};R._closeRequest=xe});return R._backpressure===!0&&j==="writable"&&Fe(E),Ve(R._writableStreamController),J}function V(E){var R=E._ownerWritableStream,j=R._state;return w(R)===!0||j==="closed"?Promise.resolve():j==="errored"?Promise.reject(R._storedError):D(E)}function k(E,R){E._closedPromiseState==="pending"?Y(E,R):ie(E,R),E._closedPromise.catch(function(){})}function U(E,R){ke("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",R),E._readyPromiseState==="pending"?Ce(E,R):Ue(E,R),E._readyPromise.catch(function(){})}function H(E){var R=E._ownerWritableStream,j=R._state;return j==="errored"||j==="erroring"?null:j==="closed"?0:ue(R._writableStreamController)}function X(E){var R=E._ownerWritableStream,j=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");U(E,j),k(E,j),R._writer=void 0,E._ownerWritableStream=void 0}function ee(E,R){var j=E._ownerWritableStream,J=j._writableStreamController,me=le(J,R);if(j!==E._ownerWritableStream)return Promise.reject(O("write to"));var ye=j._state;if(ye==="errored")return Promise.reject(j._storedError);if(w(j)===!0||ye==="closed")return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if(ye==="erroring")return Promise.reject(j._storedError);var xe=h(j);return Ie(J,R,me),xe}function fe(E){return!!pe(E)&&!!Object.prototype.hasOwnProperty.call(E,"_controlledWritableStream")}function Te(E,R,j,J,me,ye,xe,Me){R._controlledWritableStream=E,E._writableStreamController=R,R._queue=void 0,R._queueTotalSize=void 0,Ye(R),R._started=!1,R._strategySizeAlgorithm=Me,R._strategyHWM=xe,R._writeAlgorithm=J,R._closeAlgorithm=me,R._abortAlgorithm=ye;var Ke=z(R);I(E,Ke);var et=j();Promise.resolve(et).then(function(){R._started=!0,Ne(R)},function(dt){R._started=!0,p(E,dt)}).catch(qe)}function De(E,R,j,J){var me=Object.create(ne.prototype),ye=C(R,"write",1,[me]),xe=C(R,"close",0,[]),Me=C(R,"abort",1,[]);Te(E,me,function(){return q(R,"start",[me])},ye,xe,Me,j,J)}function Ve(E){je(E,"close",0),Ne(E)}function le(E,R){try{return E._strategySizeAlgorithm(R)}catch(j){return we(E,j),1}}function ue(E){return E._strategyHWM-E._queueTotalSize}function Ie(E,R,j){var J={chunk:R};try{je(E,J,j)}catch(ye){return void we(E,ye)}var me=E._controlledWritableStream;w(me)===!1&&me._state==="writable"&&I(me,z(E)),Ne(E)}function Ne(E){ke("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var R=E._controlledWritableStream;if(E._started!==!1&&R._inFlightWriteRequest===void 0){var j=R._state;if(j!=="closed"&&j!=="errored")if(j!=="erroring"){if(E._queue.length!==0){var J=Be(E);J==="close"?Ae(E):Se(E,J.chunk)}}else y(R)}}function we(E,R){E._controlledWritableStream._state==="writable"&&L(E,R)}function Ae(E){var R=E._controlledWritableStream;A(R),Oe(E),E._closeAlgorithm().then(function(){v(R)},function(j){b(R,j)}).catch(qe)}function Se(E,R){var j=E._controlledWritableStream;x(j),E._writeAlgorithm(R).then(function(){g(j);var J=j._state;if(Oe(E),w(j)===!1&&J==="writable"){var me=z(E);I(j,me)}Ne(E)},function(J){_(j,J)}).catch(qe)}function z(E){return ue(E)<=0}function L(E,R){m(E._controlledWritableStream,R)}function B(E){return new TypeError("WritableStream.prototype."+E+" can only be used on a WritableStream")}function T(E){return new TypeError("WritableStreamDefaultWriter.prototype."+E+" can only be used on a WritableStreamDefaultWriter")}function O(E){return new TypeError("Cannot "+E+" a stream using a released writer")}function $(E){E._closedPromise=new Promise(function(R,j){E._closedPromise_resolve=R,E._closedPromise_reject=j,E._closedPromiseState="pending"})}function G(E,R){E._closedPromise=Promise.reject(R),E._closedPromise_resolve=void 0,E._closedPromise_reject=void 0,E._closedPromiseState="rejected"}function Q(E){E._closedPromise=Promise.resolve(void 0),E._closedPromise_resolve=void 0,E._closedPromise_reject=void 0,E._closedPromiseState="resolved"}function Y(E,R){E._closedPromise_reject(R),E._closedPromise_resolve=void 0,E._closedPromise_reject=void 0,E._closedPromiseState="rejected"}function ie(E,R){E._closedPromise=Promise.reject(R),E._closedPromiseState="rejected"}function te(E){E._closedPromise_resolve(void 0),E._closedPromise_resolve=void 0,E._closedPromise_reject=void 0,E._closedPromiseState="resolved"}function he(E){ke("defaultWriterReadyPromiseInitialize()"),E._readyPromise=new Promise(function(R,j){E._readyPromise_resolve=R,E._readyPromise_reject=j}),E._readyPromiseState="pending"}function ce(E,R){ke("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",R),E._readyPromise=Promise.reject(R),E._readyPromise_resolve=void 0,E._readyPromise_reject=void 0,E._readyPromiseState="rejected"}function ve(E){ke("defaultWriterReadyPromiseInitializeAsResolved()"),E._readyPromise=Promise.resolve(void 0),E._readyPromise_resolve=void 0,E._readyPromise_reject=void 0,E._readyPromiseState="fulfilled"}function Ce(E,R){ke("defaultWriterReadyPromiseReject(writer, %o)",R),E._readyPromise_reject(R),E._readyPromise_resolve=void 0,E._readyPromise_reject=void 0,E._readyPromiseState="rejected"}function Ee(E){ke("defaultWriterReadyPromiseReset()"),E._readyPromise=new Promise(function(R,j){E._readyPromise_resolve=R,E._readyPromise_reject=j}),E._readyPromiseState="pending"}function Ue(E,R){ke("defaultWriterReadyPromiseResetToRejected(writer, %o)",R),E._readyPromise=Promise.reject(R),E._readyPromiseState="rejected"}function Fe(E){ke("defaultWriterReadyPromiseResolve()"),E._readyPromise_resolve(void 0),E._readyPromise_resolve=void 0,E._readyPromise_reject=void 0,E._readyPromiseState="fulfilled"}var Qe=function(){function E(R,j){for(var J=0;J<j.length;J++){var me=j[J];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(R,me.key,me)}}return function(R,j,J){return j&&E(R.prototype,j),J&&E(R,J),R}}();n("better-assert");var ke=n("debug")("streams:writable-stream:verbose"),K=n("./helpers.js"),C=K.CreateAlgorithmFromUnderlyingMethod,q=K.InvokeOrNoop,W=K.ValidateAndNormalizeHighWaterMark;K.IsNonNegativeNumber;var re=K.MakeSizeAlgorithmFromSizeFunction,pe=K.typeIsObject,ge=n("./utils.js"),qe=ge.rethrowAssertionErrorRejection,Z=n("./queue-with-sizes.js"),Oe=Z.DequeueValue,je=Z.EnqueueValueWithSize,Be=Z.PeekQueueValue,Ye=Z.ResetQueue,ct=Symbol("[[AbortSteps]]"),ft=Symbol("[[ErrorSteps]]"),st=function(){function E(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=j.size,me=j.highWaterMark,ye=me===void 0?1:me;if(s(this,E),l(this),R.type!==void 0)throw new RangeError("Invalid type is specified");var xe=re(J);De(this,R,ye=W(ye),xe)}return Qe(E,[{key:"abort",value:function(j){return c(this)===!1?Promise.reject(B("abort")):d(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):f(this,j)}},{key:"getWriter",value:function(){if(c(this)===!1)throw B("getWriter");return o(this)}},{key:"locked",get:function(){if(c(this)===!1)throw B("locked");return d(this)}}]),E}();r.exports={AcquireWritableStreamDefaultWriter:o,CreateWritableStream:u,IsWritableStream:c,IsWritableStreamLocked:d,WritableStream:st,WritableStreamAbort:f,WritableStreamDefaultControllerErrorIfNeeded:we,WritableStreamDefaultWriterCloseWithErrorPropagation:V,WritableStreamDefaultWriterRelease:X,WritableStreamDefaultWriterWrite:ee,WritableStreamCloseQueuedOrInFlight:w};var yt=function(){function E(R){if(s(this,E),c(R)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(d(R)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=R,R._writer=this;var j=R._state;if(j==="writable")w(R)===!1&&R._backpressure===!0?he(this):ve(this),$(this);else if(j==="erroring")ce(this,R._storedError),this._readyPromise.catch(function(){}),$(this);else if(j==="closed")ve(this),Q(this);else{var J=R._storedError;ce(this,J),this._readyPromise.catch(function(){}),G(this,J),this._closedPromise.catch(function(){})}}return Qe(E,[{key:"abort",value:function(j){return N(this)===!1?Promise.reject(T("abort")):this._ownerWritableStream===void 0?Promise.reject(O("abort")):F(this,j)}},{key:"close",value:function(){if(N(this)===!1)return Promise.reject(T("close"));var j=this._ownerWritableStream;return j===void 0?Promise.reject(O("close")):w(j)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):D(this)}},{key:"releaseLock",value:function(){if(N(this)===!1)throw T("releaseLock");this._ownerWritableStream!==void 0&&X(this)}},{key:"write",value:function(j){return N(this)===!1?Promise.reject(T("write")):this._ownerWritableStream===void 0?Promise.reject(O("write to")):ee(this,j)}},{key:"closed",get:function(){return N(this)===!1?Promise.reject(T("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(N(this)===!1)throw T("desiredSize");if(this._ownerWritableStream===void 0)throw O("desiredSize");return H(this)}},{key:"ready",get:function(){return N(this)===!1?Promise.reject(T("ready")):this._readyPromise}}]),E}(),ne=function(){function E(){throw s(this,E),new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return Qe(E,[{key:"error",value:function(j){if(fe(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&L(this,j)}},{key:ct,value:function(j){return this._abortAlgorithm(j)}},{key:ft,value:function(){Ye(this)}}]),E}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(n,r,a){(function(s){function o(d){if(!d){var f=l(),h=f[1],p=h.getFileName(),m=h.getLineNumber(),y=(y=c.readFileSync(p,"utf8")).split(`
`)[m-1].match(/assert\((.*)\)/)[1];throw new u({message:y,stackStartFunction:f[0].getFunction()})}}var u=n("assert").AssertionError,l=n("callsite"),c=n("fs");r.exports=s.env.NO_ASSERT?function(){}:o}).call(this,n("_process"))},{_process:4,assert:2,callsite:17,fs:3}],17:[function(n,r,a){r.exports=function(){var s=Error.prepareStackTrace;Error.prepareStackTrace=function(l,c){return c};var o=new Error;Error.captureStackTrace(o,arguments.callee);var u=o.stack;return Error.prepareStackTrace=s,u}},{}],18:[function(n,r,a){(function(s){function o(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(h){var p=this.useColors;if(h[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+h[0]+(p?"%c ":" ")+"+"+a.humanize(this.diff),p){var m="color: "+this.color;h.splice(1,0,m,"color: inherit");var y=0,g=0;h[0].replace(/%[a-zA-Z%]/g,function(_){_!=="%%"&&(y++,_==="%c"&&(g=y))}),h.splice(g,0,m)}}function l(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(h){try{h==null?a.storage.removeItem("debug"):a.storage.debug=h}catch{}}function d(){var h;try{h=a.storage.debug}catch{}return!h&&typeof s<"u"&&"env"in s&&(h=s.env.DEBUG),h}function f(){try{return window.localStorage}catch{}}a=r.exports=n("./debug"),a.log=l,a.formatArgs=u,a.save=c,a.load=d,a.useColors=o,a.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:f(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],a.formatters.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}},a.enable(d())}).call(this,n("_process"))},{"./debug":19,_process:4}],19:[function(n,r,a){function s(h){var p,m=0;for(p in h)m=(m<<5)-m+h.charCodeAt(p),m|=0;return a.colors[Math.abs(m)%a.colors.length]}function o(h){function p(){if(p.enabled){var y=p,g=+new Date,_=g-(m||g);y.diff=_,y.prev=m,y.curr=g,m=g;for(var v=new Array(arguments.length),b=0;b<v.length;b++)v[b]=arguments[b];v[0]=a.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var w=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(S,A){if(S==="%%")return S;w++;var x=a.formatters[A];if(typeof x=="function"){var M=v[w];S=x.call(y,M),v.splice(w,1),w--}return S}),a.formatArgs.call(y,v),(p.log||a.log||console.log.bind(console)).apply(y,v)}}var m;return p.namespace=h,p.enabled=a.enabled(h),p.useColors=a.useColors(),p.color=s(h),p.destroy=u,typeof a.init=="function"&&a.init(p),a.instances.push(p),p}function u(){var h=a.instances.indexOf(this);return h!==-1&&(a.instances.splice(h,1),!0)}function l(h){a.save(h),a.names=[],a.skips=[];var p,m=(typeof h=="string"?h:"").split(/[\s,]+/),y=m.length;for(p=0;p<y;p++)m[p]&&((h=m[p].replace(/\*/g,".*?"))[0]==="-"?a.skips.push(new RegExp("^"+h.substr(1)+"$")):a.names.push(new RegExp("^"+h+"$")));for(p=0;p<a.instances.length;p++){var g=a.instances[p];g.enabled=a.enabled(g.namespace)}}function c(){a.enable("")}function d(h){if(h[h.length-1]==="*")return!0;var p,m;for(p=0,m=a.skips.length;p<m;p++)if(a.skips[p].test(h))return!1;for(p=0,m=a.names.length;p<m;p++)if(a.names[p].test(h))return!0;return!1}function f(h){return h instanceof Error?h.stack||h.message:h}a=r.exports=o.debug=o.default=o,a.coerce=f,a.disable=c,a.enable=l,a.enabled=d,a.humanize=n("ms"),a.instances=[],a.names=[],a.skips=[],a.formatters={}},{ms:20}],20:[function(n,r,a){function s(m){if(!((m=String(m)).length>100)){var y=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(m);if(y){var g=parseFloat(y[1]);switch((y[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return g*p;case"days":case"day":case"d":return g*h;case"hours":case"hour":case"hrs":case"hr":case"h":return g*f;case"minutes":case"minute":case"mins":case"min":case"m":return g*d;case"seconds":case"second":case"secs":case"sec":case"s":return g*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function o(m){return m>=h?Math.round(m/h)+"d":m>=f?Math.round(m/f)+"h":m>=d?Math.round(m/d)+"m":m>=c?Math.round(m/c)+"s":m+"ms"}function u(m){return l(m,h,"day")||l(m,f,"hour")||l(m,d,"minute")||l(m,c,"second")||m+" ms"}function l(m,y,g){if(!(m<y))return m<1.5*y?Math.floor(m/y)+" "+g:Math.ceil(m/y)+" "+g+"s"}var c=1e3,d=60*c,f=60*d,h=24*f,p=365.25*h;r.exports=function(m,y){y=y||{};var g=typeof m;if(g==="string"&&m.length>0)return s(m);if(g==="number"&&isNaN(m)===!1)return y.long?u(m):o(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))}},{}]},{},[1])(1)})}(zA)),zA.exports}var GA,sq;function zJ(){if(sq)return GA;sq=1;const t=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";return t.writable=e=>t(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object",t.readable=e=>t(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object",t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&typeof e._transform=="function",GA=t,GA}var WA={exports:{}},oq;function M3e(){return oq||(oq=1,function(t){t.exports=e,t.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function e(n){if(!t.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var r=!1,a={};function s(l){a.data=d,a.end=d,a.end=f,a.close=f,a.error=f;for(var c in a)n.on(c,a[c]);n.pause();function d(h){r||(l.enqueue(h),n.pause())}function f(h){if(!r){r=!0;for(var p in a)n.removeListener(p,a[p]);h?l.error(h):l.close()}}}function o(){r||n.resume()}function u(){r=!0;for(var l in a)n.removeListener(l,a[l]);n.push(null),n.pause(),n.destroy?n.destroy():n.close&&n.close()}return new ReadableStream({start:s,pull:o,cancel:u})}}(WA)),WA.exports}var uq;function GJ(){if(uq)return pp;uq=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.ActorHttp=void 0;const t=lt,e=L3e();globalThis.ReadableStream||(globalThis.ReadableStream=j3e().ReadableStream);const n=zJ(),r=M3e();let a=class extends t.Actor{constructor(o){super(o)}static toNodeReadable(o){return n(o)||o===null?o:(0,e.readableFromWeb)(o)}static toWebReadableStream(o){return r(o)}static headersToHash(o){const u={};return o.forEach((l,c)=>{u[c]=l}),u}};return pp.ActorHttp=a,pp}var yp={},cq;function F3e(){if(cq)return yp;cq=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.validateAndCloseHttpResponse=void 0;const t=ac(),e=GJ();async function n(r,a){var s;if(a.status>=400){let o="empty response";if(a.body){const u=e.ActorHttp.toNodeReadable(a.body);o=await t(u)}throw new Error(`Could not update ${r} (HTTP status ${a.status}):
${o}`)}await((s=a.body)==null?void 0:s.cancel())}return yp.validateAndCloseHttpResponse=n,yp}var lq;function Co(){return lq||(lq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(GJ(),t),n(F3e(),t)}(HA)),HA}var dq={},fq;function WJ(){return fq||(fq=1,function(t){(function(e){var n=typeof globalThis<"u"&&globalThis||typeof t<"u"&&t||typeof n<"u"&&n,r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function a(N){return N&&DataView.prototype.isPrototypeOf(N)}if(r.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(N){return N&&s.indexOf(Object.prototype.toString.call(N))>-1};function u(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function l(N){return typeof N!="string"&&(N=String(N)),N}function c(N){var F={next:function(){var D=N.shift();return{done:D===void 0,value:D}}};return r.iterable&&(F[Symbol.iterator]=function(){return F}),F}function d(N){this.map={},N instanceof d?N.forEach(function(F,D){this.append(D,F)},this):Array.isArray(N)?N.forEach(function(F){this.append(F[0],F[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(F){this.append(F,N[F])},this)}d.prototype.append=function(N,F){N=u(N),F=l(F);var D=this.map[N];this.map[N]=D?D+", "+F:F},d.prototype.delete=function(N){delete this.map[u(N)]},d.prototype.get=function(N){return N=u(N),this.has(N)?this.map[N]:null},d.prototype.has=function(N){return this.map.hasOwnProperty(u(N))},d.prototype.set=function(N,F){this.map[u(N)]=l(F)},d.prototype.forEach=function(N,F){for(var D in this.map)this.map.hasOwnProperty(D)&&N.call(F,this.map[D],D,this)},d.prototype.keys=function(){var N=[];return this.forEach(function(F,D){N.push(D)}),c(N)},d.prototype.values=function(){var N=[];return this.forEach(function(F){N.push(F)}),c(N)},d.prototype.entries=function(){var N=[];return this.forEach(function(F,D){N.push([D,F])}),c(N)},r.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function f(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function h(N){return new Promise(function(F,D){N.onload=function(){F(N.result)},N.onerror=function(){D(N.error)}})}function p(N){var F=new FileReader,D=h(F);return F.readAsArrayBuffer(N),D}function m(N){var F=new FileReader,D=h(F);return F.readAsText(N),D}function y(N){for(var F=new Uint8Array(N),D=new Array(F.length),V=0;V<F.length;V++)D[V]=String.fromCharCode(F[V]);return D.join("")}function g(N){if(N.slice)return N.slice(0);var F=new Uint8Array(N.byteLength);return F.set(new Uint8Array(N)),F.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:r.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:r.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():r.arrayBuffer&&r.blob&&a(N)?(this._bodyArrayBuffer=g(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||o(N))?this._bodyArrayBuffer=g(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var N=f(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=f(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var N=f(this);if(N)return N;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(N){var F=N.toUpperCase();return v.indexOf(F)>-1?F:N}function w(N,F){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');F=F||{};var D=F.body;if(N instanceof w){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,F.headers||(this.headers=new d(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!D&&N._bodyInit!=null&&(D=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=F.credentials||this.credentials||"same-origin",(F.headers||!this.headers)&&(this.headers=new d(F.headers)),this.method=b(F.method||this.method||"GET"),this.mode=F.mode||this.mode||null,this.signal=F.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(F.cache==="no-store"||F.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var k=/\?/;this.url+=(k.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function S(N){var F=new FormData;return N.trim().split("&").forEach(function(D){if(D){var V=D.split("="),k=V.shift().replace(/\+/g," "),U=V.join("=").replace(/\+/g," ");F.append(decodeURIComponent(k),decodeURIComponent(U))}}),F}function A(N){var F=new d,D=N.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var k=V.split(":"),U=k.shift().trim();if(U){var H=k.join(":").trim();F.append(U,H)}}),F}_.call(w.prototype);function x(N,F){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');F||(F={}),this.type="default",this.status=F.status===void 0?200:F.status,this.ok=this.status>=200&&this.status<300,this.statusText=F.statusText===void 0?"":""+F.statusText,this.headers=new d(F.headers),this.url=F.url||"",this._initBody(N)}_.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},x.error=function(){var N=new x(null,{status:0,statusText:""});return N.type="error",N};var M=[301,302,303,307,308];x.redirect=function(N,F){if(M.indexOf(F)===-1)throw new RangeError("Invalid status code");return new x(null,{status:F,headers:{location:N}})},e.DOMException=n.DOMException;try{new e.DOMException}catch{e.DOMException=function(F,D){this.message=F,this.name=D;var V=Error(F);this.stack=V.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function I(N,F){return new Promise(function(D,V){var k=new w(N,F);if(k.signal&&k.signal.aborted)return V(new e.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function H(){U.abort()}U.onload=function(){var ee={status:U.status,statusText:U.statusText,headers:A(U.getAllResponseHeaders()||"")};ee.url="responseURL"in U?U.responseURL:ee.headers.get("X-Request-URL");var fe="response"in U?U.response:U.responseText;setTimeout(function(){D(new x(fe,ee))},0)},U.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},U.onabort=function(){setTimeout(function(){V(new e.DOMException("Aborted","AbortError"))},0)};function X(ee){try{return ee===""&&n.location.href?n.location.href:ee}catch{return ee}}U.open(k.method,X(k.url),!0),k.credentials==="include"?U.withCredentials=!0:k.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(r.blob?U.responseType="blob":r.arrayBuffer&&k.headers.get("Content-Type")&&k.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(U.responseType="arraybuffer")),F&&typeof F.headers=="object"&&!(F.headers instanceof d)?Object.getOwnPropertyNames(F.headers).forEach(function(ee){U.setRequestHeader(ee,l(F.headers[ee]))}):k.headers.forEach(function(ee,fe){U.setRequestHeader(fe,ee)}),k.signal&&(k.signal.addEventListener("abort",H),U.onreadystatechange=function(){U.readyState===4&&k.signal.removeEventListener("abort",H)}),U.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return I.polyfill=!0,n.fetch||(n.fetch=I,n.Headers=d,n.Request=w,n.Response=x),e.Headers=d,e.Request=w,e.Response=x,e.fetch=I,e})({})}(typeof self<"u"?self:P)),dq}var mp={},hq;function q3e(){if(hq)return mp;hq=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.FetchInitPreprocessor=void 0;const t=Co();class e{async handle(r){if(r.headers){const a=new Headers(r.headers);a.has("user-agent")&&a.delete("user-agent"),r.headers=a}if(r!=null&&r.headers&&"append"in r.headers&&(r.headers=t.ActorHttp.headersToHash(r.headers)),r.body&&typeof r.body!="string"&&"getReader"in r.body){const a=r.body.getReader(),s=[];for(;;){const{done:o,value:u}=await a.read();if(o)break;s.push(u)}r.body=s.join("")}return{keepalive:!r.body,...r}}async createAbortController(){return new AbortController}}return mp.FetchInitPreprocessor=e,mp}var pq;function B3e(){if(pq)return hp;pq=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.ActorHttpFetch=void 0;const t=Co(),e=Ut;WJ();const n=q3e();let r=class Rx extends t.ActorHttp{constructor(s){super(s),this.userAgent=Rx.createUserAgent(),this.fetchInitPreprocessor=new n.FetchInitPreprocessor(s.agentOptions)}static createUserAgent(){return`Comunica/actor-http-fetch (${typeof globalThis.navigator>"u"?`Node.js ${Es.version}; ${Es.platform}`:`Browser-${globalThis.navigator.userAgent}`})`}async test(s){return{time:Number.POSITIVE_INFINITY}}static async getResponse(s,o,u,l,c,d){var p;let f,h=l+1;for(;h-- >0;)try{const m=await s(o,u);if(d&&m.status>=500&&m.status<600)throw new Error(`Server replied with response code ${m.status}: ${m.statusText}`);return m}catch(m){if(f=m,(p=u.signal)!=null&&p.aborted)throw m;h>0&&await new Promise((y,g)=>{var _;setTimeout(y,c),(_=u.signal)==null||_.addEventListener("abort",()=>{g(new Error("Fetch aborted by timeout."))})})}throw l>0?new Error(`Number of fetch retries (${l}) exceeded. Last error: ${String(f)}`):f}async run(s){var h,p,m,y,g,_,v,b;const o=((h=s.init)==null?void 0:h.headers)??{};s.init=s.init??{},s.init.headers=new Headers(o),s.init.headers.has("user-agent")||s.init.headers.append("user-agent",this.userAgent);const u=s.context.get(e.KeysHttp.auth);u&&s.init.headers.append("Authorization",`Basic ${Di.from(u).toString("base64")}`),this.logInfo(s.context,`Requesting ${typeof s.input=="string"?s.input:s.input.url}`,()=>({headers:t.ActorHttp.headersToHash(new Headers(s.init.headers)),method:s.init.method??"GET"})),(p=s.init)!=null&&p.headers&&"append"in s.init.headers&&s.context.has(e.KeysHttp.fetch)&&(s.init.headers=t.ActorHttp.headersToHash(s.init.headers));let l={...s.init};s.context.get(e.KeysHttp.includeCredentials)&&(l.credentials="include");const c=(m=s.context)==null?void 0:m.get(e.KeysHttp.httpTimeout);let d,f;if(c!==void 0){const w=await this.fetchInitPreprocessor.createAbortController();l.signal=w.signal,f=()=>w.abort(),d=setTimeout(()=>f(),c)}try{l=await this.fetchInitPreprocessor.handle(l);const w=((y=s.context)==null?void 0:y.get(e.KeysHttp.httpRetryCount))??0,S=((g=s.context)==null?void 0:g.get(e.KeysHttp.httpRetryDelay))??0,A=((_=s.context)==null?void 0:_.get(e.KeysHttp.httpRetryOnServerError))??!1,x=(v=s.context)==null?void 0:v.get(e.KeysHttp.fetch),M=await Rx.getResponse(x??fetch,s.input,l,w,S,A);return d!==void 0&&((((b=s.context)==null?void 0:b.get(e.KeysHttp.httpBodyTimeout))||!1)&&M.body?(f=()=>{var N;return(N=M.body)==null?void 0:N.cancel(new Error(`HTTP timeout when reading the body of ${M.url}.
This error can be disabled by modifying the 'httpBodyTimeout' and/or 'httpTimeout' options.`))},M.body.on("close",()=>{clearTimeout(d)})):clearTimeout(d)),M.body&&!M.body.cancel&&(M.body.cancel=async I=>{M.body.destroy(I),d!==void 0&&clearTimeout(d)}),M}catch(w){throw d!==void 0&&clearTimeout(d),w}}};return hp.ActorHttpFetch=r,hp}var yq;function $3e(){return yq||(yq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(B3e(),t)}(VA)),VA}var KA={},gp={},mq;function U3e(){if(mq)return gp;mq=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.ActorQueryOperationSource=void 0;const t=Ot(),e=Ut,n=ri(),r=Pt();let a=class extends t.ActorQueryOperation{constructor(o){super(o)}async test(o){if(!t.ActorQueryOperation.getOperationSource(o.operation))throw new Error(`Actor ${this.name} requires an operation with source annotation.`);return{httpRequests:1}}async run(o){const u=o.context.get(e.KeysInitQuery.physicalQueryPlanLogger);u&&(u.logOperation(o.operation.type,void 0,o.operation,o.context.get(e.KeysInitQuery.physicalQueryPlanNode),this.name,{}),o.context=o.context.set(e.KeysInitQuery.physicalQueryPlanNode,o.operation));const l=t.ActorQueryOperation.getOperationSource(o.operation),c=l.context?o.context.merge(l.context):o.context;let d=!1;if(r.Util.recurseOperation(o.operation,{construct(){return d=!0,!1}}),d){const p=l.source.queryQuads(o.operation,c),m=(0,n.getMetadataQuads)(p);return{type:"quads",quadStream:p,metadata:m}}switch(o.operation.type){case r.Algebra.types.ASK:return{type:"boolean",execute:()=>l.source.queryBoolean(o.operation,c)};case r.Algebra.types.COMPOSITE_UPDATE:case r.Algebra.types.DELETE_INSERT:case r.Algebra.types.LOAD:case r.Algebra.types.CLEAR:case r.Algebra.types.CREATE:case r.Algebra.types.DROP:case r.Algebra.types.ADD:case r.Algebra.types.MOVE:case r.Algebra.types.COPY:return{type:"void",execute:()=>l.source.queryVoid(o.operation,c)}}const f=l.source.queryBindings(o.operation,c),h=(0,n.getMetadataBindings)(f);return{type:"bindings",bindingsStream:f,metadata:h}}};return gp.ActorQueryOperationSource=a,gp}var gq;function k3e(){return gq||(gq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(U3e(),t)}(KA)),KA}var JA={},_p={},_q;function V3e(){if(_q)return _p;_q=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.MediatorJoinCoefficientsFixed=void 0;const t=Ut,e=lt;let n=class extends e.Mediator{constructor(a){super(a)}async mediateWith(a,s){var y;const o=[],u=s.map(({reply:g})=>g).map(g=>g.catch(_=>{o.push(_)})),l=await Promise.all(u);let c=l.map(g=>{if(g)return g.iterations*this.cpuWeight+g.persistedItems*this.memoryWeight+g.blockingItems*this.timeWeight+g.requestTime*this.ioWeight});const d=Math.max(...c.filter(g=>g!==void 0)),f=a.context.get(t.KeysQueryOperation.limitIndicator);f&&(c=c.map((g,_)=>g!==void 0&&l[_].persistedItems>0&&l[_].iterations>f?g+d:g));let h=-1,p=Number.POSITIVE_INFINITY;for(const[g,_]of c.entries())_!==void 0&&(h===-1||_<p)&&(h=g,p=_);if(h<0)throw new Error(`All actors rejected their test in ${this.name}
${o.map(g=>g.message).join(`
`)}`);const m=s[h].actor;return m.includeInLogs&&((y=e.Actor.getContextLogger(a.context))==null||y.debug(`Determined physical join operator '${m.logicalType}-${m.physicalName}'`,{entries:a.entries.length,variables:await Promise.all(a.entries.map(async g=>(await g.output.metadata()).variables.map(_=>_.value))),costs:Object.fromEntries(c.map((g,_)=>[`${s[_].actor.logicalType}-${s[_].actor.physicalName}`,g]).filter(g=>g[1]!==void 0)),coefficients:Object.fromEntries(l.map((g,_)=>[`${s[_].actor.logicalType}-${s[_].actor.physicalName}`,g]).filter(g=>g[1]!==void 0))})),m}};return _p.MediatorJoinCoefficientsFixed=n,_p}var bq;function H3e(){return bq||(bq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(V3e(),t)}(JA)),JA}var XA={},bp={},vq;function KJ(){if(vq)return bp;vq=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.ActorHttpInvalidate=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return bp.ActorHttpInvalidate=e,bp}var vp={},wq;function Q3e(){if(wq)return vp;wq=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.ActorHttpInvalidateListenable=void 0;const t=KJ();let e=class extends t.ActorHttpInvalidate{constructor(r){super(r),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(r){this.invalidateListeners.push(r)}async test(r){return!0}async run(r){for(const a of this.invalidateListeners)a(r);return{}}};return vp.ActorHttpInvalidateListenable=e,vp}var Sq;function p1(){return Sq||(Sq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(KJ(),t),n(Q3e(),t)}(XA)),XA}var YA={},wp={},Tq;function z3e(){if(Tq)return wp;Tq=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.MediatorAll=void 0;const t=lt;let e=class extends t.Mediator{constructor(r){super(r)}async mediate(r){const a=[];let s;try{s=this.publish(r)}catch{s=[]}for(const u of s)try{await u.reply,a.push(u.actor)}catch{}return(await Promise.all(a.map(u=>u.runObservable(r))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}};return wp.MediatorAll=e,wp}var Eq;function G3e(){return Eq||(Eq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(z3e(),t)}(YA)),YA}var ZA={},Sp={},e3={},Tp={},Ep={},Aq;function W3e(){if(Aq)return Ep;Aq=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.instrumentIterator=void 0;function t(n){const r={count:0,timeSelf:0,timeLife:0};return e(n,r,!0),new Promise(a=>{n.on("end",()=>{a(r)})})}Ep.instrumentIterator=t;function e(n,r,a){if(!("_profileInstrumented"in n)){if(n._profileInstrumented=!0,"_read"in n){const s=n._read;n._read=(o,u)=>{const l=performance.now();s.call(n,o,()=>{r.timeSelf+=performance.now()-l,u()})}}if("read"in n){const s=n.read;n.read=()=>{const o=performance.now(),u=s.call(n);return a&&u&&r.count++,r.timeSelf+=performance.now()-o,u}}if(a){const s=performance.now();n.on("end",()=>{r.timeLife=performance.now()-s})}"_source"in n&&e(n._source,r,!1)}}return Ep}var Oq;function K3e(){if(Oq)return Tp;Oq=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.ActorRdfJoin=void 0;const t=Ut,e=lt,n=ri(),r=Rt,a=tr,s=W3e(),o=new r.DataFactory;let u=class pu extends e.Actor{constructor(c,d){super(c),this.includeInLogs=!0,this.logicalType=d.logicalType,this.physicalName=d.physicalName,this.limitEntries=d.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=d.limitEntriesMin??!1,this.canHandleUndefs=d.canHandleUndefs??!1,this.isLeaf=d.isLeaf??!0}static hash(c,d){return d.map(f=>{const h=c.get(f);return h?h.value:""}).join("")}static hashNonClashing(c,d){return d.map(f=>{const h=c.get(f);return h?(0,a.termToString)(h):""}).join("")}static overlappingVariables(c){const d=c.map(h=>h.variables);let f=d[0];for(const h of d.slice(1))f=f.filter(p=>h.some(m=>m.value===p.value));return f}static joinVariables(c){return[...new Set(c.flatMap(d=>d.variables.map(f=>f.value)))].map(d=>o.variable(d))}static joinBindings(...c){if(c.length===0)return null;if(c.length===1)return c[0];let d=c[0];for(const f of c.slice(1)){const h=d.merge(f);if(!h)return null;d=h}return d}static getCardinality(c){return c.cardinality}static async getMetadatas(c){return await Promise.all(c.map(d=>d.output.metadata()))}static async getEntriesWithMetadatas(c){const d=await pu.getMetadatas(c);return c.map((f,h)=>({...f,metadata:d[h]}))}static getRequestInitialTimes(c){return c.map(d=>d.pageSize?0:d.requestTime??0)}static getRequestItemTimes(c){return c.map(d=>d.pageSize?(d.requestTime??0)/d.pageSize:0)}constructState(c){const d=new n.MetadataValidationState,f=()=>d.invalidate();for(const h of c)h.state.addInvalidateListener(f);return d}async constructResultMetadata(c,d,f,h={}){let p;return h.cardinality?p=h.cardinality:(p=d.reduce((m,y)=>{const g=pu.getCardinality(y);return{type:g.type==="estimate"?"estimate":m.type,value:m.value*g.value}},{type:"exact",value:1}),p.value*=(await this.mediatorJoinSelectivity.mediate({entries:c,context:f})).selectivity),{state:this.constructState(d),...h,cardinality:{type:p.type,value:p.value},canContainUndefs:h.canContainUndefs??d.some(m=>m.canContainUndefs),variables:pu.joinVariables(d)}}static async sortJoinEntries(c,d,f){if(d.some(g=>g.metadata.canContainUndefs))return d;const p={};for(const g of d)for(const _ of g.metadata.variables){let v=p[_.value];v||(v=0),p[_.value]=++v}const m=[];for(const[g,_]of Object.entries(p))_>=2&&m.push(g);if(m.length===0)throw new Error("Bind join can only join entries with at least one common variable");const y=[];for(const g of d){let _=!1;for(const v of g.metadata.variables)if(m.includes(v.value)){_=!0;break}_||y.push(g)}return(await c.mediate({entries:d,context:f})).entries.sort((g,_)=>{const v=y.includes(g),b=y.includes(_);return v===b?0:v?1:-1})}async test(c){if(c.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${c.type}' was given.`);if(c.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?c.entries.length<this.limitEntries:c.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${c.entries.length}.`);for(const f of c.entries)if(f.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${f.output.type}'`);const d=await pu.getMetadatas(c.entries);if(!this.canHandleUndefs){for(const f of d)if(f.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(c,d)}async run(c){let d;c.context.has(t.KeysInitQuery.physicalQueryPlanLogger)&&(d=c.context.get(t.KeysInitQuery.physicalQueryPlanNode),c.context=c.context.set(t.KeysInitQuery.physicalQueryPlanNode,c));const f=c.context.get(t.KeysInitQuery.physicalQueryPlanLogger);let h;this.includeInLogs&&f&&(h={},f.stashChildren(d,g=>g.logicalOperator.startsWith("join")),f.logOperation(`join-${this.logicalType}`,this.physicalName,c,d,this.name,h));const{result:p,physicalPlanMetadata:m}=await this.getOutput(c),y=await pu.getMetadatas(c.entries);if(h){(0,s.instrumentIterator)(p.bindingsStream).then(_=>{f.appendMetadata(c,{cardinalityReal:_.count,timeSelf:_.timeSelf,timeLife:_.timeLife})}),Object.assign(h,m);const g=y.map(pu.getCardinality);if(h.cardinalities=g,h.joinCoefficients=await this.getJoinCoefficients(c,y),this.isLeaf)for(let _=0;_<c.entries.length;_++){const v=c.entries[_];f.unstashChild(v.operation,c),f.appendMetadata(v.operation,{cardinality:g[_]})}}return p.metadata=(0,n.cachifyMetadata)(p.metadata),p}};return Tp.ActorRdfJoin=u,Tp}var Ap={},Rq;function J3e(){if(Rq)return Ap;Rq=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.ChunkedIterator=void 0;const t=Bt();let e=class extends t.TransformIterator{constructor(r,a,s){super(r,s),this.chunk=[],this.blockSize=a}consumeChunkAsIterator(){const r=new t.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],r}_transform(r,a,s){this.chunk.push(r),this.chunk.length>=this.blockSize&&s(this.consumeChunkAsIterator()),a()}_flush(r){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(r)}};return Ap.ChunkedIterator=e,Ap}var xq;function ni(){return xq||(xq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(K3e(),t),n(J3e(),t)}(e3)),e3}var Iq;function X3e(){if(Iq)return Sp;Iq=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.ActorRdfJoinSingle=void 0;const t=ni();let e=class extends t.ActorRdfJoin{constructor(r){super(r,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(r){if(r.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(r){return{result:r.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Sp.ActorRdfJoinSingle=e,Sp}var Pq;function Y3e(){return Pq||(Pq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(X3e(),t)}(ZA)),ZA}var t3={},Op={},Nq;function Z3e(){if(Nq)return Op;Nq=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.ActorRdfJoinMultiEmpty=void 0;const t=ni(),e=ri(),n=Bt();let r=class extends t.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(s){if((await t.ActorRdfJoin.getMetadatas(s.entries)).every(o=>t.ActorRdfJoin.getCardinality(o).value>0))throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(s)}async getOutput(s){for(const o of s.entries)o.output.bindingsStream.close();return{result:{bindingsStream:new n.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new e.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:t.ActorRdfJoin.joinVariables(await t.ActorRdfJoin.getMetadatas(s.entries))}),type:"bindings"}}}async getJoinCoefficients(s,o){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Op.ActorRdfJoinMultiEmpty=r,Op}var Dq;function eOe(){return Dq||(Dq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Z3e(),t)}(t3)),t3}var r3={},Rp={},Cq;function tOe(){if(Cq)return Rp;Cq=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.ActorRdfJoinMultiBindSource=void 0;const t=Ot(),e=ni(),n=Bt(),r=Pt(),a=new r.Factory;let s=class extends e.ActorRdfJoin{constructor(u){super(u,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(u){const l=await e.ActorRdfJoin.getEntriesWithMetadatas(u.entries),c=await this.sortJoinEntries(l,u.context);this.logDebug(u.context,"First entry for Bind Join Source: ",()=>({entry:c[0].operation,metadata:c[0].metadata}));for(const[_,v]of c.entries())_!==0&&v.output.bindingsStream.close();const d=c[0].output,f=c[0].metadata,h=[...c];h.splice(0,1);const p=t.ActorQueryOperation.getOperationSource(h[0].operation),m=this.createOperationFromEntries(h),y=new e.ChunkedIterator(d.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new n.UnionIterator(y.map(_=>p.source.queryBindings(m,p.context?u.context.merge(p.context):u.context,{joinBindings:{bindings:_,metadata:f}}))),metadata:()=>this.constructResultMetadata(c,c.map(_=>_.metadata),u.context)},physicalPlanMetadata:{bindIndex:l.indexOf(c[0])}}}async sortJoinEntries(u,l){return u=await e.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,u,l),u=u.sort((c,d)=>c.operationModified&&!d.operationModified?-1:0),u}async getJoinCoefficients(u,l){const c=await this.sortJoinEntries(u.entries.map((b,w)=>({...b,metadata:l[w]})),u.context);l=c.map(b=>b.metadata);const d=e.ActorRdfJoin.getRequestInitialTimes(l),f=e.ActorRdfJoin.getRequestItemTimes(l),h=[...c];[...d],[...f],h.splice(0,1);const p=h.map(b=>t.ActorQueryOperation.getOperationSource(b.operation));if(p.some(b=>!b))throw new Error(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(p.some(b=>b!==p[0]))throw new Error(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const m=p[0],y=this.createOperationFromEntries(h),g=await m.source.getSelectorShape(u.context);if(!t.ActorQueryOperation.doesShapeAcceptOperation(g,y,{joinBindings:!0}))throw new Error(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const _=await Promise.all(h.map(async b=>(await this.mediatorJoinSelectivity.mediate({entries:[c[0],b],context:u.context})).selectivity*this.selectivityModifier)),v=h.map((b,w)=>b.metadata.cardinality.value*_[w]).reduce((b,w)=>b+w,0);return{iterations:1,persistedItems:l[0].cardinality.value,blockingItems:l[0].cardinality.value,requestTime:d[0]+l[0].cardinality.value*f[0]+d[1]+v*f[1]}}createOperationFromEntries(u){return u.length===1?u[0].operation:a.createJoin(u.map(l=>l.operation),!0)}};return Rp.ActorRdfJoinMultiBindSource=s,Rp}var Lq;function rOe(){return Lq||(Lq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(tOe(),t)}(r3)),r3}var n3={},xp={},i3,jq;function nOe(){if(jq)return i3;jq=1;let t=Bt(),e=t.MultiTransformIterator,n=t.SimpleTransformIterator;class r extends e{constructor(s,o,u,l){super(s,l),this.funRight=o,this.funJoin=u}_createTransformer(s){return new n(this.funRight(s),{transform:(o,u,l)=>{let c=this.funJoin(s,o);c!==null&&l(c),u()}})}}return i3=r,i3}var a3,Mq;function iOe(){if(Mq)return a3;Mq=1;let t=Bt().AsyncIterator;class e extends t{constructor(r,a,s,o){super(),this.addedDataListener=!1,this.left=r,this.right=a,this.funHash=s,this.funJoin=o,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",l=>this.destroy(l)),this.right.on("error",l=>this.destroy(l)),this.readable=!1,this.left.on("end",u.bind(this));function u(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",l=>{l==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let a=this.matches[this.matchIdx++],s=this.funJoin(a,this.match);if(s!==null)return s}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let r=this.funHash(this.match);this.matches=this.leftMap.get(r)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",r.bind(this));function r(a){let s=this.funHash(a);this.leftMap.has(s)||this.leftMap.set(s,[]),this.leftMap.get(s).push(a)}}}return a3=e,a3}var s3,Fq;function aOe(){if(Fq)return s3;Fq=1;const{MultiTransformIterator:t,SimpleTransformIterator:e,scheduleTask:n}=Bt();class r extends t{constructor(s,o,u,l){super(s,l),this.right=o,this.funJoin=u,this.on("end",()=>this.right.close())}_end(){super._end(),n(()=>this.right.destroy())}_createTransformer(s){return new e(this.right.clone(),{transform:(o,u,l)=>{let c=this.funJoin(s,o);c!==null&&l(c),u()}})}}return s3=r,s3}var o3,qq;function sOe(){if(qq)return o3;qq=1;let t=Bt().AsyncIterator;class e extends t{constructor(r,a,s,o){super(),this.left=r,this.right=a,this.funHash=s,this.funJoin=o,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",u=>this.destroy(u)),this.right.on("error",u=>this.destroy(u)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let s=this.matches[this.matchIdx++],o=this.usedLeft?this.funJoin(this.match,s):this.funJoin(s,this.match);if(o!==null)return o}this.hasResults()||this._end();let r=null;for(let s=0;s<2&&(r=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,r===null);++s);if(this.done||r===null)return this.readable=!1,null;let a=this.funHash(r);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let s=this.usedLeft?this.leftMap:this.rightMap;s.has(a)||s.set(a,[]),s.get(a).push(r)}this.match=r,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(a)||[],this.matchIdx=0}}}return o3=e,o3}var u3,Bq;function oOe(){if(Bq)return u3;Bq=1;let t=Bt().AsyncIterator;class e extends t{constructor(r){super(),Array.isArray(r)||(r=Array.prototype.slice.call(arguments)),this.streams=r;for(let a of r)a.on("readable",()=>this.emit("readable")),a.on("end",()=>this._removeStream(a));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(r){let a=this.streams.indexOf(r);a<0||(this.streams.splice(a,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let r of this.streams)r.close()}read(){for(let r=0;r<this.streams.length;++r){this.idx=(this.idx+1)%this.streams.length;let a=this.streams[this.idx].read();if(a!==null)return a}return null}}return u3=e,u3}var c3,$q;function eS(){if($q)return c3;$q=1;const t=nOe(),e=iOe(),n=aOe(),r=sOe(),a=oOe();return c3={DynamicNestedLoopJoin:t,HashJoin:e,NestedLoopJoin:n,SymmetricHashJoin:r,MergeStream:a},c3}var Uq;function uOe(){if(Uq)return xp;Uq=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.ActorRdfJoinHash=void 0;const t=ni(),e=eS();let n=class extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(a){const s=await t.ActorRdfJoin.getMetadatas(a.entries),o=t.ActorRdfJoin.overlappingVariables(s);return{result:{type:"bindings",bindingsStream:new e.HashJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,l=>t.ActorRdfJoin.hash(l,o),t.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(a.entries,s,a.context)}}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value,blockingItems:s[0].cardinality.value,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return xp.ActorRdfJoinHash=n,xp}var kq;function cOe(){return kq||(kq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(uOe(),t)}(n3)),n3}var l3={},Ip={},Vq;function lOe(){if(Vq)return Ip;Vq=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.ActorRdfJoinSymmetricHash=void 0;const t=ni(),e=eS();let n=class JJ extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(a){const s=await t.ActorRdfJoin.getMetadatas(a.entries),o=t.ActorRdfJoin.overlappingVariables(s);return{result:{type:"bindings",bindingsStream:new e.SymmetricHashJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,l=>JJ.hash(l,o),t.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(a.entries,s,a.context)}}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value+s[1].cardinality.value,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return Ip.ActorRdfJoinSymmetricHash=n,Ip}var Hq;function dOe(){return Hq||(Hq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(lOe(),t)}(l3)),l3}var d3={},Pp={},Qq;function fOe(){if(Qq)return Pp;Qq=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.ActorRdfJoinNestedLoop=void 0;const t=ni(),e=eS();let n=class extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){return{result:{type:"bindings",bindingsStream:new e.NestedLoopJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,t.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(a.entries,await t.ActorRdfJoin.getMetadatas(a.entries),a.context)}}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value*s[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return Pp.ActorRdfJoinNestedLoop=n,Pp}var zq;function hOe(){return zq||(zq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(fOe(),t)}(d3)),d3}var f3={},Np={},Gq;function pOe(){if(Gq)return Np;Gq=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.ActorRdfJoinMinusHash=void 0;const t=Ot(),e=ni();let n=class extends e.ActorRdfJoin{constructor(a){super(a,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(a){const s=a.entries[1].output,o=a.entries[0].output,u=await e.ActorRdfJoin.getMetadatas(a.entries),l=e.ActorRdfJoin.overlappingVariables(u);if(l.length>0){const c={},d=new t.ClosableTransformIterator(async()=>(await new Promise(f=>{s.bindingsStream.on("data",h=>{c[e.ActorRdfJoin.hashNonClashing(h,l)]=!0}),s.bindingsStream.on("end",f),s.bindingsStream.on("error",h=>{d.emit("error",h)})}),o.bindingsStream.filter(f=>!c[e.ActorRdfJoin.hashNonClashing(f,l)])),{autoStart:!1,onClose(){s.bindingsStream.destroy(),o.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:d,metadata:o.metadata}}}return s.bindingsStream.destroy(),{result:o}}async getJoinCoefficients(a,s){const o=e.ActorRdfJoin.getRequestInitialTimes(s),u=e.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value,blockingItems:s[0].cardinality.value,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return Np.ActorRdfJoinMinusHash=n,Np}var Wq;function yOe(){return Wq||(Wq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(pOe(),t)}(f3)),f3}var h3={},Dp={},Cp={},Kq;function mOe(){if(Kq)return Cp;Kq=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.BindingsIndex=void 0;const t=tr;let e=class xx{constructor(r){this.data={},this.keys=r}static hashTerm(r){return r&&r.termType!=="Variable"?(0,t.termToString)(r):""}add(r){if(this.isBindingsValid(r)){let a=this.data;for(const s of this.keys){const o=xx.hashTerm(r.get(s));let u=a[o];u||(u=a[o]={}),a=u}}}contains(r){return this.isBindingsValid(r)?this.containsRecursive(r,this.keys,[this.data]):!1}isBindingsValid(r){let a=!1;for(const s of this.keys)if(r.get(s)){a=!0;break}return a}containsRecursive(r,a,s){if(a.length===0)return!0;let o;[o,...a]=a;for(const u of s){const l=xx.hashTerm(r.get(o));if(l){const c=[u[l],u[""]].filter(Boolean);if(c.length===0)continue;if(this.containsRecursive(r,a,c))return!0}else{let c=Object.keys(u).map(d=>u[d]);if(c.length===0&&(c=[{}]),this.containsRecursive(r,a,c))return!0}}return!1}};return Cp.BindingsIndex=e,Cp}var Jq;function gOe(){if(Jq)return Dp;Jq=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.ActorRdfJoinMinusHashUndef=void 0;const t=Ot(),e=ni(),n=mOe();let r=class extends e.ActorRdfJoin{constructor(s){super(s,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(s){const o=s.entries[1].output,u=s.entries[0].output,l=await e.ActorRdfJoin.getMetadatas(s.entries),c=e.ActorRdfJoin.overlappingVariables(l);if(c.length>0){const d=new n.BindingsIndex(c),f=new t.ClosableTransformIterator(async()=>(await new Promise(h=>{o.bindingsStream.on("data",p=>d.add(p)),o.bindingsStream.on("end",h),o.bindingsStream.on("error",p=>{f.emit("error",p)})}),u.bindingsStream.filter(h=>!d.contains(h))),{autoStart:!1,onClose(){o.bindingsStream.destroy(),u.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:f,async metadata(){const h=await u.metadata(),p=await u.metadata();return{...p,canContainUndefs:h.canContainUndefs||p.canContainUndefs}}}}}return o.bindingsStream.destroy(),{result:u}}async getJoinCoefficients(s,o){const u=e.ActorRdfJoin.getRequestInitialTimes(o),l=e.ActorRdfJoin.getRequestItemTimes(o);return{iterations:(o[0].cardinality.value+o[1].cardinality.value)*1.01,persistedItems:o[0].cardinality.value,blockingItems:o[0].cardinality.value,requestTime:u[0]+o[0].cardinality.value*l[0]+u[1]+o[1].cardinality.value*l[1]}}};return Dp.ActorRdfJoinMinusHashUndef=r,Dp}var Xq;function _Oe(){return Xq||(Xq=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(gOe(),t)}(h3)),h3}var p3={},Lp={},jp={},Yq;function bOe(){if(Yq)return jp;Yq=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.BindingsIndexDef=void 0;let t=class{constructor(n,r){this.keys=n,this.hashFn=r,this.index={}}put(n,r){return this.index[this.hashFn(n,this.keys)]=r}get(n){const r=this.getFirst(n);return r?[r]:[]}getFirst(n){return this.index[this.hashFn(n,this.keys)]}values(){return Object.values(this.index)}};return jp.BindingsIndexDef=t,jp}var Mp={},Zq;function vOe(){if(Zq)return Mp;Zq=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.BindingsIndexUndef=void 0;let t=class{constructor(n,r){this.data={},this.keys=n,this.hashFn=r}put(n,r){if(this.isBindingsValid(n)){let a=this.data;for(let s=0;s<this.keys.length;s++){const o=this.keys[s],u=this.hashFn(n.get(o));let l=a[u];l||(l=a[u]=s===this.keys.length-1?r:{}),a=l}}return r}isBindingsValid(n){let r=!1;for(const a of this.keys)if(n.has(a)){r=!0;break}return r}get(n){return this.isBindingsValid(n)?this.getRecursive(n,this.keys,[this.data]):[]}getRecursive(n,r,a){if(r.length===0)return a;let s;[s,...r]=r;const o=[];for(const u of a){const l=this.hashFn(n==null?void 0:n.get(s));if(l){const c=[u[l],u[""]].filter(Boolean);if(c.length===0)continue;o.push(this.getRecursive(n,r,c))}else{const c=Object.values(u);if(c.length===0)continue;o.push(this.getRecursive(n,r,c))}}return o.flat()}getFirst(n){if(this.isBindingsValid(n))return this.getRecursiveFirst(n,this.keys,[this.data])}getRecursiveFirst(n,r,a){if(r.length===0)return a[0];let s;[s,...r]=r;for(const o of a){const u=this.hashFn(n.get(s));if(u){const l=[o[u],o[""]].filter(Boolean);if(l.length===0)continue;const c=this.getRecursiveFirst(n,r,l);if(c)return c}else{const l=Object.values(o);if(l.length===0)continue;const c=this.getRecursiveFirst(n,r,l);if(c)return c}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}};return Mp.BindingsIndexUndef=t,Mp}var e7;function wOe(){if(e7)return Lp;e7=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.ActorRdfJoinOptionalHash=void 0;const t=Ot(),e=ni(),n=Bt(),r=tr,a=bOe(),s=vOe();let o=class Ix extends e.ActorRdfJoin{constructor(l){super(l,{logicalType:"optional",physicalName:`hash-${l.canHandleUndefs?"undef":"def"}-${l.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:l.canHandleUndefs})}static constructIndex(l,c){return l?new s.BindingsIndexUndef(c,d=>d&&d.termType!=="Variable"?(0,r.termToString)(d):""):new a.BindingsIndexDef(c,e.ActorRdfJoin.hashNonClashing)}async getOutput(l){const c=l.entries[1].output,d=l.entries[0].output,f=await e.ActorRdfJoin.getMetadatas(l.entries),h=e.ActorRdfJoin.overlappingVariables(f);let p;return this.blocking?p=new t.ClosableTransformIterator(async()=>{const m=Ix.constructIndex(this.canHandleUndefs,h);return await new Promise(y=>{c.bindingsStream.on("data",g=>{(m.getFirst(g)??m.put(g,[])).push(g)}),c.bindingsStream.on("end",y),c.bindingsStream.on("error",g=>{p.emit("error",g)})}),new n.MultiTransformIterator(d.bindingsStream,{multiTransform:y=>new n.ArrayIterator(m.get(y).flat().map(g=>e.ActorRdfJoin.joinBindings(y,g)).filter(g=>g!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){c.bindingsStream.destroy(),d.bindingsStream.destroy()}}):p=new t.ClosableTransformIterator(async()=>{const m=Ix.constructIndex(this.canHandleUndefs,h);let y=!0;return c.bindingsStream.on("data",g=>{(m.getFirst(g)??m.put(g,new n.BufferedIterator({autoStart:!1})))._push(g)}),c.bindingsStream.on("end",()=>{for(const g of m.values())g.close();y=!1}),c.bindingsStream.on("error",g=>{p.emit("error",g)}),new n.MultiTransformIterator(d.bindingsStream,{multiTransform:g=>{let _=m.get(g);return _.length===0&&(y?_=[m.put(g,new n.BufferedIterator({autoStart:!1}))]:_=[]),new n.UnionIterator(_.map(b=>b.clone()),{autoStart:!1}).map(b=>e.ActorRdfJoin.joinBindings(g,b))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){c.bindingsStream.destroy(),d.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:p,metadata:async()=>await this.constructResultMetadata(l.entries,await e.ActorRdfJoin.getMetadatas(l.entries),l.context,{canContainUndefs:!0})}}}async getJoinCoefficients(l,c){if(e.ActorRdfJoin.overlappingVariables(c).length===0)throw new Error(`Actor ${this.name} only join entries with at least one common variable`);const d=e.ActorRdfJoin.getRequestInitialTimes(c),f=e.ActorRdfJoin.getRequestItemTimes(c);let h=c[0].cardinality.value+c[1].cardinality.value;return this.canHandleUndefs||(h*=.8),this.blocking&&(h*=.9),{iterations:h,persistedItems:c[0].cardinality.value,blockingItems:this.blocking?c[0].cardinality.value:0,requestTime:d[0]+c[0].cardinality.value*f[0]+d[1]+c[1].cardinality.value*f[1]}}};return Lp.ActorRdfJoinOptionalHash=o,Lp}var t7;function y1(){return t7||(t7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(wOe(),t)}(p3)),p3}var y3={},Fp={},r7;function SOe(){if(r7)return Fp;r7=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.ActorRdfJoinOptionalNestedLoop=void 0;const t=ni(),e=eS();let n=class extends t.ActorRdfJoin{constructor(a){super(a,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(a){return{result:{type:"bindings",bindingsStream:new e.NestedLoopJoin(a.entries[0].output.bindingsStream,a.entries[1].output.bindingsStream,t.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(a.entries,await t.ActorRdfJoin.getMetadatas(a.entries),a.context,{canContainUndefs:!0})}}}async getJoinCoefficients(a,s){const o=t.ActorRdfJoin.getRequestInitialTimes(s),u=t.ActorRdfJoin.getRequestItemTimes(s);return{iterations:s[0].cardinality.value*s[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:o[0]+s[0].cardinality.value*u[0]+o[1]+s[1].cardinality.value*u[1]}}};return Fp.ActorRdfJoinOptionalNestedLoop=n,Fp}var n7;function TOe(){return n7||(n7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(SOe(),t)}(y3)),y3}var m3={},qp={},g3={},Bp={},i7;function EOe(){if(i7)return Bp;i7=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.ActorDereferenceRdf=void 0;const t=fN();let e=class extends t.ActorDereferenceParse{constructor(r){super(r)}};return Bp.ActorDereferenceRdf=e,Bp}var a7;function AOe(){return a7||(a7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(EOe(),t)}(g3)),g3}var s7;function OOe(){if(s7)return qp;s7=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.ActorDereferenceRdfParse=void 0;const t=AOe();let e=class extends t.ActorDereferenceRdf{constructor(r){super(r)}async getMetadata(r){return{baseIRI:r.url}}};return qp.ActorDereferenceRdfParse=e,qp}var o7;function ROe(){return o7||(o7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(OOe(),t)}(m3)),m3}var _3={},$p={},Up={},u7;function xOe(){if(u7)return Up;u7=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.HtmlScriptListener=void 0;const t=Ut,e=Dt,n=la();let r=class vg{constructor(s,o,u,l,c,d,f,h){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=s,this.cbQuad=o,this.cbError=u,this.cbEnd=l,this.supportedTypes=c,this.context=d.set(t.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=f,this.headers=h,this.onlyFirstScript=d.get(t.KeysRdfParseHtmlScript.extractAllScripts)===!1;const p=this.baseIRI.indexOf("#");this.targetScriptId=p>0?this.baseIRI.slice(p+1,this.baseIRI.length):null}static newErrorCoded(s,o){const u=new Error(s);return u.code=o,u}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(vg.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const s=new e.Readable({objectMode:!0});s._read=()=>{};const o=this.textChunks,u={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:s,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(u).then(({handle:l})=>{l.data.on("error",c=>this.cbError(vg.newErrorCoded(c.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const c of o)s.push(c);s.push(null)}).catch(l=>{this.targetScriptId?this.cbError(vg.newErrorCoded(l.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(s,o){s==="base"&&o.href&&(this.baseIRI=(0,n.resolve)(o.href,this.baseIRI)),s==="script"&&(!this.targetScriptId||o.id===this.targetScriptId)?this.supportedTypes[o.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=o.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(vg.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(s){this.handleMediaType&&this.textChunks.push(s)}requiresCustomJsonLdHandling(s){return!this.onlyFirstScript&&!this.targetScriptId&&s==="application/ld+json"}};return Up.HtmlScriptListener=r,Up}var c7;function IOe(){if(c7)return $p;c7=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.ActorRdfParseHtmlScript=void 0;const t=vN(),e=xOe();let n=class extends t.ActorRdfParseHtml{constructor(a){super(a)}async test(a){return!0}async run(a){const s=(await this.mediatorRdfParseMediatypes.mediate({context:a.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new e.HtmlScriptListener(this.mediatorRdfParseHandle,a.emit,a.error,a.end,s,a.context,a.baseIRI,a.headers)}}};return $p.ActorRdfParseHtmlScript=n,$p}var l7;function POe(){return l7||(l7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(IOe(),t)}(_3)),_3}var b3={},kp={},d7;function NOe(){if(d7)return kp;d7=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.ActorQueryResultSerializeRdf=void 0;const t=Va();let e=class extends t.ActorQueryResultSerialize{constructor(r){super(r)}async testHandle(r,a,s){if(r.type!=="quads")throw new Error(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:o}=await this.mediatorMediaTypeCombiner.mediate({context:s,mediaTypes:!0});if(!(a in o))throw new Error(`Actor ${this.name} can not handle media type ${a}. All available types: ${Object.keys(o)}`);return!0}async runHandle(r,a,s){return(await this.mediatorRdfSerialize.mediate({context:s,handle:{context:s,quadStream:r.quadStream},handleMediaType:a})).handle}async testMediaType(r){return!0}async getMediaTypes(r){return(await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(r){return!0}async getMediaTypeFormats(r){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}};return kp.ActorQueryResultSerializeRdf=e,kp}var f7;function DOe(){return f7||(f7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(NOe(),t)}(b3)),b3}var v3={},Vp={},h7;function COe(){if(h7)return Vp;h7=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.ActorHttpWayback=void 0;const t=Co(),e=Ut,n=ac();WJ();const r="http://wayback.archive-it.org/";function a(u){const l=new Request(u.input,u.init);return{input:new Request(new URL(`/${l.url}`,r),l)}}function s(u){const l=u.get(e.KeysHttpProxy.httpProxyHandler);return l?c=>l.getProxy(a(c)):c=>Promise.resolve(a(c))}let o=class extends t.ActorHttp{constructor(l){super(l)}async test(l){return!0}async run(l){let c=await this.mediatorHttp.mediate(l);if(c.status===404&&l.context.get(e.KeysHttpWayback.recoverBrokenLinks)){let d=await this.mediatorHttp.mediate({...l,context:l.context.set(e.KeysHttpWayback.recoverBrokenLinks,!1).set(e.KeysHttpProxy.httpProxyHandler,{getProxy:s(l.context)})});d.status===200&&([c,d]=[d,c]);const{body:f}=d;f&&("cancel"in f&&typeof f.cancel=="function"?await f.cancel():"destroy"in f&&typeof f.destroy=="function"?f.destroy():await n(t.ActorHttp.toNodeReadable(f)))}return c}};return Vp.ActorHttpWayback=o,Vp}var p7;function LOe(){return p7||(p7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(COe(),t)}(v3)),v3}var w3={},Hp={},S3={},Qp={},zp={},Gp={},Wp={},Kp={},y7;function jOe(){if(y7)return Kp;y7=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.ContainerHandlerIdentifier=void 0;let t=class{canCombineWithGraph(){return!0}async handle(n,r,a,s,o,u){let l;if(r.emittedStack[u+1]&&r.idStack[u+1])l=r.idStack[u+1][0];else{const f=await a.getContainerKey(s[u],s,u)!==null?await a.resourceToTerm(await r.getContext(s),s[u]):a.dataFactory.blankNode();if(!f){r.emittedStack[u]=!1;return}l=f,r.idStack[u+1]=[l]}let c=r.idStack[u];c||(c=r.idStack[u]=[]),c.some(d=>d.equals(l))||c.push(l),await r.handlePendingContainerFlushBuffers()||(r.emittedStack[u]=!1)}};return Kp.ContainerHandlerIdentifier=t,Kp}var Jp={},Xp={},m7;function tS(){if(m7)return Xp;m7=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.EntryHandlerPredicate=void 0;const t=un(),e=sc();let n=class XJ{static async handlePredicateObject(a,s,o,u,l,c,d,f,h){const p=await s.getPropertiesDepth(o,u),m=await s.getDepthOffsetGraph(u,o),y=u-m,g=a.idStack[p];if(g&&!h)for(const _ of g)if(m>=0){const b=a.idStack[y-1];if(b)for(const w of b)s.emitQuadChecked(u,_,l,c,w,d,f);else d?(s.validateReverseSubject(c),a.getUnidentifiedGraphBufferSafe(y-1).push({subject:c,predicate:l,object:_,isEmbedded:f})):a.getUnidentifiedGraphBufferSafe(y-1).push({subject:_,predicate:l,object:c,isEmbedded:f})}else{const b=await s.getGraphContainerValue(o,p);s.emitQuadChecked(u,_,l,c,b,d,f)}else if(d&&s.validateReverseSubject(c),h){if(a.rdfstar){a.idStack[u]&&a.emitError(new t.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[u][0].value}`,t.ERROR_CODES.INVALID_ANNOTATION));for(let b=0;b<u;b++)await s.unaliasKeyword(o[b],o,b)==="@id"&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside an embedded node",t.ERROR_CODES.INVALID_ANNOTATION));const _=a.getAnnotationsBufferSafe(p),v={predicate:l,object:c,reverse:d,nestedAnnotations:[],depth:p};_.push(v);for(let b=_.length-2;b>=0;b--){const w=_[b];w.depth>p&&(v.nestedAnnotations.push(w),_.splice(b,1))}}}else a.getUnidentifiedValueBufferSafe(p).push({predicate:l,object:c,reverse:d,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,s,o,u,l){const c=o[u];if(c){const d=await a.getContext(o);if(!a.jsonLiteralStack[u]&&await s.predicateToTerm(d,o[u]))return e.Util.getContextValueType(d,c)==="@json"&&(a.jsonLiteralStack[u+1]=!0),!0}return!1}async test(a,s,o,u,l){return u[l]}async handle(a,s,o,u,l,c,d){const f=u[c],h=await a.getContext(u),p=await s.predicateToTerm(h,o);if(p){const m=await s.valueToTerm(h,o,l,c,u);if(m.length)for(let y of m){let g=await s.unaliasKeywordParent(u,c);const _=e.Util.isPropertyReverse(h,f,g);let v=0;for(;g==="@reverse"||typeof g=="number";)typeof g=="number"?v++:c--,g=await s.unaliasKeywordParent(u,c-v);const b=e.Util.isPropertyInEmbeddedNode(g);s.validateReverseInEmbeddedNode(o,_,b);const w=e.Util.isPropertyInAnnotationObject(g);if(l){const S="@list"in e.Util.getContextValueContainer(h,o);if(S||l["@list"]){if((S&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&y!==s.rdfNil){const A=s.dataFactory.blankNode();a.emitQuad(c,s.dataFactory.quad(A,s.rdfRest,s.rdfNil,s.getDefaultGraph())),a.emitQuad(c,s.dataFactory.quad(A,s.rdfFirst,y,s.getDefaultGraph())),y=A}if(_&&!a.allowSubjectList)throw new t.ErrorCoded(`Found illegal list value in subject position at ${o}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await XJ.handlePredicateObject(a,s,u,c,p,y,_,b,w)}}}};return Xp.EntryHandlerPredicate=n,Xp}var g7;function MOe(){if(g7)return Jp;g7=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.ContainerHandlerIndex=void 0;const t=un(),e=tS(),n=sc();let r=class{canCombineWithGraph(){return!0}async handle(s,o,u,l,c,d){if(!Array.isArray(c)){const f="@graph"in s,h=await o.getContext(l),p=l[d-1],m=n.Util.getContextValueIndex(h,p);if(m){if(t.Util.isPotentialKeyword(m))throw new t.ErrorCoded(`Keywords can not be used as @index value, got: ${m}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof m!="string")throw new t.ErrorCoded(`@index values must be strings, got: ${m}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof c!="object"){if(n.Util.getContextValueType(h,p)!=="@id")throw new t.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${c}`,t.ERROR_CODES.INVALID_VALUE_OBJECT);const _=u.resourceToTerm(h,c);_&&(o.idStack[d+1]=[_])}const g=u.createVocabOrBaseTerm(h,m);if(g){const _=await u.valueToTerm(h,m,await u.getContainerKey(l[d],l,d),d,l);if(f){const v=await u.getGraphContainerValue(l,d+1);for(const b of _)o.emitQuad(d,u.dataFactory.quad(v,g,b,u.getDefaultGraph()))}else for(const v of _)await e.EntryHandlerPredicate.handlePredicateObject(o,u,l,d+1,g,v,!1,!1,!1)}}const y=f?2:1;await o.newOnValueJob(l.slice(0,l.length-y),c,d-y,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[d]=!1}};return Jp.ContainerHandlerIndex=r,Jp}var Yp={},_7;function FOe(){if(_7)return Yp;_7=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.ContainerHandlerLanguage=void 0;const t=un();let e=class{canCombineWithGraph(){return!1}async handle(r,a,s,o,u,l){const c=await s.getContainerKey(o[l],o,l);if(Array.isArray(u))u=u.map(d=>({"@value":d,"@language":c}));else{if(typeof u!="string")throw new t.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(u)}', but expected string`,t.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);u={"@value":u,"@language":c}}await a.newOnValueJob(o.slice(0,o.length-1),u,l-1,!0),a.emittedStack[l]=!1}};return Yp.ContainerHandlerLanguage=e,Yp}var Zp={},b7;function qOe(){if(b7)return Zp;b7=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.ContainerHandlerType=void 0;const t=tS(),e=sc();let n=class{canCombineWithGraph(){return!1}async handle(a,s,o,u,l,c){if(!Array.isArray(l)){if(typeof l=="string"){const h=await s.getContext(u),m=e.Util.getContextValueType(h,u[c-1])==="@vocab"?await o.createVocabOrBaseTerm(h,l):await o.resourceToTerm(h,l);if(m){const y={"@id":m.termType==="NamedNode"?m.value:l};await s.newOnValueJob(u.slice(0,u.length-1),y,c-1,!0),s.idStack[c+1]=[m]}}else{const h=!!s.idStack[c+1];h||delete s.idStack[c],await s.newOnValueJob(u.slice(0,u.length-1),l,c-1,!0),h||(s.idStack[c+1]=s.idStack[c])}const d=await o.getContainerKey(u[c],u,c),f=d!==null?o.createVocabOrBaseTerm(await s.getContext(u),d):null;f&&await t.EntryHandlerPredicate.handlePredicateObject(s,o,u,c+1,o.rdfType,f,!1,!1,!1),await s.handlePendingContainerFlushBuffers()}s.emittedStack[c]=!1}};return Zp.ContainerHandlerType=n,Zp}var v7;function YJ(){if(v7)return Wp;v7=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.EntryHandlerContainer=void 0;const t=jOe(),e=MOe(),n=FOe(),r=qOe(),a=sc();let s=class Ks{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,l,c){let d=Ks.isSimpleGraphContainer(u),f="";for(let h=l;h<c.length;h++)(!d||typeof c[h]=="number")&&(f+=":"+c[h]),!d&&typeof c[h]!="number"&&(d=!0);return f}static async getContainerHandler(u,l,c){const d={containers:{"@set":!0},depth:c,fallback:!0};let f=!1;const h=await u.getContext(l,2);for(let p=c-1;p>=0;p--)if(typeof l[p]!="number"){const m=a.Util.getContextValue(h,"@container",l[p],!1);if(m&&Ks.isSimpleGraphContainer(m))return{containers:m,depth:p+1,fallback:!1};const y=a.Util.getContextValue(h,"@container",l[p-1],!1);if(y){const g="@graph"in y;for(const _ in Ks.CONTAINER_HANDLERS)if(y[_])return g?Ks.CONTAINER_HANDLERS[_].canCombineWithGraph()?{containers:y,depth:p,fallback:!1}:d:f?d:{containers:y,depth:p,fallback:!1};return d}else{if(f)return d;f=!0}}return d}static async isBufferableContainerHandler(u,l,c){const d=await Ks.getContainerHandler(u,l,c);return!d.fallback&&!("@graph"in d.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,l,c,d,f){return!!await this.test(u,l,null,c,d)}async test(u,l,c,d,f){const h=a.Util.getContextValueContainer(await u.getContext(d,2),d[f-1]);for(const p in Ks.CONTAINER_HANDLERS)if(h[p])return{containers:h,handler:Ks.CONTAINER_HANDLERS[p]};return null}async handle(u,l,c,d,f,h,p){return p.handler.handle(p.containers,u,l,d,f,h)}};return s.CONTAINER_HANDLERS={"@id":new t.ContainerHandlerIdentifier,"@index":new e.ContainerHandlerIndex,"@language":new n.ContainerHandlerLanguage,"@type":new r.ContainerHandlerType},Wp.EntryHandlerContainer=s,Wp}var T3,w7;function BOe(){return w7||(w7=1,T3=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((n,r,a)=>{const s=a===0?"":",",o=r===void 0||typeof r=="symbol"?null:r;return n+s+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((n,r,a)=>{if(e[r]===void 0||typeof e[r]=="symbol")return n;const s=n.length===0?"":",";return n+s+t(r)+":"+t(e[r])},"")+"}"}),T3}var S7;function sc(){if(S7)return Gp;S7=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.Util=void 0;const t=un(),e=Rt,n=YJ(),r=BOe();let a=class nr{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new e.DataFactory,this.rdfFirst=this.dataFactory.namedNode(nr.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(nr.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(nr.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(nr.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(nr.RDF+"JSON")}static getContextValue(o,u,l,c){const d=o.getContextRaw()[l];if(!d)return c;const f=d[u];return f===void 0?c:f}static getContextValueContainer(o,u){return nr.getContextValue(o,"@container",u,{"@set":!0})}static getContextValueType(o,u){const l=nr.getContextValue(o,"@type",u,null);return l==="@none"?null:l}static getContextValueLanguage(o,u){return nr.getContextValue(o,"@language",u,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,u){return nr.getContextValue(o,"@direction",u,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,u){return!!nr.getContextValue(o,"@reverse",u,null)}static getContextValueIndex(o,u){return nr.getContextValue(o,"@index",u,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,u,l){return l==="@reverse"!==nr.isContextValueReverse(o,u)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&t.Util.isValidIri(o)}static isPrefixArray(o,u){if(o.length>u.length)return!1;for(let l=0;l<o.length;l++)if(o[l]!==u[l])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const u={};for(const l of o)if(l&&typeof l=="object"){const c=l["@id"],d=l["@index"];if(c&&d){const f=u[c];if(f&&f!==d)throw new t.ErrorCoded(`Conflicting @index value for ${c}`,t.ERROR_CODES.CONFLICTING_INDEXES);u[c]=d}}}}async valueToTerm(o,u,l,c,d){if(nr.getContextValueType(o,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const f=typeof l;switch(f){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in nr.getContextValueContainer(o,u)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:(await this.validateValueIndexes(l),[]);if(o=await this.getContextSelfOrPropertyScoped(o,u),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(d,0)).getContextRaw())),l=await this.unaliasKeywords(l,d,c,o),"@value"in l){let h,p,m,y,g;for(u in l){const _=l[u];switch(u){case"@value":h=_;break;case"@language":p=_;break;case"@direction":m=_;break;case"@type":y=_;break;case"@index":g=_;break;case"@annotation":break;default:throw new t.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(l)}`,t.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(y,d,c,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];if(h===null)return[];if(typeof h=="object")throw new t.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&g&&typeof g!="string")throw new t.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof h!="string")throw new t.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!t.ContextParser.validateLanguage(p,this.parsingContext.strictValues,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(m){if(typeof h!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`);if(!t.ContextParser.validateDirection(m,this.parsingContext.strictValues))return[]}if(p&&m&&this.parsingContext.rdfDirection){if(y)throw new t.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,h,p,m))}else if(p){if(y)throw new t.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(h,p)]}else if(m&&this.parsingContext.rdfDirection){if(y)throw new t.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,h,p,m))}else if(y){if(typeof y!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(y)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);const _=this.createVocabOrBaseTerm(o,y);if(!_)throw new t.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(y)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);if(_.termType!=="NamedNode")throw new t.ErrorCoded(`Illegal value type (${_.termType}): ${y}`,t.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(h,_)]}return await this.valueToTerm(new t.JsonLdContextNormalized({}),u,h,c,d)}else if("@set"in l){if(Object.keys(l).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in l){if(Object.keys(l).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const h=l["@list"];return Array.isArray(h)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(d),u,h,c-1,d.slice(0,-1))}else{if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in nr.getContextValueContainer(await this.parsingContext.getContext(d),u)){const h=this.parsingContext.graphContainerTermStack[c+1];return h?Object.values(h):[this.dataFactory.blankNode()]}else if("@id"in l){if(Object.keys(l).length>1&&(o=await this.parsingContext.getContext(d,0)),"@context"in l&&(o=await this.parsingContext.parseContext(l["@context"],o.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,l["@id"]));{const h=l["@id"];let p;if(typeof h=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[c+1][0];else throw new t.ErrorCoded(`Found illegal @id '${l}'`,t.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(o,h);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[c+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[c+1]||(this.parsingContext.idStack[c+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,(!!l).toString(),this.dataFactory.namedNode(nr.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(o,u),u,l,this.dataFactory.namedNode(l%1===0&&l<1e21?nr.XSD_INTEGER:nr.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(o,u){const l=o.getContextRaw()[u];return l&&typeof l=="object"&&"@context"in l&&(o=await this.parsingContext.parseContext(l,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,u){const l=o.expandTerm(u,!0,this.parsingContext.getExpandOptions());if(!l)return null;if(l[0]==="_"&&l[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null;if(nr.isValidIri(l))return this.dataFactory.namedNode(l);if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new t.ErrorCoded(`Invalid predicate IRI: ${l}`,t.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const l=o.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!nr.isValidIri(l))if(l&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const l=this.parsingContext.getExpandOptions();let c=o.expandTerm(u,!0,l);if(c===u&&(c=o.expandTerm(u,!1,l)),!nr.isValidIri(c))if(c&&this.parsingContext.strictValues&&!c.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}intToString(o,u){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!u||u.value!==nr.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,u,l,c,d){const f=nr.getContextValueType(u,l);if(f)if(f==="@id"){if(!d)return this.resourceToTerm(u,this.intToString(c,d))}else if(f==="@vocab"){if(!d)return this.createVocabOrBaseTerm(u,this.intToString(c,d))}else d=this.dataFactory.namedNode(f);if(!d){const h=nr.getContextValueLanguage(u,l),p=nr.getContextValueDirection(u,l);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(c,d),h,p):this.dataFactory.literal(this.intToString(c,d),h)}return this.dataFactory.literal(this.intToString(c,d),d)}createLanguageDirectionLiteral(o,u,l,c){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${c}`));{const d=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(nr.RDF+"value"),this.dataFactory.literal(u),f)),l&&this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(nr.RDF+"language"),this.dataFactory.literal(l),f)),this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(nr.RDF+"direction"),this.dataFactory.literal(c),f)),d}}valueToJsonString(o){return r(o)}async unaliasKeyword(o,u,l,c,d){if(Number.isInteger(o))return o;if(!c){const f=this.parsingContext.unaliasedKeywordCacheStack[l];if(f)return f}if(!t.Util.isPotentialKeyword(o)){d=d||await this.parsingContext.getContext(u);let f=d.getContextRaw()[o];f&&typeof f=="object"&&(f=f["@id"]),t.Util.isValidKeyword(f)&&(o=f)}return c?o:this.parsingContext.unaliasedKeywordCacheStack[l]=o}async unaliasKeywordParent(o,u){return await this.unaliasKeyword(u>0&&o[u-1],o,u-1)}async unaliasKeywords(o,u,l,c){const d={};for(const f in o)d[await this.unaliasKeyword(f,u,l+1,!0,c)]=o[f];return d}async isLiteral(o,u){for(let l=u;l>=0;l--){if(await this.unaliasKeyword(o[l],o,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(o,u){for(let l=o-1;l>0;l--)if(await this.unaliasKeyword(u[l],u,l)==="@graph"){const c=(await n.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,l)).containers;return n.EntryHandlerContainer.isComplexGraphContainer(c)?-1:o-l-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new t.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,u){let l=this.getDefaultGraph();const{containers:c,depth:d}=await n.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,u);if("@graph"in c){const f=n.EntryHandlerContainer.getContainerGraphIndex(c,d,o),h=this.parsingContext.graphContainerTermStack[d];if(l=h?h[f]:null,!l){let p=null;if("@id"in c){const m=await this.getContainerKey(o[d],o,d);m!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(o),m))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[d]||(this.parsingContext.graphContainerTermStack[d]={}),l=this.parsingContext.graphContainerTermStack[d][f]=p}}return l}async getPropertiesDepth(o,u){let l=u;for(let c=u-1;c>0;c--)if(typeof o[c]!="number"){const d=await this.unaliasKeyword(o[c],o,c);if(d==="@reverse")return c;if(d==="@nest")l=c;else return l}return l}async getContainerKey(o,u,l){const c=await this.unaliasKeyword(o,u,l);return c==="@none"?null:c}validateReverseInEmbeddedNode(o,u,l){if(l&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new t.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,t.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,u,l,c,d,f,h){let p;if(f?(this.validateReverseSubject(c),p=this.dataFactory.quad(c,l,u,d)):p=this.dataFactory.quad(u,l,c,d),h){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[o-1])throw new t.ErrorCoded("Illegal multiple properties in an embedded node",t.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[p]}else this.parsingContext.emitQuad(o,p);const m=this.parsingContext.annotationsBuffer[o];if(m){for(const y of m)this.emitAnnotation(o,p,y);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,u,l){let c;l.reverse?(this.validateReverseSubject(l.object),c=this.dataFactory.quad(l.object,l.predicate,u)):c=this.dataFactory.quad(u,l.predicate,l.object),this.parsingContext.emitQuad(o,c);for(const d of l.nestedAnnotations)this.emitAnnotation(o,c,d)}};return a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Gp.Util=a,Gp}var T7;function $Oe(){if(T7)return zp;T7=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.EntryHandlerArrayValue=void 0;const t=sc(),e=un();let n=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,s,o,u,l){return this.test(a,s,null,o,u)}async test(a,s,o,u,l){return typeof u[l]=="number"}async handle(a,s,o,u,l,c){let d=await s.unaliasKeywordParent(u,c);if(d==="@list"){let f=null,h=0;for(let p=c-2;p>0;p--){const m=u[p];if(typeof m=="string"||typeof m=="number"){h=p,f=m;break}}if(f!==null){const p=await s.valueToTerm(await a.getContext(u),f,l,c,u);for(const m of p)await this.handleListElement(a,s,m,l,c,u.slice(0,h),h);p.length===0&&await this.handleListElement(a,s,null,l,c,u.slice(0,h),h)}}else if(d==="@set")await a.newOnValueJob(u.slice(0,-2),l,c-2,!1);else if(d!==void 0&&d!=="@type"){for(let h=c-1;h>0;h--)if(typeof u[h]!="number"){d=await s.unaliasKeyword(u[h],u,h);break}const f=await a.getContext(u.slice(0,-1));if("@list"in t.Util.getContextValueContainer(f,d)){a.emittedStack[c+1]=!0;const h=await s.valueToTerm(await a.getContext(u),d,l,c,u);for(const p of h)await this.handleListElement(a,s,p,l,c,u.slice(0,-1),c-1);h.length===0&&await this.handleListElement(a,s,null,l,c,u.slice(0,-1),c-1)}else a.shiftStack(c,1),await a.newOnValueJob(u.slice(0,-1),l,c-1,!1),a.contextTree.removeContext(u.slice(0,-1))}}async handleListElement(a,s,o,u,l,c,d){let f=a.listPointerStack[l];if(u!==null&&(await s.unaliasKeywords(u,c,l))["@value"]!==null){if(!f||!f.value){const h=s.dataFactory.blankNode();f={value:h,listRootDepth:d,listId:h}}else{const h=s.dataFactory.blankNode();a.emitQuad(l,s.dataFactory.quad(f.value,s.rdfRest,h,s.getDefaultGraph())),f.value=h}o&&a.emitQuad(l,s.dataFactory.quad(f.value,s.rdfFirst,o,s.getDefaultGraph()))}else f||(f={listRootDepth:d,listId:s.rdfNil});a.listPointerStack[l]=f,a.rdfstar&&a.annotationsBuffer[l]&&a.emitError(new e.ErrorCoded("Found an illegal annotation inside a list",e.ERROR_CODES.INVALID_ANNOTATION))}};return zp.EntryHandlerArrayValue=n,zp}var e0={},E7;function UOe(){if(E7)return e0;E7=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.EntryHandlerInvalidFallback=void 0;let t=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,r,a,s,o){return!1}async test(n,r,a,s,o){return!0}async handle(n,r,a,s,o,u){n.emittedStack[u]=!1}};return e0.EntryHandlerInvalidFallback=t,e0}var t0={},r0={},A7;function Lo(){if(A7)return r0;A7=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.EntryHandlerKeyword=void 0;let t=class{constructor(n){this.keyword=n}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,r,a,s,o){return!1}async test(n,r,a,s,o){return a===this.keyword}};return r0.EntryHandlerKeyword=t,r0}var O7;function kOe(){if(O7)return t0;O7=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.EntryHandlerKeywordContext=void 0;const t=un(),e=Lo();let n=class extends e.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(a,s,o,u,l,c){a.streamingProfile&&(a.processingStack[c]||a.processingType[c]||a.idStack[c]!==void 0)&&a.emitError(new t.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",t.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const d=a.getContext(u),f=a.parseContext(l,(await d).getContextRaw());a.contextTree.setContext(u.slice(0,-1),f),a.emitContext(l),await a.validateContext(await f)}};return t0.EntryHandlerKeywordContext=n,t0}var n0={},R7;function VOe(){if(R7)return n0;R7=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.EntryHandlerKeywordGraph=void 0;const t=Lo();let e=class extends t.EntryHandlerKeyword{constructor(){super("@graph")}async handle(r,a,s,o,u,l){r.graphStack[l+1]=!0}};return n0.EntryHandlerKeywordGraph=e,n0}var i0={},x7;function HOe(){if(x7)return i0;x7=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.EntryHandlerKeywordId=void 0;const t=un(),e=Lo();let n=class extends e.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(a,s,o,u,l,c){if(typeof l!="string"){if(a.rdfstar&&typeof l=="object"){const f=Object.keys(l);f.length===1&&f[0]==="@id"&&a.emitError(new t.ErrorCoded(`Invalid embedded node without property with @id ${l["@id"]}`,t.ERROR_CODES.INVALID_EMBEDDED_NODE))}else a.emitError(new t.ErrorCoded(`Found illegal @id '${l}'`,t.ERROR_CODES.INVALID_ID_VALUE));return}const d=await s.getPropertiesDepth(u,c);if(a.idStack[d]!==void 0&&(a.idStack[d][0].listHead?a.emitError(new t.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u[c-1]}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):a.emitError(new t.ErrorCoded(`Found duplicate @ids '${a.idStack[d][0].value}' and '${l}'`,t.ERROR_CODES.COLLIDING_KEYWORDS))),a.rdfstar&&a.annotationsBuffer[c])for(const f of a.annotationsBuffer[c])f.depth===c&&a.emitError(new t.ErrorCoded(`Found an illegal @id inside an annotation: ${l}`,t.ERROR_CODES.INVALID_ANNOTATION));a.idStack[d]=s.nullableTermToArray(await s.resourceToTerm(await a.getContext(u),l))}};return i0.EntryHandlerKeywordId=n,i0}var a0={},I7;function QOe(){if(I7)return a0;I7=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.EntryHandlerKeywordIncluded=void 0;const t=un(),e=Lo();let n=class extends e.EntryHandlerKeyword{constructor(){super("@included")}async handle(a,s,o,u,l,c){typeof l!="object"&&a.emitError(new t.ErrorCoded(`Found illegal @included '${l}'`,t.ERROR_CODES.INVALID_INCLUDED_VALUE));const d=await s.unaliasKeywords(l,u,c,await a.getContext(u));"@value"in d&&a.emitError(new t.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in d&&a.emitError(new t.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_INCLUDED_VALUE)),a.emittedStack[c]=!1}};return a0.EntryHandlerKeywordIncluded=n,a0}var s0={},P7;function zOe(){if(P7)return s0;P7=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.EntryHandlerKeywordNest=void 0;const t=un(),e=Lo();let n=class extends e.EntryHandlerKeyword{constructor(){super("@nest")}async handle(a,s,o,u,l,c){typeof l!="object"&&a.emitError(new t.ErrorCoded(`Found invalid @nest entry for '${o}': '${l}'`,t.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await s.unaliasKeywords(l,u,c,await a.getContext(u))&&a.emitError(new t.ErrorCoded(`Found an invalid @value node for '${o}'`,t.ERROR_CODES.INVALID_NEST_VALUE)),a.emittedStack[c]=!1}};return s0.EntryHandlerKeywordNest=n,s0}var o0={},N7;function GOe(){if(N7)return o0;N7=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.EntryHandlerKeywordType=void 0;const t=un(),e=sc(),n=tS(),r=Lo();let a=class extends r.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(o,u,l,c,d,f){const h=c[f],p=await o.getContext(c),m=u.rdfType,y=await u.unaliasKeywordParent(c,f),g=e.Util.isPropertyReverse(p,h,y),_=e.Util.isPropertyInEmbeddedNode(y);u.validateReverseInEmbeddedNode(l,g,_);const v=e.Util.isPropertyInAnnotationObject(y),b=Array.isArray(d)?d:[d];for(const A of b){typeof A!="string"&&o.emitError(new t.ErrorCoded(`Found illegal @type '${A}'`,t.ERROR_CODES.INVALID_TYPE_VALUE));const x=u.createVocabOrBaseTerm(p,A);x&&await n.EntryHandlerPredicate.handlePredicateObject(o,u,c,f,m,x,g,_,v)}let w=Promise.resolve(p),S=!1;for(const A of b.sort()){const x=e.Util.getContextValue(p,"@context",A,null);x&&(S=!0,w=w.then(M=>o.parseContext(x,M.getContextRaw())))}o.streamingProfile&&(S||!o.streamingProfileAllowOutOfOrderPlainType)&&(o.processingStack[f]||o.idStack[f])&&o.emitError(new t.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",t.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),S&&(w=w.then(A=>A.getContextRaw()["@propagate"]!==!0?new t.JsonLdContextNormalized(Object.assign(Object.assign({},A.getContextRaw()),{"@propagate":!1,"@__propagateFallback":p.getContextRaw()})):A),o.contextTree.setContext(c.slice(0,c.length-1),w)),o.processingType[f]=!0}};return o0.EntryHandlerKeywordType=a,o0}var u0={},D7;function WOe(){if(D7)return u0;D7=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.EntryHandlerKeywordUnknownFallback=void 0;const t=un();let e=class ZJ{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,a,s,o,u){const l=await a.unaliasKeyword(s[o],s,o);return t.Util.isPotentialKeyword(l)?!(!u&&l==="@list"):!1}async test(r,a,s,o,u){return t.Util.isPotentialKeyword(s)}async handle(r,a,s,o,u,l){const c=ZJ.VALID_KEYWORDS_TYPES[s];c!==void 0?c&&typeof u!==c.type&&r.emitError(new t.ErrorCoded(`Invalid value type for '${s}' with value '${u}'`,c.errorCode)):r.strictValues&&r.emitError(new Error(`Unknown keyword '${s}' with value '${u}'`)),r.emittedStack[l]=!1}};return e.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:t.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:t.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},u0.EntryHandlerKeywordUnknownFallback=e,u0}var c0={},C7;function KOe(){if(C7)return c0;C7=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.EntryHandlerKeywordValue=void 0;const t=Lo();let e=class extends t.EntryHandlerKeyword{constructor(){super("@value")}async validate(r,a,s,o,u){const l=s[o];return l&&!r.literalStack[o]&&await this.test(r,a,l,s,o)&&(r.literalStack[o]=!0),super.validate(r,a,s,o,u)}async test(r,a,s,o,u){return await a.unaliasKeyword(o[u],o.slice(0,o.length-1),u-1,!0)==="@value"}async handle(r,a,s,o,u,l){r.literalStack[l]=!0,delete r.unidentifiedValuesBuffer[l],delete r.unidentifiedGraphsBuffer[l],r.emittedStack[l]=!1}};return c0.EntryHandlerKeywordValue=e,c0}var l0={},d0={},L7;function JOe(){if(L7)return d0;L7=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.ContextTree=void 0;let t=class eX{constructor(){this.subTrees={}}getContext(n){if(n.length>0){const[r,...a]=n,s=this.subTrees[r];if(s){const o=s.getContext(a);if(o)return o.then(({context:u,depth:l})=>({context:u,depth:l+1}))}}return this.context?this.context.then(r=>({context:r,depth:0})):null}setContext(n,r){if(n.length===0)this.context=r;else{const[a,...s]=n;let o=this.subTrees[a];o||(o=this.subTrees[a]=new eX),o.setContext(s,r)}}removeContext(n){this.setContext(n,null)}};return d0.ContextTree=t,d0}var j7;function XOe(){if(j7)return l0;j7=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.ParsingContext=void 0;const t=un(),e=nb(),n=JOe(),r=rX();let a=class tX{constructor(o){this.contextParser=new t.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||r.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new n.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new t.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,u,l){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(o){const u=o.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new e.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new e.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(o,u=1){const l=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);u&&(o=o.slice(0,-u));const c=await this.getContextPropagationAware(o);let f=c.context.getContextRaw();for(let h=c.depth;h<l.length-u;h++){const p=l[h],m=f[p];if(m&&typeof m=="object"&&"@context"in m){const y=(await this.parseContext(m,f,!0)).getContextRaw(),g=!(p in y)||y[p]["@context"]["@propagate"];(g!==!1||h===l.length-1-u)&&(f=Object.assign({},y),delete f["@propagate"],f[p]=Object.assign({},f[p]),"@id"in m&&(f[p]["@id"]=m["@id"]),delete f[p]["@context"],g!==!1&&this.contextTree.setContext(l.slice(0,h+u),Promise.resolve(new t.JsonLdContextNormalized(f))))}}return new t.JsonLdContextNormalized(f)}async getContextPropagationAware(o){const u=o.length;let l=null,c;do{c=!1,l&&"@__propagateFallback"in l.context.getContextRaw()?l.context=new t.JsonLdContextNormalized(l.context.getContextRaw()["@__propagateFallback"]):(l&&(o=o.slice(0,l.depth-1)),l=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const d=o[o.length-1];if(d in l.context.getContextRaw()){const f=l.context.getContextRaw()[d];f&&typeof f=="object"&&"@context"in f&&(c=!0)}}while(l.depth>0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==u&&!c);return l.depth===0&&l.context.getContextRaw()["@propagate"]===!1&&l.depth!==u&&(l.context=new t.JsonLdContextNormalized({})),l}async newOnValueJob(o,u,l,c){await this.parser.newOnValueJob(o,u,l,c)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,u){o===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let u=this.unidentifiedValuesBuffer[o];return u||(u=[],this.unidentifiedValuesBuffer[o]=u),u}getUnidentifiedGraphBufferSafe(o){let u=this.unidentifiedGraphsBuffer[o];return u||(u=[],this.unidentifiedGraphsBuffer[o]=u),u}getAnnotationsBufferSafe(o){let u=this.annotationsBuffer[o];return u||(u=[],this.annotationsBuffer[o]=u),u}getExpandOptions(){return tX.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,u){const l=this.idStack[o+u];if(l&&(this.idStack[o]=l,this.emittedStack[o]=!0,delete this.idStack[o+u]),this.pendingContainerFlushBuffers.length)for(const c of this.pendingContainerFlushBuffers)c.depth>=o+u&&(c.depth-=u,c.keys.splice(o,u));this.unidentifiedValuesBuffer[o+u]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+u],delete this.unidentifiedValuesBuffer[o+u]),this.annotationsBuffer[o+u-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+u-1]],delete this.annotationsBuffer[o+u-1])}};return a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},l0.ParsingContext=a,l0}var f0={},M7;function YOe(){if(M7)return f0;M7=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.EntryHandlerKeywordAnnotation=void 0;const t=Lo(),e=un();let n=class extends t.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(a,s,o,u,l,c){(typeof l=="string"||typeof l=="object"&&l["@value"])&&a.emitError(new e.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(l)}`,e.ERROR_CODES.INVALID_ANNOTATION))}};return f0.EntryHandlerKeywordAnnotation=n,f0}var F7;function rX(){if(F7)return Qp;F7=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.JsonLdParser=void 0;const t=pJ(),e=un(),n=Dt,r=$Oe(),a=YJ(),s=UOe(),o=tS(),u=kOe(),l=VOe(),c=HOe(),d=QOe(),f=zOe(),h=GOe(),p=WOe(),m=KOe(),y=XOe(),g=sc(),_=aJ(),v=YOe();let b=class jc extends n.Transform{constructor(S){super({readableObjectMode:!0}),S=S||{},this.options=S,this.parsingContext=new y.ParsingContext(Object.assign({parser:this},S)),this.util=new g.Util({dataFactory:S.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new t,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(S,A,x,M){let I,N=["application/activity+json"];if(M&&M.wellKnownMediaTypes&&(N=M.wellKnownMediaTypes),A!=="application/ld+json"&&!N.includes(A)){if(A!=="application/json"&&!A.endsWith("+json"))throw new e.ErrorCoded(`Unsupported JSON-LD media type ${A}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(x&&x.has("Link")&&x.forEach((D,V)=>{if(V==="link"){const k=(0,_.parse)(D);for(const U of k.get("rel","http://www.w3.org/ns/json-ld#context")){if(I)throw new e.ErrorCoded("Multiple JSON-LD context link headers were found on "+S,e.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);I=U.uri}}}),!I&&!(M!=null&&M.ignoreMissingContextLinkHeader))throw new e.ErrorCoded(`Missing context link header for media type ${A} on ${S}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let F;if(x&&x.has("Content-Type")){const D=x.get("Content-Type"),V=/; *profile=([^"]*)/.exec(D);V&&V[1]==="http://www.w3.org/ns/json-ld#streaming"&&(F=!0)}return new jc(Object.assign({baseIRI:S,context:I,streamingProfile:F},M||{}))}import(S){if("pipe"in S){S.on("error",x=>A.emit("error",x));const A=S.pipe(new jc(this.options));return A}else{const A=new n.PassThrough({readableObjectMode:!0});S.on("error",M=>x.emit("error",M)),S.on("data",M=>A.push(M)),S.on("end",()=>A.push(null));const x=A.pipe(new jc(this.options));return x}}_transform(S,A,x){this.jsonParser.write(S),this.lastOnValueJob.then(()=>x(),M=>x(M))}async newOnValueJob(S,A,x,M){let I=!0;if(M&&x<this.lastDepth){const k=this.parsingContext.listPointerStack[this.lastDepth];k&&(k.value&&this.push(this.util.dataFactory.quad(k.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),k.listId.listHead=!0,this.parsingContext.idStack[k.listRootDepth+1]=[k.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),I=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const N=await this.util.unaliasKeyword(S[x],S,x),F=await this.util.unaliasKeywordParent(S,x);this.parsingContext.emittedStack[x]=!0;let D=!0;e.Util.isValidKeyword(N)&&F==="@reverse"&&N!=="@context"&&this.emit("error",new e.ErrorCoded(`Found the @id '${A}' inside an @reverse property`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let V=!1;this.parsingContext.validationStack.length>1&&(V=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let k=Math.max(1,this.parsingContext.validationStack.length-1);k<S.length-1;k++){const U=this.parsingContext.validationStack[k]||(this.parsingContext.validationStack[k]=await this.validateKey(S.slice(0,k+1),k,V));if(U.valid)!V&&U.property&&(V=!0);else{this.parsingContext.emittedStack[x]=!1,D=!1;break}}if(await this.util.isLiteral(S,x)&&(D=!1),D)for(const k of jc.ENTRY_HANDLERS){const U=await k.test(this.parsingContext,this.util,N,S,x);if(U){await k.handle(this.parsingContext,this.util,N,S,A,x,U),k.isStackProcessor()&&(this.parsingContext.processingStack[x]=!0);break}}x===0&&Array.isArray(A)&&await this.util.validateValueIndexes(A),I&&x<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=x,this.lastKeys=S,this.parsingContext.unaliasedKeywordCacheStack.splice(x-1)}flushStacks(S){this.parsingContext.processingStack.splice(S,1),this.parsingContext.processingType.splice(S,1),this.parsingContext.emittedStack.splice(S,1),this.parsingContext.idStack.splice(S,1),this.parsingContext.graphStack.splice(S+1,1),this.parsingContext.graphContainerTermStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1),this.parsingContext.validationStack.splice(S-1,2),this.parsingContext.literalStack.splice(S,this.parsingContext.literalStack.length-S),this.parsingContext.annotationsBuffer.splice(S,1)}async flushBuffer(S,A){let x=this.parsingContext.idStack[S];!!x||(x=this.parsingContext.idStack[S]=[this.util.dataFactory.blankNode()]);const I=this.parsingContext.unidentifiedValuesBuffer[S];if(I){for(const D of x){const V=await this.util.getDepthOffsetGraph(S,A),k=this.parsingContext.graphStack[S]||V>=0?this.parsingContext.idStack[S-V-1]:[await this.util.getGraphContainerValue(A,S)];if(k)for(const U of k){this.parsingContext.emittedStack[S]=!0;for(const H of I)this.util.emitQuadChecked(S,D,H.predicate,H.object,U,H.reverse,H.isEmbedded)}else{const U=this.parsingContext.getUnidentifiedGraphBufferSafe(S-await this.util.getDepthOffsetGraph(S,A)-1);for(const H of I)H.reverse?U.push({object:D,predicate:H.predicate,subject:H.object,isEmbedded:H.isEmbedded}):U.push({object:H.object,predicate:H.predicate,subject:D,isEmbedded:H.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(S,1),this.parsingContext.literalStack.splice(S,1),this.parsingContext.jsonLiteralStack.splice(S,1)}const N=this.parsingContext.unidentifiedGraphsBuffer[S];if(N){for(const D of x){const V=S===1&&D.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():D;this.parsingContext.emittedStack[S]=!0;for(const k of N)this.parsingContext.emitQuad(S,this.util.dataFactory.quad(k.subject,k.predicate,k.object,V))}this.parsingContext.unidentifiedGraphsBuffer.splice(S,1)}const F=this.parsingContext.annotationsBuffer[S];if(F){F.length>0&&S===1&&this.parsingContext.emitError(new e.ErrorCoded("Annotations can not be made on top-level nodes",e.ERROR_CODES.INVALID_ANNOTATION));const D=this.parsingContext.getAnnotationsBufferSafe(S-1);for(const V of F)D.push(V);delete this.parsingContext.annotationsBuffer[S]}}async validateKey(S,A,x){for(const M of jc.ENTRY_HANDLERS)if(await M.validate(this.parsingContext,this.util,S,A,x))return{valid:!0,property:x||M.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=S=>{const A=this.jsonParser.stack.length,x=new Array(A+1).fill(0).map((M,I)=>I===A?this.jsonParser.key:this.jsonParser.stack[I].key);if(!this.isParsingContextInner(A)){const M=()=>this.newOnValueJob(x,S,A,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(x.slice(0,-1)))if(x[A]==="@context"){let I=this.contextJobs[A];I||(I=this.contextJobs[A]=[]),I.push(M)}else this.contextAwaitingJobs.push({job:M,keys:x,depth:A});else this.lastOnValueJob=this.lastOnValueJob.then(M);!this.parsingContext.streamingProfile&&A===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=S=>{this.emit("error",S)}}isParsingContextInner(S){for(let A=S;A>0;A--)if(this.jsonParser.stack[A-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const A of this.contextJobs)if(A)for(const x of A)await x();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const S=[];for(const A of this.contextAwaitingJobs)await this.util.unaliasKeyword(A.keys[A.depth],A.keys,A.depth,!0)==="@type"||typeof A.keys[A.depth]=="number"&&await this.util.unaliasKeyword(A.keys[A.depth-1],A.keys,A.depth-1,!0)==="@type"?this.typeJobs.push({job:A.job,keys:A.keys.slice(0,A.keys.length-1)}):S.push(A);for(const A of S){if(this.typeJobs.length>0){const x=[],M=[];for(let F=0;F<this.typeJobs.length;F++){const D=this.typeJobs[F];g.Util.isPrefixArray(D.keys,A.keys)&&(x.push(D),M.push(F))}const I=x.sort((F,D)=>F.keys.length-D.keys.length);for(const F of I)await F.job();const N=M.sort().reverse();for(const F of N)this.typeJobs.splice(F,1)}await A.job()}}};return b.DEFAULT_PROCESSING_MODE="1.1",b.ENTRY_HANDLERS=[new r.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new c.EntryHandlerKeywordId,new d.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new h.EntryHandlerKeywordType,new m.EntryHandlerKeywordValue,new v.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new s.EntryHandlerInvalidFallback],Qp.JsonLdParser=b,Qp}var q7;function ZOe(){return q7||(q7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(rX(),t)}(S3)),S3}var h0={},B7;function iX(){if(B7)return h0;B7=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.DocumentLoaderMediated=void 0;const t=Co(),e=un(),n=ac();let r=class nX extends e.FetchDocumentLoader{constructor(s,o){super(nX.createFetcher(s,o)),this.mediatorHttp=s,this.context=o}static createFetcher(s,o){return async(u,l)=>{const c=await s.mediate({input:u,init:l,context:o});return c.json=async()=>JSON.parse(await n(t.ActorHttp.toNodeReadable(c.body))),c}}};return h0.DocumentLoaderMediated=r,h0}var $7;function eRe(){if($7)return Hp;$7=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.ActorRdfParseJsonLd=void 0;const t=Yl(),e=Ut,n=ZOe(),r=iX();let a=class extends t.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async testHandle(o,u,l){if(l.has(e.KeysRdfParseHtmlScript.processingHtmlScript)&&u!=="application/ld+json")throw new Error("JSON-LD in script tags can only have media type 'application/ld+json'");if(!u||!(u in this.mediaTypePriorities||u.endsWith("+json")))throw new Error(`Unrecognized media type: ${u}`);return await this.testHandleChecked(o)}async runHandle(o,u,l){var f;return{data:n.JsonLdParser.fromHttpResponse(((f=o.metadata)==null?void 0:f.baseIRI)??"",u,o.headers,{documentLoader:l.get(e.KeysRdfParseJsonLd.documentLoader)??new r.DocumentLoaderMediated(this.mediatorHttp,l),strictValues:l.get(e.KeysRdfParseJsonLd.strictValues),...l.get(e.KeysRdfParseJsonLd.parserOptions)}).import(o.data)}}};return Hp.ActorRdfParseJsonLd=a,Hp}var U7;function tRe(){return U7||(U7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(eRe(),t),n(iX(),t)}(w3)),w3}var E3={},p0={},A3={},y0={},k7;function rRe(){if(k7)return y0;k7=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.ActorRdfUpdateHypermedia=void 0;const t=lt;let e=class extends t.Actor{constructor(r,a){super(r),this.destinationType=a}async test(r){if(r.forceDestinationType&&this.destinationType!==r.forceDestinationType)throw new Error(`Actor ${this.name} is not able to handle destination type ${r.forceDestinationType}.`);return this.testMetadata(r)}};return y0.ActorRdfUpdateHypermedia=e,y0}var V7;function AN(){return V7||(V7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(rRe(),t)}(A3)),A3}var m0={},m1={exports:{}},H7;function ON(){return H7||(H7=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof P<"u"&&P,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var u=typeof s<"u"&&s||typeof self<"u"&&self||typeof u<"u"&&u,l={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function c(U){return U&&DataView.prototype.isPrototypeOf(U)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(U){return U&&d.indexOf(Object.prototype.toString.call(U))>-1};function h(U){if(typeof U!="string"&&(U=String(U)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(U)||U==="")throw new TypeError('Invalid character in header field name: "'+U+'"');return U.toLowerCase()}function p(U){return typeof U!="string"&&(U=String(U)),U}function m(U){var H={next:function(){var X=U.shift();return{done:X===void 0,value:X}}};return l.iterable&&(H[Symbol.iterator]=function(){return H}),H}function y(U){this.map={},U instanceof y?U.forEach(function(H,X){this.append(X,H)},this):Array.isArray(U)?U.forEach(function(H){this.append(H[0],H[1])},this):U&&Object.getOwnPropertyNames(U).forEach(function(H){this.append(H,U[H])},this)}y.prototype.append=function(U,H){U=h(U),H=p(H);var X=this.map[U];this.map[U]=X?X+", "+H:H},y.prototype.delete=function(U){delete this.map[h(U)]},y.prototype.get=function(U){return U=h(U),this.has(U)?this.map[U]:null},y.prototype.has=function(U){return this.map.hasOwnProperty(h(U))},y.prototype.set=function(U,H){this.map[h(U)]=p(H)},y.prototype.forEach=function(U,H){for(var X in this.map)this.map.hasOwnProperty(X)&&U.call(H,this.map[X],X,this)},y.prototype.keys=function(){var U=[];return this.forEach(function(H,X){U.push(X)}),m(U)},y.prototype.values=function(){var U=[];return this.forEach(function(H){U.push(H)}),m(U)},y.prototype.entries=function(){var U=[];return this.forEach(function(H,X){U.push([X,H])}),m(U)},l.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function g(U){if(U.bodyUsed)return Promise.reject(new TypeError("Already read"));U.bodyUsed=!0}function _(U){return new Promise(function(H,X){U.onload=function(){H(U.result)},U.onerror=function(){X(U.error)}})}function v(U){var H=new FileReader,X=_(H);return H.readAsArrayBuffer(U),X}function b(U){var H=new FileReader,X=_(H);return H.readAsText(U),X}function w(U){for(var H=new Uint8Array(U),X=new Array(H.length),ee=0;ee<H.length;ee++)X[ee]=String.fromCharCode(H[ee]);return X.join("")}function S(U){if(U.slice)return U.slice(0);var H=new Uint8Array(U.byteLength);return H.set(new Uint8Array(U)),H.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(U){this.bodyUsed=this.bodyUsed,this._bodyInit=U,U?typeof U=="string"?this._bodyText=U:l.blob&&Blob.prototype.isPrototypeOf(U)?this._bodyBlob=U:l.formData&&FormData.prototype.isPrototypeOf(U)?this._bodyFormData=U:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)?this._bodyText=U.toString():l.arrayBuffer&&l.blob&&c(U)?(this._bodyArrayBuffer=S(U.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(U)||f(U))?this._bodyArrayBuffer=S(U):this._bodyText=U=Object.prototype.toString.call(U):this._bodyText="",this.headers.get("content-type")||(typeof U=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var U=g(this);if(U)return U;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var U=g(this);return U||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var U=g(this);if(U)return U;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(U){var H=U.toUpperCase();return x.indexOf(H)>-1?H:U}function I(U,H){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');H=H||{};var X=H.body;if(U instanceof I){if(U.bodyUsed)throw new TypeError("Already read");this.url=U.url,this.credentials=U.credentials,H.headers||(this.headers=new y(U.headers)),this.method=U.method,this.mode=U.mode,this.signal=U.signal,!X&&U._bodyInit!=null&&(X=U._bodyInit,U.bodyUsed=!0)}else this.url=String(U);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new y(H.headers)),this.method=M(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&X)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(X),(this.method==="GET"||this.method==="HEAD")&&(H.cache==="no-store"||H.cache==="no-cache")){var ee=/([?&])_=[^&]*/;if(ee.test(this.url))this.url=this.url.replace(ee,"$1_="+new Date().getTime());else{var fe=/\?/;this.url+=(fe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function N(U){var H=new FormData;return U.trim().split("&").forEach(function(X){if(X){var ee=X.split("="),fe=ee.shift().replace(/\+/g," "),Te=ee.join("=").replace(/\+/g," ");H.append(decodeURIComponent(fe),decodeURIComponent(Te))}}),H}function F(U){var H=new y,X=U.replace(/\r?\n[\t ]+/g," ");return X.split("\r").map(function(ee){return ee.indexOf(`
`)===0?ee.substr(1,ee.length):ee}).forEach(function(ee){var fe=ee.split(":"),Te=fe.shift().trim();if(Te){var De=fe.join(":").trim();H.append(Te,De)}}),H}A.call(I.prototype);function D(U,H){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText=H.statusText===void 0?"":""+H.statusText,this.headers=new y(H.headers),this.url=H.url||"",this._initBody(U)}A.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},D.error=function(){var U=new D(null,{status:0,statusText:""});return U.type="error",U};var V=[301,302,303,307,308];D.redirect=function(U,H){if(V.indexOf(H)===-1)throw new RangeError("Invalid status code");return new D(null,{status:H,headers:{location:U}})},o.DOMException=u.DOMException;try{new o.DOMException}catch{o.DOMException=function(H,X){this.message=H,this.name=X;var ee=Error(H);this.stack=ee.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function k(U,H){return new Promise(function(X,ee){var fe=new I(U,H);if(fe.signal&&fe.signal.aborted)return ee(new o.DOMException("Aborted","AbortError"));var Te=new XMLHttpRequest;function De(){Te.abort()}Te.onload=function(){var le={status:Te.status,statusText:Te.statusText,headers:F(Te.getAllResponseHeaders()||"")};le.url="responseURL"in Te?Te.responseURL:le.headers.get("X-Request-URL");var ue="response"in Te?Te.response:Te.responseText;setTimeout(function(){X(new D(ue,le))},0)},Te.onerror=function(){setTimeout(function(){ee(new TypeError("Network request failed"))},0)},Te.ontimeout=function(){setTimeout(function(){ee(new TypeError("Network request failed"))},0)},Te.onabort=function(){setTimeout(function(){ee(new o.DOMException("Aborted","AbortError"))},0)};function Ve(le){try{return le===""&&u.location.href?u.location.href:le}catch{return le}}Te.open(fe.method,Ve(fe.url),!0),fe.credentials==="include"?Te.withCredentials=!0:fe.credentials==="omit"&&(Te.withCredentials=!1),"responseType"in Te&&(l.blob?Te.responseType="blob":l.arrayBuffer&&fe.headers.get("Content-Type")&&fe.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Te.responseType="arraybuffer")),H&&typeof H.headers=="object"&&!(H.headers instanceof y)?Object.getOwnPropertyNames(H.headers).forEach(function(le){Te.setRequestHeader(le,p(H.headers[le]))}):fe.headers.forEach(function(le,ue){Te.setRequestHeader(ue,le)}),fe.signal&&(fe.signal.addEventListener("abort",De),Te.onreadystatechange=function(){Te.readyState===4&&fe.signal.removeEventListener("abort",De)}),Te.send(typeof fe._bodyInit>"u"?null:fe._bodyInit)})}return k.polyfill=!0,u.fetch||(u.fetch=k,u.Headers=y,u.Request=I,u.Response=D),o.Headers=y,o.Request=I,o.Response=D,o.fetch=k,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=n.fetch?n:r;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e}(m1,m1.exports)),m1.exports}var Q7;function aX(){if(Q7)return m0;Q7=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.QuadDestinationPatchSparqlUpdate=void 0;const t=Co(),e=ON(),n=ib(),r=Dt;let a=class{constructor(o,u,l){this.url=o,this.context=u,this.mediatorHttp=l}insert(o){return this.wrapSparqlUpdateRequest("INSERT",o)}async delete(o){return this.wrapSparqlUpdateRequest("DELETE",o)}async wrapSparqlUpdateRequest(o,u){const l=u.map(h=>{let p=`${(0,n.termToString)(h.subject)} ${(0,n.termToString)(h.predicate)} ${(0,n.termToString)(h.object)} .`;return h.graph.termType==="DefaultGraph"?p=`  ${p}
`:p=`  GRAPH ${(0,n.termToString)(h.graph)} { ${p} }
`,p}).prepend([`${o} DATA {
`]).append(["}"]),c=new r.Readable;c.wrap(l);const d=new e.Headers({"content-type":"application/sparql-update"}),f=await this.mediatorHttp.mediate({context:this.context,init:{headers:d,method:"PATCH",body:t.ActorHttp.toWebReadableStream(c)},input:this.url});await(0,t.validateAndCloseHttpResponse)(this.url,f)}async deleteGraphs(o,u,l){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(o,u){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}};return m0.QuadDestinationPatchSparqlUpdate=a,m0}var z7;function nRe(){if(z7)return p0;z7=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const t=AN(),e=aX();let n=class extends t.ActorRdfUpdateHypermedia{constructor(a){super(a,"patchSparqlUpdate")}async testMetadata(a){if(!a.forceDestinationType&&!a.metadata.patchSparqlUpdate)throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);if(!a.forceDestinationType&&!a.exists)throw new Error(`Actor ${this.name} can only patch a destination that already exists.`);return!0}async run(a){return this.logInfo(a.context,`Identified as patchSparqlUpdate destination: ${a.url}`),{destination:new e.QuadDestinationPatchSparqlUpdate(a.url,a.context,this.mediatorHttp)}}};return p0.ActorRdfUpdateHypermediaPatchSparqlUpdate=n,p0}var G7;function iRe(){return G7||(G7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(nRe(),t),n(aX(),t)}(E3)),E3}var O3={},g0={},_0={},W7;function sX(){if(W7)return _0;W7=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.QuadDestinationPutLdp=void 0;const t=Co(),e=ON();let n=class{constructor(a,s,o,u,l,c){this.url=a,this.context=s,this.mediaTypes=o,this.mediatorHttp=u,this.mediatorRdfSerializeMediatypes=l,this.mediatorRdfSerialize=c}insert(a){return this.wrapRdfUpdateRequest("INSERT",a)}async delete(a){throw new Error("Put-based LDP destinations don't support deletions")}async wrapRdfUpdateRequest(a,s){const{mediaTypes:o}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),u=this.mediaTypes.filter(h=>h in o),l=u.length>0?u[0]:Object.keys(o).sort((h,p)=>o[p]-o[h])[0],{handle:{data:c}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:s,context:this.context},handleMediaType:l}),d=new e.Headers({"content-type":l}),f=await this.mediatorHttp.mediate({context:this.context,init:{headers:d,method:"PUT",body:t.ActorHttp.toWebReadableStream(c)},input:this.url});await(0,t.validateAndCloseHttpResponse)(this.url,f)}async deleteGraphs(a,s,o){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(a,s){throw new Error("Put-based LDP destinations don't support named graphs")}};return _0.QuadDestinationPutLdp=n,_0}var K7;function aRe(){if(K7)return g0;K7=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.ActorRdfUpdateHypermediaPutLdp=void 0;const t=AN(),e=sX();let n=class extends t.ActorRdfUpdateHypermedia{constructor(a){super(a,"putLdp")}async testMetadata(a){if(!a.forceDestinationType){if(!a.metadata.allowHttpMethods||!a.metadata.allowHttpMethods.includes("PUT"))throw new Error(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(a.exists)throw new Error(`Actor ${this.name} can only put on a destination that does not already exists.`)}return!0}async run(a){return this.logInfo(a.context,`Identified as putLdp destination: ${a.url}`),{destination:new e.QuadDestinationPutLdp(a.url,a.context,a.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}};return g0.ActorRdfUpdateHypermediaPutLdp=n,g0}var J7;function sRe(){return J7||(J7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(aRe(),t),n(sX(),t)}(O3)),O3}var R3={},b0={},v0={},x3={},w0={},I3={},S0={},X7;function oRe(){if(X7)return S0;X7=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.SparqlXmlParser=void 0;const t=Rt,e=RJ(),n=Dt;let r=class{constructor(s){s=s||{},this.dataFactory=s.dataFactory||new t.DataFactory,this.prefixVariableQuestionMark=!!s.prefixVariableQuestionMark}parseXmlResultsStream(s){const o=b=>v.emit("error",b);s.on("error",o);const u=new e.SaxesParser,l=[];let c=!1,d=!1;const f=[];let h={},p="",m="",y,g="",_=[];u.on("error",o),u.on("opentag",b=>{b.name==="variable"&&this.stackEquals(l,["sparql","head"])?f.push(this.dataFactory.variable(b.attributes.name)):b.name==="results"&&this.stackEquals(l,["sparql"])?d=!0:b.name==="result"&&this.stackEquals(l,["sparql","results"])?h={}:b.name==="binding"&&this.stackEquals(l,["sparql","results","result"])?(p=b.attributes.name||"",m="",y="",g="",_=[]):b.name==="triple"&&this.stackBeginsWith(l,["sparql","results","result"])?_.push({components:{}}):l[l.length-1]==="triple"&&this.stackBeginsWith(l,["sparql","results","result","binding"])?(m="",y="",g="",["subject","predicate","object"].includes(b.name)?_[_.length-1].currentComponent=b.name:o(new Error(`Illegal quoted triple component '${b.name}' found on line ${u.line+1}`))):this.stackBeginsWith(l,["sparql","results","result","binding"])&&(m=b.name,"xml:lang"in b.attributes?y=b.attributes["xml:lang"]:"datatype"in b.attributes?y=this.dataFactory.namedNode(b.attributes.datatype):y=void 0),l.push(b.name)}),u.on("closetag",b=>{if(this.stackEquals(l,["sparql","head"])&&(v.emit("variables",f),c=!0),this.stackEquals(l,["sparql","results","result"])&&v.push(h),this.stackBeginsWith(l,["sparql","results","result","binding"])){let w;if(!p&&m)o(new Error(`Terms should have a name on line ${u.line+1}`));else if(m==="uri")w=this.dataFactory.namedNode(g);else if(m==="bnode")w=this.dataFactory.blankNode(g);else if(m==="literal")w=this.dataFactory.literal(g,y);else if(l[l.length-1]==="triple"){const S=_.pop();S&&S.components.subject&&S.components.predicate&&S.components.object?w=this.dataFactory.quad(S.components.subject,S.components.predicate,S.components.object):o(new Error(`Incomplete quoted triple on line ${u.line+1}`))}else m&&o(new Error(`Invalid term type '${m}' on line ${u.line+1}`));if(w)if(_.length>0){const S=_[_.length-1];S.components[S.currentComponent]&&o(new Error(`The ${S.currentComponent} in a quoted triple on line ${u.line+1} was already defined before`)),S.components[S.currentComponent]=w}else{const S=this.prefixVariableQuestionMark?"?"+p:p;h[S]=w}m=void 0}l.pop()}),u.on("text",b=>{this.stackBeginsWith(l,["sparql","results","result","binding"])&&l[l.length-1]===m&&(g=b)});const v=s.on("end",b=>{d?c||v.emit("variables",[]):v.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new n.Transform({objectMode:!0,transform(b,w,S){u.write(b),S()}}));return v}parseXmlBooleanStream(s){return new Promise((o,u)=>{const l=new e.SaxesParser,c=[];l.on("error",u),l.on("opentag",d=>{c.push(d.name)}),l.on("closetag",d=>{c.pop()}),l.on("text",d=>{this.stackEquals(c,["sparql","boolean"])&&o(d==="true")}),s.on("error",u).on("data",d=>l.write(d)).on("end",()=>u(new Error("No valid ASK response was found.")))})}stackEquals(s,o){return s.length===o.length&&s.every((u,l)=>o[l]===u)}stackBeginsWith(s,o){return s.length>=o.length&&o.every((u,l)=>s[l]===u)}};return S0.SparqlXmlParser=r,S0}var Y7;function uRe(){return Y7||(Y7=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(oRe(),t)}(I3)),I3}var T0={},Z7;function cRe(){if(Z7)return T0;Z7=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.ReadableWebToNodeStream=void 0;const t=Dt;class e extends t.Readable{constructor(r){super(),this.bytesRead=0,this.released=!1,this.reader=r.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const r=await this.pendingRead;delete this.pendingRead,r.done||this.released?this.push(null):(this.bytesRead+=r.value.length,this.push(r.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}return T0.ReadableWebToNodeStream=e,T0}var eB;function lRe(){if(eB)return w0;eB=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.SparqlEndpointFetcher=void 0,cN();const t=Xu,e=yJ(),n=uRe(),r=ac(),a=cRe(),s=Do,o=zJ();let u=class yu{constructor(c){c=c||{},this.method=c.method||"POST",this.additionalUrlParams=c.additionalUrlParams||new URLSearchParams,this.defaultHeaders=c.defaultHeaders||new Headers,this.fetchCb=c.fetch,this.sparqlJsonParser=new e.SparqlJsonParser(c),this.sparqlXmlParser=new n.SparqlXmlParser(c),this.sparqlParsers={[yu.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:d=>this.sparqlJsonParser.parseJsonBooleanStream(d),parseResultsStream:d=>this.sparqlJsonParser.parseJsonResultsStream(d)},[yu.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:d=>this.sparqlXmlParser.parseXmlBooleanStream(d),parseResultsStream:d=>this.sparqlXmlParser.parseXmlResultsStream(d)}},this.timeout=c.timeout}getQueryType(c){const d=new t.Parser({sparqlStar:!0}).parse(c);return d.type==="query"?d.queryType==="DESCRIBE"?"CONSTRUCT":d.queryType:"UNKNOWN"}getUpdateTypes(c){const d=new t.Parser({sparqlStar:!0}).parse(c);if(d.type==="update"){const f={};for(const h of d.updates)"type"in h?f[h.type]=!0:f[h.updateType]=!0;return f}else return"UNKNOWN"}async fetchBindings(c,d){const[f,h]=await this.fetchRawStream(c,d,yu.CONTENTTYPE_SPARQL),p=this.sparqlParsers[f];if(!p)throw new Error("Unknown SPARQL results content type: "+f);return p.parseResultsStream(h)}async fetchAsk(c,d){const[f,h]=await this.fetchRawStream(c,d,yu.CONTENTTYPE_SPARQL),p=this.sparqlParsers[f];if(!p)throw new Error("Unknown SPARQL results content type: "+f);return p.parseBooleanStream(h)}async fetchTriples(c,d){return(await this.fetchRawStream(c,d,yu.CONTENTTYPE_TURTLE))[1].pipe(new s.StreamParser({format:yu.CONTENTTYPE_TURTLE}))}async fetchUpdate(c,d){const f=globalThis.AbortController||await Promise.resolve().then(()=>fl()),h=new f,p={};this.defaultHeaders.forEach((y,g)=>{p[g]=y});const m={method:"POST",headers:Object.assign(Object.assign({},p),{"content-type":"application/sparql-update"}),body:d,signal:h.signal};await this.handleFetchCall(c,m,{ignoreBody:!0}),h.abort()}async fetchRawStream(c,d,f){let h=this.method==="POST"?c:c+"?query="+encodeURIComponent(d);const p=new Headers(this.defaultHeaders);let m;return p.append("Accept",f),this.method==="POST"?(p.append("Content-Type","application/x-www-form-urlencoded"),m=new URLSearchParams,m.set("query",d),this.additionalUrlParams.forEach((y,g)=>{m.set(g,y)}),p.append("Content-Length",m.toString().length.toString())):this.additionalUrlParams.toString()!==""&&(h+=`&${this.additionalUrlParams.toString()}`),this.handleFetchCall(h,{headers:p,method:this.method,body:m})}async handleFetchCall(c,d,f={}){let h;if(this.timeout){const g=new AbortController;d.signal=g.signal,h=setTimeout(()=>g.abort(),this.timeout)}const p=await(this.fetchCb||fetch)(c,d);clearTimeout(h);let m;f.ignoreBody||(m=o(p.body)?p.body:new a.ReadableWebToNodeStream(p.body));let y=p.headers.get("Content-Type")||"";if(y.indexOf(";")>0&&(y=y.substr(0,y.indexOf(";"))),!p.ok){const g=/^[^?]*/u.exec(c)[0];let _="empty response";throw m&&(_=await r(m)),new Error(`Invalid SPARQL endpoint response from ${g} (HTTP status ${p.status}):
${_}`)}return[y,m]}};return u.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",u.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",u.CONTENTTYPE_SPARQL=`${u.CONTENTTYPE_SPARQL_JSON};q=1.0,${u.CONTENTTYPE_SPARQL_XML};q=0.7`,u.CONTENTTYPE_TURTLE="text/turtle",w0.SparqlEndpointFetcher=u,w0}var tB;function oX(){return tB||(tB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(lRe(),t)}(x3)),x3}var rB;function uX(){if(rB)return v0;rB=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.QuadDestinationSparql=void 0;const t=oX(),e=ib(),n=ac();let r=class{constructor(s,o,u){this.url=s,this.context=o,this.mediatorHttp=u,this.endpointFetcher=new t.SparqlEndpointFetcher({fetch:(l,c)=>this.mediatorHttp.mediate({input:l,init:c,context:this.context}),prefixVariableQuestionMark:!0})}insert(s){return this.wrapSparqlUpdateRequest("INSERT",s)}async delete(s){return this.wrapSparqlUpdateRequest("DELETE",s)}async wrapSparqlUpdateRequest(s,o){const u=o.map(c=>{let d=`${(0,e.termToString)(c.subject)} ${(0,e.termToString)(c.predicate)} ${(0,e.termToString)(c.object)} .`;return c.graph.termType==="DefaultGraph"?d=`  ${d}
`:d=`  GRAPH ${(0,e.termToString)(c.graph)} { ${d} }
`,d}).prepend([`${s} DATA {
`]).append(["}"]),l=await n(u);await this.endpointFetcher.fetchUpdate(this.url,l)}async deleteGraphs(s,o,u){const l=Array.isArray(s)?s:[s],c=[];for(const d of l){let f;typeof d=="string"?f=d:d.termType==="DefaultGraph"?f="DEFAULT":f=`GRAPH <${d.value}>`,c.push(`${u?"DROP":"CLEAR"} ${o?"":"SILENT "}${f}`)}await this.endpointFetcher.fetchUpdate(this.url,c.join("; "))}async createGraphs(s,o){const u=[];for(const l of s)u.push(`CREATE${o?"":" SILENT"} GRAPH <${l.value}>`);await this.endpointFetcher.fetchUpdate(this.url,u.join("; "))}};return v0.QuadDestinationSparql=r,v0}var nB;function dRe(){if(nB)return b0;nB=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.ActorRdfUpdateHypermediaSparql=void 0;const t=AN(),e=uX();let n=class extends t.ActorRdfUpdateHypermedia{constructor(a){super(a,"sparql")}async testMetadata(a){if(!a.forceDestinationType&&!a.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&a.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&a.url.endsWith("/update")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`);return!0}async run(a){return this.logInfo(a.context,`Identified as sparql destination: ${a.url}`),{destination:new e.QuadDestinationSparql(a.metadata.sparqlService||a.url,a.context,this.mediatorHttp)}}};return b0.ActorRdfUpdateHypermediaSparql=n,b0}var iB;function fRe(){return iB||(iB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(dRe(),t),n(uX(),t)}(R3)),R3}var P3={},E0={},aB;function hRe(){if(aB)return E0;aB=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.ActorQueryOperationAsk=void 0;const t=Ot();let e=class extends t.ActorQueryOperationTypedMediated{constructor(r){super(r,"ask")}async testOperation(r,a){return!0}async runOperation(r,a){const s=await this.mediatorQueryOperation.mediate({operation:r.input,context:a}),{bindingsStream:o}=t.ActorQueryOperation.getSafeBindings(s);return{type:"boolean",execute:async()=>(await o.take(1).toArray()).length===1}}};return E0.ActorQueryOperationAsk=e,E0}var sB;function pRe(){return sB||(sB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(hRe(),t)}(P3)),P3}var N3={},A0={},oB;function yRe(){if(oB)return A0;oB=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.ActorQueryOperationBgpJoin=void 0;const t=Ot(),e=Pt();let n=class cX extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"bgp")}async testOperation(a,s){return!0}async runOperation(a,s){return this.mediatorQueryOperation.mediate({operation:cX.FACTORY.createJoin(a.patterns),context:s})}};return A0.ActorQueryOperationBgpJoin=n,n.FACTORY=new e.Factory,A0}var uB;function mRe(){return uB||(uB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(yRe(),t)}(N3)),N3}var D3={},O0={},cB;function gRe(){if(cB)return O0;cB=1,Object.defineProperty(O0,"__esModule",{value:!0}),O0.ActorQueryOperationDistinctHash=void 0;const t=Ot();let e=class extends t.ActorQueryOperationTypedMediated{constructor(r){super(r,"distinct")}async testOperation(r,a){return!0}async runOperation(r,a){const s=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:r.input,context:a}));return{type:"bindings",bindingsStream:s.bindingsStream.filter(await this.newHashFilter(a)),metadata:s.metadata}}async newHashFilter(r){const{hashFunction:a}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:r}),s={};return o=>{const u=a(o);return!(u in s)&&(s[u]=!0)}}};return O0.ActorQueryOperationDistinctHash=e,O0}var lB;function _Re(){return lB||(lB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(gRe(),t)}(D3)),D3}var C3={},R0={},x0={},dB;function lX(){if(dB)return x0;dB=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.BindingsToQuadsIterator=void 0;const t=Bt(),e=Rt,n=vn(),r=new e.DataFactory;let a=class wg extends t.MultiTransformIterator{constructor(o,u){super(u,{autoStart:!1}),this.template=o,this.blankNodeCounter=0}static bindTerm(o,u){return u.termType==="Variable"?o.get(u):u}static bindQuad(o,u){try{return(0,n.mapTermsNested)(u,l=>{const c=wg.bindTerm(o,l);if(!c)throw new Error("Unbound term");return c})}catch{}}static localizeBlankNode(o,u){return u.termType==="BlankNode"?r.blankNode(`${u.value}${o}`):u}static localizeQuad(o,u){return(0,n.mapTermsNested)(u,l=>wg.localizeBlankNode(o,l))}bindTemplate(o,u,l){return u.map(wg.localizeQuad.bind(null,l)).map(d=>wg.bindQuad.bind(null,o)(d)).filter(Boolean)}_createTransformer(o){return new t.ArrayIterator(this.bindTemplate(o,this.template,this.blankNodeCounter++),{autoStart:!1})}};return x0.BindingsToQuadsIterator=a,x0}var fB;function bRe(){if(fB)return R0;fB=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.ActorQueryOperationConstruct=void 0;const t=Ot(),e=vn(),n=Pt(),r=lX();let a=class dX extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"construct")}static getVariables(o){return(0,e.uniqTerms)([].concat.apply([],o.map(u=>(0,e.getVariables)((0,e.getTermsNested)(u)))))}async testOperation(o,u){return!0}async runOperation(o,u){const l=dX.getVariables(o.template),c={type:n.Algebra.types.PROJECT,input:o.input,variables:l},d=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:c,context:u})),f=new r.BindingsToQuadsIterator(o.template,d.bindingsStream);return{metadata:()=>d.metadata().then(p=>({...p,order:void 0,cardinality:{type:p.cardinality.type,value:p.cardinality.value*o.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:f,type:"quads"}}};return R0.ActorQueryOperationConstruct=a,R0}var hB;function fX(){return hB||(hB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(bRe(),t),n(lX(),t)}(C3)),C3}var L3={},I0={},pB;function vRe(){if(pB)return I0;pB=1,Object.defineProperty(I0,"__esModule",{value:!0}),I0.ActorQueryOperationFromQuad=void 0;const t=Ot(),e=Pt();let n=class _r extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"from")}static copyOperation(a,s){const o={};for(const u of Object.keys(a))Array.isArray(a[u])&&u!=="template"?u==="variables"?o[u]=a[u]:o[u]=a[u].map(s):_r.ALGEBRA_TYPES.includes(a[u].type)?o[u]=s(a[u]):o[u]=a[u];return o}static applyOperationDefaultGraph(a,s){if(a.type==="bgp"&&a.patterns.length>0||a.type==="path"||a.type==="pattern"){if(a.type==="bgp")return _r.joinOperations(a.patterns.map(u=>{if(u.graph.termType!=="DefaultGraph")return _r.FACTORY.createBgp([u]);const l=s.map(c=>_r.FACTORY.createBgp([Object.assign(_r.FACTORY.createPattern(u.subject,u.predicate,u.object,c),{metadata:u.metadata})]));return _r.unionOperations(l)}));if(a.graph.termType!=="DefaultGraph")return a;const o=s.map(u=>a.type==="path"?_r.FACTORY.createPath(a.subject,a.predicate,a.object,u):Object.assign(_r.FACTORY.createPattern(a.subject,a.predicate,a.object,u),{metadata:a.metadata}));return _r.unionOperations(o)}return _r.copyOperation(a,o=>this.applyOperationDefaultGraph(o,s))}static applyOperationNamedGraph(a,s,o){if(a.type==="bgp"&&a.patterns.length>0||a.type==="path"||a.type==="pattern"){const u=a.type==="bgp"?a.patterns[0].graph:a.graph;if(u.termType==="DefaultGraph")return{type:e.Algebra.types.BGP,patterns:[]};if(u.termType==="Variable"){if(s.length===1){const c=s[0],d={};d[`?${u.value}`]=c;const f=_r.FACTORY.createValues([u],[d]);let h;return a.type==="bgp"?h=_r.FACTORY.createBgp(a.patterns.map(p=>_r.FACTORY.createPattern(p.subject,p.predicate,p.object,c))):a.type==="path"?h=_r.FACTORY.createPath(a.subject,a.predicate,a.object,c):h=_r.FACTORY.createPattern(a.subject,a.predicate,a.object,c),_r.FACTORY.createJoin([f,h])}return _r.unionOperations(s.map(c=>_r.applyOperationNamedGraph(a,[c],o)))}return[...s,...o].some(c=>c.equals(u))?a:{type:e.Algebra.types.BGP,patterns:[]}}return _r.copyOperation(a,u=>this.applyOperationNamedGraph(u,s,o))}static joinOperations(a){if(a.length===1)return a[0];if(a.length>1)return _r.FACTORY.createJoin(a);throw new Error("A join can only be applied on at least one operation")}static unionOperations(a){if(a.length===1)return a[0];if(a.length>1)return _r.FACTORY.createUnion(a);throw new Error("A union can only be applied on at least one operation")}static createOperation(a){let s=a.input;return a.default.length>0&&(s=_r.applyOperationDefaultGraph(s,a.default)),(a.named.length>0||a.default.length>0)&&(s=_r.applyOperationNamedGraph(s,a.named,a.default)),s}async testOperation(a,s){return!0}async runOperation(a,s){const o=_r.createOperation(a);return this.mediatorQueryOperation.mediate({operation:o,context:s})}};return I0.ActorQueryOperationFromQuad=n,n.FACTORY=new e.Factory,n.ALGEBRA_TYPES=Object.keys(e.Algebra.types).map(r=>e.Algebra.types[r]),I0}var yB;function wRe(){return yB||(yB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(vRe(),t)}(L3)),L3}var j3={},P0={},mB;function SRe(){if(mB)return P0;mB=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.ActorQueryOperationProject=void 0;const t=Ot(),e=eN(),n=Rt,r=new n.DataFactory;let a=class extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"project")}async testOperation(o,u){return!0}async runOperation(o,u){const l=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o.input,context:u})),c=await l.metadata(),d=o.variables,f=c.variables.filter(y=>!d.some(g=>y.value===g.value)),h=d.filter(y=>!c.variables.some(g=>y.value===g.value));if(h.length>0)throw new Error(`Variables '${h.map(y=>`?${y.value}`)}' are used in the projection result, but are not assigned.`);let p=f.length===0?l.bindingsStream:l.bindingsStream.map(y=>{for(const g of f)y=y.delete(g);return y}),m=0;return p=p.map(y=>{m++;const g=new Map;return y.map(_=>{if(_ instanceof e.BlankNodeBindingsScoped){let v=g.get(_.value);return v||(v=r.blankNode(`${_.value}${m}`),g.set(_.value,v)),v}return _})}),{type:"bindings",bindingsStream:p,metadata:async()=>({...c,variables:d})}}};return P0.ActorQueryOperationProject=a,P0}var gB;function TRe(){return gB||(gB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(SRe(),t)}(j3)),j3}var M3={},N0={},D0={},_B;function jo(){var h,p,y,g,_,v,b,w,S,A,x,M,I,N,F,D,V,k,U,H,X,ee,fe,Te,De,Px,le,ue,Ie,Ne,we,hX,Se,z,L,B,Js,O,Xs,G,Nx,Y,ie,W1,he,K1,ve,br,Ee,Dx,Fe,Sg;if(_B)return D0;_B=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.LRUCache=void 0;const t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,n=typeof Es=="object"&&Es?Es:{},r=(K,C,q,W)=>{typeof n.emitWarning=="function"?n.emitWarning(K,C,q,W):console.error(`[${q}] ${C}: ${K}`)};let a=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof a>"u"){s=class{constructor(){Ir(this,"onabort");Ir(this,"_onabort",[]);Ir(this,"reason");Ir(this,"aborted",!1)}addEventListener(W,re){this._onabort.push(re)}},a=class{constructor(){Ir(this,"signal",new s);C()}abort(W){var re,pe;if(!this.signal.aborted){this.signal.reason=W,this.signal.aborted=!0;for(const ge of this.signal._onabort)ge(W);(pe=(re=this.signal).onabort)==null||pe.call(re,W)}}};let K=((h=n.env)==null?void 0:h.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const C=()=>{K&&(K=!1,r("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",C))}}const o=K=>!e.has(K),u=K=>K&&K===Math.floor(K)&&K>0&&isFinite(K),l=K=>u(K)?K<=Math.pow(2,8)?Uint8Array:K<=Math.pow(2,16)?Uint16Array:K<=Math.pow(2,32)?Uint32Array:K<=Number.MAX_SAFE_INTEGER?c:null:null;class c extends Array{constructor(C){super(C),this.fill(0)}}const m=class m{constructor(C,q){Ir(this,"heap");Ir(this,"length");if(!be(m,p))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new q(C),this.length=0}static create(C){const q=l(C);if(!q)return[];Tt(m,p,!0);const W=new m(C,q);return Tt(m,p,!1),W}push(C){this.heap[this.length++]=C}pop(){return this.heap[--this.length]}};p=new WeakMap,Mt(m,p,!1);let d=m;const ke=class ke{constructor(C){Mt(this,De);Mt(this,we);Mt(this,B);Mt(this,O);Mt(this,G);Mt(this,ie);Mt(this,he);Mt(this,ve);Mt(this,Ee);Mt(this,Fe);Mt(this,y,void 0);Mt(this,g,void 0);Mt(this,_,void 0);Mt(this,v,void 0);Mt(this,b,void 0);Ir(this,"ttl");Ir(this,"ttlResolution");Ir(this,"ttlAutopurge");Ir(this,"updateAgeOnGet");Ir(this,"updateAgeOnHas");Ir(this,"allowStale");Ir(this,"noDisposeOnSet");Ir(this,"noUpdateTTL");Ir(this,"maxEntrySize");Ir(this,"sizeCalculation");Ir(this,"noDeleteOnFetchRejection");Ir(this,"noDeleteOnStaleGet");Ir(this,"allowStaleOnFetchAbort");Ir(this,"allowStaleOnFetchRejection");Ir(this,"ignoreFetchAbort");Mt(this,w,void 0);Mt(this,S,void 0);Mt(this,A,void 0);Mt(this,x,void 0);Mt(this,M,void 0);Mt(this,I,void 0);Mt(this,N,void 0);Mt(this,F,void 0);Mt(this,D,void 0);Mt(this,V,void 0);Mt(this,k,void 0);Mt(this,U,void 0);Mt(this,H,void 0);Mt(this,X,void 0);Mt(this,ee,void 0);Mt(this,fe,void 0);Mt(this,Te,void 0);Mt(this,le,()=>{});Mt(this,ue,()=>{});Mt(this,Ie,()=>{});Mt(this,Ne,()=>!1);Mt(this,Se,C=>{});Mt(this,z,(C,q,W)=>{});Mt(this,L,(C,q,W,re)=>{if(W||re)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Ir(this,Y,"LRUCache");const{max:q=0,ttl:W,ttlResolution:re=1,ttlAutopurge:pe,updateAgeOnGet:ge,updateAgeOnHas:qe,allowStale:Z,dispose:Oe,disposeAfter:je,noDisposeOnSet:Be,noUpdateTTL:Ye,maxSize:ct=0,maxEntrySize:ft=0,sizeCalculation:st,fetchMethod:yt,noDeleteOnFetchRejection:ne,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:j,ignoreFetchAbort:J}=C;if(q!==0&&!u(q))throw new TypeError("max option must be a nonnegative integer");const me=q?l(q):Array;if(!me)throw new Error("invalid max value: "+q);if(Tt(this,y,q),Tt(this,g,ct),this.maxEntrySize=ft||be(this,g),this.sizeCalculation=st,this.sizeCalculation){if(!be(this,g)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(yt!==void 0&&typeof yt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Tt(this,b,yt),Tt(this,fe,!!yt),Tt(this,A,new Map),Tt(this,x,new Array(q).fill(void 0)),Tt(this,M,new Array(q).fill(void 0)),Tt(this,I,new me(q)),Tt(this,N,new me(q)),Tt(this,F,0),Tt(this,D,0),Tt(this,V,d.create(q)),Tt(this,w,0),Tt(this,S,0),typeof Oe=="function"&&Tt(this,_,Oe),typeof je=="function"?(Tt(this,v,je),Tt(this,k,[])):(Tt(this,v,void 0),Tt(this,k,void 0)),Tt(this,ee,!!be(this,_)),Tt(this,Te,!!be(this,v)),this.noDisposeOnSet=!!Be,this.noUpdateTTL=!!Ye,this.noDeleteOnFetchRejection=!!ne,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!j,this.ignoreFetchAbort=!!J,this.maxEntrySize!==0){if(be(this,g)!==0&&!u(be(this,g)))throw new TypeError("maxSize must be a positive integer if specified");if(!u(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");gt(this,we,hX).call(this)}if(this.allowStale=!!Z,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!ge,this.updateAgeOnHas=!!qe,this.ttlResolution=u(re)||re===0?re:1,this.ttlAutopurge=!!pe,this.ttl=W||0,this.ttl){if(!u(this.ttl))throw new TypeError("ttl must be a positive integer if specified");gt(this,De,Px).call(this)}if(be(this,y)===0&&this.ttl===0&&be(this,g)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!be(this,y)&&!be(this,g)){const ye="LRU_CACHE_UNBOUNDED";o(ye)&&(e.add(ye),r("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ye,ke))}}static unsafeExposeInternals(C){return{starts:be(C,H),ttls:be(C,X),sizes:be(C,U),keyMap:be(C,A),keyList:be(C,x),valList:be(C,M),next:be(C,I),prev:be(C,N),get head(){return be(C,F)},get tail(){return be(C,D)},free:be(C,V),isBackgroundFetch:q=>{var W;return gt(W=C,ve,br).call(W,q)},backgroundFetch:(q,W,re,pe)=>{var ge;return gt(ge=C,he,K1).call(ge,q,W,re,pe)},moveToTail:q=>{var W;return gt(W=C,Fe,Sg).call(W,q)},indexes:q=>{var W;return gt(W=C,B,Js).call(W,q)},rindexes:q=>{var W;return gt(W=C,O,Xs).call(W,q)},isStale:q=>{var W;return be(W=C,Ne).call(W,q)}}}get max(){return be(this,y)}get maxSize(){return be(this,g)}get calculatedSize(){return be(this,S)}get size(){return be(this,w)}get fetchMethod(){return be(this,b)}get dispose(){return be(this,_)}get disposeAfter(){return be(this,v)}getRemainingTTL(C){return be(this,A).has(C)?1/0:0}*entries(){for(const C of gt(this,B,Js).call(this))be(this,M)[C]!==void 0&&be(this,x)[C]!==void 0&&!gt(this,ve,br).call(this,be(this,M)[C])&&(yield[be(this,x)[C],be(this,M)[C]])}*rentries(){for(const C of gt(this,O,Xs).call(this))be(this,M)[C]!==void 0&&be(this,x)[C]!==void 0&&!gt(this,ve,br).call(this,be(this,M)[C])&&(yield[be(this,x)[C],be(this,M)[C]])}*keys(){for(const C of gt(this,B,Js).call(this)){const q=be(this,x)[C];q!==void 0&&!gt(this,ve,br).call(this,be(this,M)[C])&&(yield q)}}*rkeys(){for(const C of gt(this,O,Xs).call(this)){const q=be(this,x)[C];q!==void 0&&!gt(this,ve,br).call(this,be(this,M)[C])&&(yield q)}}*values(){for(const C of gt(this,B,Js).call(this))be(this,M)[C]!==void 0&&!gt(this,ve,br).call(this,be(this,M)[C])&&(yield be(this,M)[C])}*rvalues(){for(const C of gt(this,O,Xs).call(this))be(this,M)[C]!==void 0&&!gt(this,ve,br).call(this,be(this,M)[C])&&(yield be(this,M)[C])}[Symbol.iterator](){return this.entries()}find(C,q={}){for(const W of gt(this,B,Js).call(this)){const re=be(this,M)[W],pe=gt(this,ve,br).call(this,re)?re.__staleWhileFetching:re;if(pe!==void 0&&C(pe,be(this,x)[W],this))return this.get(be(this,x)[W],q)}}forEach(C,q=this){for(const W of gt(this,B,Js).call(this)){const re=be(this,M)[W],pe=gt(this,ve,br).call(this,re)?re.__staleWhileFetching:re;pe!==void 0&&C.call(q,pe,be(this,x)[W],this)}}rforEach(C,q=this){for(const W of gt(this,O,Xs).call(this)){const re=be(this,M)[W],pe=gt(this,ve,br).call(this,re)?re.__staleWhileFetching:re;pe!==void 0&&C.call(q,pe,be(this,x)[W],this)}}purgeStale(){let C=!1;for(const q of gt(this,O,Xs).call(this,{allowStale:!0}))be(this,Ne).call(this,q)&&(this.delete(be(this,x)[q]),C=!0);return C}info(C){const q=be(this,A).get(C);if(q===void 0)return;const W=be(this,M)[q],re=gt(this,ve,br).call(this,W)?W.__staleWhileFetching:W;if(re===void 0)return;const pe={value:re};if(be(this,X)&&be(this,H)){const ge=be(this,X)[q],qe=be(this,H)[q];if(ge&&qe){const Z=ge-(t.now()-qe);pe.ttl=Z,pe.start=Date.now()}}return be(this,U)&&(pe.size=be(this,U)[q]),pe}dump(){const C=[];for(const q of gt(this,B,Js).call(this,{allowStale:!0})){const W=be(this,x)[q],re=be(this,M)[q],pe=gt(this,ve,br).call(this,re)?re.__staleWhileFetching:re;if(pe===void 0||W===void 0)continue;const ge={value:pe};if(be(this,X)&&be(this,H)){ge.ttl=be(this,X)[q];const qe=t.now()-be(this,H)[q];ge.start=Math.floor(Date.now()-qe)}be(this,U)&&(ge.size=be(this,U)[q]),C.unshift([W,ge])}return C}load(C){this.clear();for(const[q,W]of C){if(W.start){const re=Date.now()-W.start;W.start=t.now()-re}this.set(q,W.value,W)}}set(C,q,W={}){var Ye,ct,ft,st,yt;if(q===void 0)return this.delete(C),this;const{ttl:re=this.ttl,start:pe,noDisposeOnSet:ge=this.noDisposeOnSet,sizeCalculation:qe=this.sizeCalculation,status:Z}=W;let{noUpdateTTL:Oe=this.noUpdateTTL}=W;const je=be(this,L).call(this,C,q,W.size||0,qe);if(this.maxEntrySize&&je>this.maxEntrySize)return Z&&(Z.set="miss",Z.maxEntrySizeExceeded=!0),this.delete(C),this;let Be=be(this,w)===0?void 0:be(this,A).get(C);if(Be===void 0)Be=be(this,w)===0?be(this,D):be(this,V).length!==0?be(this,V).pop():be(this,w)===be(this,y)?gt(this,ie,W1).call(this,!1):be(this,w),be(this,x)[Be]=C,be(this,M)[Be]=q,be(this,A).set(C,Be),be(this,I)[be(this,D)]=Be,be(this,N)[Be]=be(this,D),Tt(this,D,Be),Ob(this,w)._++,be(this,z).call(this,Be,je,Z),Z&&(Z.set="add"),Oe=!1;else{gt(this,Fe,Sg).call(this,Be);const ne=be(this,M)[Be];if(q!==ne){if(be(this,fe)&&gt(this,ve,br).call(this,ne)){ne.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:E}=ne;E!==void 0&&!ge&&(be(this,ee)&&((Ye=be(this,_))==null||Ye.call(this,E,C,"set")),be(this,Te)&&((ct=be(this,k))==null||ct.push([E,C,"set"])))}else ge||(be(this,ee)&&((ft=be(this,_))==null||ft.call(this,ne,C,"set")),be(this,Te)&&((st=be(this,k))==null||st.push([ne,C,"set"])));if(be(this,Se).call(this,Be),be(this,z).call(this,Be,je,Z),be(this,M)[Be]=q,Z){Z.set="replace";const E=ne&&gt(this,ve,br).call(this,ne)?ne.__staleWhileFetching:ne;E!==void 0&&(Z.oldValue=E)}}else Z&&(Z.set="update")}if(re!==0&&!be(this,X)&&gt(this,De,Px).call(this),be(this,X)&&(Oe||be(this,Ie).call(this,Be,re,pe),Z&&be(this,ue).call(this,Z,Be)),!ge&&be(this,Te)&&be(this,k)){const ne=be(this,k);let E;for(;E=ne==null?void 0:ne.shift();)(yt=be(this,v))==null||yt.call(this,...E)}return this}pop(){var C;try{for(;be(this,w);){const q=be(this,M)[be(this,F)];if(gt(this,ie,W1).call(this,!0),gt(this,ve,br).call(this,q)){if(q.__staleWhileFetching)return q.__staleWhileFetching}else if(q!==void 0)return q}}finally{if(be(this,Te)&&be(this,k)){const q=be(this,k);let W;for(;W=q==null?void 0:q.shift();)(C=be(this,v))==null||C.call(this,...W)}}}has(C,q={}){const{updateAgeOnHas:W=this.updateAgeOnHas,status:re}=q,pe=be(this,A).get(C);if(pe!==void 0){const ge=be(this,M)[pe];if(gt(this,ve,br).call(this,ge)&&ge.__staleWhileFetching===void 0)return!1;if(be(this,Ne).call(this,pe))re&&(re.has="stale",be(this,ue).call(this,re,pe));else return W&&be(this,le).call(this,pe),re&&(re.has="hit",be(this,ue).call(this,re,pe)),!0}else re&&(re.has="miss");return!1}peek(C,q={}){const{allowStale:W=this.allowStale}=q,re=be(this,A).get(C);if(re===void 0||!W&&be(this,Ne).call(this,re))return;const pe=be(this,M)[re];return gt(this,ve,br).call(this,pe)?pe.__staleWhileFetching:pe}async fetch(C,q={}){const{allowStale:W=this.allowStale,updateAgeOnGet:re=this.updateAgeOnGet,noDeleteOnStaleGet:pe=this.noDeleteOnStaleGet,ttl:ge=this.ttl,noDisposeOnSet:qe=this.noDisposeOnSet,size:Z=0,sizeCalculation:Oe=this.sizeCalculation,noUpdateTTL:je=this.noUpdateTTL,noDeleteOnFetchRejection:Be=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ye=this.allowStaleOnFetchRejection,ignoreFetchAbort:ct=this.ignoreFetchAbort,allowStaleOnFetchAbort:ft=this.allowStaleOnFetchAbort,context:st,forceRefresh:yt=!1,status:ne,signal:E}=q;if(!be(this,fe))return ne&&(ne.fetch="get"),this.get(C,{allowStale:W,updateAgeOnGet:re,noDeleteOnStaleGet:pe,status:ne});const R={allowStale:W,updateAgeOnGet:re,noDeleteOnStaleGet:pe,ttl:ge,noDisposeOnSet:qe,size:Z,sizeCalculation:Oe,noUpdateTTL:je,noDeleteOnFetchRejection:Be,allowStaleOnFetchRejection:Ye,allowStaleOnFetchAbort:ft,ignoreFetchAbort:ct,status:ne,signal:E};let j=be(this,A).get(C);if(j===void 0){ne&&(ne.fetch="miss");const J=gt(this,he,K1).call(this,C,j,R,st);return J.__returned=J}else{const J=be(this,M)[j];if(gt(this,ve,br).call(this,J)){const Ke=W&&J.__staleWhileFetching!==void 0;return ne&&(ne.fetch="inflight",Ke&&(ne.returnedStale=!0)),Ke?J.__staleWhileFetching:J.__returned=J}const me=be(this,Ne).call(this,j);if(!yt&&!me)return ne&&(ne.fetch="hit"),gt(this,Fe,Sg).call(this,j),re&&be(this,le).call(this,j),ne&&be(this,ue).call(this,ne,j),J;const ye=gt(this,he,K1).call(this,C,j,R,st),Me=ye.__staleWhileFetching!==void 0&&W;return ne&&(ne.fetch=me?"stale":"refresh",Me&&me&&(ne.returnedStale=!0)),Me?ye.__staleWhileFetching:ye.__returned=ye}}get(C,q={}){const{allowStale:W=this.allowStale,updateAgeOnGet:re=this.updateAgeOnGet,noDeleteOnStaleGet:pe=this.noDeleteOnStaleGet,status:ge}=q,qe=be(this,A).get(C);if(qe!==void 0){const Z=be(this,M)[qe],Oe=gt(this,ve,br).call(this,Z);return ge&&be(this,ue).call(this,ge,qe),be(this,Ne).call(this,qe)?(ge&&(ge.get="stale"),Oe?(ge&&W&&Z.__staleWhileFetching!==void 0&&(ge.returnedStale=!0),W?Z.__staleWhileFetching:void 0):(pe||this.delete(C),ge&&W&&(ge.returnedStale=!0),W?Z:void 0)):(ge&&(ge.get="hit"),Oe?Z.__staleWhileFetching:(gt(this,Fe,Sg).call(this,qe),re&&be(this,le).call(this,qe),Z))}else ge&&(ge.get="miss")}delete(C){var W,re,pe,ge;let q=!1;if(be(this,w)!==0){const qe=be(this,A).get(C);if(qe!==void 0)if(q=!0,be(this,w)===1)this.clear();else{be(this,Se).call(this,qe);const Z=be(this,M)[qe];if(gt(this,ve,br).call(this,Z)?Z.__abortController.abort(new Error("deleted")):(be(this,ee)||be(this,Te))&&(be(this,ee)&&((W=be(this,_))==null||W.call(this,Z,C,"delete")),be(this,Te)&&((re=be(this,k))==null||re.push([Z,C,"delete"]))),be(this,A).delete(C),be(this,x)[qe]=void 0,be(this,M)[qe]=void 0,qe===be(this,D))Tt(this,D,be(this,N)[qe]);else if(qe===be(this,F))Tt(this,F,be(this,I)[qe]);else{const Oe=be(this,N)[qe];be(this,I)[Oe]=be(this,I)[qe];const je=be(this,I)[qe];be(this,N)[je]=be(this,N)[qe]}Ob(this,w)._--,be(this,V).push(qe)}}if(be(this,Te)&&((pe=be(this,k))!=null&&pe.length)){const qe=be(this,k);let Z;for(;Z=qe==null?void 0:qe.shift();)(ge=be(this,v))==null||ge.call(this,...Z)}return q}clear(){var C,q,W;for(const re of gt(this,O,Xs).call(this,{allowStale:!0})){const pe=be(this,M)[re];if(gt(this,ve,br).call(this,pe))pe.__abortController.abort(new Error("deleted"));else{const ge=be(this,x)[re];be(this,ee)&&((C=be(this,_))==null||C.call(this,pe,ge,"delete")),be(this,Te)&&((q=be(this,k))==null||q.push([pe,ge,"delete"]))}}if(be(this,A).clear(),be(this,M).fill(void 0),be(this,x).fill(void 0),be(this,X)&&be(this,H)&&(be(this,X).fill(0),be(this,H).fill(0)),be(this,U)&&be(this,U).fill(0),Tt(this,F,0),Tt(this,D,0),be(this,V).length=0,Tt(this,S,0),Tt(this,w,0),be(this,Te)&&be(this,k)){const re=be(this,k);let pe;for(;pe=re==null?void 0:re.shift();)(W=be(this,v))==null||W.call(this,...pe)}}};Y=Symbol.toStringTag,y=new WeakMap,g=new WeakMap,_=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakMap,S=new WeakMap,A=new WeakMap,x=new WeakMap,M=new WeakMap,I=new WeakMap,N=new WeakMap,F=new WeakMap,D=new WeakMap,V=new WeakMap,k=new WeakMap,U=new WeakMap,H=new WeakMap,X=new WeakMap,ee=new WeakMap,fe=new WeakMap,Te=new WeakMap,De=new WeakSet,Px=function(){const C=new c(be(this,y)),q=new c(be(this,y));Tt(this,X,C),Tt(this,H,q),Tt(this,Ie,(pe,ge,qe=t.now())=>{if(q[pe]=ge!==0?qe:0,C[pe]=ge,ge!==0&&this.ttlAutopurge){const Z=setTimeout(()=>{be(this,Ne).call(this,pe)&&this.delete(be(this,x)[pe])},ge+1);Z.unref&&Z.unref()}}),Tt(this,le,pe=>{q[pe]=C[pe]!==0?t.now():0}),Tt(this,ue,(pe,ge)=>{if(C[ge]){const qe=C[ge],Z=q[ge];if(!qe||!Z)return;pe.ttl=qe,pe.start=Z,pe.now=W||re();const Oe=pe.now-Z;pe.remainingTTL=qe-Oe}});let W=0;const re=()=>{const pe=t.now();if(this.ttlResolution>0){W=pe;const ge=setTimeout(()=>W=0,this.ttlResolution);ge.unref&&ge.unref()}return pe};this.getRemainingTTL=pe=>{const ge=be(this,A).get(pe);if(ge===void 0)return 0;const qe=C[ge],Z=q[ge];if(!qe||!Z)return 1/0;const Oe=(W||re())-Z;return qe-Oe},Tt(this,Ne,pe=>{const ge=q[pe],qe=C[pe];return!!qe&&!!ge&&(W||re())-ge>qe})},le=new WeakMap,ue=new WeakMap,Ie=new WeakMap,Ne=new WeakMap,we=new WeakSet,hX=function(){const C=new c(be(this,y));Tt(this,S,0),Tt(this,U,C),Tt(this,Se,q=>{Tt(this,S,be(this,S)-C[q]),C[q]=0}),Tt(this,L,(q,W,re,pe)=>{if(gt(this,ve,br).call(this,W))return 0;if(!u(re))if(pe){if(typeof pe!="function")throw new TypeError("sizeCalculation must be a function");if(re=pe(W,q),!u(re))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return re}),Tt(this,z,(q,W,re)=>{if(C[q]=W,be(this,g)){const pe=be(this,g)-C[q];for(;be(this,S)>pe;)gt(this,ie,W1).call(this,!0)}Tt(this,S,be(this,S)+C[q]),re&&(re.entrySize=W,re.totalCalculatedSize=be(this,S))})},Se=new WeakMap,z=new WeakMap,L=new WeakMap,B=new WeakSet,Js=function*({allowStale:C=this.allowStale}={}){if(be(this,w))for(let q=be(this,D);!(!gt(this,G,Nx).call(this,q)||((C||!be(this,Ne).call(this,q))&&(yield q),q===be(this,F)));)q=be(this,N)[q]},O=new WeakSet,Xs=function*({allowStale:C=this.allowStale}={}){if(be(this,w))for(let q=be(this,F);!(!gt(this,G,Nx).call(this,q)||((C||!be(this,Ne).call(this,q))&&(yield q),q===be(this,D)));)q=be(this,I)[q]},G=new WeakSet,Nx=function(C){return C!==void 0&&be(this,A).get(be(this,x)[C])===C},ie=new WeakSet,W1=function(C){var pe,ge;const q=be(this,F),W=be(this,x)[q],re=be(this,M)[q];return be(this,fe)&&gt(this,ve,br).call(this,re)?re.__abortController.abort(new Error("evicted")):(be(this,ee)||be(this,Te))&&(be(this,ee)&&((pe=be(this,_))==null||pe.call(this,re,W,"evict")),be(this,Te)&&((ge=be(this,k))==null||ge.push([re,W,"evict"]))),be(this,Se).call(this,q),C&&(be(this,x)[q]=void 0,be(this,M)[q]=void 0,be(this,V).push(q)),be(this,w)===1?(Tt(this,F,Tt(this,D,0)),be(this,V).length=0):Tt(this,F,be(this,I)[q]),be(this,A).delete(W),Ob(this,w)._--,q},he=new WeakSet,K1=function(C,q,W,re){const pe=q===void 0?void 0:be(this,M)[q];if(gt(this,ve,br).call(this,pe))return pe;const ge=new a,{signal:qe}=W;qe==null||qe.addEventListener("abort",()=>ge.abort(qe.reason),{signal:ge.signal});const Z={signal:ge.signal,options:W,context:re},Oe=(st,yt=!1)=>{const{aborted:ne}=ge.signal,E=W.ignoreFetchAbort&&st!==void 0;if(W.status&&(ne&&!yt?(W.status.fetchAborted=!0,W.status.fetchError=ge.signal.reason,E&&(W.status.fetchAbortIgnored=!0)):W.status.fetchResolved=!0),ne&&!E&&!yt)return Be(ge.signal.reason);const R=ct;return be(this,M)[q]===ct&&(st===void 0?R.__staleWhileFetching?be(this,M)[q]=R.__staleWhileFetching:this.delete(C):(W.status&&(W.status.fetchUpdated=!0),this.set(C,st,Z.options))),st},je=st=>(W.status&&(W.status.fetchRejected=!0,W.status.fetchError=st),Be(st)),Be=st=>{const{aborted:yt}=ge.signal,ne=yt&&W.allowStaleOnFetchAbort,E=ne||W.allowStaleOnFetchRejection,R=E||W.noDeleteOnFetchRejection,j=ct;if(be(this,M)[q]===ct&&(!R||j.__staleWhileFetching===void 0?this.delete(C):ne||(be(this,M)[q]=j.__staleWhileFetching)),E)return W.status&&j.__staleWhileFetching!==void 0&&(W.status.returnedStale=!0),j.__staleWhileFetching;if(j.__returned===j)throw st},Ye=(st,yt)=>{var E;const ne=(E=be(this,b))==null?void 0:E.call(this,C,pe,Z);ne&&ne instanceof Promise&&ne.then(R=>st(R===void 0?void 0:R),yt),ge.signal.addEventListener("abort",()=>{(!W.ignoreFetchAbort||W.allowStaleOnFetchAbort)&&(st(void 0),W.allowStaleOnFetchAbort&&(st=R=>Oe(R,!0)))})};W.status&&(W.status.fetchDispatched=!0);const ct=new Promise(Ye).then(Oe,je),ft=Object.assign(ct,{__abortController:ge,__staleWhileFetching:pe,__returned:void 0});return q===void 0?(this.set(C,ft,{...Z.options,status:void 0}),q=be(this,A).get(C)):be(this,M)[q]=ft,ft},ve=new WeakSet,br=function(C){if(!be(this,fe))return!1;const q=C;return!!q&&q instanceof Promise&&q.hasOwnProperty("__staleWhileFetching")&&q.__abortController instanceof a},Ee=new WeakSet,Dx=function(C,q){be(this,N)[q]=C,be(this,I)[C]=q},Fe=new WeakSet,Sg=function(C){C!==be(this,D)&&(C===be(this,F)?Tt(this,F,be(this,I)[C]):gt(this,Ee,Dx).call(this,be(this,N)[C],be(this,I)[C]),gt(this,Ee,Dx).call(this,be(this,D),C),Tt(this,D,C))};let f=ke;return D0.LRUCache=f,D0}var bB;function ERe(){if(bB)return N0;bB=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.ActorQueryOperationReducedHash=void 0;const t=Ot(),e=jo();let n=class extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"reduced")}async testOperation(a,s){return!0}async runOperation(a,s){const o=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a.input,context:s}));return{type:"bindings",bindingsStream:o.bindingsStream.filter(await this.newHashFilter(s)),metadata:o.metadata}}async newHashFilter(a){const{hashFunction:s}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:a}),o=new e.LRUCache({max:this.cacheSize});return u=>{const l=s(u);return o.has(l)?!1:(o.set(l,!0),!0)}}};return N0.ActorQueryOperationReducedHash=n,N0}var vB;function ARe(){return vB||(vB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ERe(),t)}(M3)),M3}var F3={},C0={},wB;function ORe(){if(wB)return C0;wB=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.ActorQueryOperationSlice=void 0;const t=Ot(),e=Ut;let n=class extends t.ActorQueryOperationTypedMediated{constructor(a){super(a,"slice")}async testOperation(a,s){return!0}async runOperation(a,s){a.length&&(s=s.set(e.KeysQueryOperation.limitIndicator,a.length));const o=await this.mediatorQueryOperation.mediate({operation:a.input,context:s});if(o.type==="bindings")return{type:"bindings",bindingsStream:this.sliceStream(o.bindingsStream,a),metadata:this.sliceMetadata(o,a)};if(o.type==="quads")return{type:"quads",quadStream:this.sliceStream(o.quadStream,a),metadata:this.sliceMetadata(o,a)};throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${o.type}'`)}sliceStream(a,s){const o=!!s.length||s.length===0,{start:u}=s,l=o?s.start+s.length-1:Number.POSITIVE_INFINITY;return a.transform({offset:u,limit:Math.max(l-u+1,0),autoStart:!1})}sliceMetadata(a,s){const o=!!s.length||s.length===0;return()=>a.metadata().then(u=>{const l={...u.cardinality};return Number.isFinite(l.value)&&(l.value=Math.max(0,l.value-s.start),o&&(l.value=Math.min(l.value,s.length))),{...u,cardinality:l}})}};return C0.ActorQueryOperationSlice=n,C0}var SB;function RRe(){return SB||(SB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ORe(),t)}(F3)),F3}var q3={},L0={},TB;function xRe(){if(TB)return L0;TB=1,Object.defineProperty(L0,"__esModule",{value:!0}),L0.ActorQueryOperationUnion=void 0;const t=Ot(),e=ri(),n=Bt(),r=vn();let a=class J1 extends t.ActorQueryOperationTypedMediated{constructor(o){super(o,"union")}static unionVariables(o){return(0,r.uniqTerms)(o.flat())}static async unionMetadata(o,u,l,c){let d=(await c.mediate({mode:"initialize",context:l})).metadata;for(const h of o)d={...h,...(await c.mediate({mode:"append",accumulatedMetadata:d,appendingMetadata:h,context:l})).metadata};d.state=new e.MetadataValidationState;const f=()=>d.state.invalidate();for(const h of o)h.state.addInvalidateListener(f);return u&&(d.variables=J1.unionVariables(o.map(h=>h.variables))),d}async testOperation(o,u){return!0}async runOperation(o,u){const l=await Promise.all(o.input.map(d=>this.mediatorQueryOperation.mediate({operation:d,context:u})));let c;for(const d of l)if(c===void 0)c=d.type;else if(c!==d.type)throw new Error(`Unable to union ${c} and ${d.type}`);if(c==="bindings"||o.input.length===0){const d=l.map(t.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new n.UnionIterator(d.map(p=>p.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>J1.unionMetadata(p,!0,u,this.mediatorRdfMetadataAccumulate))}}if(c==="quads"){const d=l.map(t.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new n.UnionIterator(d.map(p=>p.quadStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>J1.unionMetadata(p,!1,u,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${c}`)}};return L0.ActorQueryOperationUnion=a,L0}var EB;function pX(){return EB||(EB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(xRe(),t)}(q3)),q3}var B3={},j0={},$3={},M0={},F0={},AB;function yX(){if(AB)return F0;AB=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.PathVariableObjectIterator=void 0;const t=Ot(),e=Bt(),n=Rt,r=tr,a=Pt(),s=new n.DataFactory,o=new a.Factory;let u=class extends e.BufferedIterator{constructor(c,d,f,h,p,m,y=16){super({autoStart:!0}),this.subject=c,this.predicate=d,this.graph=f,this.context=h,this.mediatorQueryOperation=p,this.maxRunningOperations=y,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,m)}_end(c){for(const d of this.runningOperations)d.destroy();super._end(c)}_push(c,d=!0){let f;if(d&&(f=(0,r.termToString)(c),this.termHashes.has(f)))return;const h=s.variable("b");this.pendingOperations.push({variable:h,operation:o.createPath(c,this.predicate,h,this.graph)}),f&&(this.termHashes.set(f,c),super._push(c))}_read(c,d){const f=this;(async function(){for(;f.runningOperations.length<f.maxRunningOperations&&f.pendingOperations.length!==0;){const m=f.pendingOperations.pop(),y=t.ActorQueryOperation.getSafeBindings(await f.mediatorQueryOperation.mediate({operation:m.operation,context:f.context})),g=y.bindingsStream.transform({autoStart:!1,transform(_,v,b){const w=_.get(m.variable);b(w),v()}});g.done||(f.runningOperations.push(g),g.on("error",_=>f.destroy(_)),g.on("readable",()=>{f.readable=!0,f._fillBufferAsync()}),g.on("end",()=>{f.runningOperations.splice(f.runningOperations.indexOf(g),1),f.readable=!0,f._fillBufferAsync()})),f.setProperty("metadata",y.metadata)}let h=0,p;for(;h!==(h=c);)for(let m=0;m<f.runningOperations.length&&c>0;m++)(p=f.runningOperations[m].read())!==null&&(c--,f._push(p));f.runningOperations.length===0&&f.pendingOperations.length===0&&f.close()})().then(()=>{d()},h=>this.destroy(h))}};return F0.PathVariableObjectIterator=u,F0}var OB;function IRe(){if(OB)return M0;OB=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.ActorAbstractPath=void 0;const t=Ot(),e=Ut,n=Bt(),r=Rt,a=tr,s=Pt(),o=yX(),u=new r.DataFactory;let l=class ds extends t.ActorQueryOperationTypedMediated{constructor(d,f){super(d,"path"),this.predicateType=f}async testOperation(d,f){if(d.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(d,f){return f?d&&(d.subject.value===f||d.object.value===f)?this.generateVariable(d,`${f}b`):u.variable(f):this.generateVariable(d,"b")}async isPathArbitraryLengthDistinct(d,f){return d.get(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(d=d.set(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:d,operation:void 0}):(d=d.set(e.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:d,operation:t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ds.FACTORY.createDistinct(f),context:d}))})}async predicateStarGraphVariable(d,f,h,p,m,y){const g=this.getPathSources(h),_=this.generateVariable(ds.FACTORY.createPath(d,h,f,p)),v=ds.FACTORY.createUnion([this.assignPatternSources(ds.FACTORY.createPattern(d,_,f,p),g),this.assignPatternSources(ds.FACTORY.createPattern(f,_,d,p),g)]),b=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:m,operation:v})),w=new Set;return{bindingsStream:new n.MultiTransformIterator(b.bindingsStream,{multiTransform:A=>{const x=A.get(p);return w.has(x.value)?new n.EmptyIterator:(w.add(x.value),new n.TransformIterator(async()=>{const M=new n.BufferedIterator;return await this.getObjectsPredicateStar(d,h,x,m,{},M,{count:0}),M.transform({transform(I,N,F){F(y.bindings([[f,I],[p,x]])),N()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:b.metadata}}async getObjectsPredicateStarEval(d,f,h,p,m,y,g){if(p.termType==="Variable")return this.predicateStarGraphVariable(d,h,f,p,m,g);const _=new o.PathVariableObjectIterator(d,f,p,m,this.mediatorQueryOperation,y);return{bindingsStream:_.transform({autoStart:!1,transform(b,w,S){S(g.bindings([[h,b]])),w()}}),async metadata(){const b=await new Promise(w=>{_.getProperty("metadata",S=>w(S()))});return b.cardinality.value++,b}}}async getObjectsPredicateStar(d,f,h,p,m,y,g){const _=(0,a.termToString)(d);if(m[_])return;y._push(d),m[_]=d,g.count++;const v=this.generateVariable(),b=ds.FACTORY.createPath(d,f,v,h),w=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:b,context:p}));return w.bindingsStream.on("data",async S=>{const A=S.get(v);await this.getObjectsPredicateStar(A,f,h,p,m,y,g)}),w.bindingsStream.on("end",()=>{--g.count===0&&y.close()}),w.metadata}async getSubjectAndObjectBindingsPredicateStar(d,f,h,p,m,y,g,_,v,b,w,S){const A=(0,a.termToString)(p)+(0,a.termToString)(y);if(v[A])return;if(w.count++,v[A]=!0,b._push(S.bindings([[d,h],[f,p]])),A in _){const M=await _[A];for(const I of M)await this.getSubjectAndObjectBindingsPredicateStar(d,f,h,I,m,y,g,_,v,b,w,S);--w.count===0&&b.close();return}const x=new Promise(async(M,I)=>{const N=[],F=this.generateVariable(),D=ds.FACTORY.createPath(p,m,F,y),V=t.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:D,context:g}));V.bindingsStream.on("data",async k=>{const U=k.get(F);N.push(U),await this.getSubjectAndObjectBindingsPredicateStar(d,f,h,U,m,y,g,_,v,b,w,S)}),V.bindingsStream.on("error",I),V.bindingsStream.on("end",()=>{--w.count===0&&b.close(),M(N)})});_[A]=x}getPathSources(d){switch(d.type){case s.Algebra.types.ALT:case s.Algebra.types.SEQ:return d.input.flatMap(f=>this.getPathSources(f));case s.Algebra.types.INV:case s.Algebra.types.ONE_OR_MORE_PATH:case s.Algebra.types.ZERO_OR_MORE_PATH:case s.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(d.path);case s.Algebra.types.LINK:case s.Algebra.types.NPS:{const f=t.ActorQueryOperation.getOperationSource(d);if(!f)throw new Error("Could not find a required source on a link path operation");return[f]}}}assignPatternSources(d,f){if(f.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return f.length===1?t.ActorQueryOperation.assignOperationSource(d,f[0]):ds.FACTORY.createUnion(f.map(h=>t.ActorQueryOperation.assignOperationSource(d,h)),!0)}};return M0.ActorAbstractPath=l,l.FACTORY=new s.Factory,M0}var RB;function Mo(){return RB||(RB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(IRe(),t),n(yX(),t)}($3)),$3}var xB;function PRe(){if(xB)return j0;xB=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.ActorQueryOperationPathAlt=void 0;const t=Mo(),e=pX(),n=Ot(),r=Bt(),a=Pt();let s=class extends t.ActorAbstractPath{constructor(u){super(u,a.Algebra.types.ALT)}async runOperation(u,l){const c=u.predicate,d=(await Promise.all(c.input.map(p=>this.mediatorQueryOperation.mediate({context:l,operation:t.ActorAbstractPath.FACTORY.createPath(u.subject,p,u.object,u.graph)})))).map(n.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(d.map(p=>p.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(d.map(p=>p.metadata())).then(p=>e.ActorQueryOperationUnion.unionMetadata(p,!0,l,this.mediatorRdfMetadataAccumulate))}}};return j0.ActorQueryOperationPathAlt=s,j0}var IB;function NRe(){return IB||(IB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(PRe(),t)}(B3)),B3}var U3={},q0={},PB;function DRe(){if(PB)return q0;PB=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.ActorQueryOperationPathInv=void 0;const t=Mo(),e=Pt();let n=class extends t.ActorAbstractPath{constructor(a){super(a,e.Algebra.types.INV)}async runOperation(a,s){const o=a.predicate,u=t.ActorAbstractPath.FACTORY.createPath(a.object,o.path,a.subject,a.graph);return this.mediatorQueryOperation.mediate({operation:u,context:s})}};return q0.ActorQueryOperationPathInv=n,q0}var NB;function CRe(){return NB||(NB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(DRe(),t)}(U3)),U3}var k3={},B0={},DB;function LRe(){if(DB)return B0;DB=1,Object.defineProperty(B0,"__esModule",{value:!0}),B0.ActorQueryOperationPathLink=void 0;const t=Mo(),e=Pt();let n=class extends t.ActorAbstractPath{constructor(a){super(a,e.Algebra.types.LINK)}async runOperation(a,s){const o=a.predicate,u=Object.assign(t.ActorAbstractPath.FACTORY.createPattern(a.subject,o.iri,a.object,a.graph),{metadata:o.metadata});return this.mediatorQueryOperation.mediate({operation:u,context:s})}};return B0.ActorQueryOperationPathLink=n,B0}var CB;function jRe(){return CB||(CB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(LRe(),t)}(k3)),k3}var V3={},$0={},LB;function MRe(){if(LB)return $0;LB=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.ActorQueryOperationPathNps=void 0;const t=Mo(),e=Ot(),n=Pt();let r=class extends t.ActorAbstractPath{constructor(s){super(s,n.Algebra.types.NPS)}async runOperation(s,o){const u=s.predicate,l=this.generateVariable(s),c=Object.assign(t.ActorAbstractPath.FACTORY.createPattern(s.subject,l,s.object,s.graph),{metadata:u.metadata}),d=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:c,context:o}));return{type:"bindings",bindingsStream:d.bindingsStream.map(h=>u.iris.some(p=>p.equals(h.get(l)))?null:h.delete(l)),metadata:d.metadata}}};return $0.ActorQueryOperationPathNps=r,$0}var jB;function FRe(){return jB||(jB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(MRe(),t)}(V3)),V3}var H3={},U0={},MB;function qRe(){if(MB)return U0;MB=1,Object.defineProperty(U0,"__esModule",{value:!0}),U0.ActorQueryOperationClear=void 0;const t=Ot(),e=Rt,n=new e.DataFactory;let r=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"clear")}async testOperation(s,o){return t.ActorQueryOperation.throwOnReadOnly(o),!0}async runOperation(s,o){let u;s.source==="DEFAULT"?u=n.defaultGraph():typeof s.source=="string"?u=s.source:u=[s.source];const{execute:l}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:u,requireExistence:!s.silent,dropGraphs:!1},context:o});return{type:"void",execute:l}}};return U0.ActorQueryOperationClear=r,U0}var FB;function BRe(){return FB||(FB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(qRe(),t)}(H3)),H3}var Q3={},k0={},qB;function $Re(){if(qB)return k0;qB=1,Object.defineProperty(k0,"__esModule",{value:!0}),k0.ActorQueryOperationUpdateCompositeUpdate=void 0;const t=Ot();let e=class extends t.ActorQueryOperationTypedMediated{constructor(r){super(r,"compositeupdate")}async testOperation(r,a){return t.ActorQueryOperation.throwOnReadOnly(a),!0}async runOperation(r,a){return{type:"void",execute:()=>(async()=>{for(const o of r.updates)await t.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:o,context:a})).execute()})()}}};return k0.ActorQueryOperationUpdateCompositeUpdate=e,k0}var BB;function URe(){return BB||(BB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n($Re(),t)}(Q3)),Q3}var z3={},V0={},$B;function kRe(){if($B)return V0;$B=1,Object.defineProperty(V0,"__esModule",{value:!0}),V0.ActorQueryOperationCreate=void 0;const t=Ot();let e=class extends t.ActorQueryOperationTypedMediated{constructor(r){super(r,"create")}async testOperation(r,a){return t.ActorQueryOperation.throwOnReadOnly(a),!0}async runOperation(r,a){const{execute:s}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[r.source],requireNonExistence:!r.silent},context:a});return{type:"void",execute:s}}};return V0.ActorQueryOperationCreate=e,V0}var UB;function VRe(){return UB||(UB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(kRe(),t)}(z3)),z3}var G3={},H0={},kB;function HRe(){if(kB)return H0;kB=1,Object.defineProperty(H0,"__esModule",{value:!0}),H0.ActorQueryOperationDrop=void 0;const t=Ot(),e=Rt,n=new e.DataFactory;let r=class extends t.ActorQueryOperationTypedMediated{constructor(s){super(s,"drop")}async testOperation(s,o){return t.ActorQueryOperation.throwOnReadOnly(o),!0}async runOperation(s,o){let u;s.source==="DEFAULT"?u=n.defaultGraph():typeof s.source=="string"?u=s.source:u=[s.source];const{execute:l}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:u,requireExistence:!s.silent,dropGraphs:!0},context:o});return{type:"void",execute:l}}};return H0.ActorQueryOperationDrop=r,H0}var VB;function QRe(){return VB||(VB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(HRe(),t)}(G3)),G3}var W3={},Q0={},HB;function zRe(){if(HB)return Q0;HB=1,Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.ActorQueryOperationLoad=void 0;const t=Ot(),e=Ut,n=Rt,r=Pt(),a=new n.DataFactory;let s=class mX extends t.ActorQueryOperationTypedMediated{constructor(u){super(u,"load"),this.factory=new r.Factory}async testOperation(u,l){return t.ActorQueryOperation.throwOnReadOnly(l),!0}async runOperation(u,l){let c=l;u.silent&&(c=c.set(e.KeysInitQuery.lenient,!0));const{querySource:d}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:u.source.value},context:c});let h=mX.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.factory.createConstruct(t.ActorQueryOperation.assignOperationSource(this.factory.createPattern(a.variable("s"),a.variable("p"),a.variable("o")),d),[this.factory.createPattern(a.variable("s"),a.variable("p"),a.variable("o"))]),context:c})).quadStream;u.destination&&(h=h.map(m=>a.quad(m.subject,m.predicate,m.object,u.destination)));const{execute:p}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,context:l});return{type:"void",execute:p}}};return Q0.ActorQueryOperationLoad=s,Q0}var QB;function GRe(){return QB||(QB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(zRe(),t)}(W3)),W3}var K3={},z0={},zB;function WRe(){if(zB)return z0;zB=1,Object.defineProperty(z0,"__esModule",{value:!0}),z0.ActorQueryOperationJoin=void 0;const t=Ot();let e=class extends t.ActorQueryOperationTypedMediated{constructor(r){super(r,"join")}async testOperation(r,a){return!0}async runOperation(r,a){const s=(await Promise.all(r.input.map(async o=>({output:await this.mediatorQueryOperation.mediate({operation:o,context:a}),operation:o})))).map(({output:o,operation:u})=>({output:t.ActorQueryOperation.getSafeBindings(o),operation:u}));return this.mediatorJoin.mediate({type:"inner",entries:s,context:a})}};return z0.ActorQueryOperationJoin=e,z0}var GB;function KRe(){return GB||(GB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(WRe(),t)}(K3)),K3}var J3={},G0={},WB;function JRe(){if(WB)return G0;WB=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.ActorQueryOperationMinus=void 0;const t=Ot();let e=class extends t.ActorQueryOperationTypedMediated{constructor(r){super(r,"minus")}async testOperation(r,a){return!0}async runOperation(r,a){const s=(await Promise.all(r.input.map(async o=>({output:await this.mediatorQueryOperation.mediate({operation:o,context:a}),operation:o})))).map(({output:o,operation:u})=>({output:t.ActorQueryOperation.getSafeBindings(o),operation:u}));return this.mediatorJoin.mediate({type:"minus",entries:s,context:a})}};return G0.ActorQueryOperationMinus=e,G0}var KB;function XRe(){return KB||(KB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(JRe(),t)}(J3)),J3}var X3={},W0={},JB;function YRe(){if(JB)return W0;JB=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.ActorQueryOperationPathSeq=void 0;const t=Mo(),e=Ot(),n=Pt();let r=class extends t.ActorAbstractPath{constructor(s){super(s,n.Algebra.types.SEQ)}async runOperation(s,o){const u=s.predicate;let l=s.subject;const c=[],d=await Promise.all(u.input.map((p,m)=>{const y=m===u.input.length-1?s.object:this.generateVariable(s,`b${m}`),g=t.ActorAbstractPath.FACTORY.createPath(l,p,y,s.graph),_=this.mediatorQueryOperation.mediate({context:o,operation:g});return l=y,m<u.input.length-1&&c.push(y),{output:_,operation:g}}).map(async({output:p,operation:m})=>({output:e.ActorQueryOperation.getSafeBindings(await p),operation:m}))),f=e.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:d,context:o}));return{type:"bindings",bindingsStream:f.bindingsStream.transform({transform(p,m,y){for(const g of c)p=p.delete(g);y(p),m()}}),async metadata(){const p=await f.metadata(),m=p.variables.filter(y=>!c.some(g=>g.value===y.value));return{...p,variables:m}}}}};return W0.ActorQueryOperationPathSeq=r,W0}var XB;function ZRe(){return XB||(XB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(YRe(),t)}(X3)),X3}var Y3={},K0={},YB;function exe(){if(YB)return K0;YB=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.ActorRdfJoinMultiSmallest=void 0;const t=Ot(),e=ni(),n=Pt();let r=class gX extends e.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}async sortJoinEntries(s,o){return(await this.mediatorJoinEntriesSort.mediate({entries:s,context:o})).entries}async getOutput(s){const o=await this.sortJoinEntries(await e.ActorRdfJoin.getEntriesWithMetadatas([...s.entries]),s.context),u=o[0],l=o[1];o.splice(0,2);const c={output:t.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:s.type,entries:[u,l],context:s.context})),operation:gX.FACTORY.createJoin([u.operation,l.operation],!1)};return o.push(c),{result:await this.mediatorJoin.mediate({type:s.type,entries:o,context:s.context})}}async getJoinCoefficients(s,o){o=[...o],o=(await this.sortJoinEntries(s.entries.map((d,f)=>({...d,metadata:o[f]})),s.context)).map(d=>d.metadata);const l=e.ActorRdfJoin.getRequestInitialTimes(o),c=e.ActorRdfJoin.getRequestItemTimes(o);return{iterations:o[0].cardinality.value*o[1].cardinality.value*o.slice(2).reduce((d,f)=>d*f.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:l[0]+o[0].cardinality.value*c[0]+l[1]+o[1].cardinality.value*c[1]+o.slice(2).reduce((d,f,h)=>d+l.slice(2)[h]+f.cardinality.value*c.slice(2)[h],0)}}};return K0.ActorRdfJoinMultiSmallest=r,r.FACTORY=new n.Factory,K0}var ZB;function txe(){return ZB||(ZB=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(exe(),t)}(Y3)),Y3}var Z3={},J0={},eO={},X0={},Y0={},e$;function _X(){if(e$)return Y0;e$=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.bindingsToString=void 0;const t=tr;function e(n){const r={};for(const a of n.keys())r[a.value]=(0,t.termToString)(n.get(a));return JSON.stringify(r,null,"  ")}return Y0.bindingsToString=e,Y0}var t$;function bX(){if(t$)return X0;t$=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.Bindings=void 0;const t=lt,e=ZP,n=_X();let r=class Ri{constructor(s,o,u){this.type="bindings",this.dataFactory=s,this.entries=o,this.contextHolder=u}has(s){return this.entries.has(typeof s=="string"?s:s.value)}get(s){return this.entries.get(typeof s=="string"?s:s.value)}set(s,o){return new Ri(this.dataFactory,this.entries.set(typeof s=="string"?s:s.value,o),this.contextHolder)}delete(s){return new Ri(this.dataFactory,this.entries.delete(typeof s=="string"?s:s.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),s=>this.dataFactory.variable(s))}values(){return this.iteratorToIterable(this.entries.values())}forEach(s){for(const[o,u]of this.entries.entries())s(u,this.dataFactory.variable(o))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([s,o])=>[this.dataFactory.variable(s),o])[Symbol.iterator]()}equals(s){var o;if(!s)return!1;if(this===s)return!0;if(this.size!==s.size)return!1;for(const u of this.keys())if(!((o=this.get(u))!=null&&o.equals(s.get(u))))return!1;return!0}filter(s){return new Ri(this.dataFactory,(0,e.Map)(this.entries.filter((o,u)=>s(o,this.dataFactory.variable(u)))),this.contextHolder)}map(s){return new Ri(this.dataFactory,(0,e.Map)(this.entries.map((o,u)=>s(o,this.dataFactory.variable(u)))),this.contextHolder)}merge(s){const o=new Set([...this.iteratorToIterable(this.entries.keys()),...[...s.keys()].map(l=>l.value)]),u=[];for(const l of o){const c=this.entries.get(l),d=s.get(this.dataFactory.variable(l));if(c&&d&&!c.equals(d))return;const f=c||d;u.push([l,f])}return this.createBindingsWithContexts(u,s)}mergeWith(s,o){const u=new Set([...this.iteratorToIterable(this.entries.keys()),...[...o.keys()].map(c=>c.value)]),l=[];for(const c of u){const d=this.dataFactory.variable(c),f=this.entries.get(c),h=o.get(d);let p;f&&h&&!f.equals(h)?p=s(f,h,d):p=f||h,l.push([c,p])}return this.createBindingsWithContexts(l,o)}createBindingsWithContexts(s,o){if(this.contextHolder&&this.contextHolder.context){let u=this.contextHolder.context;return"contextHolder"in o&&o.contextHolder&&o.contextHolder.context&&(u=Ri.mergeContext(this.contextHolder.contextMergeHandlers,u,o.contextHolder.context)),new Ri(this.dataFactory,(0,e.Map)(s),{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:u})}return new Ri(this.dataFactory,(0,e.Map)(s),o.contextHolder)}static mergeContext(s,o,u){const l=[...o.keys(),...u.keys()],c={},d={},f=new Set(u.keys().map(p=>p.name)),h=o.keys().filter(p=>f.has(p.name));for(const p of l){if(d[p.name]===1)continue;d[p.name]=1;const m=h.some(y=>y.name===p.name);if(s[p.name]&&m){c[p.name]=s[p.name].run(o.get(p),u.get(p));continue}if(!(!s[p.name]&&m)){if(!o.get(p)){c[p.name]=u.get(p);continue}u.get(p)||(c[p.name]=o.get(p))}}return new t.ActionContext(c)}setContextEntry(s,o){return this.setContextEntryRaw(s,o)}setContextEntryRaw(s,o){var u;return this.contextHolder&&this.contextHolder.context?new Ri(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(s,o)}):new Ri(this.dataFactory,this.entries,{contextMergeHandlers:((u=this.contextHolder)==null?void 0:u.contextMergeHandlers)??{},context:new t.ActionContext().set(s,o)})}deleteContextEntry(s){return this.deleteContextEntryRaw(s)}deleteContextEntryRaw(s){var o;return this.contextHolder?new Ri(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:(o=this.contextHolder.context)==null?void 0:o.delete(s)}):new Ri(this.dataFactory,this.entries)}getContext(){var s;return(s=this.contextHolder)==null?void 0:s.context}getContextEntry(s){var o;return(o=this.getContext())==null?void 0:o.get(s)}toString(){return(0,n.bindingsToString)(this)}*mapIterable(s,o){for(const u of s)yield o(u)}iteratorToIterable(s){return{[Symbol.iterator]:()=>s}}};return X0.Bindings=r,X0}var Z0={},r$;function rxe(){if(r$)return Z0;r$=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.BindingsFactory=void 0;const t=ZP,e=Rt,n=bX();let r=class vX{constructor(s=new e.DataFactory,o){this.dataFactory=s,this.contextMergeHandlers=o}static async create(s,o){return new vX(new e.DataFactory,(await s.mediate({context:o})).mergeHandlers)}bindings(s=[]){return new n.Bindings(this.dataFactory,(0,t.Map)(s.map(([o,u])=>[o.value,u])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(s){return this.bindings([...s])}fromRecord(s){return this.bindings(Object.entries(s).map(([o,u])=>[this.dataFactory.variable(o),u]))}};return Z0.BindingsFactory=r,Z0}var n$;function Mr(){return n$||(n$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(bX(),t),n(rxe(),t),n(_X(),t)}(eO)),eO}var i$;function nxe(){if(i$)return J0;i$=1,Object.defineProperty(J0,"__esModule",{value:!0}),J0.ActorRdfJoinMultiSmallestFilterBindings=void 0;const t=Mr(),e=Ot(),n=ni(),r=Ut,a=Bt(),s=Pt();let o=class wX extends n.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(l,c){let{entries:d}=await this.mediatorJoinEntriesSort.mediate({entries:l,context:c});d=d.sort((g,_)=>g.operationModified&&!_.operationModified?-1:0);const f=d.splice(0,1)[0];let h,p=-1,m=0;for(const[g,_]of d.entries()){const v=f.metadata.variables.filter(b=>_.metadata.variables.some(w=>b.equals(w))).length;(!h||v>m||v===m&&(_.metadata.variables.length<h.metadata.variables.length||_.metadata.variables.length===h.metadata.variables.length&&_.metadata.cardinality.value<h.metadata.cardinality.value))&&(h=_,p=g,m=v)}if(m===0)throw new Error(`Actor ${this.name} can only join with common variables`);const y=d;return y.splice(p,1),{first:f,second:h,remaining:y}}async getOutput(l){const c=await n.ActorRdfJoin.getEntriesWithMetadatas([...l.entries]),{first:d,second:f,remaining:h}=await this.sortJoinEntries(c,l.context),p=d.output.bindingsStream;d.output.bindingsStream=p.clone();const m=d.metadata.variables.filter(x=>f.metadata.variables.some(M=>x.equals(M))),y={},g=p.clone().map(x=>x.filter((M,I)=>m.some(N=>N.equals(I)))).filter(x=>{const M=(0,t.bindingsToString)(x);return!(M in y)&&(y[M]=!0)}),_=new n.ChunkedIterator(g,this.blockSize,{autoStart:!1}),v=e.ActorQueryOperation.getOperationSource(f.operation),w={output:{type:"bindings",bindingsStream:new a.UnionIterator(_.map(x=>v.source.queryBindings(f.operation,v.context?l.context.merge(v.context):l.context,{filterBindings:{bindings:x,metadata:d.metadata}}))),metadata:f.output.metadata},operation:f.operation,operationModified:!0};f.output.bindingsStream.destroy();const S={output:e.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:l.type,entries:[d,w],context:l.context.set(r.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:wX.FACTORY.createJoin([d.operation,w.operation],!1),operationModified:!0},A=h;return A.unshift(S),{result:await this.mediatorJoin.mediate({type:l.type,entries:A,context:l.context}),physicalPlanMetadata:{firstIndex:c.indexOf(d),secondIndex:c.indexOf(f)}}}async getJoinCoefficients(l,c){if(l.context.get(r.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)throw new Error(`Actor ${this.name} can not be called recursively`);c=[...c];const{first:d,second:f,remaining:h}=await this.sortJoinEntries(l.entries.map((w,S)=>({...w,metadata:c[S]})),l.context),p=e.ActorQueryOperation.getOperationSource(f.operation);if(!p)throw new Error(`Actor ${this.name} can only process if entries[1] has a source`);const m=f.operation,y=await p.source.getSelectorShape(l.context);if(!e.ActorQueryOperation.doesShapeAcceptOperation(y,m,{filterBindings:!0}))throw new Error(`Actor ${this.name} can only process if entries[1] accept filterBindings`);c=[d.metadata,f.metadata,...h.map(w=>w.metadata)];const g=n.ActorRdfJoin.getRequestInitialTimes(c),_=n.ActorRdfJoin.getRequestItemTimes(c),{selectivity:v}=await this.mediatorJoinSelectivity.mediate({entries:[d,f],context:l.context}),b=h.reduce((w,S)=>w*S.metadata.cardinality.value*this.selectivityModifier,1);return{iterations:v*this.selectivityModifier*f.metadata.cardinality.value*b,persistedItems:d.metadata.cardinality.value,blockingItems:d.metadata.cardinality.value,requestTime:g[0]+c[0].cardinality.value*_[0]+g[1]+b*_[1]}}};return J0.ActorRdfJoinMultiSmallestFilterBindings=o,o.FACTORY=new s.Factory,J0}var a$;function ixe(){return a$||(a$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(nxe(),t)}(Z3)),Z3}var tO={},ey={},s$;function axe(){if(s$)return ey;s$=1,Object.defineProperty(ey,"__esModule",{value:!0}),ey.ActorOptimizeQueryOperationFilterPushdown=void 0;const t=ca(),e=vn(),n=Pt();let r=class extends t.ActorOptimizeQueryOperation{constructor(s){super(s)}async test(s){return!0}async run(s){const o=this;return{operation:n.Util.mapOperation(s.operation,{filter(l,c){const d=o.getExpressionVariables(l.expression);return{recurse:!0,result:o.filterPushdown(l.expression,d,l.input,c,s.context)}}}),context:s.context}}getExpressionVariables(s){switch(s.expressionType){case n.Algebra.expressionTypes.AGGREGATE:case n.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${s.expressionType}`);case n.Algebra.expressionTypes.EXISTENCE:return n.Util.inScopeVariables(s.input);case n.Algebra.expressionTypes.NAMED:return[];case n.Algebra.expressionTypes.OPERATOR:return(0,e.uniqTerms)(s.args.flatMap(o=>this.getExpressionVariables(o)));case n.Algebra.expressionTypes.TERM:return s.term.termType==="Variable"?[s.term]:[]}}getOverlappingOperations(s,o){const u=[],l=[],c=[];for(const d of s.input){const f=n.Util.inScopeVariables(d);this.variablesSubSetOf(o,f)?u.push(d):this.variablesIntersect(o,f)?l.push(d):c.push(d)}return{fullyOverlapping:u,partiallyOverlapping:l,notOverlapping:c}}filterPushdown(s,o,u,l,c){switch(u.type){case n.Algebra.types.EXTEND:return this.variablesIntersect([u.variable],o)?l.createFilter(u,s):l.createExtend(this.filterPushdown(s,o,u.input,l,c),u.variable,u.expression);case n.Algebra.types.FILTER:return l.createFilter(this.filterPushdown(s,o,u.input,l,c),u.expression);case n.Algebra.types.JOIN:{if(u.input.length===0)return l.createFilter(u,s);const{fullyOverlapping:d,partiallyOverlapping:f,notOverlapping:h}=this.getOverlappingOperations(u,o),p=[];return this.logDebug(c,`Push down filter across join entries with ${d.length} fully overlapping, ${f.length} partially overlapping, and ${h.length} not overlapping`),d.length>0&&p.push(l.createJoin(d.map(m=>this.filterPushdown(s,o,m,l,c)))),f.length>0&&p.push(l.createFilter(l.createJoin(f,!1),s)),h.length>0&&p.push(...h),p.length===1?p[0]:l.createJoin(p)}case n.Algebra.types.NOP:return u;case n.Algebra.types.PROJECT:return this.variablesIntersect(u.variables,o)?l.createProject(this.filterPushdown(s,o,u.input,l,c),u.variables):u;case n.Algebra.types.UNION:{const{fullyOverlapping:d,partiallyOverlapping:f,notOverlapping:h}=this.getOverlappingOperations(u,o),p=[];return this.logDebug(c,`Push down filter across union entries with ${d.length} fully overlapping, ${f.length} partially overlapping, and ${h.length} not overlapping`),d.length>0&&p.push(l.createUnion(d.map(m=>this.filterPushdown(s,o,m,l,c)))),f.length>0&&p.push(l.createFilter(l.createUnion(f,!1),s)),h.length>0&&p.push(...h),p.length===1?p[0]:l.createUnion(p)}case n.Algebra.types.VALUES:return this.variablesIntersect(u.variables,o)?l.createFilter(u,s):u;case n.Algebra.types.LEFT_JOIN:case n.Algebra.types.MINUS:case n.Algebra.types.ALT:case n.Algebra.types.ASK:case n.Algebra.types.BGP:case n.Algebra.types.CONSTRUCT:case n.Algebra.types.DESCRIBE:case n.Algebra.types.DISTINCT:case n.Algebra.types.EXPRESSION:case n.Algebra.types.FROM:case n.Algebra.types.GRAPH:case n.Algebra.types.GROUP:case n.Algebra.types.INV:case n.Algebra.types.LINK:case n.Algebra.types.NPS:case n.Algebra.types.ONE_OR_MORE_PATH:case n.Algebra.types.ORDER_BY:case n.Algebra.types.PATTERN:case n.Algebra.types.REDUCED:case n.Algebra.types.SEQ:case n.Algebra.types.SERVICE:case n.Algebra.types.SLICE:case n.Algebra.types.PATH:case n.Algebra.types.ZERO_OR_MORE_PATH:case n.Algebra.types.ZERO_OR_ONE_PATH:case n.Algebra.types.COMPOSITE_UPDATE:case n.Algebra.types.DELETE_INSERT:case n.Algebra.types.LOAD:case n.Algebra.types.CLEAR:case n.Algebra.types.CREATE:case n.Algebra.types.DROP:case n.Algebra.types.ADD:case n.Algebra.types.MOVE:case n.Algebra.types.COPY:return l.createFilter(u,s)}}variablesIntersect(s,o){return s.some(u=>o.some(l=>u.equals(l)))}variablesSubSetOf(s,o){return s.length<=o.length&&s.every(u=>o.some(l=>u.equals(l)))}};return ey.ActorOptimizeQueryOperationFilterPushdown=r,ey}var o$;function sxe(){return o$||(o$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(axe(),t)}(tO)),tO}var rO={},ty={},su={},u$;function SX(){if(u$)return su;u$=1,Object.defineProperty(su,"__esModule",{value:!0}),su.ActorDereferenceHttpBase=su.mediaTypesToAcceptString=void 0;const t=fN(),e=Co(),n=ON(),r=la(),a=ac(),s=/^[^ ;]*/u;function o(l,c){const d="*/*;q=0.1",f=[],h=Object.entries(l).map(([m,y])=>({mediaType:m,priority:y})).sort((m,y)=>y.priority===m.priority?m.mediaType.localeCompare(y.mediaType):y.priority-m.priority);let p=h.length-1;for(const{mediaType:m,priority:y}of h){const g=m+(y===1?"":`;q=${y.toFixed(3).replace(/0*$/u,"")}`);if(p+g.length>c){for(;p+d.length>c;){const _=f.pop()??"";p-=_.length+1}f.push(d);break}f.push(g),p+=g.length}return f.length===0?"*/*":f.join(",")}su.mediaTypesToAcceptString=o;let u=class extends t.ActorDereference{constructor(c){super(c)}async test({url:c}){if(!/^https?:/u.test(c))throw new Error(`Cannot retrieve ${c} because it is not an HTTP(S) URL.`);return!0}async run(c){var _,v;let d=!0;const f=new n.Headers(c.headers);f.append("Accept",o(await((_=c.mediaTypes)==null?void 0:_.call(c))??{},this.getMaxAcceptHeaderLength()));let h;const p=Date.now();try{h=await this.mediatorHttp.mediate({context:c.context,init:{headers:f,method:c.method},input:c.url})}catch(b){return this.handleDereferenceErrors(c,b)}const m=(0,r.resolve)(h.url,c.url),y=Date.now()-p;if(h.status!==200){d=!1;const b=h.body?await a(e.ActorHttp.toNodeReadable(h.body)):"empty response";if(!c.acceptErrors){const w=new Error(`Could not retrieve ${c.url} (HTTP status ${h.status}):
${b}`);return this.handleDereferenceErrors(c,w,h.headers,y)}}const g=(v=s.exec(h.headers.get("content-type")??""))==null?void 0:v[0];return{url:m,data:d?e.ActorHttp.toNodeReadable(h.body):(0,t.emptyReadable)(),exists:d,requestTime:y,headers:h.headers,mediaType:g==="text/plain"?void 0:g}}};return su.ActorDereferenceHttpBase=u,su}var c$;function oxe(){if(c$)return ty;c$=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.ActorDereferenceHttp=void 0;const t=SX();class e extends t.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return ty.ActorDereferenceHttp=e,ty}var l$;function uxe(){return l$||(l$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(oxe(),t),n(SX(),t)}(rO)),rO}var nO={},ry={},d$;function cxe(){if(d$)return ry;d$=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.ActorHttpProxy=void 0;const t=Co(),e=Ut;let n=class extends t.ActorHttp{constructor(a){super(a)}async test(a){const s=a.context.get(e.KeysHttpProxy.httpProxyHandler);if(!s)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await s.getProxy(a))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(a){const s=typeof a.input=="string"?a.input:a.input.url,o=a.context.get(e.KeysHttpProxy.httpProxyHandler),u=await this.mediatorHttp.mediate({...await o.getProxy(a),context:a.context.delete(e.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(u,"url",{configurable:!0,enumerable:!0,get:()=>u.headers.get("x-final-url")??s}),u}};return ry.ActorHttpProxy=n,ry}var ny={},f$;function lxe(){if(f$)return ny;f$=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.ProxyHandlerStatic=void 0;let t=class{constructor(n){this.prefixUrl=n}async getProxy(n){return{init:n.init,input:this.modifyInput(n.input)}}modifyInput(n){return typeof n=="string"?this.prefixUrl+n:new Request(this.prefixUrl+n.url,n)}};return ny.ProxyHandlerStatic=t,ny}var h$;function dxe(){return h$||(h$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(cxe(),t),n(lxe(),t)}(nO)),nO}var iO={},iy={},p$;function fxe(){if(p$)return iy;p$=1,Object.defineProperty(iy,"__esModule",{value:!0}),iy.ActorContextPreprocessQuerySourceIdentify=void 0;const t=tb(),e=Ut,n=lt,r=jo();let a=class extends t.ActorContextPreprocess{constructor(o){super(o),this.cache=this.cacheSize?new r.LRUCache({max:this.cacheSize}):void 0;const u=this.cache;u&&this.httpInvalidator.addInvalidateListener(({url:l})=>l?u.delete(l):u.clear())}async test(o){return!0}async run(o){let u=o.context;if(u.has(e.KeysInitQuery.querySourcesUnidentified)){const l=o.context.get(e.KeysInitQuery.querySourcesUnidentified),c=await Promise.all(l.map(f=>this.expandSource(f))),d=await Promise.all(c.map(async f=>this.identifySource(f,o.context)));u=o.context.delete(e.KeysInitQuery.querySourcesUnidentified).set(e.KeysQueryOperation.querySources,d)}return{context:u}}async expandSource(o){return typeof o=="string"||"match"in o?{value:o}:{...o,context:(await this.mediatorContextPreprocess.mediate({context:n.ActionContext.ensureActionContext(o.context??{})})).context}}identifySource(o,u){let l;return typeof o.value=="string"&&this.cache&&(l=this.cache.get(o.value)),l||(l=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:o,context:u}).then(({querySource:c})=>c),typeof o.value=="string"&&this.cache&&this.cache.set(o.value,l)),l}};return iy.ActorContextPreprocessQuerySourceIdentify=a,iy}var y$;function hxe(){return y$||(y$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(fxe(),t)}(iO)),iO}var aO={},ay={},m$;function pxe(){if(m$)return ay;m$=1,Object.defineProperty(ay,"__esModule",{value:!0}),ay.ActorRdfUpdateQuadsHypermedia=void 0;const t=TN(),e=jo();let n=class extends t.ActorRdfUpdateQuadsDestination{constructor(a){super(a),this.cache=this.cacheSize?new e.LRUCache({max:this.cacheSize}):void 0;const s=this.cache;s&&this.httpInvalidator.addInvalidateListener(({url:o})=>o?s.delete(o):s.clear())}async test(a){if(!(0,t.getContextDestinationUrl)((0,t.getContextDestination)(a.context)))throw new Error(`Actor ${this.name} can only update quads against a single destination URL.`);return!0}getDestination(a){const s=(0,t.getContextDestination)(a);let o=(0,t.getContextDestinationUrl)(s);if(this.cache&&this.cache.has(o))return this.cache.get(o);const u=(async()=>{var f;let l,c;try{const h=await this.mediatorDereferenceRdf.mediate({context:a,url:o,acceptErrors:!0});c=h.exists,o=h.url;const p=await this.mediatorMetadata.mediate({context:a,url:o,quads:h.data,triples:(f=h.metadata)==null?void 0:f.triples});l=(await this.mediatorMetadataExtract.mediate({context:a,url:o,metadata:p.metadata,headers:h.headers,requestTime:h.requestTime})).metadata}catch{l={},c=!1}const{destination:d}=await this.mediatorRdfUpdateHypermedia.mediate({context:a,url:o,metadata:l,exists:c,forceDestinationType:(0,t.getDataDestinationType)(s)});return d})();return this.cache&&this.cache.set(o,u),u}};return ay.ActorRdfUpdateQuadsHypermedia=n,ay}var g$;function yxe(){return g$||(g$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(pxe(),t)}(aO)),aO}var sO={},sy={},_$;function mxe(){if(_$)return sy;_$=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.ActionObserverHttp=void 0;const t=lt;class e extends t.ActionObserver{constructor(r){super(r),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(r,a,s){this.requests++}}return sy.ActionObserverHttp=e,sy}var oy={},b$;function gxe(){if(b$)return oy;b$=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.ActorQueryResultSerializeSparqlJson=void 0;const t=Va(),e=Bt(),n=Dt;let r=class Tg extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static bindingToJsonBindings(s){if(s.termType==="Literal"){const o=s,u={value:o.value,type:"literal"},{language:l,datatype:c}=o;return l?u["xml:lang"]=l:c&&c.value!=="http://www.w3.org/2001/XMLSchema#string"&&(u.datatype=c.value),u}return s.termType==="BlankNode"?{value:s.value,type:"bnode"}:s.termType==="Quad"?{value:{subject:Tg.bindingToJsonBindings(s.subject),predicate:Tg.bindingToJsonBindings(s.predicate),object:Tg.bindingToJsonBindings(s.object)},type:"triple"}:{value:s.value,type:"uri"}}async testHandleChecked(s,o){if(!["bindings","boolean"].includes(s.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(s,o,u){const l=new n.Readable,c={};if(s.type==="bindings"){const d=await s.metadata();d.variables.length>0&&(c.vars=d.variables.map(f=>f.value))}if(l.push(`{"head": ${JSON.stringify(c)},
`),s.type==="bindings"){const d=s.bindingsStream;l.push(`"results": { "bindings": [
`);let f=!0;function*h(p){yield p()}l.wrap((0,e.wrap)(d).map(p=>{const m=`${f?"":`,
`}${JSON.stringify(Object.fromEntries([...p].map(([y,g])=>[y.value,Tg.bindingToJsonBindings(g)])))}`;return f=!1,m}).append((0,e.wrap)(h(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else l.wrap((0,e.wrap)(s.execute().then(d=>[`"boolean":${d}
}
`])));return{data:l}}};return oy.ActorQueryResultSerializeSparqlJson=r,oy}var v$;function w$(){return v$||(v$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(mxe(),t),n(gxe(),t)}(sO)),sO}var oO={},uy={},S$;function _xe(){if(S$)return uy;S$=1,Object.defineProperty(uy,"__esModule",{value:!0}),uy.ActionObserverHttp=void 0;const t=lt;let e=class extends t.ActionObserver{constructor(r){super(r),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(r,a,s){this.requests++}};return uy.ActionObserverHttp=e,uy}var cy={},T$;function bxe(){if(T$)return cy;T$=1,Object.defineProperty(cy,"__esModule",{value:!0}),cy.ActorQueryResultSerializeStats=void 0;const t=Va(),e=Bt(),n=Dt,r=Ls;let a=class extends t.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,u){if(!["bindings","quads"].includes(o.type))throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(o){const u=["Result","Delay (ms)","HTTP requests"].join(",");o.push(`${u}
`)}createStat(o,u){return`${[u,this.delay(o),this.httpObserver.requests].join(",")}
`}createFooter(o){return`${["TOTAL",this.delay(o),this.httpObserver.requests].join(",")}
`}async runHandle(o,u,l){const c=new n.Readable,d=o.type==="bindings"?o.bindingsStream:o.quadStream,f=this.now();let h=1;function*p(y){yield y()}const m=(0,e.wrap)(d).map(()=>this.createStat(f,h++)).append((0,e.wrap)(p(()=>this.createFooter(f))));return this.pushHeader(c),c.wrap(m),{data:c}}now(){if(typeof performance>"u"){const o=r.hrtime();return o[0]*1e3+o[1]/1e6}return performance.now()}delay(o){return this.now()-o}};return cy.ActorQueryResultSerializeStats=a,cy}var E$;function A$(){return E$||(E$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(_xe(),t),n(bxe(),t)}(oO)),oO}var uO={},ly={},cO={},dy={},O$;function vxe(){if(O$)return dy;O$=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.ActorQuerySourceIdentifyHypermedia=void 0;const t=lt;class e extends t.Actor{constructor(r,a){super(r),this.sourceType=a}async test(r){if(r.forceSourceType&&this.sourceType!==r.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${r.forceSourceType}.`);return this.testMetadata(r)}}return dy.ActorQuerySourceIdentifyHypermedia=e,dy}var R$;function RN(){return R$||(R$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(vxe(),t)}(cO)),cO}var fy={},lO={},hy={},x$;function wxe(){if(x$)return hy;x$=1,Object.defineProperty(hy,"__esModule",{value:!0}),hy.ActorQuerySourceIdentify=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return hy.ActorQuerySourceIdentify=e,hy}var en={},I$;function Sxe(){if(I$)return en;I$=1,Object.defineProperty(en,"__esModule",{value:!0}),en.filterMatchingQuotedQuads=en.quadsOrderToBindingsOrder=en.quadsMetadataToBindingsMetadata=en.setMetadata=en.getDuplicateElementLinks=en.getVariables=en.isTermVariable=en.quadsToBindings=void 0;const t=Ot(),e=ri(),n=Rt,r=tr,a=vn(),s=PK(),o=new n.DataFactory;function u(y,g,_,v){const b=c(g),w=g.graph.termType==="Variable"&&!v,S=d(g),A=(0,a.reduceTermsNested)(g,(M,I,N)=>(I.termType==="Variable"&&(M[N.join("_")]=I.value),M),{}),x=new t.ClosableTransformIterator(async()=>{let M=y;return w&&(M=M.filter(I=>I.graph.termType!=="DefaultGraph")),S&&(M=M.filter(I=>{for(const N in S){const F=N.split("_"),D=(0,a.getValueNestedPath)(I,F);for(const V of S[N])if(!D.equals((0,a.getValueNestedPath)(I,V)))return!1}return!0})),M.map(I=>_.bindings(Object.keys(A).map(N=>{const F=N.split("_"),D=A[N],V=(0,a.getValueNestedPath)(I,F);return[o.variable(D),V]})))},{autoStart:!1,onClose:()=>y.destroy()});return f(x,y,A,b,w||!!S),x}en.quadsToBindings=u;function l(y){return y.termType==="Variable"}en.isTermVariable=l;function c(y){return(0,a.uniqTerms)((0,a.getTermsNested)(y).filter(l))}en.getVariables=c;function d(y){const g={};let _=!1;if((0,a.forEachTermsNested)(y,(b,w)=>{if(b.termType==="Variable"){const S=(0,r.termToString)(b),A=(g[S]||(g[S]=[])).push(w);_=_||A>1}}),!_)return;const v={};for(const b in g){const w=g[b],S=w.slice(1);S.length>0&&(v[w[0].join("_")]=S)}return v}en.getDuplicateElementLinks=d;function f(y,g,_,v,b){const w=A=>{"canContainUndefs"in A||(A.canContainUndefs=!1),b&&(A.cardinality.type="estimate"),y.setProperty("metadata",h((0,e.validateMetadataQuads)(A),_,v)),A.state&&A.state.addInvalidateListener(()=>{f(y,g,_,v,b)})},S=g.getProperty("metadata");S?w(S):g.getProperty("metadata",w)}en.setMetadata=f;function h(y,g,_){return{...y,canContainUndefs:!1,order:y.order?p(y.order,g):void 0,availableOrders:y.availableOrders?y.availableOrders.map(v=>({cost:v.cost,terms:p(v.terms,g)})):void 0,variables:_}}en.quadsMetadataToBindingsMetadata=h;function p(y,g){const _={};return y.map(v=>{const b=g[v.term];if(b&&!_[b])return _[b]=!0,{term:o.variable(b),direction:v.direction}}).filter(Boolean)}en.quadsOrderToBindingsOrder=p;function m(y,g){return(0,a.someTerms)(y,_=>_.termType==="Quad")&&(g=g.filter(_=>(0,s.matchPatternMappings)(_,y))),g}return en.filterMatchingQuotedQuads=m,en}var P$;function sb(){return P$||(P$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(wxe(),t),n(Sxe(),t)}(lO)),lO}var N$;function TX(){if(N$)return fy;N$=1,Object.defineProperty(fy,"__esModule",{value:!0}),fy.QuerySourceQpf=void 0;const t=sb(),e=Ut,n=Bt(),r=Rt,a=tr,s=ib(),o=vn(),u=Pt(),l=new u.Factory,c=new r.DataFactory;let d=class Cx{constructor(p,m,y,g,_,v,b,w,S,A,x,M){this.referenceValue=S,this.mediatorMetadata=p,this.mediatorMetadataExtract=m,this.mediatorDereferenceRdf=y,this.bindingsFactory=g,this.subjectUri=_,this.predicateUri=v,this.objectUri=b,this.graphUri=w,this.url=S,this.bindingsRestricted=x,this.cachedQuads={};const I=this.getSearchForm(A);if(!I)throw new Error("Illegal state: found no TPF/QPF search form anymore in metadata.");if(this.searchForm=I,this.defaultGraph=A.defaultGraph?c.namedNode(A.defaultGraph):void 0,M){let N=(0,n.wrap)(M);this.defaultGraph&&(N=this.reverseMapQuadsToDefaultGraph(N)),N.setProperty("metadata",A),this.cacheQuads(N,c.variable(""),c.variable(""),c.variable(""),c.variable(""))}}async getSelectorShape(){return this.bindingsRestricted?Cx.SELECTOR_SHAPE_BR:Cx.SELECTOR_SHAPE}queryBindings(p,m,y){if(p.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${p.type}' to QuerySourceQpf`);const g=!!m.get(e.KeysQueryOperation.unionDefaultGraph);let _=this.match(p.subject,p.predicate,p.object,p.graph,g,m,y);return _=(0,t.filterMatchingQuotedQuads)(p,_),(0,t.quadsToBindings)(_,p,this.bindingsFactory,g)}getSearchForm(p){if(!p.searchForms||!p.searchForms.values)return;const{searchForms:m}=p;for(const y of m.values)if(this.graphUri&&this.subjectUri in y.mappings&&this.predicateUri in y.mappings&&this.objectUri in y.mappings&&this.graphUri in y.mappings&&Object.keys(y.mappings).length===4||this.subjectUri in y.mappings&&this.predicateUri in y.mappings&&this.objectUri in y.mappings&&Object.keys(y.mappings).length===3)return y}createFragmentUri(p,m,y,g,_){const v={},b=[{uri:this.subjectUri,term:m},{uri:this.predicateUri,term:y},{uri:this.objectUri,term:g},{uri:this.graphUri,term:_}];for(const w of b)w.uri&&(this.bindingsRestricted||w.term.termType!=="Variable"&&(w.term.termType!=="Quad"||(0,o.everyTermsNested)(w.term,S=>S.termType!=="Variable")))&&(v[w.uri]=(0,a.termToString)(w.term));return p.getUri(v)}match(p,m,y,g,_,v,b){let w=!1;if(g.termType==="DefaultGraph")if(this.defaultGraph)w=!0,g=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph)if(_)g=c.variable("g");else{const M=new n.ArrayIterator([],{autoStart:!1});return M.setProperty("metadata",{requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null,canContainUndefs:!1}),M}else Object.keys(this.searchForm.mappings).length===3&&(g=c.variable("g"));if(!(b!=null&&b.filterBindings)){const M=this.getCachedQuads(p,m,y,g);if(M)return M}const S=this;let A;const x=async function(){var D;let M=S.createFragmentUri(S.searchForm,p,m,y,g);b!=null&&b.filterBindings&&(M=await S.getBindingsRestrictedLink(p,m,y,g,M,b.filterBindings));const I=await S.mediatorDereferenceRdf.mediate({context:v,url:M});M=I.url;const N=await S.mediatorMetadata.mediate({context:v,url:M,quads:I.data,triples:(D=I.metadata)==null?void 0:D.triples}),{metadata:F}=await S.mediatorMetadataExtract.mediate({context:v,url:M,metadata:N.metadata,requestTime:I.requestTime});return A.setProperty("metadata",{...F,canContainUndefs:!1,subsetOf:S.url}),N.data}();return A=new n.TransformIterator(async()=>{const M=await x,I=c.defaultGraph();let N=(0,n.wrap)(M).transform({filter(F){return(0,o.matchPattern)(F,p,m,y,g)?!0:w&&(0,o.matchPattern)(F,p,m,y,I)}});return(w||g.termType==="Variable")&&(N=this.reverseMapQuadsToDefaultGraph(N)),N},{autoStart:!1}),b!=null&&b.filterBindings?A:(this.cacheQuads(A,p,m,y,g),this.getCachedQuads(p,m,y,g))}async getBindingsRestrictedLink(p,m,y,g,_,v){const b=[];for(const S of await v.bindings.toArray()){const A=["("];for(const x of v.metadata.variables){const M=S.get(x);A.push(M?(0,s.termToString)(M):"UNDEF"),A.push(" ")}A.push(")"),b.push(A.join(""))}b.length===0&&b.push("(<ex:comunica:unknown>)");const w=encodeURIComponent(`(${v.metadata.variables.map(S=>`?${S.value}`).join(" ")}) { ${b.join(" ")} }`);return`${_}&values=${w}`}reverseMapQuadsToDefaultGraph(p){const m=c.defaultGraph();return p.map(y=>(0,o.mapTerms)(y,(g,_)=>_==="graph"&&g.equals(this.defaultGraph)?m:g))}getPatternId(p,m,y,g){return JSON.stringify({s:p.termType==="Variable"?"":f(p),p:m.termType==="Variable"?"":f(m),o:y.termType==="Variable"?"":f(y),g:g.termType==="Variable"?"":f(g)})}cacheQuads(p,m,y,g,_){const v=this.getPatternId(m,y,g,_);this.cachedQuads[v]=p.clone()}getCachedQuads(p,m,y,g){const _=this.getPatternId(p,m,y,g),v=this.cachedQuads[_];if(v)return v.clone()}queryQuads(p,m){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(p,m){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(p,m){throw new Error("queryVoid is not implemented in QuerySourceQpf")}};fy.QuerySourceQpf=d,d.SELECTOR_SHAPE={type:"operation",operation:{operationType:"pattern",pattern:l.createPattern(c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g"))},variablesOptional:[c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g")]},d.SELECTOR_SHAPE_BR={type:"operation",operation:{operationType:"pattern",pattern:l.createPattern(c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g"))},variablesOptional:[c.variable("s"),c.variable("p"),c.variable("o"),c.variable("g")],filterBindings:!0};function f(h){return h.termType==="DefaultGraph"?"|":(0,a.termToString)(h)}return fy}var D$;function Txe(){if(D$)return ly;D$=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.ActorQuerySourceIdentifyHypermediaQpf=void 0;const t=Mr(),e=RN(),n=TX();let r=class extends e.ActorQuerySourceIdentifyHypermedia{constructor(s){super(s,"qpf")}async test(s){if(s.forceSourceType&&s.forceSourceType!=="qpf"&&s.forceSourceType!=="brtpf")throw new Error(`Actor ${this.name} is not able to handle source type ${s.forceSourceType}.`);return this.testMetadata(s)}async testMetadata(s){const{searchForm:o}=await this.createSource(s.url,s.metadata,s.context,s.forceSourceType==="brtpf");if(s.handledDatasets&&s.handledDatasets[o.dataset])throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(s){this.logInfo(s.context,`Identified as qpf source: ${s.url}`);const o=await this.createSource(s.url,s.metadata,s.context,s.forceSourceType==="brtpf",s.quads);return{source:o,dataset:o.searchForm.dataset}}async createSource(s,o,u,l,c){return new n.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,s,o,l,c)}};return ly.ActorQuerySourceIdentifyHypermediaQpf=r,ly}var C$;function Exe(){return C$||(C$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Txe(),t),n(TX(),t)}(uO)),uO}var dO={},py={},yy={},L$;function EX(){if(L$)return yy;L$=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.QuerySourceSparql=void 0;const t=Ut,e=Bt(),n=oX(),r=jo(),a=Rt,s=Pt(),o=new s.Factory,u=new a.DataFactory,l=u.variable("count"),c={type:"estimate",value:Number.POSITIVE_INFINITY};let d=class xi{constructor(h,p,m,y,g,_,v,b){this.referenceValue=h,this.url=h,this.context=p,this.mediatorHttp=m,this.bindMethod=y,this.bindingsFactory=g,this.endpointFetcher=new n.SparqlEndpointFetcher({method:_?"GET":"POST",fetch:(w,S)=>this.mediatorHttp.mediate({input:w,init:S,context:this.lastSourceContext}),prefixVariableQuestionMark:!0}),this.cache=v>0?new r.LRUCache({max:v}):void 0,this.countTimeout=b}async getSelectorShape(){return xi.SELECTOR_SHAPE}queryBindings(h,p,m){let y;m!=null&&m.joinBindings?y=xi.addBindingsToOperation(this.bindMethod,h,m.joinBindings):y=Promise.resolve(h);const g=new e.TransformIterator(async()=>{const _=await y,v=s.Util.inScopeVariables(_),b=p.get(t.KeysInitQuery.queryString),w=!(m!=null&&m.joinBindings)&&b?b:xi.operationToSelectQuery(_,v),S=xi.operationCanContainUndefs(_);return this.queryBindingsRemote(this.url,w,v,p,S)},{autoStart:!1});return this.attachMetadata(g,p,y),g}queryQuads(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchTriples(this.url,p.get(t.KeysInitQuery.queryString)??xi.operationToQuery(h));this.lastSourceContext=void 0;const y=(0,e.wrap)(m,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(y,p,Promise.resolve(h.input)),y}queryBoolean(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchAsk(this.url,p.get(t.KeysInitQuery.queryString)??xi.operationToQuery(h));return this.lastSourceContext=void 0,m}queryVoid(h,p){this.lastSourceContext=this.context.merge(p);const m=this.endpointFetcher.fetchUpdate(this.url,p.get(t.KeysInitQuery.queryString)??xi.operationToQuery(h));return this.lastSourceContext=void 0,m}attachMetadata(h,p,m){let y=[],g=!1;new Promise(async(_,v)=>{var w;let b;try{const S=await m;y=s.Util.inScopeVariables(S),b=xi.operationToCountQuery(S),g=xi.operationCanContainUndefs(S);const A=(w=this.cache)==null?void 0:w.get(b);if(A!==void 0)return _(A);const x=setTimeout(()=>_(c),this.countTimeout),M=await this.queryBindingsRemote(this.url,b,[l],p,!1);M.on("data",I=>{var D;clearTimeout(x);const N=I.get(l),F={type:"estimate",value:Number.POSITIVE_INFINITY};if(N){const V=Number.parseInt(N.value,10);Number.isNaN(V)||(F.type="exact",F.value=V,(D=this.cache)==null||D.set(b,F))}return _(F)}),M.on("error",()=>{clearTimeout(x),_(c)}),M.on("end",()=>{clearTimeout(x),_(c)})}catch(S){return v(S)}}).then(_=>h.setProperty("metadata",{cardinality:_,canContainUndefs:g,variables:y})).catch(()=>h.setProperty("metadata",{cardinality:c,canContainUndefs:g,variables:y}))}static async addBindingsToOperation(h,p,m){const y=await m.bindings.toArray();switch(h){case"values":return o.createJoin([o.createValues(m.metadata.variables,y.map(g=>Object.fromEntries([...g].map(([_,v])=>[`?${_.value}`,v])))),p],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(h,p){return xi.operationToQuery(o.createProject(h,p))}static operationToCountQuery(h){return xi.operationToQuery(o.createProject(o.createExtend(o.createGroup(h,[],[o.createBoundAggregate(u.variable("var0"),"count",o.createWildcardExpression(),!1)]),u.variable("count"),o.createTermExpression(u.variable("var0"))),[u.variable("count")]))}static operationToQuery(h){return(0,s.toSparql)(h,{sparqlStar:!0})}static operationCanContainUndefs(h){let p=!1;return s.Util.recurseOperation(h,{leftjoin(){return p=!0,!1},values(m){return p=m.bindings.some(y=>m.variables.some(g=>!(`?${g.value}`in y))),!1}}),p}async queryBindingsRemote(h,p,m,y,g){this.lastSourceContext=this.context.merge(y);const _=await this.endpointFetcher.fetchBindings(h,p);this.lastSourceContext=void 0;const v=(0,e.wrap)(_,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(b=>this.bindingsFactory.bindings(m.map(w=>{const S=b[`?${w.value}`];return!g&&!S&&v.emit("error",new Error(`The endpoint ${h} failed to provide a binding for ${w.value}.`)),[w,S]})));return v}toString(){return`QuerySourceSparql(${this.url})`}};return yy.QuerySourceSparql=d,d.SELECTOR_SHAPE={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:s.Algebra.types.PROJECT},joinBindings:!0},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.CONSTRUCT}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.DESCRIBE}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.ASK}},{type:"operation",operation:{operationType:"type",type:s.Algebra.types.COMPOSITE_UPDATE}}]},yy}var j$;function Axe(){if(j$)return py;j$=1,Object.defineProperty(py,"__esModule",{value:!0}),py.ActorQuerySourceIdentifyHypermediaSparql=void 0;const t=Mr(),e=RN(),n=EX();let r=class extends e.ActorQuerySourceIdentifyHypermedia{constructor(s){super(s,"sparql")}async testMetadata(s){if(!s.forceSourceType&&!s.metadata.sparqlService&&!(this.checkUrlSuffix&&s.url.endsWith("/sparql")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);return{filterFactor:1}}async run(s){return this.logInfo(s.context,`Identified ${s.url} as sparql source with service URL: ${s.metadata.sparqlService||s.url}`),{source:new n.QuerySourceSparql(s.forceSourceType?s.url:s.metadata.sparqlService||s.url,s.context,this.mediatorHttp,this.bindMethod,await t.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context),this.forceHttpGet,this.cacheSize,this.countTimeout)}}};return py.ActorQuerySourceIdentifyHypermediaSparql=r,py}var M$;function Oxe(){return M$||(M$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Axe(),t),n(EX(),t)}(dO)),dO}var fO={},my={},hO={},gy={},_y={},F$;function AX(){if(F$)return _y;F$=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.QuerySourceRdfJs=void 0;const t=sb(),e=Ut,n=ri(),r=Bt(),a=Rt,s=vn(),o=Pt(),u=new o.Factory,l=new a.DataFactory;let c=class Hn{constructor(f,h){this.source=f,this.referenceValue=f,this.bindingsFactory=h}static nullifyVariables(f,h){return!f||f.termType==="Variable"||!h&&f.termType==="Quad"&&(0,s.someTermsNested)(f,p=>p.termType==="Variable")?void 0:f}static hasDuplicateVariables(f){const h=(0,s.filterTermsNested)(f,p=>p.termType==="Variable");return h.length>1&&(0,s.uniqTerms)(h).length<h.length}async getSelectorShape(){return Hn.SELECTOR_SHAPE}queryBindings(f,h){var g;if(f.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${f.type}' to QuerySourceRdfJs`);const p=!!((g=this.source.features)!=null&&g.quotedTripleFiltering),m=this.source.match(Hn.nullifyVariables(f.subject,p),Hn.nullifyVariables(f.predicate,p),Hn.nullifyVariables(f.object,p),Hn.nullifyVariables(f.graph,p));let y=m instanceof r.AsyncIterator?m:(0,r.wrap)(m,{autoStart:!1});return p||(y=(0,t.filterMatchingQuotedQuads)(f,y)),y.getProperty("metadata")||this.setMetadata(y,f).catch(_=>y.destroy(_)),(0,t.quadsToBindings)(y,f,this.bindingsFactory,!!h.get(e.KeysQueryOperation.unionDefaultGraph))}async setMetadata(f,h){var g;const p=!!((g=this.source.features)!=null&&g.quotedTripleFiltering);let m;if(this.source.countQuads)m=await this.source.countQuads(Hn.nullifyVariables(h.subject,p),Hn.nullifyVariables(h.predicate,p),Hn.nullifyVariables(h.object,p),Hn.nullifyVariables(h.graph,p));else{let _=0;m=await new Promise((v,b)=>{const w=this.source.match(Hn.nullifyVariables(h.subject,p),Hn.nullifyVariables(h.predicate,p),Hn.nullifyVariables(h.object,p),Hn.nullifyVariables(h.graph,p));w.on("error",b),w.on("end",()=>v(_)),w.on("data",()=>_++)})}const y=!p&&(0,s.someTerms)(h,_=>_.termType==="Quad")||Hn.hasDuplicateVariables(h);f.setProperty("metadata",{state:new n.MetadataValidationState,cardinality:{type:y?"estimate":"exact",value:m},canContainUndefs:!1})}queryQuads(f,h){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(f,h){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(f,h){throw new Error("queryVoid is not implemented in QuerySourceQpf")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}};return _y.QuerySourceRdfJs=c,c.SELECTOR_SHAPE={type:"operation",operation:{operationType:"pattern",pattern:u.createPattern(l.variable("s"),l.variable("p"),l.variable("o"))},variablesOptional:[l.variable("s"),l.variable("p"),l.variable("o")]},_y}var q$;function Rxe(){if(q$)return gy;q$=1,Object.defineProperty(gy,"__esModule",{value:!0}),gy.ActorQuerySourceIdentifyRdfJs=void 0;const t=Mr(),e=sb(),n=lt,r=AX();let a=class extends e.ActorQuerySourceIdentify{constructor(o){super(o)}async test(o){const u=o.querySourceUnidentified;if(u.type!==void 0&&u.type!=="rdfjs")throw new Error(`${this.name} requires a single query source with rdfjs type to be present in the context.`);if(typeof u.value=="string"||!("match"in u.value))throw new Error(`${this.name} received an invalid rdfjs query source.`);return!0}async run(o){return{querySource:{source:new r.QuerySourceRdfJs(o.querySourceUnidentified.value,await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context)),context:o.querySourceUnidentified.context??new n.ActionContext}}}};return gy.ActorQuerySourceIdentifyRdfJs=a,gy}var pO={},B$;function xxe(){return B$||(B$=1,Object.defineProperty(pO,"__esModule",{value:!0})),pO}var $$;function xN(){return $$||($$=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Rxe(),t),n(xxe(),t),n(AX(),t)}(hO)),hO}var by={},yO={},vy={},wy={},Sy={},U$;function OX(){if(U$)return Sy;U$=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.TermDictionaryNumberRecordFullTerms=void 0;const t=Rt,e=tr;let n=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,e.termToString)(a);let o=this.dictionary[s];return o===void 0&&(o=this.lastId++,this.dictionary[s]=o,this.reverseDictionary[o]=a),o}encodeOptional(a){const s=(0,e.termToString)(a);return this.dictionary[s]}decode(a){const s=this.reverseDictionary[a];if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return s}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Sy.TermDictionaryNumberRecordFullTerms=n,Sy}var Ty={},Ey={},mO={},k$;function Qa(){return k$||(k$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.arePatternsQuoted=t.quadHasVariables=t.quadToPattern=t.encodeOptionalTerms=t.orderQuadComponents=t.getComponentOrderScore=t.getBestIndex=t.QUAD_TERM_NAMES_INVERSE=void 0;const e=vn();t.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(e.QUAD_TERM_NAMES.map((c,d)=>[c,d]));function n(c,d){if(c.length===1||d.every(p=>p!==void 0))return 0;const f=[];for(let p=0;p<e.QUAD_TERM_NAMES.length;p++)d[p]&&f.push(e.QUAD_TERM_NAMES[p]);return c.map((p,m)=>({score:r(p,f),index:m})).sort((p,m)=>m.score-p.score)[0].index}t.getBestIndex=n;function r(c,d){return c.map((f,h)=>d.includes(f)?c.length-h:0).reduce((f,h)=>f+h,0)}t.getComponentOrderScore=r;function a(c,d){return c.map(f=>{const h=t.QUAD_TERM_NAMES_INVERSE[f];return d[h]})}t.orderQuadComponents=a;function s(c,d){const f=c.map(h=>{if(h){if(h.termType==="Quad"&&u(h))return;const p=d.encodeOptional(h);return p===void 0?"none":p}return h});if(!f.includes("none"))return f}t.encodeOptionalTerms=s;function o(c,d,f,h,p){let m=!1;return[[c||void 0,d||void 0,f||void 0,h||void 0].map(g=>{if(g){if(g.termType==="Variable")return;if(g.termType==="Quad"){if(p)return g;m=!0;return}}return g}),m]}t.quadToPattern=o;function u(c){for(const d of e.QUAD_TERM_NAMES){const f=c[d];if(f.termType==="Variable"||f.termType==="Quad"&&u(f))return!0}return!1}t.quadHasVariables=u;function l(c){return c.map(d=>(d==null?void 0:d.termType)==="Quad"&&u(d))}t.arePatternsQuoted=l}(mO)),mO}var V$;function IN(){if(V$)return Ey;V$=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.RdfStoreIndexNestedMap=void 0;const t=Qa();let e=class{constructor(r){this.features={quotedTripleFiltering:!1},this.dictionary=r.dictionary,this.nestedMap=new Map}set(r,a){const s=this.nestedMap;let o=s.get(r[0]);o||(o=new Map,s.set(r[0],o));let u=o.get(r[1]);u||(u=new Map,o.set(r[1],u));let l=u.get(r[2]);l||(l=new Map,u.set(r[2],l));const c=l.has(r[3]);return c||l.set(r[3],a),!c}remove(r){const a=this.nestedMap,s=a.get(r[0]);if(!s)return!1;const o=s.get(r[1]);if(!o)return!1;const u=o.get(r[2]);if(!u)return!1;const l=u.delete(r[3]);return l&&u.size===0&&(o.delete(r[2]),o.size===0&&(s.delete(r[1]),s.size===0&&a.delete(r[0]))),l}get(r){const a=(0,t.encodeOptionalTerms)(r,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(r){const a=this.nestedMap.get(r[0]);if(!a)return;const s=a.get(r[1]);if(!s)return;const o=s.get(r[2]);if(o)return o.get(r[3])}*find(r){const a=(0,t.encodeOptionalTerms)(r,this.dictionary);if(!a)return;const[s,o,u,l]=a,[c,d,f,h]=r;let p,m,y,g,_,v,b;const w=this.nestedMap,S=s!==void 0?w.has(s)?[s]:[]:w.keys();for(const A of S){_=w.get(A),p=c||this.dictionary.decode(A);const x=o!==void 0?_.has(o)?[o]:[]:_.keys();for(const M of x){v=_.get(M),m=d||this.dictionary.decode(M);const I=u!==void 0?v.has(u)?[u]:[]:v.keys();for(const N of I){b=v.get(N),y=f||this.dictionary.decode(N);const F=l!==void 0?b.has(l)?[l]:[]:b.keys();for(const D of F)g=h||this.dictionary.decode(D),yield[p,m,y,g]}}}}*findEncoded(r,a){const[s,o,u,l]=r;let c,d,f;const h=this.nestedMap,p=s!==void 0?h.has(s)?[s]:[]:h.keys();for(const m of p){c=h.get(m);const y=o!==void 0?c.has(o)?[o]:[]:c.keys();for(const g of y){d=c.get(g);const _=u!==void 0?d.has(u)?[u]:[]:d.keys();for(const v of _){f=d.get(v);const b=l!==void 0?f.has(l)?[l]:[]:f.keys();for(const w of b)yield[m,g,v,w]}}}}count(r){let a=0;const s=(0,t.encodeOptionalTerms)(r,this.dictionary);if(!s)return 0;const o=s[0],u=s[1],l=s[2],c=s[3];let d,f,h;const p=this.nestedMap,m=o!==void 0?p.has(o)?[o]:[]:p.keys();for(const y of m){d=p.get(y);const g=u!==void 0?d.has(u)?[u]:[]:d.keys();for(const _ of g){f=d.get(_);const v=l!==void 0?f.has(l)?[l]:[]:f.keys();for(const b of v)h=f.get(b),c!==void 0?h.has(c)&&a++:a+=h.size}}return a}};return Ey.RdfStoreIndexNestedMap=e,Ey}var H$;function RX(){if(H$)return Ty;H$=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.TermDictionaryQuotedIndexed=void 0;const t=Rt,e=IN(),n=Qa();let r=class fs{constructor(s,o=new t.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=s;const u={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:o};this.quotedTriplesReverseDictionaries=[new e.RdfStoreIndexNestedMap(u),new e.RdfStoreIndexNestedMap(u),new e.RdfStoreIndexNestedMap(u)],this.dataFactory=o}encode(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!1):this.plainTermDictionary.encode(s)}encodeQuotedTriple(s,o){if(s.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const u=(0,n.encodeOptionalTerms)([s.subject,s.predicate,s.object,s.graph],this),l=u&&u.every(h=>h!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(u):void 0;if(l!==void 0||o)return l===void 0?void 0:fs.BITMASK|l;const c=[this.encode(s.subject),this.encode(s.predicate),this.encode(s.object)],d=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(c);const f=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([c[0],c[1],c[2],f],d),this.quotedTriplesReverseDictionaries[1].set([c[1],c[2],c[0],f],d),this.quotedTriplesReverseDictionaries[2].set([c[2],c[0],c[1],f],d),fs.BITMASK|d}encodeOptional(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!0):this.plainTermDictionary.encodeOptional(s)}decode(s){if(fs.BITMASK&s){const o=(~fs.BITMASK&s)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${s} is not present in the quoted triples range of the dictionary`);const u=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(u[0]),this.decode(u[1]),this.decode(u[2]))}return this.plainTermDictionary.decode(s)}*encodings(){for(const s of this.plainTermDictionary.encodings())yield s;for(const s of this.quotedTriplesDictionary.keys())yield fs.BITMASK|1+s}*findQuotedTriples(s){for(const o of this.findQuotedTriplesEncoded(s))yield this.decode(o)}*findQuotedTriplesEncoded(s){const[o,u]=(0,n.quadToPattern)(s.subject,s.predicate,s.object,s.graph,!0);for(const l of this.patternToIterable(o[0]))for(const c of this.patternToIterable(o[1]))for(const d of this.patternToIterable(o[2]))for(const f of this.patternToIterable(o[3]))if(l&&c||!c&&!d){const h=[l,c,d,f];for(const p of this.quotedTriplesReverseDictionaries[0].findEncoded(h,o))yield fs.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(p)}else if(!l&&c){const h=[c,d,l,f];for(const p of this.quotedTriplesReverseDictionaries[1].findEncoded(h,o))yield fs.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(p)}else{const h=[d,l,c,f];for(const p of this.quotedTriplesReverseDictionaries[2].findEncoded(h,o))yield fs.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(p)}}*patternToIterable(s){if((s==null?void 0:s.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(s);return}if(s===void 0){yield void 0;return}const o=this.encodeOptional(s);o!==void 0&&(yield o)}};return r.BITMASK=1<<31,Ty.TermDictionaryQuotedIndexed=r,Ty}var Ay={},Q$;function xX(){if(Q$)return Ay;Q$=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.RdfStoreIndexNestedMapQuoted=void 0;const t=Qa(),e=IN();let n=class extends e.RdfStoreIndexNestedMap{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,s){for(const o of this.dictionary.findQuotedTriplesEncoded(s))a.has(o)&&(yield o)}*find(a){const s=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!s)return;const[o,u,l,c]=s,[d,f,h,p]=a,[m,y,g,_]=(0,t.arePatternsQuoted)(a);let v,b,w,S,A,x,M;const I=this.nestedMap,N=d!==void 0?m?this.getQuotedPatternKeys(I,d):I.has(o)?[o]:[]:I.keys();for(const F of N){A=I.get(F),v=!m&&d?d:this.dictionary.decode(F);const D=f!==void 0?y?this.getQuotedPatternKeys(A,f):A.has(u)?[u]:[]:A.keys();for(const V of D){x=A.get(V),b=!y&&f?f:this.dictionary.decode(V);const k=h!==void 0?g?this.getQuotedPatternKeys(x,h):x.has(l)?[l]:[]:x.keys();for(const U of k){M=x.get(U),w=!g&&h?h:this.dictionary.decode(U);const H=p!==void 0?_?this.getQuotedPatternKeys(M,p):M.has(c)?[c]:[]:M.keys();for(const X of H)S=!_&&p?p:this.dictionary.decode(X),yield[v,b,w,S]}}}}*findEncoded(a,s){const[o,u,l,c]=a,[d,f,h,p]=s,[m,y,g,_]=(0,t.arePatternsQuoted)(s);let v,b,w;const S=this.nestedMap,A=d!==void 0?m?this.getQuotedPatternKeys(S,d):S.has(o)?[o]:[]:S.keys();for(const x of A){v=S.get(x);const M=f!==void 0?y?this.getQuotedPatternKeys(v,f):v.has(u)?[u]:[]:v.keys();for(const I of M){b=v.get(I);const N=h!==void 0?g?this.getQuotedPatternKeys(b,h):b.has(l)?[l]:[]:b.keys();for(const F of N){w=b.get(F);const D=p!==void 0?_?this.getQuotedPatternKeys(w,p):w.has(c)?[c]:[]:w.keys();for(const V of D)yield[Number.parseInt(x,10),Number.parseInt(I,10),Number.parseInt(F,10),Number.parseInt(V,10)]}}}}count(a){let s=0;const o=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!o)return 0;const[u,l,c,d]=o,[f,h,p,m]=a,[y,g,_,v]=(0,t.arePatternsQuoted)(a);let b,w,S;const A=this.nestedMap,x=f!==void 0?y?this.getQuotedPatternKeys(A,f):A.has(u)?[u]:[]:A.keys();for(const M of x){b=A.get(M);const I=h!==void 0?g?this.getQuotedPatternKeys(b,h):b.has(l)?[l]:[]:b.keys();for(const N of I){w=b.get(N);const F=p!==void 0?_?this.getQuotedPatternKeys(w,p):w.has(c)?[c]:[]:w.keys();for(const D of F)S=w.get(D),m!==void 0?v?s+=[...this.getQuotedPatternKeys(S,m)].length:S.has(d)&&s++:s+=S.size}}return s}};return Ay.RdfStoreIndexNestedMapQuoted=n,Ay}var z$;function IX(){if(z$)return wy;z$=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.RdfStore=void 0;const t=Bt(),e=Rt,n=vn(),r=NX(),a=OX(),s=RX(),o=xX(),u=Qa();let l=class Eg{constructor(d){this.features={quotedTripleFiltering:!0},this._size=0,this.options=d,this.dataFactory=d.dataFactory,this.dictionary=d.dictionary,this.indexesWrapped=Eg.constructIndexesWrapped(d),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new Eg({indexCombinations:Eg.DEFAULT_INDEX_COMBINATIONS,indexConstructor:d=>new o.RdfStoreIndexNestedMapQuoted(d),dictionary:new s.TermDictionaryQuotedIndexed(new a.TermDictionaryNumberRecordFullTerms),dataFactory:new e.DataFactory})}static constructIndexesWrapped(d){const f=[];if(d.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const h of d.indexCombinations){if(!Eg.isCombinationValid(h))throw new Error(`Invalid index combination: ${h}`);f.push({index:d.indexConstructor(d),componentOrder:h,componentOrderInverse:Object.fromEntries(h.map((p,m)=>[p,m]))})}return f}static isCombinationValid(d){for(const f of n.QUAD_TERM_NAMES)if(!d.includes(f))return!1;return d.length===4}get size(){return this._size}addQuad(d){const f=[this.dictionary.encode(d.subject),this.dictionary.encode(d.predicate),this.dictionary.encode(d.object),this.dictionary.encode(d.graph)];let h=!1;for(const p of this.indexesWrapped)h=p.index.set((0,u.orderQuadComponents)(p.componentOrder,f),!0);return h?(this._size++,!0):!1}removeQuad(d){const f=[this.dictionary.encodeOptional(d.subject),this.dictionary.encodeOptional(d.predicate),this.dictionary.encodeOptional(d.object),this.dictionary.encodeOptional(d.graph)];if(f.includes(void 0))return!1;let h=!1;for(const p of this.indexesWrapped)if(h=p.index.remove((0,u.orderQuadComponents)(p.componentOrder,f)),!h)break;return h?(this._size--,!0):!1}remove(d){return d.on("data",f=>this.removeQuad(f)),d}removeMatches(d,f,h,p){return this.remove(this.match(d,f,h,p))}deleteGraph(d){return typeof d=="string"&&(d=this.dataFactory.namedNode(d)),this.removeMatches(void 0,void 0,void 0,d)}import(d){return d.on("data",f=>this.addQuad(f)),d}*readQuads(d,f,h,p){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(b=>b.index.features.quotedTripleFiltering),[y,g]=(0,u.quadToPattern)(d,f,h,p,m),_=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,y)],v=(0,u.orderQuadComponents)(_.componentOrder,y);for(const b of _.index.find(v)){const w=this.dataFactory.quad(b[_.componentOrderInverse.subject],b[_.componentOrderInverse.predicate],b[_.componentOrderInverse.object],b[_.componentOrderInverse.graph]);g?(0,n.matchPattern)(w,d,f,h,p)&&(yield w):yield w}}getQuads(d,f,h,p){return[...this.readQuads(d,f,h,p)]}match(d,f,h,p){return(0,t.wrap)(this.readQuads(d,f,h,p))}countQuads(d,f,h,p){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(v=>v.index.features.quotedTripleFiltering),[y]=(0,u.quadToPattern)(d,f,h,p,m);if(y.every(v=>v===void 0))return this.size;const g=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,y)],_=(0,u.orderQuadComponents)(g.componentOrder,y);return g.index.count(_)}asDataset(){return new r.DatasetCoreWrapper(this)}};return l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],wy.RdfStore=l,wy}var G$;function NX(){if(G$)return vy;G$=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.DatasetCoreWrapper=void 0;const t=IX();let e=class PX{constructor(r){this.store=r}get size(){return this.store.size}add(r){return this.store.addQuad(r),this}delete(r){return this.store.removeQuad(r),this}has(r){for(const a of this.store.readQuads(r.subject,r.predicate,r.object,r.graph))return!0;return!1}match(r,a,s,o){const u=new t.RdfStore(this.store.options);for(const l of this.store.readQuads(r,a,s,o))u.addQuad(l);return new PX(u)}[Symbol.iterator](){return this.store.readQuads()}};return vy.DatasetCoreWrapper=e,vy}var gO={},W$;function Ixe(){return W$||(W$=1,Object.defineProperty(gO,"__esModule",{value:!0})),gO}var Oy={},K$;function Pxe(){if(K$)return Oy;K$=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.TermDictionaryNumberMap=void 0;const t=Rt,e=tr;let n=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,e.termToString)(a);let o=this.dictionary.get(s);return o===void 0&&(o=this.lastId++,this.dictionary.set(s,o),this.reverseDictionary.set(o,s)),o}encodeOptional(a){const s=(0,e.termToString)(a);return this.dictionary.get(s)}decode(a){const s=this.reverseDictionary.get(a);if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,e.stringToTerm)(s,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Oy.TermDictionaryNumberMap=n,Oy}var Ry={},J$;function Nxe(){if(J$)return Ry;J$=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.TermDictionaryNumberRecord=void 0;const t=Rt,e=tr;let n=class{constructor(a=new t.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=a}encode(a){const s=(0,e.termToString)(a);let o=this.dictionary[s];return o===void 0&&(o=this.lastId++,this.dictionary[s]=o,this.reverseDictionary[o]=s),o}encodeOptional(a){const s=(0,e.termToString)(a);return this.dictionary[s]}decode(a){const s=this.reverseDictionary[a];if(s===void 0)throw new Error(`The value ${a} is not present in this dictionary`);return(0,e.stringToTerm)(s,this.dataFactory)}*encodings(){for(const a of Object.keys(this.reverseDictionary))yield Number.parseInt(a,10)}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Ry.TermDictionaryNumberRecord=n,Ry}var xy={},X$;function Dxe(){if(X$)return xy;X$=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.TermDictionaryQuoted=void 0;const t=Rt,e=vn();let n=class mu{constructor(a,s,o=new t.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=a,this.quotedTriplesDictionary=s,this.dataFactory=o}encode(a){return a.termType==="Quad"?mu.BITMASK|1+this.quotedTriplesDictionary.encode(a):this.plainTermDictionary.encode(a)}encodeOptional(a){if(a.termType==="Quad"){const s=this.quotedTriplesDictionary.encodeOptional(a);return s===void 0?s:mu.BITMASK|1+s}return this.plainTermDictionary.encodeOptional(a)}decode(a){if(mu.BITMASK&a){const s=(~mu.BITMASK&a)-1;return this.quotedTriplesDictionary.decode(s)}return this.plainTermDictionary.decode(a)}*encodings(){for(const a of this.plainTermDictionary.encodings())yield a;for(const a of this.quotedTriplesDictionary.encodings())yield mu.BITMASK|1+a}*findQuotedTriples(a){for(const s of this.findQuotedTriplesEncoded(a))yield this.decode(s)}*findQuotedTriplesEncoded(a){for(let s of this.quotedTriplesDictionary.encodings()){s=mu.BITMASK|1+s;const o=this.decode(s);(0,e.matchPattern)(o,a.subject,a.predicate,a.object,a.graph)&&(yield s)}}};return n.BITMASK=1<<31,xy.TermDictionaryQuoted=n,xy}var Iy={},Y$;function Cxe(){if(Y$)return Iy;Y$=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.TermDictionaryQuotedReferential=void 0;const t=Rt,e=vn(),n=Qa();let r=class hs{constructor(s,o=new t.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=s,this.dataFactory=o}encode(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!1):this.plainTermDictionary.encode(s)}encodeQuotedTriple(s,o){var u;if(s.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const l=(u=(0,n.encodeOptionalTerms)([s.subject,s.predicate,s.object,void 0],this))===null||u===void 0?void 0:u.slice(0,3),c=l&&l.every(h=>h!==void 0)?this.quotedTriplesReverseDictionary[l.join(hs.SEPARATOR)]:void 0;if(c!==void 0||o)return c===void 0?void 0:hs.BITMASK|c;const d=[this.encode(s.subject),this.encode(s.predicate),this.encode(s.object)],f=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(d),this.quotedTriplesReverseDictionary[d.join(hs.SEPARATOR)]=f,hs.BITMASK|f}encodeOptional(s){return s.termType==="Quad"?this.encodeQuotedTriple(s,!0):this.plainTermDictionary.encodeOptional(s)}decode(s){if(hs.BITMASK&s){const o=(~hs.BITMASK&s)-1;if(o>=this.quotedTriplesDictionary.length)throw new Error(`The value ${s} is not present in the quoted triples range of the dictionary`);const u=this.quotedTriplesDictionary[o];return this.dataFactory.quad(this.decode(u[0]),this.decode(u[1]),this.decode(u[2]))}return this.plainTermDictionary.decode(s)}*encodings(){for(const s of this.plainTermDictionary.encodings())yield s;for(const s of this.quotedTriplesDictionary.keys())yield hs.BITMASK|1+s}*findQuotedTriples(s){for(const o of this.findQuotedTriplesEncoded(s))yield this.decode(o)}*findQuotedTriplesEncoded(s){for(let o of this.quotedTriplesDictionary.keys()){o=hs.BITMASK|1+o;const u=this.decode(o);(0,e.matchPattern)(u,s.subject,s.predicate,s.object,s.graph)&&(yield o)}}};return r.BITMASK=1<<31,r.SEPARATOR="_",Iy.TermDictionaryQuotedReferential=r,Iy}var Py={},Z$;function Lxe(){if(Z$)return Py;Z$=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.TermDictionarySymbol=void 0;const t=Rt,e=tr;let n=class{constructor(a=new t.DataFactory){this.features={quotedTriples:!1},this.dataFactory=a}encode(a){return Symbol.for(`rdf::${(0,e.termToString)(a)}`)}encodeOptional(a){return this.encode(a)}decode(a){const s=Symbol.keyFor(a);if(s===void 0)throw new Error(`The value ${String(a)} is not present in this dictionary`);return(0,e.stringToTerm)(s.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(a){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(a){throw new Error("findQuotedTriplesEncoded is not supported")}};return Py.TermDictionarySymbol=n,Py}var _O={},eU;function jxe(){return eU||(eU=1,Object.defineProperty(_O,"__esModule",{value:!0})),_O}var Ny={},tU;function DX(){if(tU)return Ny;tU=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.RdfStoreIndexNestedMapRecursive=void 0;const t=Qa();let e=class{constructor(r){this.features={quotedTripleFiltering:!1},this.dictionary=r.dictionary,this.nestedMap=new Map}set(r,a){let s=this.nestedMap,o=!1;for(const[u,l]of r.entries()){const c=s;let d=c.get(l);d?u===r.length-1&&(o=!0):(d=u===r.length-1?a:new Map,c.set(l,d)),s=d}return!o}remove(r){const a=this.nestedMap,s=a.get(r[0]);if(!s)return!1;const o=s.get(r[1]);if(!o)return!1;const u=o.get(r[2]);if(!u)return!1;const l=u.delete(r[3]);return l&&u.size===0&&(o.delete(r[2]),o.size===0&&(s.delete(r[1]),s.size===0&&a.delete(r[0]))),l}get(r){const a=(0,t.encodeOptionalTerms)(r,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(r){const a=this.nestedMap.get(r[0]);if(!a)return;const s=a.get(r[1]);if(!s)return;const o=s.get(r[2]);if(o)return o.get(r[3])}*find(r){const a=(0,t.encodeOptionalTerms)(r,this.dictionary);if(a)for(const s of this.findEncoded(a,r))yield[a[0]!==void 0?r[0]:this.dictionary.decode(s[0]),a[1]!==void 0?r[1]:this.dictionary.decode(s[1]),a[2]!==void 0?r[2]:this.dictionary.decode(s[2]),a[3]!==void 0?r[3]:this.dictionary.decode(s[3])]}*findEncoded(r,a){return yield*this.findEncodedInner(0,r,a,this.nestedMap,[])}*findEncodedInner(r,a,s,o,u){if(r===a.length)yield[...u];else{const l=a[r];if(s[r]){const d=l;if(d!==void 0){const f=o.get(d);f&&(u[r]=l,yield*this.findEncodedInner(r+1,a,s,f,u))}}else for(const[d,f]of o.entries())u[r]=d,yield*this.findEncodedInner(r+1,a,s,f,u)}}count(r){return this.countInner(0,r,this.nestedMap)}countInner(r,a,s){const o=a[r];let u=0;if(o){const l=this.dictionary.encodeOptional(o);if(l!==void 0){if(r===a.length-1)return s.has(l)?1:0;const c=s.get(l);c&&(u+=this.countInner(r+1,a,c))}}else{if(r===a.length-1)return s.size;for(const l of s.values())u+=this.countInner(r+1,a,l)}return u}};return Ny.RdfStoreIndexNestedMapRecursive=e,Ny}var Dy={},rU;function Mxe(){if(rU)return Dy;rU=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const t=Qa(),e=DX();let n=class extends e.RdfStoreIndexNestedMapRecursive{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*findEncoded(a,s){return yield*this.findEncodedInnerQuoted(0,a,s,(0,t.arePatternsQuoted)(s),this.nestedMap,[])}*findEncodedInnerQuoted(a,s,o,u,l,c){if(a===s.length)yield[...c];else{const d=s[a],f=o[a];if(f)if(u[a]){const h=this.dictionary.findQuotedTriplesEncoded(f);for(const p of h){const m=l.get(p);m&&(c[a]=p,yield*this.findEncodedInnerQuoted(a+1,s,o,u,m,c))}}else{const h=d;if(h!==void 0){const p=l.get(h);p&&(c[a]=d,yield*this.findEncodedInnerQuoted(a+1,s,o,u,p,c))}}else for(const[h,p]of l.entries())c[a]=h,yield*this.findEncodedInnerQuoted(a+1,s,o,u,p,c)}}countInner(a,s,o){const u=s[a];let l=0;if(u)if(u.termType==="Quad"&&(0,t.quadHasVariables)(u)){const c=this.dictionary.findQuotedTriplesEncoded(u);for(const d of c)if(a===s.length-1)o.has(d)&&l++;else{const f=o.get(d);f&&(l+=this.countInner(a+1,s,f))}}else{const c=this.dictionary.encodeOptional(u);if(c!==void 0){if(a===s.length-1)return o.has(c)?1:0;const d=o.get(c);d&&(l+=this.countInner(a+1,s,d))}}else{if(a===s.length-1)return o.size;for(const c of o.values())l+=this.countInner(a+1,s,c)}return l}};return Dy.RdfStoreIndexNestedMapRecursiveQuoted=n,Dy}var Cy={},nU;function CX(){if(nU)return Cy;nU=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.RdfStoreIndexNestedRecord=void 0;const t=Qa();let e=class{constructor(r){this.features={quotedTripleFiltering:!1},this.dictionary=r.dictionary,this.nestedRecords={}}set(r,a){const s=this.nestedRecords,o=s[r[0]]||(s[r[0]]={}),u=o[r[1]]||(o[r[1]]={}),l=u[r[2]]||(u[r[2]]={});return l[r[3]]?!1:(l[r[3]]=a,!0)}remove(r){const a=this.nestedRecords,s=a[r[0]];if(!s)return!1;const o=s[r[1]];if(!o)return!1;const u=o[r[2]];return!u||!u[r[3]]?!1:(delete u[r[3]],Object.keys(u).length===0&&(delete o[r[2]],Object.keys(o).length===0&&(delete s[r[1]],Object.keys(s).length===0&&delete a[r[0]])),!0)}get(r){const a=(0,t.encodeOptionalTerms)(r,this.dictionary);if(!(!a||a.includes(void 0)))return this.getEncoded(a)}getEncoded(r){var a,s,o;return(o=(s=(a=this.nestedRecords[r[0]])===null||a===void 0?void 0:a[r[1]])===null||s===void 0?void 0:s[r[2]])===null||o===void 0?void 0:o[r[3]]}*find(r){const a=(0,t.encodeOptionalTerms)(r,this.dictionary);if(!a)return;const[s,o,u,l]=a,[c,d,f,h]=r;let p,m,y,g,_,v,b;const w=this.nestedRecords,S=s!==void 0?s in w?[s]:[]:Object.keys(w);for(const A of S){_=w[A],p=c||this.dictionary.decode(Number.parseInt(A,10));const x=o!==void 0?o in _?[o]:[]:Object.keys(_);for(const M of x){v=_[M],m=d||this.dictionary.decode(Number.parseInt(M,10));const I=u!==void 0?u in v?[u]:[]:Object.keys(v);for(const N of I){b=v[N],y=f||this.dictionary.decode(Number.parseInt(N,10));const F=l!==void 0?l in b?[l]:[]:Object.keys(b);for(const D of F)g=h||this.dictionary.decode(Number.parseInt(D,10)),yield[p,m,y,g]}}}}*findEncoded(r,a){const[s,o,u,l]=r;let c,d,f;const h=this.nestedRecords,p=s!==void 0?s in h?[s]:[]:Object.keys(h);for(const m of p){c=h[m];const y=o!==void 0?o in c?[o]:[]:Object.keys(c);for(const g of y){d=c[g];const _=u!==void 0?u in d?[u]:[]:Object.keys(d);for(const v of _){f=d[v];const b=l!==void 0?l in f?[l]:[]:Object.keys(f);for(const w of b)yield[Number.parseInt(m,10),Number.parseInt(g,10),Number.parseInt(v,10),Number.parseInt(w,10)]}}}}count(r){let a=0;const s=(0,t.encodeOptionalTerms)(r,this.dictionary);if(!s)return 0;const o=s[0],u=s[1],l=s[2],c=s[3];let d,f,h;const p=this.nestedRecords,m=o!==void 0?o in p?[o]:[]:Object.keys(p);for(const y of m){d=p[y];const g=u!==void 0?u in d?[u]:[]:Object.keys(d);for(const _ of g){f=d[_];const v=l!==void 0?l in f?[l]:[]:Object.keys(f);for(const b of v)h=f[b],c!==void 0?c in h&&a++:a+=Object.keys(h).length}}return a}};return Cy.RdfStoreIndexNestedRecord=e,Cy}var Ly={},iU;function Fxe(){if(iU)return Ly;iU=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.RdfStoreIndexNestedRecordQuoted=void 0;const t=Qa(),e=CX();let n=class extends e.RdfStoreIndexNestedRecord{constructor(a){super(a),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(a,s){for(const o of this.dictionary.findQuotedTriplesEncoded(s))o in a&&(yield o)}*find(a){const s=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!s)return;const[o,u,l,c]=s,[d,f,h,p]=a,[m,y,g,_]=(0,t.arePatternsQuoted)(a);let v,b,w,S,A,x,M;const I=this.nestedRecords,N=d!==void 0?m?this.getQuotedPatternKeys(I,d):o in I?[o]:[]:Object.keys(I);for(const F of N){A=I[F],v=!m&&d?d:this.dictionary.decode(Number.parseInt(F,10));const D=f!==void 0?y?this.getQuotedPatternKeys(A,f):u in A?[u]:[]:Object.keys(A);for(const V of D){x=A[V],b=!y&&f?f:this.dictionary.decode(Number.parseInt(V,10));const k=h!==void 0?g?this.getQuotedPatternKeys(x,h):l in x?[l]:[]:Object.keys(x);for(const U of k){M=x[U],w=!g&&h?h:this.dictionary.decode(Number.parseInt(U,10));const H=p!==void 0?_?this.getQuotedPatternKeys(M,p):c in M?[c]:[]:Object.keys(M);for(const X of H)S=!_&&p?p:this.dictionary.decode(Number.parseInt(X,10)),yield[v,b,w,S]}}}}*findEncoded(a,s){const[o,u,l,c]=a,[d,f,h,p]=s,[m,y,g,_]=(0,t.arePatternsQuoted)(s);let v,b,w;const S=this.nestedRecords,A=d!==void 0?m?this.getQuotedPatternKeys(S,d):o in S?[o]:[]:Object.keys(S);for(const x of A){v=S[x];const M=f!==void 0?y?this.getQuotedPatternKeys(v,f):u in v?[u]:[]:Object.keys(v);for(const I of M){b=v[I];const N=h!==void 0?g?this.getQuotedPatternKeys(b,h):l in b?[l]:[]:Object.keys(b);for(const F of N){w=b[F];const D=p!==void 0?_?this.getQuotedPatternKeys(w,p):c in w?[c]:[]:Object.keys(w);for(const V of D)yield[Number.parseInt(x,10),Number.parseInt(I,10),Number.parseInt(F,10),Number.parseInt(V,10)]}}}}count(a){let s=0;const o=(0,t.encodeOptionalTerms)(a,this.dictionary);if(!o)return 0;const[u,l,c,d]=o,[f,h,p,m]=a,[y,g,_,v]=(0,t.arePatternsQuoted)(a);let b,w,S;const A=this.nestedRecords,x=f!==void 0?y?this.getQuotedPatternKeys(A,f):u in A?[u]:[]:Object.keys(A);for(const M of x){b=A[M];const I=h!==void 0?g?this.getQuotedPatternKeys(b,h):l in b?[l]:[]:Object.keys(b);for(const N of I){w=b[N];const F=p!==void 0?_?this.getQuotedPatternKeys(w,p):c in w?[c]:[]:Object.keys(w);for(const D of F)S=w[D],m!==void 0?v?s+=[...this.getQuotedPatternKeys(S,m)].length:d in S&&s++:s+=Object.keys(S).length}}return s}};return Ly.RdfStoreIndexNestedRecordQuoted=n,Ly}var bO={},aU;function qxe(){return aU||(aU=1,Object.defineProperty(bO,"__esModule",{value:!0})),bO}var vO={},sU;function Bxe(){return sU||(sU=1,Object.defineProperty(vO,"__esModule",{value:!0})),vO}var oU;function $xe(){return oU||(oU=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(NX(),t),n(Ixe(),t),n(Pxe(),t),n(Nxe(),t),n(OX(),t),n(Dxe(),t),n(RX(),t),n(Cxe(),t),n(Lxe(),t),n(jxe(),t),n(IN(),t),n(xX(),t),n(DX(),t),n(Mxe(),t),n(CX(),t),n(Fxe(),t),n(qxe(),t),n(Qa(),t),n(Bxe(),t),n(IX(),t)}(yO)),yO}var uU;function LX(){if(uU)return by;uU=1,Object.defineProperty(by,"__esModule",{value:!0}),by.storeStream=void 0;const t=$xe();function e(n){const r=t.RdfStore.createDefault();return new Promise((a,s)=>r.import(n).on("error",s).once("end",()=>a(r)))}return by.storeStream=e,by}var cU;function Uxe(){if(cU)return my;cU=1,Object.defineProperty(my,"__esModule",{value:!0}),my.ActorQuerySourceIdentifyHypermediaNone=void 0;const t=xN(),e=Mr(),n=RN(),r=LX();let a=class extends n.ActorQuerySourceIdentifyHypermedia{constructor(o){super(o,"file")}async testMetadata(o){return{filterFactor:0}}async run(o){this.logInfo(o.context,`Identified as file source: ${o.url}`);const u=new t.QuerySourceRdfJs(await(0,r.storeStream)(o.quads),await e.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context));return u.toString=()=>`QuerySourceRdfJs(${o.url})`,u.referenceValue=o.url,{source:u}}};return my.ActorQuerySourceIdentifyHypermediaNone=a,my}var lU;function kxe(){return lU||(lU=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Uxe(),t)}(fO)),fO}var wO={},jy={},SO={},My={},Fy={},TO={},ou={},dU;function za(){if(dU)return ou;dU=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.asTermType=ou.ExpressionType=void 0;var t;(function(n){n.Aggregate="aggregate",n.Existence="existence",n.Named="named",n.Operator="operator",n.SpecialOperator="specialOperator",n.Term="term",n.Variable="variable",n.AsyncExtension="asyncExtension",n.SyncExtension="syncExtension"})(t||(ou.ExpressionType=t={}));function e(n){if(n==="namedNode"||n==="literal"||n==="blankNode"||n==="quad")return n}return ou.asTermType=e,ou}var qy={},fU;function Vxe(){if(fU)return qy;fU=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.Variable=void 0;const t=za();class e{constructor(r){this.expressionType=t.ExpressionType.Variable,this.name=r}}return qy.Variable=e,qy}var It={},By={},EO={},hU;function ei(){return hU||(hU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NamedOperators=t.SetFunctions=t.SetFunction=t.Operators=t.SpecialOperators=t.RegularOperators=t.SpecialOperator=t.RegularOperator=t.TypeURL=t.TypeAlias=void 0;var e;(function(o){o.SPARQL_NUMERIC="SPARQL_NUMERIC",o.SPARQL_STRINGLY="SPARQL_STRINGLY"})(e||(t.TypeAlias=e={}));var n;(function(o){o.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",o.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",o.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",o.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",o.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",o.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",o.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",o.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",o.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",o.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",o.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",o.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",o.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",o.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",o.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",o.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",o.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",o.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",o.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",o.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",o.XSD_INT="http://www.w3.org/2001/XMLSchema#int",o.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",o.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",o.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",o.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",o.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",o.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",o.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",o.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",o.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",o.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",o.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",o.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",o.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",o.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",o.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",o.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",o.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",o.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",o.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",o.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(n||(t.TypeURL=n={}));var r;(function(o){o.NOT="!",o.UMINUS="uminus",o.UPLUS="uplus",o.EQUAL="=",o.NOT_EQUAL="!=",o.LT="<",o.GT=">",o.LTE="<=",o.GTE=">=",o.MULTIPLICATION="*",o.DIVISION="/",o.ADDITION="+",o.SUBTRACTION="-",o.IS_IRI="isiri",o.IS_URI="isuri",o.IS_BLANK="isblank",o.IS_LITERAL="isliteral",o.IS_NUMERIC="isnumeric",o.STR="str",o.LANG="lang",o.DATATYPE="datatype",o.IRI="iri",o.URI="uri",o.STRDT="strdt",o.STRLANG="strlang",o.UUID="uuid",o.STRUUID="struuid",o.STRLEN="strlen",o.SUBSTR="substr",o.UCASE="ucase",o.LCASE="lcase",o.STRSTARTS="strstarts",o.STRENDS="strends",o.CONTAINS="contains",o.STRBEFORE="strbefore",o.STRAFTER="strafter",o.ENCODE_FOR_URI="encode_for_uri",o.LANG_MATCHES="langmatches",o.REGEX="regex",o.REPLACE="replace",o.ABS="abs",o.ROUND="round",o.CEIL="ceil",o.FLOOR="floor",o.RAND="rand",o.NOW="now",o.YEAR="year",o.MONTH="month",o.DAY="day",o.HOURS="hours",o.MINUTES="minutes",o.SECONDS="seconds",o.TIMEZONE="timezone",o.TZ="tz",o.MD5="md5",o.SHA1="sha1",o.SHA256="sha256",o.SHA384="sha384",o.SHA512="sha512",o.TRIPLE="triple",o.SUBJECT="subject",o.PREDICATE="predicate",o.OBJECT="object",o.IS_TRIPLE="istriple"})(r||(t.RegularOperator=r={}));var a;(function(o){o.BOUND="bound",o.IF="if",o.COALESCE="coalesce",o.LOGICAL_OR="||",o.LOGICAL_AND="&&",o.SAME_TERM="sameterm",o.IN="in",o.NOT_IN="notin",o.CONCAT="concat",o.BNODE="bnode"})(a||(t.SpecialOperator=a={})),t.RegularOperators=new Set(Object.values(r)),t.SpecialOperators=new Set(Object.values(a)),t.Operators=new Set([...t.RegularOperators,...t.SpecialOperators]);var s;(function(o){o.COUNT="count",o.SUM="sum",o.MIN="min",o.MAX="max",o.AVG="avg",o.GROUP_CONCAT="group_concat",o.SAMPLE="sample"})(s||(t.SetFunction=s={})),t.SetFunctions=new Set(Object.values(s)),t.NamedOperators=new Set([n.XSD_STRING,n.XSD_FLOAT,n.XSD_DOUBLE,n.XSD_DECIMAL,n.XSD_INTEGER,n.XSD_DATE_TIME,n.XSD_DATE,n.XSD_BOOLEAN,n.XSD_TIME,n.XSD_DURATION,n.XSD_DAY_TIME_DURATION,n.XSD_YEAR_MONTH_DURATION])}(EO)),EO}var vt={},pU;function _n(){if(pU)return vt;pU=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.NoExistenceHook=vt.NoAggregator=vt.ExtensionFunctionError=vt.UnknownNamedOperator=vt.UnknownOperator=vt.InvalidTermType=vt.InvalidExpressionType=vt.InvalidExpression=vt.InvalidArity=vt.UnexpectedError=vt.ParseError=vt.EmptyAggregateError=vt.IncompatibleLanguageOperation=vt.InvalidTimezoneCall=vt.CastError=vt.InvalidCompareArgumentTypes=vt.InvalidArgumentTypes=vt.InError=vt.CoalesceError=vt.RDFEqualTypeError=vt.EBVCoercionError=vt.UnboundVariableError=vt.InvalidLexicalForm=vt.isExpressionError=vt.ExpressionError=void 0;class t extends Error{}vt.ExpressionError=t;function e(N){return N instanceof t}vt.isExpressionError=e;class n extends t{constructor(F){super(`Invalid lexical form '${I(F)}'`),this.arg=F}}vt.InvalidLexicalForm=n;class r extends t{constructor(F,D){super(`Unbound variable '${I(F)}'`),this.variable=F,this.bindings=D}}vt.UnboundVariableError=r;class a extends t{constructor(F){super(`Cannot coerce term to EBV '${I(F)}'`),this.arg=F}}vt.EBVCoercionError=a;class s extends t{constructor(F){super("Equality test for literals with unsupported datatypes"),this.args=F}}vt.RDFEqualTypeError=s;class o extends t{constructor(F){super("All COALESCE arguments threw errors"),this.errors=F}}vt.CoalesceError=o;class u extends t{constructor(F){super(`Some argument to IN errorred and none where equal. ${F.map(D=>`(${D.toString()}) `).join("and ")}`),this.errors=F}}vt.InError=u;class l extends t{constructor(F,D){super(`Argument types not valid for operator: '${I(D)}' with '${I(F)}`),this.args=F,this.op=D}}vt.InvalidArgumentTypes=l;class c extends t{constructor(F,D){super(`Compared argument types are supported: '${F.termType}' and '${D.termType}'`),this.arg0=F,this.arg1=D}}vt.InvalidCompareArgumentTypes=c;class d extends t{constructor(F,D){super(`Invalid cast: '${I(F)}' to '${I(D)}'`),this.arg=F}}vt.CastError=d;class f extends t{constructor(F){super(`TIMEZONE call on ${F} which has no timezone`),this.dateString=F}}vt.InvalidTimezoneCall=f;class h extends t{constructor(F,D){super(`Operation on incompatible language literals '${I(F)}' and '${I(D)}'`),this.arg1=F,this.arg2=D}}vt.IncompatibleLanguageOperation=h;class p extends t{constructor(){super("Empty aggregate expression")}}vt.EmptyAggregateError=p;class m extends t{constructor(F,D){super(`Failed to parse ${F} as ${D}.`)}}vt.ParseError=m;class y extends Error{constructor(F,D){super(`Programmer Error '${F}'`),this.payload=D}}vt.UnexpectedError=y;class g extends Error{constructor(F,D){super(`The number of args does not match the arity of the operator '${I(D)}'.`),this.args=F,this.op=D}}vt.InvalidArity=g;class _ extends Error{constructor(F){super(`Invalid SPARQL Expression '${I(F)}'`)}}vt.InvalidExpression=_;class v extends Error{constructor(F){super(`Invalid expression type for SPARQL Expression '${I(F)}'`),this.expr=F}}vt.InvalidExpressionType=v;class b extends Error{constructor(F){super(`Invalid term type for term '${I(F)}'`),this.term=F}}vt.InvalidTermType=b;class w extends Error{constructor(F){super(`Unknown operator: '${I(F)}`)}}vt.UnknownOperator=w;class S extends Error{constructor(F){super(`Unknown named operator: '${I(F)}'`)}}vt.UnknownNamedOperator=S;class A extends Error{constructor(F,D){D instanceof Error?super(`Error thrown in ${F}: ${D.message}${D.stack?`
${D.stack}`:""}`):super(`Error thrown in ${F}`)}}vt.ExtensionFunctionError=A;class x extends Error{constructor(F){super(`Aggregate expression ${I(F)} found, but no aggregate hook provided.`)}}vt.NoAggregator=x;class M extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}vt.NoExistenceHook=M;function I(N){return JSON.stringify(N)}return vt}var $r={},Gt={},yU;function ed(){if(yU)return Gt;yU=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.extractTimeZone=Gt.extractRawTimeZone=Gt.dayTimeDurationsToSeconds=Gt.yearMonthDurationsToMonths=Gt.trimToDayTimeDuration=Gt.trimToYearMonthDuration=Gt.toUTCDate=Gt.toJSDate=Gt.negateDuration=Gt.toDateTimeRepresentation=Gt.defaultedDateTimeRepresentation=Gt.simplifyDurationRepresentation=Gt.defaultedDurationRepresentation=Gt.defaultedYearMonthDurationRepresentation=Gt.defaultedDayTimeDurationRepresentation=void 0;function t(y){return{day:y.day??0,hours:y.hours??0,minutes:y.minutes??0,seconds:y.seconds??0}}Gt.defaultedDayTimeDurationRepresentation=t;function e(y){return{year:y.year??0,month:y.month??0}}Gt.defaultedYearMonthDurationRepresentation=e;function n(y){return{...t(y),...e(y)}}Gt.defaultedDurationRepresentation=n;function r(y){const g=n(y),_={},v=g.year+Math.trunc(g.month/12);v&&(_.year=v,g.month%=12),g.month&&(_.month=g.month);const b=g.day+Math.trunc(g.hours/24)+Math.trunc(g.minutes/(24*60))+Math.trunc(g.seconds/(24*60*60));b&&(_.day=b,g.hours%=24,g.minutes%=24*60,g.seconds%=24*60*60);const w=g.hours+Math.trunc(g.minutes/60)+Math.trunc(g.seconds/(60*60));w&&(_.hours=w,g.minutes%=60,g.seconds%=60*60);const S=g.minutes+Math.trunc(g.seconds/60);return S&&(_.minutes=S,g.seconds%=60),g.seconds&&(_.seconds=g.seconds),_}Gt.simplifyDurationRepresentation=r;function a(y){return{...y,day:y.day??1,hours:y.hours??0,month:y.month??1,year:y.year??0,seconds:y.seconds??0,minutes:y.minutes??0}}Gt.defaultedDateTimeRepresentation=a;function s({date:y,timeZone:g}){return{year:y.getFullYear(),month:y.getMonth()+1,day:y.getDate(),hours:y.getHours(),minutes:y.getMinutes(),seconds:y.getSeconds(),zoneHours:g.zoneHours,zoneMinutes:g.zoneMinutes}}Gt.toDateTimeRepresentation=s;function o(y){return{year:y.year===void 0?void 0:-1*y.year,month:y.month===void 0?void 0:-1*y.month,day:y.day===void 0?void 0:-1*y.day,hours:y.hours===void 0?void 0:-1*y.hours,minutes:y.minutes===void 0?void 0:-1*y.minutes,seconds:y.seconds===void 0?void 0:-1*y.seconds}}Gt.negateDuration=o;function u(y){const g=new Date(y.year,y.month-1,y.day,y.hours,y.minutes,Math.trunc(y.seconds),y.seconds%1*1e3);return y.year>=0&&y.year<100&&g.setFullYear(g.getFullYear()-1900),g}Gt.toJSDate=u;function l(y,g){const _=u(a(y)),v=_.getTimezoneOffset(),b=y.zoneHours??g.zoneHours,w=y.zoneMinutes??g.zoneMinutes;return new Date(_.getTime()-(v+b*60+w)*60*1e3)}Gt.toUTCDate=l;function c(y){return{year:y.year,month:y.month}}Gt.trimToYearMonthDuration=c;function d(y){return{day:y.day,hours:y.hours,minutes:y.minutes,seconds:y.seconds}}Gt.trimToDayTimeDuration=d;function f(y){return y.year*12+y.month}Gt.yearMonthDurationsToMonths=f;function h(y){return((y.day*24+y.hours)*60+y.minutes)*60+y.seconds}Gt.dayTimeDurationsToSeconds=h;function p(y){return/(Z|([+-]\d\d:\d\d))?$/u.exec(y)[0]}Gt.extractRawTimeZone=p;function m(y){return{zoneHours:y.getTimezoneOffset()/60,zoneMinutes:y.getTimezoneOffset()%60}}return Gt.extractTimeZone=m,Gt}var us={},mU;function jX(){if(mU)return us;mU=1,Object.defineProperty(us,"__esModule",{value:!0}),us.elapsedDuration=us.addDurationToDateTime=us.maximumDayInMonthFor=void 0;const t=ed();function e(s,o,u=0){const l=s-u,c=o-u,d=Math.floor(l/c);return{intDiv:d,remainder:s-d*c}}function n(s,o){const{intDiv:u,remainder:l}=e(o,13,1),c=s+u;return[1,3,5,7,8,10,12].includes(l)?31:[4,6,9,11].includes(l)?30:l===2&&(e(c,400).remainder===0||e(c,100).remainder!==0&&e(c,4).remainder===0)?29:28}us.maximumDayInMonthFor=n;function r(s,o){const u={...s};let l=e(s.month+o.month,13,1);for(u.month=l.remainder,u.year=s.year+o.year+l.intDiv,l=e(s.seconds+o.seconds,60),u.seconds=l.remainder,l=e(s.minutes+o.minutes+l.intDiv,60),u.minutes=l.remainder,l=e(s.hours+o.hours+l.intDiv,24),u.hours=l.remainder,u.day=s.day+o.day+l.intDiv;;){let c;if(u.day<1)u.day+=n(u.year,u.month-1),c=-1;else if(u.day>n(u.year,u.month))u.day-=n(u.year,u.month),c=1;else break;l=e(u.month+c,13,1),u.month=l.remainder,u.year+=l.intDiv}return u}us.addDurationToDateTime=r;function a(s,o,u){const l=(0,t.toUTCDate)(s,u),c=(0,t.toUTCDate)(o,u),d=l.getTime()-c.getTime();return{day:Math.floor(d/(1e3*60*60*24)),hours:Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(d%(1e3*60*60)/(1e3*60)),seconds:d%(1e3*60)}}return us.elapsedDuration=a,us}var gU;function Lx(){if(gU)return $r;gU=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.parseDayTimeDuration=$r.parseYearMonthDuration=$r.parseDuration=$r.parseTime=$r.parseDate=$r.parseDateTime=$r.parseXSDInteger=$r.parseXSDDecimal=$r.parseXSDFloat=void 0;const t=ed(),e=_n(),n=jX();function r(m){const y=Number(m);return Number.isNaN(y)?m==="NaN"?Number.NaN:m==="INF"||m==="+INF"?Number.POSITIVE_INFINITY:m==="-INF"?Number.NEGATIVE_INFINITY:void 0:y}$r.parseXSDFloat=r;function a(m){const y=Number(m);return Number.isNaN(y)?void 0:y}$r.parseXSDDecimal=a;function s(m){const y=Number.parseInt(m,10);return Number.isNaN(y)?void 0:y}$r.parseXSDInteger=s;function o(m){const[y,g]=m.split("T");return{...l(y),...c(g)}}$r.parseDateTime=o;function u(m){if(m==="")return{zoneHours:void 0,zoneMinutes:void 0};if(m==="Z")return{zoneHours:0,zoneMinutes:0};const g=m.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:g[0]*g[1],zoneMinutes:g[0]*g[2]}}function l(m){const y=m.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(y===m)throw new e.ParseError(m,"date");const g=y.split("!"),_=g.slice(0,-1).map(Number),v={year:_[0]*_[1],month:_[2],day:_[3],...u(g[4])};if(!(v.month>=1&&v.month<=12)||!(v.day>=1&&v.day<=(0,n.maximumDayInMonthFor)(v.year,v.month)))throw new e.ParseError(m,"date");return v}$r.parseDate=l;function c(m){const y=m.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(y===m)throw new e.ParseError(m,"time");const g=y.split("!"),_=g.slice(0,-1).map(Number),v={hours:_[0],minutes:_[1],seconds:_[2],...u(g[3])};if(v.seconds>=60||v.minutes>=60||v.hours>24||v.hours===24&&(v.minutes!==0||v.seconds!==0))throw new e.ParseError(m,"time");return v}function d(m){const y=c(m);return y.hours%=24,y}$r.parseTime=d;function f(m){const[y,g]=m.split("T"),_=y.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(_===y)throw new e.ParseError(m,"duration");const v=_.split("!");if(g!==void 0){const S=g.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(g===""||g===S)throw new e.ParseError(m,"duration");v.push(...S.split("!"))}const b=v.map(S=>S.slice(0,-1));if(!b.slice(1).some(Boolean))throw new e.ParseError(m,"duration");const w=Number(b[0]);return(0,t.simplifyDurationRepresentation)({year:b[1]?w*Number(b[1]):void 0,month:b[2]?w*Number(b[2]):void 0,day:b[3]?w*Number(b[3]):void 0,hours:b[4]?w*Number(b[4]):void 0,minutes:b[5]?w*Number(b[5]):void 0,seconds:b[6]?w*Number(b[6]):void 0})}$r.parseDuration=f;function h(m){const y=f(m);if(["hours","minutes","seconds","day"].some(g=>!!y[g]))throw new e.ParseError(m,"yearMonthDuration");return y}$r.parseYearMonthDuration=h;function p(m){const y=f(m);if(["year","month"].some(g=>!!y[g]))throw new e.ParseError(m,"dayTimeDuration");return y}return $r.parseDayTimeDuration=p,$r}var AO={},gr={},$y={},_U;function MX(){if(_U)return $y;_U=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.OverloadTree=void 0;const t=Ai(),e=rS();let n=class jx{constructor(a,s){this.identifier=a,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=s??0,this.promotionCount=void 0}getSubtree(a){const s=(0,e.asGeneralType)(a);if(s)return this.generalOverloads[s];for(const[o,u]of this.literalOverLoads)if(a===o)return u}getImplementationExact(a){let s=this;for(const o of a)if(s=s.getSubtree(o),!s)return;return s.implementation}search(a,s,o){let u=o[this.identifier],l=0;for(;l<a.length&&(u!=null&&u.cache);){const f=a[l],h=(0,t.isLiteralTermExpression)(f);u=u.cache[h?h.dataType:f.termType],l++}if(l===a.length&&(u!=null&&u.func))return u.func;const c=[],d=0;if(a.length===0)return this.implementation;for(c.push(...this.getSubTreeWithArg(a[d],s).map(f=>({node:f,index:d+1})));c.length>0;){const{index:f,node:h}=c.pop();if(f===a.length&&h.implementation)return this.addToCache(o,a,h.implementation),h.implementation;c.push(...h.getSubTreeWithArg(a[f],s).map(p=>({node:p,index:f+1})))}}addToCache(a,s,o){function u(c,d){return d in c||(c[d]={}),c[d]}let l=u(a,this.identifier);for(const c of s){const d=(0,t.isLiteralTermExpression)(c),f=d?d.dataType:c.termType;l.cache=l.cache??{},l=u(l.cache,f)}l.func=o}addOverload(a,s){this._addOverload([...a],s,0)}_addOverload(a,s,o){const[u,...l]=a;if(!u){(this.promotionCount===void 0||o<=this.promotionCount)&&(this.promotionCount=o,this.implementation=s);return}let c=this.getSubtree(u);if(!c){const d=new jx(this.identifier,this.depth+1),f=(0,e.asGeneralType)(u);f&&(this.generalOverloads[f]=d);const h=(0,e.asOverrideType)(u);h&&this.literalOverLoads.push([h,d]),c=d}if(c._addOverload(l,s,o),e.typePromotion[u])for(const d of e.typePromotion[u])this.addPromotedOverload(d.typeToPromote,s,d.conversionFunction,l,o)}addPromotedOverload(a,s,o,u,l){let c=this.getSubtree(a);if(!c){const d=new jx(this.identifier,this.depth+1);this.literalOverLoads.push([a,d]),c=d}c._addOverload(u,d=>f=>s(d)([...f.slice(0,this.depth),o(f[this.depth]),...f.slice(this.depth+1,f.length)]),l+1)}getSubTreeWithArg(a,s){const o=[],u=(0,t.isLiteralTermExpression)(a);if(this.generalOverloads.term&&o.push(this.generalOverloads.term),this.generalOverloads[a.termType]&&o.push(this.generalOverloads[a.termType]),u){const l=(0,e.asKnownLiteralType)(u.dataType);let c;l?c=e.superTypeDictTable[l]:c=(0,e.getSuperTypes)(u.dataType,s);const d=this.literalOverLoads.filter(([f,h])=>f in c).map(([f,h])=>[c[f],h]);d.sort(([f,h],[p,m])=>f-p),o.push(...d.map(([f,h])=>h))}return o}};return $y.OverloadTree=n,$y}var bU;function Ga(){if(bU)return gr;bU=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.expressionToVar=gr.dateTime=gr.langString=gr.string=gr.double=gr.float=gr.decimal=gr.integer=gr.bool=gr.Builder=gr.declare=void 0;const t=Rt,e=Ai(),n=Ai(),r=ei(),a=ei(),s=_n(),o=MX(),u=new t.DataFactory;function l(b){return new c(b)}gr.declare=l;class c{constructor(w){this.overloadTree=new o.OverloadTree(w),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(w){return S=>A=>{for(const[x,M]of A.entries())if(M instanceof n.NonLexicalLiteral)throw new s.InvalidLexicalForm(A[x].toRDF());return w(S)(A)}}set(w,S,A=!0){return this.overloadTree.addOverload(w,A?c.wrapInvalidLexicalProtected(S):S),this}copy({from:w,to:S}){const A=this.overloadTree.getImplementationExact(w);if(!A)throw new s.UnexpectedError("Tried to copy implementation, but types not found",{from:w,to:S});return this.set(S,A)}onUnary(w,S,A=!0){return this.set([w],x=>([M])=>S(x)(M),A)}onUnaryTyped(w,S,A=!0){return this.set([w],x=>([M])=>S(x)(M.typedValue),A)}onBinary(w,S,A=!0){return this.set(w,x=>([M,I])=>S(x)(M,I),A)}onBinaryTyped(w,S,A=!0){return this.set(w,x=>([M,I])=>S(x)(M.typedValue,I.typedValue),A)}onTernaryTyped(w,S,A=!0){return this.set(w,x=>([M,I,N])=>S(x)(M.typedValue,I.typedValue,N.typedValue),A)}onTernary(w,S,A=!0){return this.set(w,x=>([M,I,N])=>S(x)(M,I,N),A)}onQuaternaryTyped(w,S,A=!0){return this.set(w,x=>([M,I,N,F])=>S(x)(M.typedValue,I.typedValue,N.typedValue,F.typedValue),A)}onTerm1(w,S=!1){return this.set(["term"],A=>([x])=>w(A)(x),S)}onTerm3(w){return this.set(["term","term","term"],S=>([A,x,M])=>w(S)(A,x,M))}onQuad1(w){return this.set(["quad"],S=>([A])=>w(S)(A))}onLiteral1(w,S=!0){return this.set(["literal"],A=>([x])=>w(A)(x),S)}onBoolean1(w,S=!0){return this.set([r.TypeURL.XSD_BOOLEAN],A=>([x])=>w(A)(x),S)}onBoolean1Typed(w,S=!0){return this.set([r.TypeURL.XSD_BOOLEAN],A=>([x])=>w(A)(x.typedValue),S)}onString1(w,S=!0){return this.set([r.TypeURL.XSD_STRING],A=>([x])=>w(A)(x),S)}onString1Typed(w,S=!0){return this.set([r.TypeURL.XSD_STRING],A=>([x])=>w(A)(x.typedValue),S)}onLangString1(w,S=!0){return this.set([r.TypeURL.RDF_LANG_STRING],A=>([x])=>w(A)(x),S)}onStringly1(w,S=!0){return this.set([r.TypeAlias.SPARQL_STRINGLY],A=>([x])=>w(A)(x),S)}onStringly1Typed(w,S=!0){return this.set([r.TypeAlias.SPARQL_STRINGLY],A=>([x])=>w(A)(x.typedValue),S)}onNumeric1(w,S=!0){return this.set([r.TypeAlias.SPARQL_NUMERIC],A=>([x])=>w(A)(x),S)}onDateTime1(w,S=!0){return this.set([r.TypeURL.XSD_DATE_TIME],A=>([x])=>w(A)(x),S)}numericConverter(w,S=!0){const A=x=>M=>w(x)(M.typedValue);return this.onUnary(a.TypeURL.XSD_INTEGER,x=>M=>f(A(x)(M)),S).onUnary(a.TypeURL.XSD_DECIMAL,x=>M=>h(A(x)(M)),S).onUnary(a.TypeURL.XSD_FLOAT,x=>M=>p(A(x)(M)),S).onUnary(a.TypeURL.XSD_DOUBLE,x=>M=>m(A(x)(M)),S)}arithmetic(w,S=!0){const A=x=>(M,I)=>w(x)(M.typedValue,I.typedValue);return this.onBinary([a.TypeURL.XSD_INTEGER,a.TypeURL.XSD_INTEGER],x=>(M,I)=>f(A(x)(M,I)),S).onBinary([a.TypeURL.XSD_DECIMAL,a.TypeURL.XSD_DECIMAL],x=>(M,I)=>h(A(x)(M,I)),S).onBinary([a.TypeURL.XSD_FLOAT,a.TypeURL.XSD_FLOAT],x=>(M,I)=>p(A(x)(M,I)),S).onBinary([a.TypeURL.XSD_DOUBLE,a.TypeURL.XSD_DOUBLE],x=>(M,I)=>m(A(x)(M,I)),S)}numberTest(w){return this.numeric(S=>([A,x])=>{const M=w(S)(A.typedValue,x.typedValue);return d(M)})}stringTest(w,S=!0){return this.set([r.TypeURL.XSD_STRING,r.TypeURL.XSD_STRING],A=>([x,M])=>{const I=w(A)(x.typedValue,M.typedValue);return d(I)},S)}booleanTest(w,S=!0){return this.set([r.TypeURL.XSD_BOOLEAN,r.TypeURL.XSD_BOOLEAN],A=>([x,M])=>{const I=w(A)(x.typedValue,M.typedValue);return d(I)},S)}dateTimeTest(w,S=!0){return this.set([r.TypeURL.XSD_DATE_TIME,r.TypeURL.XSD_DATE_TIME],A=>([x,M])=>{const I=w(A)(x.typedValue,M.typedValue);return d(I)},S)}numeric(w){return this.set([r.TypeAlias.SPARQL_NUMERIC,r.TypeAlias.SPARQL_NUMERIC],w)}}gr.Builder=c;function d(b){return new e.BooleanLiteral(b)}gr.bool=d;function f(b){return new e.IntegerLiteral(b)}gr.integer=f;function h(b){return new e.DecimalLiteral(b)}gr.decimal=h;function p(b){return new e.FloatLiteral(b)}gr.float=p;function m(b){return new e.DoubleLiteral(b)}gr.double=m;function y(b){return new e.StringLiteral(b)}gr.string=y;function g(b,w){return new e.LangStringLiteral(b,w)}gr.langString=g;function _(b,w){return new e.DateTimeLiteral(b,w)}gr.dateTime=_;function v(b){return u.variable(b.name.slice(1))}return gr.expressionToVar=v,gr}var vU;function rS(){return vU||(vU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.typePromotion=t.isSubTypeOf=t.getSuperTypeDict=t.isInternalSubType=t.asGeneralType=t.asOverrideType=t.asKnownLiteralType=t.asTypeAlias=t.typeAliasCheck=t.extensionTableInit=t.getSuperTypes=t.superTypeDictTable=t.extensionTableInput=void 0;const e=Ai(),n=Ga(),r=ei();t.extensionTableInput={[r.TypeURL.XSD_DATE_TIME_STAMP]:r.TypeURL.XSD_DATE_TIME,[r.TypeURL.XSD_DAY_TIME_DURATION]:r.TypeURL.XSD_DURATION,[r.TypeURL.XSD_YEAR_MONTH_DURATION]:r.TypeURL.XSD_DURATION,[r.TypeURL.RDF_LANG_STRING]:r.TypeAlias.SPARQL_STRINGLY,[r.TypeURL.XSD_STRING]:r.TypeAlias.SPARQL_STRINGLY,[r.TypeURL.XSD_NORMALIZED_STRING]:r.TypeURL.XSD_STRING,[r.TypeURL.XSD_TOKEN]:r.TypeURL.XSD_NORMALIZED_STRING,[r.TypeURL.XSD_LANGUAGE]:r.TypeURL.XSD_TOKEN,[r.TypeURL.XSD_NM_TOKEN]:r.TypeURL.XSD_TOKEN,[r.TypeURL.XSD_NAME]:r.TypeURL.XSD_TOKEN,[r.TypeURL.XSD_NC_NAME]:r.TypeURL.XSD_NAME,[r.TypeURL.XSD_ENTITY]:r.TypeURL.XSD_NC_NAME,[r.TypeURL.XSD_ID]:r.TypeURL.XSD_NC_NAME,[r.TypeURL.XSD_ID_REF]:r.TypeURL.XSD_NC_NAME,[r.TypeURL.XSD_DOUBLE]:r.TypeAlias.SPARQL_NUMERIC,[r.TypeURL.XSD_FLOAT]:r.TypeAlias.SPARQL_NUMERIC,[r.TypeURL.XSD_DECIMAL]:r.TypeAlias.SPARQL_NUMERIC,[r.TypeURL.XSD_INTEGER]:r.TypeURL.XSD_DECIMAL,[r.TypeURL.XSD_NON_POSITIVE_INTEGER]:r.TypeURL.XSD_INTEGER,[r.TypeURL.XSD_NEGATIVE_INTEGER]:r.TypeURL.XSD_NON_POSITIVE_INTEGER,[r.TypeURL.XSD_LONG]:r.TypeURL.XSD_INTEGER,[r.TypeURL.XSD_INT]:r.TypeURL.XSD_LONG,[r.TypeURL.XSD_SHORT]:r.TypeURL.XSD_INT,[r.TypeURL.XSD_BYTE]:r.TypeURL.XSD_SHORT,[r.TypeURL.XSD_NON_NEGATIVE_INTEGER]:r.TypeURL.XSD_INTEGER,[r.TypeURL.XSD_POSITIVE_INTEGER]:r.TypeURL.XSD_NON_NEGATIVE_INTEGER,[r.TypeURL.XSD_UNSIGNED_LONG]:r.TypeURL.XSD_NON_NEGATIVE_INTEGER,[r.TypeURL.XSD_UNSIGNED_INT]:r.TypeURL.XSD_UNSIGNED_LONG,[r.TypeURL.XSD_UNSIGNED_SHORT]:r.TypeURL.XSD_UNSIGNED_INT,[r.TypeURL.XSD_UNSIGNED_BYTE]:r.TypeURL.XSD_UNSIGNED_SHORT,[r.TypeURL.XSD_DATE_TIME]:"term",[r.TypeURL.XSD_BOOLEAN]:"term",[r.TypeURL.XSD_DATE]:"term",[r.TypeURL.XSD_G_MONTH]:"term",[r.TypeURL.XSD_G_MONTHDAY]:"term",[r.TypeURL.XSD_G_YEAR]:"term",[r.TypeURL.XSD_G_YEAR_MONTH]:"term",[r.TypeURL.XSD_TIME]:"term",[r.TypeURL.XSD_G_DAY]:"term",[r.TypeURL.XSD_DURATION]:"term",[r.TypeAlias.SPARQL_NUMERIC]:"term",[r.TypeAlias.SPARQL_STRINGLY]:"term",[r.TypeURL.XSD_ANY_URI]:"term"},t.superTypeDictTable=Object.create(null);function a(y,g){const _=g.cache.get(y);if(_)return _;const v=g.discoverer(y);if(v==="term"){const S=Object.create(null);return S.__depth=0,S[y]=0,g.cache.set(y,S),S}let b;const w=c(v);return w?b={...t.superTypeDictTable[w]}:b={...a(v,g)},b.__depth++,b[y]=b.__depth,g.cache.set(y,b),b}t.getSuperTypes=a;function s(){for(const[y,g]of Object.entries(t.extensionTableInput)){const _=y;t.superTypeDictTable[_]||o(_,g,t.superTypeDictTable)}}t.extensionTableInit=s,s();function o(y,g,_){if(g==="term"||g===void 0){const v=Object.create(null);v.__depth=0,v[y]=0,_[y]=v;return}_[g]||o(g,t.extensionTableInput[g],_),_[y]={..._[g],[y]:_[g].__depth+1,__depth:_[g].__depth+1}}t.typeAliasCheck=Object.create(null);function u(){for(const y of Object.values(r.TypeAlias))t.typeAliasCheck[y]=!0}u();function l(y){if(y in t.typeAliasCheck)return y}t.asTypeAlias=l;function c(y){if(y in t.superTypeDictTable)return y}t.asKnownLiteralType=c;function d(y){if(c(y)??y==="term")return y}t.asOverrideType=d;function f(y){if(y==="term"||(0,e.asTermType)(y))return y}t.asGeneralType=f;function h(y,g){return y!=="term"&&t.superTypeDictTable[y]&&t.superTypeDictTable[y][g]!==void 0}t.isInternalSubType=h;function p(y,g){const _=c(y);return _?t.superTypeDictTable[_]:a(y,g)}t.getSuperTypeDict=p;function m(y,g,_){return y==="term"?!1:p(y,_)[g]!==void 0}t.isSubTypeOf=m,t.typePromotion={[r.TypeURL.XSD_STRING]:[{typeToPromote:r.TypeURL.XSD_ANY_URI,conversionFunction:y=>(0,n.string)(y.str())}],[r.TypeURL.XSD_DOUBLE]:[{typeToPromote:r.TypeURL.XSD_FLOAT,conversionFunction:y=>(0,n.double)(y.typedValue)},{typeToPromote:r.TypeURL.XSD_DECIMAL,conversionFunction:y=>(0,n.double)(y.typedValue)}],[r.TypeURL.XSD_FLOAT]:[{typeToPromote:r.TypeURL.XSD_DECIMAL,conversionFunction:y=>(0,n.float)(y.typedValue)}]}}(AO)),AO}var wU;function oc(){if(wU)return By;wU=1,Object.defineProperty(By,"__esModule",{value:!0}),By.TermTransformer=void 0;const t=tr,e=Pt(),n=Ai(),r=ei(),a=_n(),s=_n(),o=Lx(),u=Lx(),l=rS();let c=class{constructor(f){this.superTypeProvider=f}transformRDFTermUnsafe(f){return this.transformTerm({term:f,type:e.Algebra.types.EXPRESSION,expressionType:e.Algebra.expressionTypes.TERM})}transformTerm(f){if(!f.term)throw new a.InvalidExpression(f);switch(f.term.termType){case"Variable":return new n.Variable(t.termToString(f.term));case"Literal":return this.transformLiteral(f.term);case"NamedNode":return new n.NamedNode(f.term.value);case"BlankNode":return new n.BlankNode(f.term.value);case"Quad":return new n.Quad(f.term,this.superTypeProvider);default:throw new a.InvalidTermType(f)}}transformLiteral(f){if(!f.datatype||[null,void 0,""].includes(f.datatype.value))return f.language?new n.LangStringLiteral(f.value,f.language):new n.StringLiteral(f.value);const h=f.datatype.value,p=(0,l.getSuperTypeDict)(h,this.superTypeProvider);try{if(r.TypeURL.XSD_STRING in p)return new n.StringLiteral(f.value,h);if(r.TypeURL.RDF_LANG_STRING in p)return new n.LangStringLiteral(f.value,f.language);if(r.TypeURL.XSD_YEAR_MONTH_DURATION in p)return new n.YearMonthDurationLiteral((0,o.parseYearMonthDuration)(f.value),f.value,h);if(r.TypeURL.XSD_DAY_TIME_DURATION in p)return new n.DayTimeDurationLiteral((0,o.parseDayTimeDuration)(f.value),f.value,h);if(r.TypeURL.XSD_DURATION in p)return new n.DurationLiteral((0,o.parseDuration)(f.value),f.value,h);if(r.TypeURL.XSD_DATE_TIME in p){const g=new Date(f.value);return Number.isNaN(g.getTime())?new n.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new n.DateTimeLiteral((0,o.parseDateTime)(f.value),f.value,h)}if(r.TypeURL.XSD_DATE in p)return new n.DateLiteral((0,o.parseDate)(f.value),f.value,h);if(r.TypeURL.XSD_TIME in p)return new n.TimeLiteral((0,o.parseTime)(f.value),f.value,h);if(r.TypeURL.XSD_BOOLEAN in p)return f.value!=="true"&&f.value!=="false"&&f.value!=="1"&&f.value!=="0"?new n.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new n.BooleanLiteral(f.value==="true"||f.value==="1",f.value);if(r.TypeURL.XSD_DECIMAL in p){const g=u.parseXSDDecimal(f.value);return g===void 0?new n.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):r.TypeURL.XSD_INTEGER in p?new n.IntegerLiteral(g,h,f.value):new n.DecimalLiteral(g,h,f.value)}const m=r.TypeURL.XSD_FLOAT in p,y=r.TypeURL.XSD_DOUBLE in p;if(m||y){const g=u.parseXSDFloat(f.value);return g===void 0?new n.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):m?new n.FloatLiteral(g,h,f.value):new n.DoubleLiteral(g,h,f.value)}return new n.Literal(f.value,h,f.value)}catch(m){if(m instanceof Error&&(0,s.isExpressionError)(m))return new n.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value);throw m}}};return By.TermTransformer=c,By}var Yi={},SU;function Hxe(){if(SU)return Yi;SU=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.serializeDuration=Yi.serializeTime=Yi.serializeDate=Yi.serializeDateTime=void 0;function t(o,u=2){return o.toLocaleString(void 0,{minimumIntegerDigits:u,useGrouping:!1})}function e(o){return`${r({year:o.year,month:o.month,day:o.day})}T${a(o)}`}Yi.serializeDateTime=e;function n(o){return o.zoneHours===void 0||o.zoneMinutes===void 0?"":o.zoneHours===0&&o.zoneMinutes===0?"Z":`${o.zoneHours>=0?`+${t(o.zoneHours)}`:t(o.zoneHours)}:${t(Math.abs(o.zoneMinutes))}`}function r(o){return`${t(o.year,4)}-${t(o.month)}-${t(o.day)}${n(o)}`}Yi.serializeDate=r;function a(o){return`${t(o.hours)}:${t(o.minutes)}:${t(o.seconds)}${n(o)}`}Yi.serializeTime=a;function s(o,u="PT0S"){if(!Object.values(o).some(g=>(g||0)!==0))return u;const l=Object.values(o).some(g=>(g||0)<0)?"-":"",c=o.year?`${Math.abs(o.year)}Y`:"",d=o.month?`${Math.abs(o.month)}M`:"",f=o.day?`${Math.abs(o.day)}D`:"",h=`${l}P${c}${d}${f}`;if(!(o.hours||o.minutes||o.seconds))return h;const p=o.hours?`${Math.abs(o.hours)}H`:"",m=o.minutes?`${Math.abs(o.minutes)}M`:"",y=o.seconds?`${Math.abs(o.seconds)}S`:"";return`${h}T${p}${m}${y}`}return Yi.serializeDuration=s,Yi}var TU;function Qxe(){if(TU)return It;TU=1,Object.defineProperty(It,"__esModule",{value:!0}),It.isNonLexicalLiteral=It.NonLexicalLiteral=It.YearMonthDurationLiteral=It.DayTimeDurationLiteral=It.DurationLiteral=It.DateLiteral=It.TimeLiteral=It.DateTimeLiteral=It.StringLiteral=It.LangStringLiteral=It.BooleanLiteral=It.DoubleLiteral=It.FloatLiteral=It.DecimalLiteral=It.IntegerLiteral=It.NumericLiteral=It.Literal=It.isLiteralTermExpression=It.Quad=It.BlankNode=It.NamedNode=It.Term=void 0;const t=Rt,e=oc(),n=ei(),r=ei(),a=_n(),s=Hxe(),o=rS(),u=za(),l=new t.DataFactory;class c{constructor(){this.expressionType=u.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],n.RegularOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}}It.Term=c;class d extends c{constructor(H){super(),this.value=H,this.termType="namedNode"}toRDF(){return l.namedNode(this.value)}str(){return this.value}}It.NamedNode=d;class f extends c{constructor(H){super(),this.termType="blankNode",this.value=typeof H=="string"?l.blankNode(H):H}toRDF(){return this.value}}It.BlankNode=f;class h extends c{constructor(H,X){super(),this.termType="quad",this.transformer=new e.TermTransformer(X),this.valueTerm=H}toRDF(){return this.valueTerm}get subject(){return this.transformer.transformRDFTermUnsafe(this.RDFsubject)}get predicate(){return this.transformer.transformRDFTermUnsafe(this.RDFpredicate)}get object(){return this.transformer.transformRDFTermUnsafe(this.RDFobject)}get RDFsubject(){return this.toRDF().subject}get RDFpredicate(){return this.toRDF().predicate}get RDFobject(){return this.toRDF().object}}It.Quad=h;function p(U){if(U.termType==="literal")return U}It.isLiteralTermExpression=p;class m extends c{constructor(H,X,ee,fe){super(),this.typedValue=H,this.dataType=X,this.strValue=ee,this.language=fe,this.termType="literal"}toRDF(){return l.literal(this.strValue??this.str(),this.language??l.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}It.Literal=m;class y extends m{constructor(H,X,ee,fe){super(H,X,ee,fe),this.typedValue=H,this.strValue=ee,this.language=fe}coerceEBV(){return!!this.typedValue}toRDF(){const H=super.toRDF();return Number.isFinite(this.typedValue)||(H.value=H.value.replace("Infinity","INF")),H}str(){return this.strValue??this.specificFormatter(this.typedValue)}}It.NumericLiteral=y;class g extends y{constructor(H,X,ee,fe){super(H,X??r.TypeURL.XSD_INTEGER,ee,fe),this.typedValue=H,this.strValue=ee,this.language=fe}specificFormatter(H){return H.toFixed(0)}}It.IntegerLiteral=g;class _ extends y{constructor(H,X,ee,fe){super(H,X??r.TypeURL.XSD_DECIMAL,ee,fe),this.typedValue=H,this.strValue=ee,this.language=fe}specificFormatter(H){return H.toString()}}It.DecimalLiteral=_;class v extends y{constructor(H,X,ee,fe){super(H,X??r.TypeURL.XSD_FLOAT,ee,fe),this.typedValue=H,this.strValue=ee,this.language=fe}specificFormatter(H){return H.toString()}}It.FloatLiteral=v;class b extends y{constructor(H,X,ee,fe){super(H,X??r.TypeURL.XSD_DOUBLE,ee,fe),this.typedValue=H,this.strValue=ee,this.language=fe}specificFormatter(H){if(!Number.isFinite(H))return H>0?"INF":H<0?"-INF":"NaN";const X=H.toExponential(),[ee,fe]=X.split("e"),Te=fe.replace(/\+/u,"");return`${ee.includes(".")?ee:`${ee}.0`}E${Te}`}}It.DoubleLiteral=b;class w extends m{constructor(H,X,ee){super(H,ee??r.TypeURL.XSD_BOOLEAN,X),this.typedValue=H,this.strValue=X}coerceEBV(){return this.typedValue}}It.BooleanLiteral=w;class S extends m{constructor(H,X,ee){super(H,ee??r.TypeURL.RDF_LANG_STRING,H,X),this.typedValue=H,this.language=X}coerceEBV(){return this.str().length>0}}It.LangStringLiteral=S;class A extends m{constructor(H,X){super(H,X??r.TypeURL.XSD_STRING,H),this.typedValue=H}coerceEBV(){return this.str().length>0}}It.StringLiteral=A;class x extends m{constructor(H,X,ee){super(H,ee??r.TypeURL.XSD_DATE_TIME,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeDateTime)(this.typedValue)}}It.DateTimeLiteral=x;class M extends m{constructor(H,X,ee){super(H,ee??r.TypeURL.XSD_TIME,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeTime)(this.typedValue)}}It.TimeLiteral=M;class I extends m{constructor(H,X,ee){super(H,ee??r.TypeURL.XSD_DATE,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeDate)(this.typedValue)}}It.DateLiteral=I;class N extends m{constructor(H,X,ee){super(H,ee??r.TypeURL.XSD_DURATION,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeDuration)(this.typedValue)}}It.DurationLiteral=N;class F extends N{constructor(H,X,ee){super(H,X,ee??r.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=H,this.strValue=X}}It.DayTimeDurationLiteral=F;class D extends m{constructor(H,X,ee){super(H,ee??r.TypeURL.XSD_YEAR_MONTH_DURATION,X),this.typedValue=H,this.strValue=X}str(){return(0,s.serializeDuration)(this.typedValue,"P0M")}}It.YearMonthDurationLiteral=D;class V extends m{constructor(H,X,ee,fe,Te){super({toString:()=>"undefined"},X,fe,Te),this.openWorldType=ee}coerceEBV(){if((0,o.isSubTypeOf)(this.dataType,r.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,o.isSubTypeOf)(this.dataType,r.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new a.EBVCoercionError(this)}toRDF(){return l.literal(this.str(),this.language??l.namedNode(this.dataType))}str(){return this.strValue??""}}It.NonLexicalLiteral=V;function k(U){if(U instanceof V)return U}return It.isNonLexicalLiteral=k,It}var Uy={},EU;function zxe(){if(EU)return Uy;EU=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.Operator=void 0;const t=za();let e=class{constructor(r,a){this.args=r,this.apply=a,this.expressionType=t.ExpressionType.Operator}};return Uy.Operator=e,Uy}var ky={},AU;function Gxe(){if(AU)return ky;AU=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.SpecialOperator=void 0;const t=za();let e=class{constructor(r,a,s){this.args=r,this.applyAsync=a,this.applySynchronously=s,this.expressionType=t.ExpressionType.SpecialOperator}};return ky.SpecialOperator=e,ky}var Vy={},OU;function Wxe(){if(OU)return Vy;OU=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.Named=void 0;const t=za();let e=class{constructor(r,a,s){this.name=r,this.args=a,this.apply=s,this.expressionType=t.ExpressionType.Named}};return Vy.Named=e,Vy}var Hy={},RU;function Kxe(){if(RU)return Hy;RU=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.Aggregate=void 0;const t=za();let e=class{constructor(r,a){this.name=r,this.expression=a,this.expressionType=t.ExpressionType.Aggregate}};return Hy.Aggregate=e,Hy}var Qy={},xU;function Jxe(){if(xU)return Qy;xU=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.Existence=void 0;const t=za();let e=class{constructor(r){this.expression=r,this.expressionType=t.ExpressionType.Existence}};return Qy.Existence=e,Qy}var zy={},IU;function Xxe(){if(IU)return zy;IU=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.AsyncExtension=void 0;const t=za();let e=class{constructor(r,a,s){this.name=r,this.args=a,this.apply=s,this.expressionType=t.ExpressionType.AsyncExtension}};return zy.AsyncExtension=e,zy}var Gy={},PU;function Yxe(){if(PU)return Gy;PU=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.SyncExtension=void 0;const t=za();let e=class{constructor(r,a,s){this.name=r,this.args=a,this.apply=s,this.expressionType=t.ExpressionType.SyncExtension}};return Gy.SyncExtension=e,Gy}var NU;function Ai(){return NU||(NU=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(za(),t),n(Vxe(),t),n(Qxe(),t),n(zxe(),t),n(Gxe(),t),n(Wxe(),t),n(Kxe(),t),n(Jxe(),t),n(Xxe(),t),n(Yxe(),t)}(TO)),TO}var OO={},Zi={},DU;function Mx(){if(DU)return Zi;DU=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.SpecialFunction=Zi.NamedFunction=Zi.RegularFunction=Zi.BaseFunction=void 0;const t=_n();class e{constructor(u,l){this.operator=u,this.apply=(c,d)=>(this.monomorph(c,d.superTypeProvider,d.functionArgumentsCache)??this.handleInvalidTypes(c))(d)(c),this.arity=l.arity,this.overloads=l.overloads}monomorph(u,l,c){return this.overloads.search(u,l,c)}}Zi.BaseFunction=e;class n extends e{constructor(u,l){super(u,l),this.functionClass="regular"}handleInvalidTypes(u){throw new t.InvalidArgumentTypes(u,this.operator)}}Zi.RegularFunction=n;class r extends e{constructor(u,l){super(u,l),this.functionClass="named"}handleInvalidTypes(u){throw new t.InvalidArgumentTypes(u,this.operator)}}Zi.NamedFunction=r;class a{constructor(u,l){this.operator=u,this.functionClass="special",this.arity=l.arity,this.applySynchronously=l.applySynchronously,this.applyAsync=l.applyAsync,this.checkArity=l.checkArity??s(this.arity)}}Zi.SpecialFunction=a;function s(o){return u=>o===Number.POSITIVE_INFINITY?!0:u.length===o}return Zi}var Wy={},CU;function Zxe(){if(CU)return Wy;CU=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.namedDefinitions=void 0;const t=Ai(),e=Ai(),n=ei(),r=ed(),a=_n(),s=Lx(),o=Ga(),u={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_STRING).onNumeric1(()=>b=>(0,o.string)((0,o.float)(b.typedValue).str())).onBoolean1Typed(()=>b=>(0,o.string)((0,o.bool)(b).str())).onTerm1(()=>b=>(0,o.string)(b.str())).collect()},l={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_FLOAT).onNumeric1(()=>b=>(0,o.float)(b.typedValue)).onBoolean1Typed(()=>b=>(0,o.float)(b?1:0)).onUnary(n.TypeURL.XSD_STRING,()=>b=>{const w=(0,s.parseXSDFloat)(b.str());if(w===void 0)throw new a.CastError(b,n.TypeURL.XSD_FLOAT);return(0,o.float)(w)},!1).collect()},c={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_DOUBLE).onNumeric1(()=>b=>(0,o.double)(b.typedValue)).onBoolean1Typed(()=>b=>(0,o.double)(b?1:0)).onUnary(n.TypeURL.XSD_STRING,()=>b=>{const w=(0,s.parseXSDFloat)(b.str());if(w===void 0)throw new a.CastError(b,n.TypeURL.XSD_DOUBLE);return(0,o.double)(w)},!1).collect()},d={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_DECIMAL).onNumeric1(()=>b=>{const w=(0,s.parseXSDDecimal)(b.str());if(w===void 0)throw new a.CastError(b,n.TypeURL.XSD_DECIMAL);return(0,o.decimal)(w)}).onString1(()=>b=>{const w=b.str(),S=/^([+-])?(\d+(\.\d+)?)$/u.test(w)?(0,s.parseXSDDecimal)(w):void 0;if(S===void 0)throw new a.CastError(b,n.TypeURL.XSD_DECIMAL);return(0,o.decimal)(S)},!1).onBoolean1Typed(()=>b=>(0,o.decimal)(b?1:0)).collect()},f={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>b=>(0,o.integer)(b?1:0)).onNumeric1(()=>b=>{const w=(0,s.parseXSDInteger)(b.str());if(w===void 0)throw new a.CastError(b,n.TypeURL.XSD_INTEGER);return(0,o.integer)(w)},!1).onString1(()=>b=>{const w=b.str(),S=/^\d+$/u.test(w)?(0,s.parseXSDInteger)(w):void 0;if(S===void 0)throw new a.CastError(b,n.TypeURL.XSD_INTEGER);return(0,o.integer)(S)}).collect()},h={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_DATE_TIME).onUnary(n.TypeURL.XSD_DATE_TIME,()=>b=>b).onUnary(n.TypeURL.XSD_STRING,()=>b=>(0,o.dateTime)((0,s.parseDateTime)(b.str()),b.str()),!1).onUnary(n.TypeURL.XSD_DATE,()=>b=>new t.DateTimeLiteral({...b.typedValue,hours:0,minutes:0,seconds:0})).collect()},p={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_BOOLEAN).onNumeric1(()=>b=>(0,o.bool)(b.coerceEBV()),!0).onUnary(n.TypeURL.XSD_BOOLEAN,()=>b=>(0,o.bool)(b.coerceEBV()),!0).onUnary(n.TypeURL.XSD_STRING,()=>b=>{switch(b.str()){case"true":return(0,o.bool)(!0);case"false":return(0,o.bool)(!1);case"1":return(0,o.bool)(!0);case"0":return(0,o.bool)(!1);default:throw new a.CastError(b,n.TypeURL.XSD_BOOLEAN)}},!1).collect()},m={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_TIME).onUnary(n.TypeURL.XSD_TIME,()=>b=>new t.TimeLiteral(b.typedValue,b.strValue)).onUnary(n.TypeURL.XSD_DATE_TIME,()=>b=>new t.TimeLiteral(b.typedValue)).onStringly1(()=>b=>new t.TimeLiteral((0,s.parseTime)(b.str()))).collect()},y={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_DATE).onUnary(n.TypeURL.XSD_DATE,()=>b=>new t.DateLiteral(b.typedValue,b.strValue)).onUnary(n.TypeURL.XSD_DATE_TIME,()=>b=>new t.DateLiteral(b.typedValue)).onStringly1(()=>b=>new t.DateLiteral((0,s.parseDate)(b.str()))).collect()},g={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_DURATION).onUnary(n.TypeURL.XSD_DURATION,()=>b=>new t.DurationLiteral(b.typedValue,b.strValue)).onStringly1(()=>b=>new e.DurationLiteral((0,s.parseDuration)(b.str()))).collect()},_={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_DAY_TIME_DURATION).onUnary(n.TypeURL.XSD_DURATION,()=>b=>new t.DayTimeDurationLiteral((0,r.trimToDayTimeDuration)(b.typedValue))).onStringly1(()=>b=>new t.DayTimeDurationLiteral((0,s.parseDayTimeDuration)(b.str()))).collect()},v={arity:1,overloads:(0,o.declare)(n.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(n.TypeURL.XSD_DURATION,()=>b=>new t.YearMonthDurationLiteral((0,r.trimToYearMonthDuration)(b.typedValue))).onStringly1(()=>b=>new t.YearMonthDurationLiteral((0,s.parseYearMonthDuration)(b.str()))).collect()};return Wy.namedDefinitions={[n.TypeURL.XSD_STRING]:u,[n.TypeURL.XSD_FLOAT]:l,[n.TypeURL.XSD_DOUBLE]:c,[n.TypeURL.XSD_DECIMAL]:d,[n.TypeURL.XSD_INTEGER]:f,[n.TypeURL.XSD_DATE_TIME]:h,[n.TypeURL.XSD_DATE]:y,[n.TypeURL.XSD_BOOLEAN]:p,[n.TypeURL.XSD_TIME]:m,[n.TypeURL.XSD_DURATION]:g,[n.TypeURL.XSD_DAY_TIME_DURATION]:_,[n.TypeURL.XSD_YEAR_MONTH_DURATION]:v},Wy}var Ky={},RO={exports:{}},LU;function eIe(){return LU||(LU=1,function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,o="[BigNumber Error] ",u=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function m(A){var x,M,I,N=ue.prototype={constructor:ue,toString:null,valueOf:null},F=new ue(1),D=20,V=4,k=-7,U=21,H=-1e7,X=1e7,ee=!1,fe=1,Te=0,De={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ve="0123456789abcdefghijklmnopqrstuvwxyz",le=!0;function ue(z,L){var B,T,O,$,G,Q,Y,ie,te=this;if(!(te instanceof ue))return new ue(z,L);if(L==null){if(z&&z._isBigNumber===!0){te.s=z.s,!z.c||z.e>X?te.c=te.e=null:z.e<H?te.c=[te.e=0]:(te.e=z.e,te.c=z.c.slice());return}if((Q=typeof z=="number")&&z*0==0){if(te.s=1/z<0?(z=-z,-1):1,z===~~z){for($=0,G=z;G>=10;G/=10,$++);$>X?te.c=te.e=null:(te.e=$,te.c=[z]);return}ie=String(z)}else{if(!r.test(ie=String(z)))return I(te,ie,Q);te.s=ie.charCodeAt(0)==45?(ie=ie.slice(1),-1):1}($=ie.indexOf("."))>-1&&(ie=ie.replace(".","")),(G=ie.search(/e/i))>0?($<0&&($=G),$+=+ie.slice(G+1),ie=ie.substring(0,G)):$<0&&($=ie.length)}else{if(v(L,2,Ve.length,"Base"),L==10&&le)return te=new ue(z),Ae(te,D+te.e+1,V);if(ie=String(z),Q=typeof z=="number"){if(z*0!=0)return I(te,ie,Q,L);if(te.s=1/z<0?(ie=ie.slice(1),-1):1,ue.DEBUG&&ie.replace(/^0\.0*|\./,"").length>15)throw Error(u+z)}else te.s=ie.charCodeAt(0)===45?(ie=ie.slice(1),-1):1;for(B=Ve.slice(0,L),$=G=0,Y=ie.length;G<Y;G++)if(B.indexOf(T=ie.charAt(G))<0){if(T=="."){if(G>$){$=Y;continue}}else if(!O&&(ie==ie.toUpperCase()&&(ie=ie.toLowerCase())||ie==ie.toLowerCase()&&(ie=ie.toUpperCase()))){O=!0,G=-1,$=0;continue}return I(te,String(z),Q,L)}Q=!1,ie=M(ie,L,10,te.s),($=ie.indexOf("."))>-1?ie=ie.replace(".",""):$=ie.length}for(G=0;ie.charCodeAt(G)===48;G++);for(Y=ie.length;ie.charCodeAt(--Y)===48;);if(ie=ie.slice(G,++Y)){if(Y-=G,Q&&ue.DEBUG&&Y>15&&(z>d||z!==s(z)))throw Error(u+te.s*z);if(($=$-G-1)>X)te.c=te.e=null;else if($<H)te.c=[te.e=0];else{if(te.e=$,te.c=[],G=($+1)%c,$<0&&(G+=c),G<Y){for(G&&te.c.push(+ie.slice(0,G)),Y-=c;G<Y;)te.c.push(+ie.slice(G,G+=c));G=c-(ie=ie.slice(G)).length}else G-=Y;for(;G--;ie+="0");te.c.push(+ie)}}else te.c=[te.e=0]}ue.clone=m,ue.ROUND_UP=0,ue.ROUND_DOWN=1,ue.ROUND_CEIL=2,ue.ROUND_FLOOR=3,ue.ROUND_HALF_UP=4,ue.ROUND_HALF_DOWN=5,ue.ROUND_HALF_EVEN=6,ue.ROUND_HALF_CEIL=7,ue.ROUND_HALF_FLOOR=8,ue.EUCLID=9,ue.config=ue.set=function(z){var L,B;if(z!=null)if(typeof z=="object"){if(z.hasOwnProperty(L="DECIMAL_PLACES")&&(B=z[L],v(B,0,p,L),D=B),z.hasOwnProperty(L="ROUNDING_MODE")&&(B=z[L],v(B,0,8,L),V=B),z.hasOwnProperty(L="EXPONENTIAL_AT")&&(B=z[L],B&&B.pop?(v(B[0],-p,0,L),v(B[1],0,p,L),k=B[0],U=B[1]):(v(B,-p,p,L),k=-(U=B<0?-B:B))),z.hasOwnProperty(L="RANGE"))if(B=z[L],B&&B.pop)v(B[0],-p,-1,L),v(B[1],1,p,L),H=B[0],X=B[1];else if(v(B,-p,p,L),B)H=-(X=B<0?-B:B);else throw Error(o+L+" cannot be zero: "+B);if(z.hasOwnProperty(L="CRYPTO"))if(B=z[L],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ee=B;else throw ee=!B,Error(o+"crypto unavailable");else ee=B;else throw Error(o+L+" not true or false: "+B);if(z.hasOwnProperty(L="MODULO_MODE")&&(B=z[L],v(B,0,9,L),fe=B),z.hasOwnProperty(L="POW_PRECISION")&&(B=z[L],v(B,0,p,L),Te=B),z.hasOwnProperty(L="FORMAT"))if(B=z[L],typeof B=="object")De=B;else throw Error(o+L+" not an object: "+B);if(z.hasOwnProperty(L="ALPHABET"))if(B=z[L],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))le=B.slice(0,10)=="0123456789",Ve=B;else throw Error(o+L+" invalid: "+B)}else throw Error(o+"Object expected: "+z);return{DECIMAL_PLACES:D,ROUNDING_MODE:V,EXPONENTIAL_AT:[k,U],RANGE:[H,X],CRYPTO:ee,MODULO_MODE:fe,POW_PRECISION:Te,FORMAT:De,ALPHABET:Ve}},ue.isBigNumber=function(z){if(!z||z._isBigNumber!==!0)return!1;if(!ue.DEBUG)return!0;var L,B,T=z.c,O=z.e,$=z.s;e:if({}.toString.call(T)=="[object Array]"){if(($===1||$===-1)&&O>=-p&&O<=p&&O===s(O)){if(T[0]===0){if(O===0&&T.length===1)return!0;break e}if(L=(O+1)%c,L<1&&(L+=c),String(T[0]).length==L){for(L=0;L<T.length;L++)if(B=T[L],B<0||B>=l||B!==s(B))break e;if(B!==0)return!0}}}else if(T===null&&O===null&&($===null||$===1||$===-1))return!0;throw Error(o+"Invalid BigNumber: "+z)},ue.maximum=ue.max=function(){return Ne(arguments,-1)},ue.minimum=ue.min=function(){return Ne(arguments,1)},ue.random=function(){var z=9007199254740992,L=Math.random()*z&2097151?function(){return s(Math.random()*z)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var T,O,$,G,Q,Y=0,ie=[],te=new ue(F);if(B==null?B=D:v(B,0,p),G=a(B/c),ee)if(crypto.getRandomValues){for(T=crypto.getRandomValues(new Uint32Array(G*=2));Y<G;)Q=T[Y]*131072+(T[Y+1]>>>11),Q>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),T[Y]=O[0],T[Y+1]=O[1]):(ie.push(Q%1e14),Y+=2);Y=G/2}else if(crypto.randomBytes){for(T=crypto.randomBytes(G*=7);Y<G;)Q=(T[Y]&31)*281474976710656+T[Y+1]*1099511627776+T[Y+2]*4294967296+T[Y+3]*16777216+(T[Y+4]<<16)+(T[Y+5]<<8)+T[Y+6],Q>=9e15?crypto.randomBytes(7).copy(T,Y):(ie.push(Q%1e14),Y+=7);Y=G/7}else throw ee=!1,Error(o+"crypto unavailable");if(!ee)for(;Y<G;)Q=L(),Q<9e15&&(ie[Y++]=Q%1e14);for(G=ie[--Y],B%=c,G&&B&&(Q=f[c-B],ie[Y]=s(G/Q)*Q);ie[Y]===0;ie.pop(),Y--);if(Y<0)ie=[$=0];else{for($=-1;ie[0]===0;ie.splice(0,1),$-=c);for(Y=1,Q=ie[0];Q>=10;Q/=10,Y++);Y<c&&($-=c-Y)}return te.e=$,te.c=ie,te}}(),ue.sum=function(){for(var z=1,L=arguments,B=new ue(L[0]);z<L.length;)B=B.plus(L[z++]);return B},M=function(){var z="0123456789";function L(B,T,O,$){for(var G,Q=[0],Y,ie=0,te=B.length;ie<te;){for(Y=Q.length;Y--;Q[Y]*=T);for(Q[0]+=$.indexOf(B.charAt(ie++)),G=0;G<Q.length;G++)Q[G]>O-1&&(Q[G+1]==null&&(Q[G+1]=0),Q[G+1]+=Q[G]/O|0,Q[G]%=O)}return Q.reverse()}return function(B,T,O,$,G){var Q,Y,ie,te,he,ce,ve,Ce,Ee=B.indexOf("."),Ue=D,Fe=V;for(Ee>=0&&(te=Te,Te=0,B=B.replace(".",""),Ce=new ue(T),ce=Ce.pow(B.length-Ee),Te=te,Ce.c=L(S(g(ce.c),ce.e,"0"),10,O,z),Ce.e=Ce.c.length),ve=L(B,T,O,G?(Q=Ve,z):(Q=z,Ve)),ie=te=ve.length;ve[--te]==0;ve.pop());if(!ve[0])return Q.charAt(0);if(Ee<0?--ie:(ce.c=ve,ce.e=ie,ce.s=$,ce=x(ce,Ce,Ue,Fe,O),ve=ce.c,he=ce.r,ie=ce.e),Y=ie+Ue+1,Ee=ve[Y],te=O/2,he=he||Y<0||ve[Y+1]!=null,he=Fe<4?(Ee!=null||he)&&(Fe==0||Fe==(ce.s<0?3:2)):Ee>te||Ee==te&&(Fe==4||he||Fe==6&&ve[Y-1]&1||Fe==(ce.s<0?8:7)),Y<1||!ve[0])B=he?S(Q.charAt(1),-Ue,Q.charAt(0)):Q.charAt(0);else{if(ve.length=Y,he)for(--O;++ve[--Y]>O;)ve[Y]=0,Y||(++ie,ve=[1].concat(ve));for(te=ve.length;!ve[--te];);for(Ee=0,B="";Ee<=te;B+=Q.charAt(ve[Ee++]));B=S(B,ie,Q.charAt(0))}return B}}(),x=function(){function z(T,O,$){var G,Q,Y,ie,te=0,he=T.length,ce=O%h,ve=O/h|0;for(T=T.slice();he--;)Y=T[he]%h,ie=T[he]/h|0,G=ve*Y+ie*ce,Q=ce*Y+G%h*h+te,te=(Q/$|0)+(G/h|0)+ve*ie,T[he]=Q%$;return te&&(T=[te].concat(T)),T}function L(T,O,$,G){var Q,Y;if($!=G)Y=$>G?1:-1;else for(Q=Y=0;Q<$;Q++)if(T[Q]!=O[Q]){Y=T[Q]>O[Q]?1:-1;break}return Y}function B(T,O,$,G){for(var Q=0;$--;)T[$]-=Q,Q=T[$]<O[$]?1:0,T[$]=Q*G+T[$]-O[$];for(;!T[0]&&T.length>1;T.splice(0,1));}return function(T,O,$,G,Q){var Y,ie,te,he,ce,ve,Ce,Ee,Ue,Fe,Qe,ke,K,C,q,W,re,pe=T.s==O.s?1:-1,ge=T.c,qe=O.c;if(!ge||!ge[0]||!qe||!qe[0])return new ue(!T.s||!O.s||(ge?qe&&ge[0]==qe[0]:!qe)?NaN:ge&&ge[0]==0||!qe?pe*0:pe/0);for(Ee=new ue(pe),Ue=Ee.c=[],ie=T.e-O.e,pe=$+ie+1,Q||(Q=l,ie=y(T.e/c)-y(O.e/c),pe=pe/c|0),te=0;qe[te]==(ge[te]||0);te++);if(qe[te]>(ge[te]||0)&&ie--,pe<0)Ue.push(1),he=!0;else{for(C=ge.length,W=qe.length,te=0,pe+=2,ce=s(Q/(qe[0]+1)),ce>1&&(qe=z(qe,ce,Q),ge=z(ge,ce,Q),W=qe.length,C=ge.length),K=W,Fe=ge.slice(0,W),Qe=Fe.length;Qe<W;Fe[Qe++]=0);re=qe.slice(),re=[0].concat(re),q=qe[0],qe[1]>=Q/2&&q++;do{if(ce=0,Y=L(qe,Fe,W,Qe),Y<0){if(ke=Fe[0],W!=Qe&&(ke=ke*Q+(Fe[1]||0)),ce=s(ke/q),ce>1)for(ce>=Q&&(ce=Q-1),ve=z(qe,ce,Q),Ce=ve.length,Qe=Fe.length;L(ve,Fe,Ce,Qe)==1;)ce--,B(ve,W<Ce?re:qe,Ce,Q),Ce=ve.length,Y=1;else ce==0&&(Y=ce=1),ve=qe.slice(),Ce=ve.length;if(Ce<Qe&&(ve=[0].concat(ve)),B(Fe,ve,Qe,Q),Qe=Fe.length,Y==-1)for(;L(qe,Fe,W,Qe)<1;)ce++,B(Fe,W<Qe?re:qe,Qe,Q),Qe=Fe.length}else Y===0&&(ce++,Fe=[0]);Ue[te++]=ce,Fe[0]?Fe[Qe++]=ge[K]||0:(Fe=[ge[K]],Qe=1)}while((K++<C||Fe[0]!=null)&&pe--);he=Fe[0]!=null,Ue[0]||Ue.splice(0,1)}if(Q==l){for(te=1,pe=Ue[0];pe>=10;pe/=10,te++);Ae(Ee,$+(Ee.e=te+ie*c-1)+1,G,he)}else Ee.e=ie,Ee.r=+he;return Ee}}();function Ie(z,L,B,T){var O,$,G,Q,Y;if(B==null?B=V:v(B,0,8),!z.c)return z.toString();if(O=z.c[0],G=z.e,L==null)Y=g(z.c),Y=T==1||T==2&&(G<=k||G>=U)?w(Y,G):S(Y,G,"0");else if(z=Ae(new ue(z),L,B),$=z.e,Y=g(z.c),Q=Y.length,T==1||T==2&&(L<=$||$<=k)){for(;Q<L;Y+="0",Q++);Y=w(Y,$)}else if(L-=G,Y=S(Y,$,"0"),$+1>Q){if(--L>0)for(Y+=".";L--;Y+="0");}else if(L+=$-Q,L>0)for($+1==Q&&(Y+=".");L--;Y+="0");return z.s<0&&O?"-"+Y:Y}function Ne(z,L){for(var B,T,O=1,$=new ue(z[0]);O<z.length;O++)T=new ue(z[O]),(!T.s||(B=_($,T))===L||B===0&&$.s===L)&&($=T);return $}function we(z,L,B){for(var T=1,O=L.length;!L[--O];L.pop());for(O=L[0];O>=10;O/=10,T++);return(B=T+B*c-1)>X?z.c=z.e=null:B<H?z.c=[z.e=0]:(z.e=B,z.c=L),z}I=function(){var z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,L=/^([^.]+)\.$/,B=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function($,G,Q,Y){var ie,te=Q?G:G.replace(O,"");if(T.test(te))$.s=isNaN(te)?null:te<0?-1:1;else{if(!Q&&(te=te.replace(z,function(he,ce,ve){return ie=(ve=ve.toLowerCase())=="x"?16:ve=="b"?2:8,!Y||Y==ie?ce:he}),Y&&(ie=Y,te=te.replace(L,"$1").replace(B,"0.$1")),G!=te))return new ue(te,ie);if(ue.DEBUG)throw Error(o+"Not a"+(Y?" base "+Y:"")+" number: "+G);$.s=null}$.c=$.e=null}}();function Ae(z,L,B,T){var O,$,G,Q,Y,ie,te,he=z.c,ce=f;if(he){e:{for(O=1,Q=he[0];Q>=10;Q/=10,O++);if($=L-O,$<0)$+=c,G=L,Y=he[ie=0],te=s(Y/ce[O-G-1]%10);else if(ie=a(($+1)/c),ie>=he.length)if(T){for(;he.length<=ie;he.push(0));Y=te=0,O=1,$%=c,G=$-c+1}else break e;else{for(Y=Q=he[ie],O=1;Q>=10;Q/=10,O++);$%=c,G=$-c+O,te=G<0?0:s(Y/ce[O-G-1]%10)}if(T=T||L<0||he[ie+1]!=null||(G<0?Y:Y%ce[O-G-1]),T=B<4?(te||T)&&(B==0||B==(z.s<0?3:2)):te>5||te==5&&(B==4||T||B==6&&($>0?G>0?Y/ce[O-G]:0:he[ie-1])%10&1||B==(z.s<0?8:7)),L<1||!he[0])return he.length=0,T?(L-=z.e+1,he[0]=ce[(c-L%c)%c],z.e=-L||0):he[0]=z.e=0,z;if($==0?(he.length=ie,Q=1,ie--):(he.length=ie+1,Q=ce[c-$],he[ie]=G>0?s(Y/ce[O-G]%ce[G])*Q:0),T)for(;;)if(ie==0){for($=1,G=he[0];G>=10;G/=10,$++);for(G=he[0]+=Q,Q=1;G>=10;G/=10,Q++);$!=Q&&(z.e++,he[0]==l&&(he[0]=1));break}else{if(he[ie]+=Q,he[ie]!=l)break;he[ie--]=0,Q=1}for($=he.length;he[--$]===0;he.pop());}z.e>X?z.c=z.e=null:z.e<H&&(z.c=[z.e=0])}return z}function Se(z){var L,B=z.e;return B===null?z.toString():(L=g(z.c),L=B<=k||B>=U?w(L,B):S(L,B,"0"),z.s<0?"-"+L:L)}return N.absoluteValue=N.abs=function(){var z=new ue(this);return z.s<0&&(z.s=1),z},N.comparedTo=function(z,L){return _(this,new ue(z,L))},N.decimalPlaces=N.dp=function(z,L){var B,T,O,$=this;if(z!=null)return v(z,0,p),L==null?L=V:v(L,0,8),Ae(new ue($),z+$.e+1,L);if(!(B=$.c))return null;if(T=((O=B.length-1)-y(this.e/c))*c,O=B[O])for(;O%10==0;O/=10,T--);return T<0&&(T=0),T},N.dividedBy=N.div=function(z,L){return x(this,new ue(z,L),D,V)},N.dividedToIntegerBy=N.idiv=function(z,L){return x(this,new ue(z,L),0,1)},N.exponentiatedBy=N.pow=function(z,L){var B,T,O,$,G,Q,Y,ie,te,he=this;if(z=new ue(z),z.c&&!z.isInteger())throw Error(o+"Exponent not an integer: "+Se(z));if(L!=null&&(L=new ue(L)),Q=z.e>14,!he.c||!he.c[0]||he.c[0]==1&&!he.e&&he.c.length==1||!z.c||!z.c[0])return te=new ue(Math.pow(+Se(he),Q?z.s*(2-b(z)):+Se(z))),L?te.mod(L):te;if(Y=z.s<0,L){if(L.c?!L.c[0]:!L.s)return new ue(NaN);T=!Y&&he.isInteger()&&L.isInteger(),T&&(he=he.mod(L))}else{if(z.e>9&&(he.e>0||he.e<-1||(he.e==0?he.c[0]>1||Q&&he.c[1]>=24e7:he.c[0]<8e13||Q&&he.c[0]<=9999975e7)))return $=he.s<0&&b(z)?-0:0,he.e>-1&&($=1/$),new ue(Y?1/$:$);Te&&($=a(Te/c+2))}for(Q?(B=new ue(.5),Y&&(z.s=1),ie=b(z)):(O=Math.abs(+Se(z)),ie=O%2),te=new ue(F);;){if(ie){if(te=te.times(he),!te.c)break;$?te.c.length>$&&(te.c.length=$):T&&(te=te.mod(L))}if(O){if(O=s(O/2),O===0)break;ie=O%2}else if(z=z.times(B),Ae(z,z.e+1,1),z.e>14)ie=b(z);else{if(O=+Se(z),O===0)break;ie=O%2}he=he.times(he),$?he.c&&he.c.length>$&&(he.c.length=$):T&&(he=he.mod(L))}return T?te:(Y&&(te=F.div(te)),L?te.mod(L):$?Ae(te,Te,V,G):te)},N.integerValue=function(z){var L=new ue(this);return z==null?z=V:v(z,0,8),Ae(L,L.e+1,z)},N.isEqualTo=N.eq=function(z,L){return _(this,new ue(z,L))===0},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(z,L){return _(this,new ue(z,L))>0},N.isGreaterThanOrEqualTo=N.gte=function(z,L){return(L=_(this,new ue(z,L)))===1||L===0},N.isInteger=function(){return!!this.c&&y(this.e/c)>this.c.length-2},N.isLessThan=N.lt=function(z,L){return _(this,new ue(z,L))<0},N.isLessThanOrEqualTo=N.lte=function(z,L){return(L=_(this,new ue(z,L)))===-1||L===0},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return this.s>0},N.isZero=function(){return!!this.c&&this.c[0]==0},N.minus=function(z,L){var B,T,O,$,G=this,Q=G.s;if(z=new ue(z,L),L=z.s,!Q||!L)return new ue(NaN);if(Q!=L)return z.s=-L,G.plus(z);var Y=G.e/c,ie=z.e/c,te=G.c,he=z.c;if(!Y||!ie){if(!te||!he)return te?(z.s=-L,z):new ue(he?G:NaN);if(!te[0]||!he[0])return he[0]?(z.s=-L,z):new ue(te[0]?G:V==3?-0:0)}if(Y=y(Y),ie=y(ie),te=te.slice(),Q=Y-ie){for(($=Q<0)?(Q=-Q,O=te):(ie=Y,O=he),O.reverse(),L=Q;L--;O.push(0));O.reverse()}else for(T=($=(Q=te.length)<(L=he.length))?Q:L,Q=L=0;L<T;L++)if(te[L]!=he[L]){$=te[L]<he[L];break}if($&&(O=te,te=he,he=O,z.s=-z.s),L=(T=he.length)-(B=te.length),L>0)for(;L--;te[B++]=0);for(L=l-1;T>Q;){if(te[--T]<he[T]){for(B=T;B&&!te[--B];te[B]=L);--te[B],te[T]+=l}te[T]-=he[T]}for(;te[0]==0;te.splice(0,1),--ie);return te[0]?we(z,te,ie):(z.s=V==3?-1:1,z.c=[z.e=0],z)},N.modulo=N.mod=function(z,L){var B,T,O=this;return z=new ue(z,L),!O.c||!z.s||z.c&&!z.c[0]?new ue(NaN):!z.c||O.c&&!O.c[0]?new ue(O):(fe==9?(T=z.s,z.s=1,B=x(O,z,0,3),z.s=T,B.s*=T):B=x(O,z,0,fe),z=O.minus(B.times(z)),!z.c[0]&&fe==1&&(z.s=O.s),z)},N.multipliedBy=N.times=function(z,L){var B,T,O,$,G,Q,Y,ie,te,he,ce,ve,Ce,Ee,Ue,Fe=this,Qe=Fe.c,ke=(z=new ue(z,L)).c;if(!Qe||!ke||!Qe[0]||!ke[0])return!Fe.s||!z.s||Qe&&!Qe[0]&&!ke||ke&&!ke[0]&&!Qe?z.c=z.e=z.s=null:(z.s*=Fe.s,!Qe||!ke?z.c=z.e=null:(z.c=[0],z.e=0)),z;for(T=y(Fe.e/c)+y(z.e/c),z.s*=Fe.s,Y=Qe.length,he=ke.length,Y<he&&(Ce=Qe,Qe=ke,ke=Ce,O=Y,Y=he,he=O),O=Y+he,Ce=[];O--;Ce.push(0));for(Ee=l,Ue=h,O=he;--O>=0;){for(B=0,ce=ke[O]%Ue,ve=ke[O]/Ue|0,G=Y,$=O+G;$>O;)ie=Qe[--G]%Ue,te=Qe[G]/Ue|0,Q=ve*ie+te*ce,ie=ce*ie+Q%Ue*Ue+Ce[$]+B,B=(ie/Ee|0)+(Q/Ue|0)+ve*te,Ce[$--]=ie%Ee;Ce[$]=B}return B?++T:Ce.splice(0,1),we(z,Ce,T)},N.negated=function(){var z=new ue(this);return z.s=-z.s||null,z},N.plus=function(z,L){var B,T=this,O=T.s;if(z=new ue(z,L),L=z.s,!O||!L)return new ue(NaN);if(O!=L)return z.s=-L,T.minus(z);var $=T.e/c,G=z.e/c,Q=T.c,Y=z.c;if(!$||!G){if(!Q||!Y)return new ue(O/0);if(!Q[0]||!Y[0])return Y[0]?z:new ue(Q[0]?T:O*0)}if($=y($),G=y(G),Q=Q.slice(),O=$-G){for(O>0?(G=$,B=Y):(O=-O,B=Q),B.reverse();O--;B.push(0));B.reverse()}for(O=Q.length,L=Y.length,O-L<0&&(B=Y,Y=Q,Q=B,L=O),O=0;L;)O=(Q[--L]=Q[L]+Y[L]+O)/l|0,Q[L]=l===Q[L]?0:Q[L]%l;return O&&(Q=[O].concat(Q),++G),we(z,Q,G)},N.precision=N.sd=function(z,L){var B,T,O,$=this;if(z!=null&&z!==!!z)return v(z,1,p),L==null?L=V:v(L,0,8),Ae(new ue($),z,L);if(!(B=$.c))return null;if(O=B.length-1,T=O*c+1,O=B[O]){for(;O%10==0;O/=10,T--);for(O=B[0];O>=10;O/=10,T++);}return z&&$.e+1>T&&(T=$.e+1),T},N.shiftedBy=function(z){return v(z,-d,d),this.times("1e"+z)},N.squareRoot=N.sqrt=function(){var z,L,B,T,O,$=this,G=$.c,Q=$.s,Y=$.e,ie=D+4,te=new ue("0.5");if(Q!==1||!G||!G[0])return new ue(!Q||Q<0&&(!G||G[0])?NaN:G?$:1/0);if(Q=Math.sqrt(+Se($)),Q==0||Q==1/0?(L=g(G),(L.length+Y)%2==0&&(L+="0"),Q=Math.sqrt(+L),Y=y((Y+1)/2)-(Y<0||Y%2),Q==1/0?L="5e"+Y:(L=Q.toExponential(),L=L.slice(0,L.indexOf("e")+1)+Y),B=new ue(L)):B=new ue(Q+""),B.c[0]){for(Y=B.e,Q=Y+ie,Q<3&&(Q=0);;)if(O=B,B=te.times(O.plus(x($,O,ie,1))),g(O.c).slice(0,Q)===(L=g(B.c)).slice(0,Q))if(B.e<Y&&--Q,L=L.slice(Q-3,Q+1),L=="9999"||!T&&L=="4999"){if(!T&&(Ae(O,O.e+D+2,0),O.times(O).eq($))){B=O;break}ie+=4,Q+=4,T=1}else{(!+L||!+L.slice(1)&&L.charAt(0)=="5")&&(Ae(B,B.e+D+2,1),z=!B.times(B).eq($));break}}return Ae(B,B.e+D+1,V,z)},N.toExponential=function(z,L){return z!=null&&(v(z,0,p),z++),Ie(this,z,L,1)},N.toFixed=function(z,L){return z!=null&&(v(z,0,p),z=z+this.e+1),Ie(this,z,L)},N.toFormat=function(z,L,B){var T,O=this;if(B==null)z!=null&&L&&typeof L=="object"?(B=L,L=null):z&&typeof z=="object"?(B=z,z=L=null):B=De;else if(typeof B!="object")throw Error(o+"Argument not an object: "+B);if(T=O.toFixed(z,L),O.c){var $,G=T.split("."),Q=+B.groupSize,Y=+B.secondaryGroupSize,ie=B.groupSeparator||"",te=G[0],he=G[1],ce=O.s<0,ve=ce?te.slice(1):te,Ce=ve.length;if(Y&&($=Q,Q=Y,Y=$,Ce-=$),Q>0&&Ce>0){for($=Ce%Q||Q,te=ve.substr(0,$);$<Ce;$+=Q)te+=ie+ve.substr($,Q);Y>0&&(te+=ie+ve.slice($)),ce&&(te="-"+te)}T=he?te+(B.decimalSeparator||"")+((Y=+B.fractionGroupSize)?he.replace(new RegExp("\\d{"+Y+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):he):te}return(B.prefix||"")+T+(B.suffix||"")},N.toFraction=function(z){var L,B,T,O,$,G,Q,Y,ie,te,he,ce,ve=this,Ce=ve.c;if(z!=null&&(Q=new ue(z),!Q.isInteger()&&(Q.c||Q.s!==1)||Q.lt(F)))throw Error(o+"Argument "+(Q.isInteger()?"out of range: ":"not an integer: ")+Se(Q));if(!Ce)return new ue(ve);for(L=new ue(F),ie=B=new ue(F),T=Y=new ue(F),ce=g(Ce),$=L.e=ce.length-ve.e-1,L.c[0]=f[(G=$%c)<0?c+G:G],z=!z||Q.comparedTo(L)>0?$>0?L:ie:Q,G=X,X=1/0,Q=new ue(ce),Y.c[0]=0;te=x(Q,L,0,1),O=B.plus(te.times(T)),O.comparedTo(z)!=1;)B=T,T=O,ie=Y.plus(te.times(O=ie)),Y=O,L=Q.minus(te.times(O=L)),Q=O;return O=x(z.minus(B),T,0,1),Y=Y.plus(O.times(ie)),B=B.plus(O.times(T)),Y.s=ie.s=ve.s,$=$*2,he=x(ie,T,$,V).minus(ve).abs().comparedTo(x(Y,B,$,V).minus(ve).abs())<1?[ie,T]:[Y,B],X=G,he},N.toNumber=function(){return+Se(this)},N.toPrecision=function(z,L){return z!=null&&v(z,1,p),Ie(this,z,L,2)},N.toString=function(z){var L,B=this,T=B.s,O=B.e;return O===null?T?(L="Infinity",T<0&&(L="-"+L)):L="NaN":(z==null?L=O<=k||O>=U?w(g(B.c),O):S(g(B.c),O,"0"):z===10&&le?(B=Ae(new ue(B),D+O+1,V),L=S(g(B.c),B.e,"0")):(v(z,2,Ve.length,"Base"),L=M(S(g(B.c),O,"0"),10,z,T,!0)),T<0&&B.c[0]&&(L="-"+L)),L},N.valueOf=N.toJSON=function(){return Se(this)},N._isBigNumber=!0,A!=null&&ue.set(A),ue}function y(A){var x=A|0;return A>0||A===x?x:x-1}function g(A){for(var x,M,I=1,N=A.length,F=A[0]+"";I<N;){for(x=A[I++]+"",M=c-x.length;M--;x="0"+x);F+=x}for(N=F.length;F.charCodeAt(--N)===48;);return F.slice(0,N+1||1)}function _(A,x){var M,I,N=A.c,F=x.c,D=A.s,V=x.s,k=A.e,U=x.e;if(!D||!V)return null;if(M=N&&!N[0],I=F&&!F[0],M||I)return M?I?0:-V:D;if(D!=V)return D;if(M=D<0,I=k==U,!N||!F)return I?0:!N^M?1:-1;if(!I)return k>U^M?1:-1;for(V=(k=N.length)<(U=F.length)?k:U,D=0;D<V;D++)if(N[D]!=F[D])return N[D]>F[D]^M?1:-1;return k==U?0:k>U^M?1:-1}function v(A,x,M,I){if(A<x||A>M||A!==s(A))throw Error(o+(I||"Argument")+(typeof A=="number"?A<x||A>M?" out of range: ":" not an integer: ":" not a primitive number: ")+String(A))}function b(A){var x=A.c.length-1;return y(A.e/c)==x&&A.c[x]%2!=0}function w(A,x){return(A.length>1?A.charAt(0)+"."+A.slice(1):A)+(x<0?"e":"e+")+x}function S(A,x,M){var I,N;if(x<0){for(N=M+".";++x;N+=M);A=N+A}else if(I=A.length,++x>I){for(N=M,x-=I;--x;N+=M);A+=N}else x<I&&(A=A.slice(0,x)+"."+A.slice(x));return A}n=m(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(P)}(RO)),RO.exports}var xO={exports:{}},jU;function tIe(){return jU||(jU=1,function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(_,v){var b=_[0],w=_[1],S=_[2],A=_[3];b+=(w&S|~w&A)+v[0]-680876936|0,b=(b<<7|b>>>25)+w|0,A+=(b&w|~b&S)+v[1]-389564586|0,A=(A<<12|A>>>20)+b|0,S+=(A&b|~A&w)+v[2]+606105819|0,S=(S<<17|S>>>15)+A|0,w+=(S&A|~S&b)+v[3]-1044525330|0,w=(w<<22|w>>>10)+S|0,b+=(w&S|~w&A)+v[4]-176418897|0,b=(b<<7|b>>>25)+w|0,A+=(b&w|~b&S)+v[5]+1200080426|0,A=(A<<12|A>>>20)+b|0,S+=(A&b|~A&w)+v[6]-1473231341|0,S=(S<<17|S>>>15)+A|0,w+=(S&A|~S&b)+v[7]-45705983|0,w=(w<<22|w>>>10)+S|0,b+=(w&S|~w&A)+v[8]+1770035416|0,b=(b<<7|b>>>25)+w|0,A+=(b&w|~b&S)+v[9]-1958414417|0,A=(A<<12|A>>>20)+b|0,S+=(A&b|~A&w)+v[10]-42063|0,S=(S<<17|S>>>15)+A|0,w+=(S&A|~S&b)+v[11]-1990404162|0,w=(w<<22|w>>>10)+S|0,b+=(w&S|~w&A)+v[12]+1804603682|0,b=(b<<7|b>>>25)+w|0,A+=(b&w|~b&S)+v[13]-40341101|0,A=(A<<12|A>>>20)+b|0,S+=(A&b|~A&w)+v[14]-1502002290|0,S=(S<<17|S>>>15)+A|0,w+=(S&A|~S&b)+v[15]+1236535329|0,w=(w<<22|w>>>10)+S|0,b+=(w&A|S&~A)+v[1]-165796510|0,b=(b<<5|b>>>27)+w|0,A+=(b&S|w&~S)+v[6]-1069501632|0,A=(A<<9|A>>>23)+b|0,S+=(A&w|b&~w)+v[11]+643717713|0,S=(S<<14|S>>>18)+A|0,w+=(S&b|A&~b)+v[0]-373897302|0,w=(w<<20|w>>>12)+S|0,b+=(w&A|S&~A)+v[5]-701558691|0,b=(b<<5|b>>>27)+w|0,A+=(b&S|w&~S)+v[10]+38016083|0,A=(A<<9|A>>>23)+b|0,S+=(A&w|b&~w)+v[15]-660478335|0,S=(S<<14|S>>>18)+A|0,w+=(S&b|A&~b)+v[4]-405537848|0,w=(w<<20|w>>>12)+S|0,b+=(w&A|S&~A)+v[9]+568446438|0,b=(b<<5|b>>>27)+w|0,A+=(b&S|w&~S)+v[14]-1019803690|0,A=(A<<9|A>>>23)+b|0,S+=(A&w|b&~w)+v[3]-187363961|0,S=(S<<14|S>>>18)+A|0,w+=(S&b|A&~b)+v[8]+1163531501|0,w=(w<<20|w>>>12)+S|0,b+=(w&A|S&~A)+v[13]-1444681467|0,b=(b<<5|b>>>27)+w|0,A+=(b&S|w&~S)+v[2]-51403784|0,A=(A<<9|A>>>23)+b|0,S+=(A&w|b&~w)+v[7]+1735328473|0,S=(S<<14|S>>>18)+A|0,w+=(S&b|A&~b)+v[12]-1926607734|0,w=(w<<20|w>>>12)+S|0,b+=(w^S^A)+v[5]-378558|0,b=(b<<4|b>>>28)+w|0,A+=(b^w^S)+v[8]-2022574463|0,A=(A<<11|A>>>21)+b|0,S+=(A^b^w)+v[11]+1839030562|0,S=(S<<16|S>>>16)+A|0,w+=(S^A^b)+v[14]-35309556|0,w=(w<<23|w>>>9)+S|0,b+=(w^S^A)+v[1]-1530992060|0,b=(b<<4|b>>>28)+w|0,A+=(b^w^S)+v[4]+1272893353|0,A=(A<<11|A>>>21)+b|0,S+=(A^b^w)+v[7]-155497632|0,S=(S<<16|S>>>16)+A|0,w+=(S^A^b)+v[10]-1094730640|0,w=(w<<23|w>>>9)+S|0,b+=(w^S^A)+v[13]+681279174|0,b=(b<<4|b>>>28)+w|0,A+=(b^w^S)+v[0]-358537222|0,A=(A<<11|A>>>21)+b|0,S+=(A^b^w)+v[3]-722521979|0,S=(S<<16|S>>>16)+A|0,w+=(S^A^b)+v[6]+76029189|0,w=(w<<23|w>>>9)+S|0,b+=(w^S^A)+v[9]-640364487|0,b=(b<<4|b>>>28)+w|0,A+=(b^w^S)+v[12]-421815835|0,A=(A<<11|A>>>21)+b|0,S+=(A^b^w)+v[15]+530742520|0,S=(S<<16|S>>>16)+A|0,w+=(S^A^b)+v[2]-995338651|0,w=(w<<23|w>>>9)+S|0,b+=(S^(w|~A))+v[0]-198630844|0,b=(b<<6|b>>>26)+w|0,A+=(w^(b|~S))+v[7]+1126891415|0,A=(A<<10|A>>>22)+b|0,S+=(b^(A|~w))+v[14]-1416354905|0,S=(S<<15|S>>>17)+A|0,w+=(A^(S|~b))+v[5]-57434055|0,w=(w<<21|w>>>11)+S|0,b+=(S^(w|~A))+v[12]+1700485571|0,b=(b<<6|b>>>26)+w|0,A+=(w^(b|~S))+v[3]-1894986606|0,A=(A<<10|A>>>22)+b|0,S+=(b^(A|~w))+v[10]-1051523|0,S=(S<<15|S>>>17)+A|0,w+=(A^(S|~b))+v[1]-2054922799|0,w=(w<<21|w>>>11)+S|0,b+=(S^(w|~A))+v[8]+1873313359|0,b=(b<<6|b>>>26)+w|0,A+=(w^(b|~S))+v[15]-30611744|0,A=(A<<10|A>>>22)+b|0,S+=(b^(A|~w))+v[6]-1560198380|0,S=(S<<15|S>>>17)+A|0,w+=(A^(S|~b))+v[13]+1309151649|0,w=(w<<21|w>>>11)+S|0,b+=(S^(w|~A))+v[4]-145523070|0,b=(b<<6|b>>>26)+w|0,A+=(w^(b|~S))+v[11]-1120210379|0,A=(A<<10|A>>>22)+b|0,S+=(b^(A|~w))+v[2]+718787259|0,S=(S<<15|S>>>17)+A|0,w+=(A^(S|~b))+v[9]-343485551|0,w=(w<<21|w>>>11)+S|0,_[0]=b+_[0]|0,_[1]=w+_[1]|0,_[2]=S+_[2]|0,_[3]=A+_[3]|0}function s(_){var v=[],b;for(b=0;b<64;b+=4)v[b>>2]=_.charCodeAt(b)+(_.charCodeAt(b+1)<<8)+(_.charCodeAt(b+2)<<16)+(_.charCodeAt(b+3)<<24);return v}function o(_){var v=[],b;for(b=0;b<64;b+=4)v[b>>2]=_[b]+(_[b+1]<<8)+(_[b+2]<<16)+(_[b+3]<<24);return v}function u(_){var v=_.length,b=[1732584193,-271733879,-1732584194,271733878],w,S,A,x,M,I;for(w=64;w<=v;w+=64)a(b,s(_.substring(w-64,w)));for(_=_.substring(w-64),S=_.length,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<S;w+=1)A[w>>2]|=_.charCodeAt(w)<<(w%4<<3);if(A[w>>2]|=128<<(w%4<<3),w>55)for(a(b,A),w=0;w<16;w+=1)A[w]=0;return x=v*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(x[2],16),I=parseInt(x[1],16)||0,A[14]=M,A[15]=I,a(b,A),b}function l(_){var v=_.length,b=[1732584193,-271733879,-1732584194,271733878],w,S,A,x,M,I;for(w=64;w<=v;w+=64)a(b,o(_.subarray(w-64,w)));for(_=w-64<v?_.subarray(w-64):new Uint8Array(0),S=_.length,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<S;w+=1)A[w>>2]|=_[w]<<(w%4<<3);if(A[w>>2]|=128<<(w%4<<3),w>55)for(a(b,A),w=0;w<16;w+=1)A[w]=0;return x=v*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(x[2],16),I=parseInt(x[1],16)||0,A[14]=M,A[15]=I,a(b,A),b}function c(_){var v="",b;for(b=0;b<4;b+=1)v+=r[_>>b*8+4&15]+r[_>>b*8&15];return v}function d(_){var v;for(v=0;v<_.length;v+=1)_[v]=c(_[v]);return _.join("")}d(u("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function _(v,b){return v=v|0||0,v<0?Math.max(v+b,0):Math.min(v,b)}ArrayBuffer.prototype.slice=function(v,b){var w=this.byteLength,S=_(v,w),A=w,x,M,I,N;return b!==n&&(A=_(b,w)),S>A?new ArrayBuffer(0):(x=A-S,M=new ArrayBuffer(x),I=new Uint8Array(M),N=new Uint8Array(this,S,x),I.set(N),M)}}();function f(_){return/[\u0080-\uFFFF]/.test(_)&&(_=unescape(encodeURIComponent(_))),_}function h(_,v){var b=_.length,w=new ArrayBuffer(b),S=new Uint8Array(w),A;for(A=0;A<b;A+=1)S[A]=_.charCodeAt(A);return v?S:w}function p(_){return String.fromCharCode.apply(null,new Uint8Array(_))}function m(_,v,b){var w=new Uint8Array(_.byteLength+v.byteLength);return w.set(new Uint8Array(_)),w.set(new Uint8Array(v),_.byteLength),b?w:w.buffer}function y(_){var v=[],b=_.length,w;for(w=0;w<b-1;w+=2)v.push(parseInt(_.substr(w,2),16));return String.fromCharCode.apply(String,v)}function g(){this.reset()}return g.prototype.append=function(_){return this.appendBinary(f(_)),this},g.prototype.appendBinary=function(_){this._buff+=_,this._length+=_.length;var v=this._buff.length,b;for(b=64;b<=v;b+=64)a(this._hash,s(this._buff.substring(b-64,b)));return this._buff=this._buff.substring(b-64),this},g.prototype.end=function(_){var v=this._buff,b=v.length,w,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A;for(w=0;w<b;w+=1)S[w>>2]|=v.charCodeAt(w)<<(w%4<<3);return this._finish(S,b),A=d(this._hash),_&&(A=y(A)),this.reset(),A},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},g.prototype.setState=function(_){return this._buff=_.buff,this._length=_.length,this._hash=_.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(_,v){var b=v,w,S,A;if(_[b>>2]|=128<<(b%4<<3),b>55)for(a(this._hash,_),b=0;b<16;b+=1)_[b]=0;w=this._length*8,w=w.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(w[2],16),A=parseInt(w[1],16)||0,_[14]=S,_[15]=A,a(this._hash,_)},g.hash=function(_,v){return g.hashBinary(f(_),v)},g.hashBinary=function(_,v){var b=u(_),w=d(b);return v?y(w):w},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(_){var v=m(this._buff.buffer,_,!0),b=v.length,w;for(this._length+=_.byteLength,w=64;w<=b;w+=64)a(this._hash,o(v.subarray(w-64,w)));return this._buff=w-64<b?new Uint8Array(v.buffer.slice(w-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(_){var v=this._buff,b=v.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S,A;for(S=0;S<b;S+=1)w[S>>2]|=v[S]<<(S%4<<3);return this._finish(w,b),A=d(this._hash),_&&(A=y(A)),this.reset(),A},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var _=g.prototype.getState.call(this);return _.buff=p(_.buff),_},g.ArrayBuffer.prototype.setState=function(_){return _.buff=h(_.buff,!0),g.prototype.setState.call(this,_)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(_,v){var b=l(new Uint8Array(_)),w=d(b);return v?y(w):w},g})}(xO)),xO.exports}var IO={},Jy={},g1={},MU;function FX(){if(MU)return g1;MU=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.default=n;let t;const e=new Uint8Array(16);function n(){if(!t&&(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(e)}return g1}var Ac={},Xy={},Yy={},FU;function rIe(){if(FU)return Yy;FU=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.default=void 0;var t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return Yy.default=t,Yy}var qU;function nS(){if(qU)return Xy;qU=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.default=void 0;var t=e(rIe());function e(a){return a&&a.__esModule?a:{default:a}}function n(a){return typeof a=="string"&&t.default.test(a)}var r=n;return Xy.default=r,Xy}var BU;function iS(){if(BU)return Ac;BU=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.default=void 0,Ac.unsafeStringify=r;var t=e(nS());function e(o){return o&&o.__esModule?o:{default:o}}const n=[];for(let o=0;o<256;++o)n.push((o+256).toString(16).slice(1));function r(o,u=0){return n[o[u+0]]+n[o[u+1]]+n[o[u+2]]+n[o[u+3]]+"-"+n[o[u+4]]+n[o[u+5]]+"-"+n[o[u+6]]+n[o[u+7]]+"-"+n[o[u+8]]+n[o[u+9]]+"-"+n[o[u+10]]+n[o[u+11]]+n[o[u+12]]+n[o[u+13]]+n[o[u+14]]+n[o[u+15]]}function a(o,u=0){const l=r(o,u);if(!(0,t.default)(l))throw TypeError("Stringified UUID is invalid");return l}var s=a;return Ac.default=s,Ac}var $U;function nIe(){if($U)return Jy;$U=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.default=void 0;var t=n(FX()),e=iS();function n(c){return c&&c.__esModule?c:{default:c}}let r,a,s=0,o=0;function u(c,d,f){let h=d&&f||0;const p=d||new Array(16);c=c||{};let m=c.node||r,y=c.clockseq!==void 0?c.clockseq:a;if(m==null||y==null){const S=c.random||(c.rng||t.default)();m==null&&(m=r=[S[0]|1,S[1],S[2],S[3],S[4],S[5]]),y==null&&(y=a=(S[6]<<8|S[7])&16383)}let g=c.msecs!==void 0?c.msecs:Date.now(),_=c.nsecs!==void 0?c.nsecs:o+1;const v=g-s+(_-o)/1e4;if(v<0&&c.clockseq===void 0&&(y=y+1&16383),(v<0||g>s)&&c.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=g,o=_,a=y,g+=122192928e5;const b=((g&268435455)*1e4+_)%4294967296;p[h++]=b>>>24&255,p[h++]=b>>>16&255,p[h++]=b>>>8&255,p[h++]=b&255;const w=g/4294967296*1e4&268435455;p[h++]=w>>>8&255,p[h++]=w&255,p[h++]=w>>>24&15|16,p[h++]=w>>>16&255,p[h++]=y>>>8|128,p[h++]=y&255;for(let S=0;S<6;++S)p[h+S]=m[S];return d||(0,e.unsafeStringify)(p)}var l=u;return Jy.default=l,Jy}var Zy={},Hs={},em={},UU;function qX(){if(UU)return em;UU=1,Object.defineProperty(em,"__esModule",{value:!0}),em.default=void 0;var t=e(nS());function e(a){return a&&a.__esModule?a:{default:a}}function n(a){if(!(0,t.default)(a))throw TypeError("Invalid UUID");let s;const o=new Uint8Array(16);return o[0]=(s=parseInt(a.slice(0,8),16))>>>24,o[1]=s>>>16&255,o[2]=s>>>8&255,o[3]=s&255,o[4]=(s=parseInt(a.slice(9,13),16))>>>8,o[5]=s&255,o[6]=(s=parseInt(a.slice(14,18),16))>>>8,o[7]=s&255,o[8]=(s=parseInt(a.slice(19,23),16))>>>8,o[9]=s&255,o[10]=(s=parseInt(a.slice(24,36),16))/1099511627776&255,o[11]=s/4294967296&255,o[12]=s>>>24&255,o[13]=s>>>16&255,o[14]=s>>>8&255,o[15]=s&255,o}var r=n;return em.default=r,em}var kU;function BX(){if(kU)return Hs;kU=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.URL=Hs.DNS=void 0,Hs.default=o;var t=iS(),e=n(qX());function n(u){return u&&u.__esModule?u:{default:u}}function r(u){u=unescape(encodeURIComponent(u));const l=[];for(let c=0;c<u.length;++c)l.push(u.charCodeAt(c));return l}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Hs.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Hs.URL=s;function o(u,l,c){function d(f,h,p,m){var y;if(typeof f=="string"&&(f=r(f)),typeof h=="string"&&(h=(0,e.default)(h)),((y=h)===null||y===void 0?void 0:y.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+f.length);if(g.set(h),g.set(f,h.length),g=c(g),g[6]=g[6]&15|l,g[8]=g[8]&63|128,p){m=m||0;for(let _=0;_<16;++_)p[m+_]=g[_];return p}return(0,t.unsafeStringify)(g)}try{d.name=u}catch{}return d.DNS=a,d.URL=s,d}return Hs}var tm={},VU;function iIe(){if(VU)return tm;VU=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.default=void 0;function t(p){if(typeof p=="string"){const m=unescape(encodeURIComponent(p));p=new Uint8Array(m.length);for(let y=0;y<m.length;++y)p[y]=m.charCodeAt(y)}return e(r(a(p),p.length*8))}function e(p){const m=[],y=p.length*32,g="0123456789abcdef";for(let _=0;_<y;_+=8){const v=p[_>>5]>>>_%32&255,b=parseInt(g.charAt(v>>>4&15)+g.charAt(v&15),16);m.push(b)}return m}function n(p){return(p+64>>>9<<4)+14+1}function r(p,m){p[m>>5]|=128<<m%32,p[n(m)-1]=m;let y=1732584193,g=-271733879,_=-1732584194,v=271733878;for(let b=0;b<p.length;b+=16){const w=y,S=g,A=_,x=v;y=l(y,g,_,v,p[b],7,-680876936),v=l(v,y,g,_,p[b+1],12,-389564586),_=l(_,v,y,g,p[b+2],17,606105819),g=l(g,_,v,y,p[b+3],22,-1044525330),y=l(y,g,_,v,p[b+4],7,-176418897),v=l(v,y,g,_,p[b+5],12,1200080426),_=l(_,v,y,g,p[b+6],17,-1473231341),g=l(g,_,v,y,p[b+7],22,-45705983),y=l(y,g,_,v,p[b+8],7,1770035416),v=l(v,y,g,_,p[b+9],12,-1958414417),_=l(_,v,y,g,p[b+10],17,-42063),g=l(g,_,v,y,p[b+11],22,-1990404162),y=l(y,g,_,v,p[b+12],7,1804603682),v=l(v,y,g,_,p[b+13],12,-40341101),_=l(_,v,y,g,p[b+14],17,-1502002290),g=l(g,_,v,y,p[b+15],22,1236535329),y=c(y,g,_,v,p[b+1],5,-165796510),v=c(v,y,g,_,p[b+6],9,-1069501632),_=c(_,v,y,g,p[b+11],14,643717713),g=c(g,_,v,y,p[b],20,-373897302),y=c(y,g,_,v,p[b+5],5,-701558691),v=c(v,y,g,_,p[b+10],9,38016083),_=c(_,v,y,g,p[b+15],14,-660478335),g=c(g,_,v,y,p[b+4],20,-405537848),y=c(y,g,_,v,p[b+9],5,568446438),v=c(v,y,g,_,p[b+14],9,-1019803690),_=c(_,v,y,g,p[b+3],14,-187363961),g=c(g,_,v,y,p[b+8],20,1163531501),y=c(y,g,_,v,p[b+13],5,-1444681467),v=c(v,y,g,_,p[b+2],9,-51403784),_=c(_,v,y,g,p[b+7],14,1735328473),g=c(g,_,v,y,p[b+12],20,-1926607734),y=d(y,g,_,v,p[b+5],4,-378558),v=d(v,y,g,_,p[b+8],11,-2022574463),_=d(_,v,y,g,p[b+11],16,1839030562),g=d(g,_,v,y,p[b+14],23,-35309556),y=d(y,g,_,v,p[b+1],4,-1530992060),v=d(v,y,g,_,p[b+4],11,1272893353),_=d(_,v,y,g,p[b+7],16,-155497632),g=d(g,_,v,y,p[b+10],23,-1094730640),y=d(y,g,_,v,p[b+13],4,681279174),v=d(v,y,g,_,p[b],11,-358537222),_=d(_,v,y,g,p[b+3],16,-722521979),g=d(g,_,v,y,p[b+6],23,76029189),y=d(y,g,_,v,p[b+9],4,-640364487),v=d(v,y,g,_,p[b+12],11,-421815835),_=d(_,v,y,g,p[b+15],16,530742520),g=d(g,_,v,y,p[b+2],23,-995338651),y=f(y,g,_,v,p[b],6,-198630844),v=f(v,y,g,_,p[b+7],10,1126891415),_=f(_,v,y,g,p[b+14],15,-1416354905),g=f(g,_,v,y,p[b+5],21,-57434055),y=f(y,g,_,v,p[b+12],6,1700485571),v=f(v,y,g,_,p[b+3],10,-1894986606),_=f(_,v,y,g,p[b+10],15,-1051523),g=f(g,_,v,y,p[b+1],21,-2054922799),y=f(y,g,_,v,p[b+8],6,1873313359),v=f(v,y,g,_,p[b+15],10,-30611744),_=f(_,v,y,g,p[b+6],15,-1560198380),g=f(g,_,v,y,p[b+13],21,1309151649),y=f(y,g,_,v,p[b+4],6,-145523070),v=f(v,y,g,_,p[b+11],10,-1120210379),_=f(_,v,y,g,p[b+2],15,718787259),g=f(g,_,v,y,p[b+9],21,-343485551),y=s(y,w),g=s(g,S),_=s(_,A),v=s(v,x)}return[y,g,_,v]}function a(p){if(p.length===0)return[];const m=p.length*8,y=new Uint32Array(n(m));for(let g=0;g<m;g+=8)y[g>>5]|=(p[g/8]&255)<<g%32;return y}function s(p,m){const y=(p&65535)+(m&65535);return(p>>16)+(m>>16)+(y>>16)<<16|y&65535}function o(p,m){return p<<m|p>>>32-m}function u(p,m,y,g,_,v){return s(o(s(s(m,p),s(g,v)),_),y)}function l(p,m,y,g,_,v,b){return u(m&y|~m&g,p,m,_,v,b)}function c(p,m,y,g,_,v,b){return u(m&g|y&~g,p,m,_,v,b)}function d(p,m,y,g,_,v,b){return u(m^y^g,p,m,_,v,b)}function f(p,m,y,g,_,v,b){return u(y^(m|~g),p,m,_,v,b)}var h=t;return tm.default=h,tm}var HU;function aIe(){if(HU)return Zy;HU=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.default=void 0;var t=n(BX()),e=n(iIe());function n(s){return s&&s.__esModule?s:{default:s}}var a=(0,t.default)("v3",48,e.default);return Zy.default=a,Zy}var rm={},nm={},QU;function sIe(){if(QU)return nm;QU=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.default=void 0;var e={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return nm.default=e,nm}var zU;function oIe(){if(zU)return rm;zU=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.default=void 0;var t=r(sIe()),e=r(FX()),n=iS();function r(o){return o&&o.__esModule?o:{default:o}}function a(o,u,l){if(t.default.randomUUID&&!u&&!o)return t.default.randomUUID();o=o||{};const c=o.random||(o.rng||e.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,u){l=l||0;for(let d=0;d<16;++d)u[l+d]=c[d];return u}return(0,n.unsafeStringify)(c)}var s=a;return rm.default=s,rm}var im={},am={},GU;function uIe(){if(GU)return am;GU=1,Object.defineProperty(am,"__esModule",{value:!0}),am.default=void 0;function t(a,s,o,u){switch(a){case 0:return s&o^~s&u;case 1:return s^o^u;case 2:return s&o^s&u^o&u;case 3:return s^o^u}}function e(a,s){return a<<s|a>>>32-s}function n(a){const s=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const d=unescape(encodeURIComponent(a));a=[];for(let f=0;f<d.length;++f)a.push(d.charCodeAt(f))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const u=a.length/4+2,l=Math.ceil(u/16),c=new Array(l);for(let d=0;d<l;++d){const f=new Uint32Array(16);for(let h=0;h<16;++h)f[h]=a[d*64+h*4]<<24|a[d*64+h*4+1]<<16|a[d*64+h*4+2]<<8|a[d*64+h*4+3];c[d]=f}c[l-1][14]=(a.length-1)*8/Math.pow(2,32),c[l-1][14]=Math.floor(c[l-1][14]),c[l-1][15]=(a.length-1)*8&4294967295;for(let d=0;d<l;++d){const f=new Uint32Array(80);for(let _=0;_<16;++_)f[_]=c[d][_];for(let _=16;_<80;++_)f[_]=e(f[_-3]^f[_-8]^f[_-14]^f[_-16],1);let h=o[0],p=o[1],m=o[2],y=o[3],g=o[4];for(let _=0;_<80;++_){const v=Math.floor(_/20),b=e(h,5)+t(v,p,m,y)+g+s[v]+f[_]>>>0;g=y,y=m,m=e(p,30)>>>0,p=h,h=b}o[0]=o[0]+h>>>0,o[1]=o[1]+p>>>0,o[2]=o[2]+m>>>0,o[3]=o[3]+y>>>0,o[4]=o[4]+g>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var r=n;return am.default=r,am}var WU;function cIe(){if(WU)return im;WU=1,Object.defineProperty(im,"__esModule",{value:!0}),im.default=void 0;var t=n(BX()),e=n(uIe());function n(s){return s&&s.__esModule?s:{default:s}}var a=(0,t.default)("v5",80,e.default);return im.default=a,im}var sm={},KU;function lIe(){if(KU)return sm;KU=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.default=void 0;var t="00000000-0000-0000-0000-000000000000";return sm.default=t,sm}var om={},JU;function dIe(){if(JU)return om;JU=1,Object.defineProperty(om,"__esModule",{value:!0}),om.default=void 0;var t=e(nS());function e(a){return a&&a.__esModule?a:{default:a}}function n(a){if(!(0,t.default)(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}var r=n;return om.default=r,om}var XU;function $X(){return XU||(XU=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return o.default}});var e=d(nIe()),n=d(aIe()),r=d(oIe()),a=d(cIe()),s=d(lIe()),o=d(dIe()),u=d(nS()),l=d(iS()),c=d(qX());function d(f){return f&&f.__esModule?f:{default:f}}}(IO)),IO}var um={},YU;function aS(){if(YU)return um;YU=1,Object.defineProperty(um,"__esModule",{value:!0}),um.orderTypes=void 0;const t=jo(),e=td(),n=oc(),r=ei(),a=_n();function s(c,d,f=!1,h,p){if(c===d)return 0;if(c===void 0)return-1;if(d===void 0)return 1;if(c.termType!==d.termType)return l[c.termType]<l[d.termType]?-1:1;if(c.equals(d))return 0;if(c.termType==="Quad"&&d.termType==="Quad"){const m=s(c.subject,d.subject,f,h,p);if(m!==0)return m;const y=s(c.predicate,d.predicate,f,h,p);if(y!==0)return y;const g=s(c.object,d.object,f,h,p);return g!==0?g:s(c.graph,d.graph,f,h,p)}if(c.termType==="Literal")return o(c,d,h,p);if(f)throw new a.InvalidCompareArgumentTypes(c,d);return u(c.value,d.value)}um.orderTypes=s;function o(c,d,f,h){const p=e.regularFunctions[r.RegularOperator.GT],m=e.regularFunctions[r.RegularOperator.EQUAL],y={now:new Date,functionArgumentsCache:{},superTypeProvider:{discoverer:f??(()=>"term"),cache:h??new t.LRUCache({max:1e3})},defaultTimeZone:{zoneHours:0,zoneMinutes:0}},g=new n.TermTransformer(y.superTypeProvider),_=g.transformLiteral(c),v=g.transformLiteral(d);try{return m.apply([_,v],y).typedValue?0:p.apply([_,v],y).typedValue?1:-1}catch{const b=u(_.dataType,v.dataType);return b!==0?b:u(_.str(),v.str())}}function u(c,d){return c===d?0:c<d?-1:1}const l={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5};return um}var cs={},ZU;function fIe(){if(ZU)return cs;ZU=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.langMatches=cs.replace=cs.matches=void 0;function t(s,o,u){return new RegExp(o,u).test(s)}cs.matches=t;function e(s,o,u,l){let c=new RegExp(o,l);if(!c.global){const d=l??"";c=new RegExp(o,`${d}g`)}return s.replace(c,u)}cs.replace=e;function n(s,o){const u=s.split("-"),l=o.split("-");if(!a(l[0],u[0])&&!r(u[0]))return!1;let c=1,d=1;for(;d<l.length;){if(r(l[d])){d++;continue}if(c===u.length)return!1;if(a(l[d],u[c])){c++,d++;continue}if(u[c].length===1)return!1;c++}return!0}cs.langMatches=n;function r(s){return s==="*"}function a(s,o){return new RegExp(`/${s}/`,"iu").test(`/${o}/`)}return cs}var ek;function hIe(){if(ek)return Ky;ek=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.definitions=void 0;const t=eIe(),e=rN(),n=Rt,r=la(),a=tIe(),s=$X(),o=Ai(),u=oc(),l=ei(),c=ei(),d=ed(),f=_n(),h=aS(),p=jX(),m=Mx(),y=Ga(),g=fIe(),_=td(),v=new n.DataFactory,b={arity:1,overloads:(0,y.declare)(l.RegularOperator.NOT).onTerm1(()=>E=>(0,y.bool)(!E.coerceEBV())).collect()},w={arity:1,overloads:(0,y.declare)(l.RegularOperator.UPLUS).numericConverter(()=>E=>E).collect()},S={arity:1,overloads:(0,y.declare)(l.RegularOperator.UMINUS).numericConverter(()=>E=>-E).collect()},A={arity:2,overloads:(0,y.declare)(l.RegularOperator.MULTIPLICATION).arithmetic(()=>(E,R)=>new t.BigNumber(E).times(R).toNumber()).collect()},x={arity:2,overloads:(0,y.declare)(l.RegularOperator.DIVISION).arithmetic(()=>(E,R)=>new t.BigNumber(E).div(R).toNumber()).onBinaryTyped([c.TypeURL.XSD_INTEGER,c.TypeURL.XSD_INTEGER],()=>(E,R)=>{if(R===0)throw new f.ExpressionError("Integer division by 0");return(0,y.decimal)(new t.BigNumber(E).div(R).toNumber())}).collect()},M={arity:2,overloads:(0,y.declare)(l.RegularOperator.ADDITION).arithmetic(()=>(E,R)=>new t.BigNumber(E).plus(R).toNumber()).set([c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([E,R])=>new o.DateTimeLiteral((0,p.addDurationToDateTime)(E.typedValue,(0,d.defaultedDurationRepresentation)(R.typedValue)))).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([c.TypeURL.XSD_DATE,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([E,R])=>new o.DateLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(E.typedValue),(0,d.defaultedDurationRepresentation)(R.typedValue)))).copy({from:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([c.TypeURL.XSD_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([E,R])=>new o.TimeLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(E.typedValue),(0,d.defaultedDurationRepresentation)(R.typedValue)))).copy({from:[c.TypeURL.XSD_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_TIME,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()},I={arity:2,overloads:(0,y.declare)(l.RegularOperator.SUBTRACTION).arithmetic(()=>(E,R)=>new t.BigNumber(E).minus(R).toNumber()).set([c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],({defaultTimeZone:E})=>([R,j])=>new o.DayTimeDurationLiteral((0,p.elapsedDuration)(R.typedValue,j.typedValue,E))).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DATE]}).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_TIME,c.TypeURL.XSD_TIME]}).set([c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([E,R])=>new o.DateTimeLiteral((0,p.addDurationToDateTime)(E.typedValue,(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(R.typedValue))))).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([c.TypeURL.XSD_DATE,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([E,R])=>new o.DateLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(E.typedValue),(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(R.typedValue))))).copy({from:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DAY_TIME_DURATION],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([c.TypeURL.XSD_TIME,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([E,R])=>new o.TimeLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(E.typedValue),(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(R.typedValue))))).collect()},N={arity:2,overloads:(0,y.declare)(l.RegularOperator.EQUAL).numberTest(()=>(E,R)=>E===R).stringTest(()=>(E,R)=>E.localeCompare(R)===0).set([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>([E,R])=>(0,y.bool)(E.str()===R.str()&&E.language===R.language)).set([c.TypeAlias.SPARQL_STRINGLY,c.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,y.bool)(!1)).booleanTest(()=>(E,R)=>E===R).dateTimeTest(({defaultTimeZone:E})=>(R,j)=>(0,d.toUTCDate)(R,E).getTime()===(0,d.toUTCDate)(j,E).getTime()).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DATE]}).set(["quad","quad"],E=>([R,j])=>{const J=new m.RegularFunction(c.RegularOperator.EQUAL,N);return(0,y.bool)(J.apply([R.subject,j.subject],E).coerceEBV()&&J.apply([R.predicate,j.predicate],E).coerceEBV()&&J.apply([R.object,j.object],E).coerceEBV())},!1).set(["term","term"],()=>([E,R])=>(0,y.bool)(F(E,R)),!1).set([c.TypeURL.XSD_DURATION,c.TypeURL.XSD_DURATION],()=>([E,R])=>(0,y.bool)((0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(E.typedValue))===(0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(R.typedValue))&&(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(E.typedValue))===(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(R.typedValue)))).set([c.TypeURL.XSD_TIME,c.TypeURL.XSD_TIME],({defaultTimeZone:E})=>([R,j])=>(0,y.bool)((0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(R.typedValue),E).getTime()===(0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(j.typedValue),E).getTime())).collect()};function F(E,R){const j=E.toRDF(),J=R.toRDF(),me=j.equals(J);if(!me&&j.termType==="Literal"&&J.termType==="Literal")throw new f.RDFEqualTypeError([E,R]);return me}const D={arity:2,overloads:(0,y.declare)(l.RegularOperator.NOT_EQUAL).set(["term","term"],E=>([R,j])=>(0,y.bool)(!_.regularFunctions[l.RegularOperator.EQUAL].apply([R,j],E).typedValue)).collect()},V={arity:2,overloads:(0,y.declare)(l.RegularOperator.LT).numberTest(()=>(E,R)=>E<R).stringTest(()=>(E,R)=>E.localeCompare(R)===-1).booleanTest(()=>(E,R)=>E<R).set(["quad","quad"],()=>([E,R])=>(0,y.bool)((0,h.orderTypes)(E.toRDF(),R.toRDF(),!0)===-1),!1).dateTimeTest(({defaultTimeZone:E})=>(R,j)=>(0,d.toUTCDate)(R,E).getTime()<(0,d.toUTCDate)(j,E).getTime()).copy({from:[c.TypeURL.XSD_DATE_TIME,c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE,c.TypeURL.XSD_DATE]}).set([c.TypeURL.XSD_YEAR_MONTH_DURATION,c.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([E,R])=>(0,y.bool)((0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(E.typedValue))<(0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(R.typedValue)))).set([c.TypeURL.XSD_DAY_TIME_DURATION,c.TypeURL.XSD_DAY_TIME_DURATION],()=>([E,R])=>(0,y.bool)((0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(E.typedValue))<(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(R.typedValue)))).set([c.TypeURL.XSD_TIME,c.TypeURL.XSD_TIME],({defaultTimeZone:E})=>([R,j])=>(0,y.bool)((0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(R.typedValue),E).getTime()<(0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(j.typedValue),E).getTime())).collect()},k={arity:2,overloads:(0,y.declare)(l.RegularOperator.GT).set(["term","term"],E=>([R,j])=>_.regularFunctions[l.RegularOperator.LT].apply([j,R],E)).collect()},U={arity:2,overloads:(0,y.declare)(l.RegularOperator.LTE).set(["term","term"],E=>([R,j])=>(0,y.bool)(_.regularFunctions[l.RegularOperator.LT].apply([R,j],E).typedValue||_.regularFunctions[l.RegularOperator.EQUAL].apply([R,j],E).typedValue)).collect()},H={arity:2,overloads:(0,y.declare)(l.RegularOperator.GTE).set(["term","term"],E=>([R,j])=>_.regularFunctions[l.RegularOperator.LTE].apply([j,R],E)).collect()},X={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_IRI).onTerm1(()=>E=>(0,y.bool)(E.termType==="namedNode")).collect()},ee={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_BLANK).onTerm1(()=>E=>(0,y.bool)(E.termType==="blankNode")).collect()},fe={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_LITERAL).onTerm1(()=>E=>(0,y.bool)(E.termType==="literal")).collect()},Te={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,y.bool)(!0)).onTerm1(()=>()=>(0,y.bool)(!1)).collect()},De={arity:1,overloads:(0,y.declare)(l.RegularOperator.STR).onTerm1(()=>E=>(0,y.string)(E.str())).collect()},Ve={arity:1,overloads:(0,y.declare)(l.RegularOperator.LANG).onLiteral1(()=>E=>(0,y.string)(E.language??"")).collect()},le={arity:1,overloads:(0,y.declare)(l.RegularOperator.DATATYPE).onLiteral1(()=>E=>new o.NamedNode(E.dataType)).collect()},ue={arity:1,overloads:(0,y.declare)(l.RegularOperator.IRI).set(["namedNode"],E=>R=>{const j=R[0],J=(0,r.resolve)(j.str(),E.baseIRI??"");return new o.NamedNode(J)}).onString1(E=>R=>{const j=(0,r.resolve)(R.str(),E.baseIRI??"");return new o.NamedNode(j)}).collect()},Ie={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRDT).set([c.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:E})=>([R,j])=>{const J=v.literal(R.typedValue,v.namedNode(j.value));return new u.TermTransformer(E).transformLiteral(J)}).collect()},Ne={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRLANG).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(E,R)=>new o.LangStringLiteral(E,R.toLowerCase())).collect()},we={arity:0,overloads:(0,y.declare)(l.RegularOperator.UUID).set([],()=>()=>new o.NamedNode(`urn:uuid:${s.v4()}`)).collect()},Ae={arity:0,overloads:(0,y.declare)(l.RegularOperator.STRUUID).set([],()=>()=>(0,y.string)(s.v4())).collect()},Se={arity:1,overloads:(0,y.declare)(l.RegularOperator.STRLEN).onStringly1(()=>E=>(0,y.integer)([...E.typedValue].length)).collect()},z={arity:[2,3],overloads:(0,y.declare)(l.RegularOperator.SUBSTR).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_INTEGER],()=>(E,R)=>(0,y.string)([...E].slice(R-1).join(""))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_INTEGER],()=>(E,R)=>{const j=[...E.typedValue].slice(R.typedValue-1).join("");return(0,y.langString)(j,E.language)}).onTernaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_INTEGER,c.TypeURL.XSD_INTEGER],()=>(E,R,j)=>(0,y.string)([...E].slice(R-1,j+R-1).join(""))).onTernary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_INTEGER,c.TypeURL.XSD_INTEGER],()=>(E,R,j)=>{const J=[...E.typedValue].slice(R.typedValue-1,j.typedValue+R.typedValue-1).join("");return(0,y.langString)(J,E.language)}).collect()},L={arity:1,overloads:(0,y.declare)(l.RegularOperator.UCASE).onString1Typed(()=>E=>(0,y.string)(E.toUpperCase())).onLangString1(()=>E=>(0,y.langString)(E.typedValue.toUpperCase(),E.language)).collect()},B={arity:1,overloads:(0,y.declare)(l.RegularOperator.LCASE).onString1Typed(()=>E=>(0,y.string)(E.toLowerCase())).onLangString1(()=>E=>(0,y.langString)(E.typedValue.toLowerCase(),E.language)).collect()},T={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRSTARTS).onBinaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING],()=>(E,R)=>(0,y.bool)(E.startsWith(R))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(E,R)=>{if(E.language!==R.language)throw new f.IncompatibleLanguageOperation(E,R);return(0,y.bool)(E.typedValue.startsWith(R.typedValue))}).collect()},O={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRENDS).onBinaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING],()=>(E,R)=>(0,y.bool)(E.endsWith(R))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(E,R)=>{if(E.language!==R.language)throw new f.IncompatibleLanguageOperation(E,R);return(0,y.bool)(E.typedValue.endsWith(R.typedValue))}).collect()},$={arity:2,overloads:(0,y.declare)(l.RegularOperator.CONTAINS).onBinaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING],()=>(E,R)=>(0,y.bool)(E.includes(R))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(E,R)=>{if(E.language!==R.language)throw new f.IncompatibleLanguageOperation(E,R);return(0,y.bool)(E.typedValue.includes(R.typedValue))}).collect()},G={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRBEFORE).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(E,R)=>(0,y.string)(E.slice(0,Math.max(0,E.indexOf(R))))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_STRING],()=>(E,R)=>{const[j,J]=[E.typedValue,R.typedValue],me=E.typedValue.slice(0,Math.max(0,j.indexOf(J)));return me||!J?(0,y.langString)(me,E.language):(0,y.string)(me)}).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(E,R)=>{if(E.language!==R.language)throw new f.IncompatibleLanguageOperation(E,R);const[j,J]=[E.typedValue,R.typedValue],me=E.typedValue.slice(0,Math.max(0,j.indexOf(J)));return me||!J?(0,y.langString)(me,E.language):(0,y.string)(me)}).collect()},Q={arity:2,overloads:(0,y.declare)(l.RegularOperator.STRAFTER).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(E,R)=>(0,y.string)(E.slice(E.indexOf(R)).slice(R.length))).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_STRING],()=>(E,R)=>{const[j,J]=[E.typedValue,R.typedValue],me=j.slice(j.indexOf(J)).slice(J.length);return me||!J?(0,y.langString)(me,E.language):(0,y.string)(me)}).onBinary([c.TypeURL.RDF_LANG_STRING,c.TypeURL.RDF_LANG_STRING],()=>(E,R)=>{if(E.language!==R.language)throw new f.IncompatibleLanguageOperation(E,R);const[j,J]=[E.typedValue,R.typedValue],me=j.slice(j.indexOf(J)).slice(J.length);return me||!J?(0,y.langString)(me,E.language):(0,y.string)(me)}).collect()},Y={arity:1,overloads:(0,y.declare)(l.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>E=>(0,y.string)(encodeURI(E))).collect()},ie={arity:2,overloads:(0,y.declare)(l.RegularOperator.LANG_MATCHES).onBinaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(E,R)=>(0,y.bool)(g.langMatches(E,R))).collect()};function te(){return(E,R)=>(0,y.bool)(g.matches(E,R))}function he(){return(E,R,j)=>(0,y.bool)(g.matches(E,R,j))}const ce={arity:[2,3],overloads:(0,y.declare)(l.RegularOperator.REGEX).onBinaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING],te).onTernaryTyped([c.TypeAlias.SPARQL_STRINGLY,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],he).collect()},ve={arity:[3,4],overloads:(0,y.declare)(l.RegularOperator.REPLACE).onTernaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(E,R,j)=>(0,y.string)(g.replace(E,R,j))).set([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>([E,R,j])=>{const J=g.replace(E.typedValue,R.typedValue,j.typedValue);return(0,y.langString)(J,E.language)}).onQuaternaryTyped([c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>(E,R,j,J)=>(0,y.string)(g.replace(E,R,j,J))).set([c.TypeURL.RDF_LANG_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING,c.TypeURL.XSD_STRING],()=>([E,R,j,J])=>{const me=g.replace(E.typedValue,R.typedValue,j.typedValue,J.typedValue);return(0,y.langString)(me,E.language)}).collect()},Ce={arity:1,overloads:(0,y.declare)(l.RegularOperator.ABS).numericConverter(()=>E=>Math.abs(E)).collect()},Ee={arity:1,overloads:(0,y.declare)(l.RegularOperator.ROUND).numericConverter(()=>E=>Math.round(E)).collect()},Ue={arity:1,overloads:(0,y.declare)(l.RegularOperator.CEIL).numericConverter(()=>E=>Math.ceil(E)).collect()},Fe={arity:1,overloads:(0,y.declare)(l.RegularOperator.FLOOR).numericConverter(()=>E=>Math.floor(E)).collect()},Qe={arity:0,overloads:(0,y.declare)(l.RegularOperator.RAND).set([],()=>()=>(0,y.double)(Math.random())).collect()},ke={arity:0,overloads:(0,y.declare)(l.RegularOperator.NOW).set([],E=>()=>new o.DateTimeLiteral((0,d.toDateTimeRepresentation)({date:E.now,timeZone:E.defaultTimeZone}))).collect()},K={arity:1,overloads:(0,y.declare)(l.RegularOperator.YEAR).onDateTime1(()=>E=>(0,y.integer)(E.typedValue.year)).set([c.TypeURL.XSD_DATE],()=>([E])=>(0,y.integer)(E.typedValue.year)).collect()},C={arity:1,overloads:(0,y.declare)(l.RegularOperator.MONTH).onDateTime1(()=>E=>(0,y.integer)(E.typedValue.month)).set([c.TypeURL.XSD_DATE],()=>([E])=>(0,y.integer)(E.typedValue.month)).collect()},q={arity:1,overloads:(0,y.declare)(l.RegularOperator.DAY).onDateTime1(()=>E=>(0,y.integer)(E.typedValue.day)).set([c.TypeURL.XSD_DATE],()=>([E])=>(0,y.integer)(E.typedValue.day)).collect()},W={arity:1,overloads:(0,y.declare)(l.RegularOperator.HOURS).onDateTime1(()=>E=>(0,y.integer)(E.typedValue.hours)).set([c.TypeURL.XSD_TIME],()=>([E])=>(0,y.integer)(E.typedValue.hours)).collect()},re={arity:1,overloads:(0,y.declare)(l.RegularOperator.MINUTES).onDateTime1(()=>E=>(0,y.integer)(E.typedValue.minutes)).set([c.TypeURL.XSD_TIME],()=>([E])=>(0,y.integer)(E.typedValue.minutes)).collect()},pe={arity:1,overloads:(0,y.declare)(l.RegularOperator.SECONDS).onDateTime1(()=>E=>(0,y.decimal)(E.typedValue.seconds)).set([c.TypeURL.XSD_TIME],()=>([E])=>(0,y.integer)(E.typedValue.seconds)).collect()},ge={arity:1,overloads:(0,y.declare)(l.RegularOperator.TIMEZONE).onDateTime1(()=>E=>{const R={hours:E.typedValue.zoneHours,minutes:E.typedValue.zoneMinutes};if(R.hours===void 0&&R.minutes===void 0)throw new f.InvalidTimezoneCall(E.str());return new o.DayTimeDurationLiteral(R)}).copy({from:[c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE]}).copy({from:[c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_TIME]}).collect()},qe={arity:1,overloads:(0,y.declare)(l.RegularOperator.TZ).onDateTime1(()=>E=>(0,y.string)((0,d.extractRawTimeZone)(E.str()))).copy({from:[c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_DATE]}).copy({from:[c.TypeURL.XSD_DATE_TIME],to:[c.TypeURL.XSD_TIME]}).collect()},Z={arity:1,overloads:(0,y.declare)(l.RegularOperator.MD5).onString1Typed(()=>E=>(0,y.string)((0,a.hash)(E))).collect()},Oe={arity:1,overloads:(0,y.declare)(l.RegularOperator.SHA1).onString1Typed(()=>E=>(0,y.string)((0,e.sha1)().update(E).digest("hex"))).collect()},je={arity:1,overloads:(0,y.declare)(l.RegularOperator.SHA256).onString1Typed(()=>E=>(0,y.string)((0,e.sha256)().update(E).digest("hex"))).collect()},Be={arity:1,overloads:(0,y.declare)(l.RegularOperator.SHA384).onString1Typed(()=>E=>(0,y.string)((0,e.sha384)().update(E).digest("hex"))).collect()},Ye={arity:1,overloads:(0,y.declare)(l.RegularOperator.SHA512).onString1Typed(()=>E=>(0,y.string)((0,e.sha512)().update(E).digest("hex"))).collect()},ct={arity:3,overloads:(0,y.declare)(l.RegularOperator.TRIPLE).onTerm3(E=>(...R)=>new o.Quad(v.quad(R[0].toRDF(),R[1].toRDF(),R[2].toRDF()),E.superTypeProvider)).collect()},ft={arity:1,overloads:(0,y.declare)(l.RegularOperator.SUBJECT).onQuad1(()=>E=>E.subject).collect()},st={arity:1,overloads:(0,y.declare)(l.RegularOperator.PREDICATE).onQuad1(()=>E=>E.predicate).collect()},yt={arity:1,overloads:(0,y.declare)(l.RegularOperator.OBJECT).onQuad1(()=>E=>E.object).collect()},ne={arity:1,overloads:(0,y.declare)(l.RegularOperator.IS_TRIPLE).onTerm1(()=>E=>(0,y.bool)(E.termType==="quad")).collect()};return Ky.definitions={"!":b,uplus:w,uminus:S,"*":A,"/":x,"+":M,"-":I,"=":N,"!=":D,"<":V,">":k,"<=":U,">=":H,isiri:X,isuri:X,isblank:ee,isliteral:fe,isnumeric:Te,str:De,lang:Ve,datatype:le,iri:ue,uri:ue,strdt:Ie,strlang:Ne,uuid:we,struuid:Ae,strlen:Se,substr:z,ucase:L,lcase:B,strstarts:T,strends:O,contains:$,strbefore:G,strafter:Q,encode_for_uri:Y,langmatches:ie,regex:ce,replace:ve,abs:Ce,round:Ee,ceil:Ue,floor:Fe,rand:Qe,now:ke,year:K,month:C,day:q,hours:W,minutes:re,seconds:pe,timezone:ge,tz:qe,md5:Z,sha1:Oe,sha256:je,sha384:Be,sha512:Ye,triple:ct,subject:ft,predicate:st,object:yt,istriple:ne},Ky}var cm={},tk;function pIe(){if(tk)return cm;tk=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.specialDefinitions=void 0;const t=$X(),e=Ai(),n=ei(),r=_n(),a=Ga(),s=td(),o={arity:1,async applyAsync({args:x,mapping:M}){return u({args:x,mapping:M})},applySynchronously({args:x,mapping:M}){return u({args:x,mapping:M})}};function u({args:x,mapping:M}){const I=x[0];if(I.expressionType!==e.ExpressionType.Variable)throw new r.InvalidArgumentTypes(x,n.SpecialOperator.BOUND);const N=M.has((0,a.expressionToVar)(I));return(0,a.bool)(N)}const l={arity:3,async applyAsync({args:x,mapping:M,evaluate:I}){const F=(await I(x[0],M)).coerceEBV();return I(F?x[1]:x[2],M)},applySynchronously({args:x,mapping:M,evaluate:I}){const F=I(x[0],M).coerceEBV();return I(F?x[1]:x[2],M)}},c={arity:Number.POSITIVE_INFINITY,async applyAsync({args:x,mapping:M,evaluate:I}){const N=[];for(const F of x)try{return await I(F,M)}catch(D){N.push(D)}throw new r.CoalesceError(N)},applySynchronously({args:x,mapping:M,evaluate:I}){const N=[];for(const F of x)try{return I(F,M)}catch(D){N.push(D)}throw new r.CoalesceError(N)}},d={arity:2,async applyAsync({args:x,mapping:M,evaluate:I}){const[N,F]=x;try{if((await I(N,M)).coerceEBV())return(0,a.bool)(!0);const U=(await I(F,M)).coerceEBV();return(0,a.bool)(U)}catch(D){if(!(await I(F,M)).coerceEBV())throw D;return(0,a.bool)(!0)}},applySynchronously({args:x,mapping:M,evaluate:I}){const[N,F]=x;try{if(I(N,M).coerceEBV())return(0,a.bool)(!0);const U=I(F,M).coerceEBV();return(0,a.bool)(U)}catch(D){if(!I(F,M).coerceEBV())throw D;return(0,a.bool)(!0)}}},f={arity:2,async applyAsync({args:x,mapping:M,evaluate:I}){const[N,F]=x;try{if(!(await I(N,M)).coerceEBV())return(0,a.bool)(!1);const U=(await I(F,M)).coerceEBV();return(0,a.bool)(U)}catch(D){if((await I(F,M)).coerceEBV())throw D;return(0,a.bool)(!1)}},applySynchronously({args:x,mapping:M,evaluate:I}){const[N,F]=x;try{if(!I(N,M).coerceEBV())return(0,a.bool)(!1);const U=I(F,M).coerceEBV();return(0,a.bool)(U)}catch(D){if(I(F,M).coerceEBV())throw D;return(0,a.bool)(!1)}}},h={arity:2,async applyAsync({args:x,mapping:M,evaluate:I}){const[N,F]=x.map(k=>I(k,M)),[D,V]=await Promise.all([N,F]);return(0,a.bool)(D.toRDF().equals(V.toRDF()))},applySynchronously({args:x,mapping:M,evaluate:I}){const[N,F]=x.map(D=>I(D,M));return(0,a.bool)(N.toRDF().equals(F.toRDF()))}},p={arity:Number.POSITIVE_INFINITY,checkArity(x){return x.length>0},async applyAsync(x){const{args:M,mapping:I,evaluate:N}=x,[F,...D]=M,V=await N(F,I);return m(V,{...x,args:D},[])},applySynchronously(x){const{args:M,mapping:I,evaluate:N}=x,[F,...D]=M,V=N(F,I);return y(V,{...x,args:D},[])}};async function m(x,M,I){const{args:N,mapping:F,evaluate:D}=M;if(N.length===0)return I.every(k=>!k)?(0,a.bool)(!1):Promise.reject(new r.InError(I));try{const V=N.shift(),k=await D(V,F);return s.regularFunctions[n.RegularOperator.EQUAL].apply([x,k],M).typedValue?(0,a.bool)(!0):m(x,M,[...I,!1])}catch(V){return m(x,M,[...I,V])}}function y(x,M,I){const{args:N,mapping:F,evaluate:D}=M;if(N.length===0){if(I.every(k=>!k))return(0,a.bool)(!1);throw new r.InError(I)}try{const V=N.shift(),k=D(V,F);return s.regularFunctions[n.RegularOperator.EQUAL].apply([x,k],M).typedValue?(0,a.bool)(!0):y(x,M,[...I,!1])}catch(V){return y(x,M,[...I,V])}}const g={arity:Number.POSITIVE_INFINITY,checkArity(x){return x.length>0},async applyAsync(x){const I=await s.specialFunctions[n.SpecialOperator.IN].applyAsync(x);return(0,a.bool)(!I.typedValue)},applySynchronously(x){const I=s.specialFunctions[n.SpecialOperator.IN].applySynchronously(x);return(0,a.bool)(!I.typedValue)}},_=(0,a.declare)(n.SpecialOperator.CONCAT).onStringly1(()=>x=>x).collect(),v={arity:Number.POSITIVE_INFINITY,async applyAsync(x){const{args:M,mapping:I,evaluate:N,functionArgumentsCache:F,superTypeProvider:D}=x,V=M.map(async ee=>N(ee,I)).map(async ee=>{const fe=_.search([await ee],D,F);if(!fe)throw new r.InvalidArgumentTypes(M,n.SpecialOperator.CONCAT);return fe(x)([await ee])}),k=await Promise.all(V),H=k.map(ee=>ee.typedValue).join(""),X=b(k)?k[0].language:void 0;return X?(0,a.langString)(H,X):(0,a.string)(H)},applySynchronously(x){const{args:M,mapping:I,evaluate:N,superTypeProvider:F,functionArgumentsCache:D}=x,V=M.map(X=>N(X,I)).map(X=>{const ee=_.search([X],F,D);if(!ee)throw new r.InvalidArgumentTypes(M,n.SpecialOperator.CONCAT);return ee(x)([X])}),U=V.map(X=>X.typedValue).join(""),H=b(V)?V[0].language:void 0;return H?(0,a.langString)(U,H):(0,a.string)(U)}};function b(x){return x.length>0&&x.every(M=>M.language===x[0].language)}const w=(0,a.declare)(n.SpecialOperator.BNODE).onString1(()=>x=>x).collect(),S={arity:Number.POSITIVE_INFINITY,checkArity(x){return x.length===0||x.length===1},async applyAsync(x){const{args:M,mapping:I,evaluate:N,superTypeProvider:F,functionArgumentsCache:D}=x,V=M.length===1?await N(M[0],I):void 0;let k;if(V){const U=w.search([V],F,D);if(!U)throw new r.InvalidArgumentTypes(M,n.SpecialOperator.BNODE);k=U(x)([V]).str()}if(x.bnode){const U=await x.bnode(k);return new e.BlankNode(U)}return A(k)},applySynchronously(x){const{args:M,mapping:I,evaluate:N,superTypeProvider:F,functionArgumentsCache:D}=x,V=M.length===1?N(M[0],I):void 0;let k;if(V){const U=w.search([V],F,D);if(!U)throw new r.InvalidArgumentTypes(M,n.SpecialOperator.BNODE);k=U(x)([V]).str()}if(x.bnode){const U=x.bnode(k);return new e.BlankNode(U)}return A(k)}};function A(x){return new e.BlankNode(x??t.v4())}return cm.specialDefinitions={bound:o,if:l,coalesce:c,"&&":f,"||":d,sameterm:h,in:p,notin:g,concat:v,bnode:S},cm}var rk;function td(){return rk||(rk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(l,c,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(l,f,h)}:function(l,c,d,f){f===void 0&&(f=d),l[f]=c[d]}),n=P&&P.__exportStar||function(l,c){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&e(c,l,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.OverloadTree=t.namedFunctions=t.specialFunctions=t.regularFunctions=void 0;const r=Mx(),a=Zxe(),s=hIe(),o=pIe();n(Mx(),t),t.regularFunctions=Object.fromEntries(Object.entries(s.definitions).map(([l,c])=>[l,new r.RegularFunction(l,c)])),t.specialFunctions=Object.fromEntries(Object.entries(o.specialDefinitions).map(([l,c])=>[l,new r.SpecialFunction(l,c)])),t.namedFunctions=Object.fromEntries(Object.entries(a.namedDefinitions).map(([l,c])=>[l,new r.NamedFunction(l,c)]));var u=MX();Object.defineProperty(t,"OverloadTree",{enumerable:!0,get:function(){return u.OverloadTree}})}(OO)),OO}var nk;function UX(){if(nk)return Fy;nk=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.AlgebraTransformer=void 0;const t=Pt(),e=Ai(),n=td(),r=ei(),a=_n(),s=_n(),o=oc();let u=class Ag extends o.TermTransformer{constructor(c){super(c.superTypeProvider),this.algebraConfig=c,this.creatorConfig={type:c.type,creator:c.creator}}transformAlgebra(c){const d=t.Algebra.expressionTypes;switch(c.expressionType){case d.TERM:return this.transformTerm(c);case d.OPERATOR:return this.transformOperator(c);case d.NAMED:return this.transformNamed(c);case d.EXISTENCE:return Ag.transformExistence(c);case d.AGGREGATE:return Ag.transformAggregate(c);case d.WILDCARD:return Ag.transformWildcard(c)}}static transformWildcard(c){return new e.NamedNode(c.wildcard.value)}transformOperator(c){const d=c.operator.toLowerCase();if(r.SpecialOperators.has(d)){const m=d,y=c.args.map(_=>this.transformAlgebra(_)),g=n.specialFunctions[m];if(!g.checkArity(y))throw new a.InvalidArity(y,m);return new e.SpecialOperator(y,g.applyAsync,g.applySynchronously)}if(!r.Operators.has(d))throw new a.UnknownOperator(c.operator);const f=d,h=c.args.map(m=>this.transformAlgebra(m)),p=n.regularFunctions[f];if(!Ag.hasCorrectArity(h,p.arity))throw new a.InvalidArity(h,f);return new e.Operator(h,m=>p.apply(m,this.algebraConfig))}wrapSyncFunction(c,d){return f=>{try{const h=c(f.map(p=>p.toRDF()));return this.transformRDFTermUnsafe(h)}catch(h){throw new s.ExtensionFunctionError(d,h)}}}wrapAsyncFunction(c,d){return async f=>{try{const h=await c(f.map(p=>p.toRDF()));return this.transformRDFTermUnsafe(h)}catch(h){throw new s.ExtensionFunctionError(d,h)}}}transformNamed(c){const d=c.name.value,f=c.args.map(h=>this.transformAlgebra(h));if(r.NamedOperators.has(d)){const h=c.name.value,p=n.namedFunctions[h];return new e.Named(c.name,f,m=>p.apply(m,this.algebraConfig))}if(this.creatorConfig.type==="sync"){const h=this.creatorConfig.creator(c.name);if(h){const p=this.wrapSyncFunction(h,c.name.value);return new e.SyncExtension(c.name,f,p)}}else{const h=this.creatorConfig.creator(c.name);if(h){const p=this.wrapAsyncFunction(h,c.name.value);return new e.AsyncExtension(c.name,f,p)}}throw new a.UnknownNamedOperator(c.name.value)}static hasCorrectArity(c,d){return Array.isArray(d)?d.includes(c.length):c.length===d}static transformAggregate(c){const d=c.aggregator;return new e.Aggregate(d,c)}static transformExistence(c){return new e.Existence(c)}};return Fy.AlgebraTransformer=u,Fy}var lm={},dm={},ik;function kX(){if(ik)return dm;ik=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.BaseExpressionEvaluator=void 0;const t=Ga(),e=_n();let n=class{constructor(a){this.termTransformer=a}term(a){return a}variable(a,s){const o=s.get((0,t.expressionToVar)(a));if(!o)throw new e.UnboundVariableError(a.name,s);return this.termTransformer.transformRDFTermUnsafe(o)}};return dm.BaseExpressionEvaluator=n,dm}var ak;function yIe(){if(ak)return lm;ak=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.AsyncRecursiveEvaluator=void 0;const t=Ai(),e=oc(),n=_n(),r=kX();let a=class extends r.BaseExpressionEvaluator{constructor(o,u){super(u??new e.TermTransformer(o.superTypeProvider)),this.context=o,this.subEvaluators={[t.ExpressionType.Term]:(l,c)=>this.term(l),[t.ExpressionType.Variable]:(l,c)=>this.variable(l,c),[t.ExpressionType.Operator]:(l,c)=>this.evalOperator(l,c),[t.ExpressionType.SpecialOperator]:(l,c)=>this.evalSpecialOperator(l,c),[t.ExpressionType.Named]:(l,c)=>this.evalNamed(l,c),[t.ExpressionType.Existence]:(l,c)=>this.evalExistence(l,c),[t.ExpressionType.Aggregate]:(l,c)=>this.evalAggregate(l),[t.ExpressionType.AsyncExtension]:(l,c)=>this.evalAsyncExtension(l,c)}}async evaluate(o,u){const l=this.subEvaluators[o.expressionType];if(!l)throw new n.InvalidExpressionType(o);return l.bind(this)(o,u)}async evalOperator(o,u){const l=o.args.map(d=>this.evaluate(d,u)),c=await Promise.all(l);return o.apply(c)}async evalSpecialOperator(o,u){const l=this.evaluate.bind(this),c={args:o.args,mapping:u,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:l,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return o.applyAsync(c)}async _evalAsyncArgs(o,u){const l=o.map(c=>this.evaluate(c,u));return await Promise.all(l)}async evalNamed(o,u){return o.apply(await this._evalAsyncArgs(o.args,u))}async evalAsyncExtension(o,u){return await o.apply(await this._evalAsyncArgs(o.args,u))}async evalExistence(o,u){if(!this.context.exists)throw new n.NoExistenceHook;return new t.BooleanLiteral(await this.context.exists(o.expression,u))}async evalAggregate(o){if(!this.context.aggregate)throw new n.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(o.expression))}};return lm.AsyncRecursiveEvaluator=a,lm}var sk;function HX(){if(sk)return My;sk=1,Object.defineProperty(My,"__esModule",{value:!0}),My.AsyncEvaluator=void 0;const t=jo(),e=UX(),n=ed(),r=yIe();let a=class VX{static completeContext(o){const u=o.now??new Date(Date.now());return{now:u,baseIRI:o.baseIRI??void 0,functionArgumentsCache:o.functionArgumentsCache??{},superTypeProvider:{cache:o.typeCache??new t.LRUCache({max:1e3}),discoverer:o.getSuperType??(()=>"term")},extensionFunctionCreator:o.extensionFunctionCreator,exists:o.exists,aggregate:o.aggregate,bnode:o.bnode,defaultTimeZone:o.defaultTimeZone??(0,n.extractTimeZone)(u)}}constructor(o,u={}){this.algExpr=o;const l=u.extensionFunctionCreator??(()=>{}),c=VX.completeContext(u),d=new e.AlgebraTransformer({type:"async",creator:l,...c});this.expr=d.transformAlgebra(o),this.evaluator=new r.AsyncRecursiveEvaluator(c,d)}async evaluate(o){return(await this.evaluator.evaluate(this.expr,o)).toRDF()}async evaluateAsEBV(o){return(await this.evaluator.evaluate(this.expr,o)).coerceEBV()}async evaluateAsInternal(o){return await this.evaluator.evaluate(this.expr,o)}};return My.AsyncEvaluator=a,My}var fm={},hm={},ok;function mIe(){if(ok)return hm;ok=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.SyncRecursiveEvaluator=void 0;const t=Ai(),e=oc(),n=_n(),r=kX();let a=class extends r.BaseExpressionEvaluator{constructor(o,u){super(u??new e.TermTransformer(o.superTypeProvider)),this.context=o,this.subEvaluators={[t.ExpressionType.Term]:(l,c)=>this.term(l),[t.ExpressionType.Variable]:(l,c)=>this.variable(l,c),[t.ExpressionType.Operator]:(l,c)=>this.evalOperator(l,c),[t.ExpressionType.SpecialOperator]:(l,c)=>this.evalSpecialOperator(l,c),[t.ExpressionType.Named]:(l,c)=>this.evalNamed(l,c),[t.ExpressionType.Existence]:(l,c)=>this.evalExistence(l,c),[t.ExpressionType.Aggregate]:(l,c)=>this.evalAggregate(l),[t.ExpressionType.SyncExtension]:(l,c)=>this.evalSyncExtension(l,c)}}evaluate(o,u){const l=this.subEvaluators[o.expressionType];if(!l)throw new n.InvalidExpressionType(o);return l.bind(this)(o,u)}evalOperator(o,u){const l=o.args.map(c=>this.evaluate(c,u));return o.apply(l)}evalSpecialOperator(o,u){const l=this.evaluate.bind(this),c={args:o.args,mapping:u,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:l,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return o.applySynchronously(c)}evalNamed(o,u){const l=o.args.map(c=>this.evaluate(c,u));return o.apply(l)}evalSyncExtension(o,u){const l=o.args.map(c=>this.evaluate(c,u));return o.apply(l)}evalExistence(o,u){if(!this.context.exists)throw new n.NoExistenceHook;return new t.BooleanLiteral(this.context.exists(o.expression,u))}evalAggregate(o){if(!this.context.aggregate)throw new n.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(o.expression))}};return hm.SyncRecursiveEvaluator=a,hm}var uk;function zX(){if(uk)return fm;uk=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.SyncEvaluator=void 0;const t=jo(),e=UX(),n=ed(),r=mIe();let a=class QX{static completeContext(o){const u=o.now??new Date(Date.now());return{now:u,baseIRI:o.baseIRI??void 0,functionArgumentsCache:o.functionArgumentsCache??{},superTypeProvider:{cache:o.typeCache??new t.LRUCache({max:1e3}),discoverer:o.getSuperType??(()=>"term")},extensionFunctionCreator:o.extensionFunctionCreator,exists:o.exists,aggregate:o.aggregate,bnode:o.bnode,defaultTimeZone:o.defaultTimeZone??(0,n.extractTimeZone)(u)}}constructor(o,u={}){this.algExpr=o,this.context=u;const l=u.extensionFunctionCreator??(()=>{}),c=QX.completeContext(u),d=new e.AlgebraTransformer({type:"sync",creator:l,...c});this.expr=d.transformAlgebra(o),this.evaluator=new r.SyncRecursiveEvaluator(c,d)}evaluate(o){return this.evaluator.evaluate(this.expr,o).toRDF()}evaluateAsEBV(o){return this.evaluator.evaluate(this.expr,o).coerceEBV()}evaluateAsInternal(o){return this.evaluator.evaluate(this.expr,o)}};return fm.SyncEvaluator=a,fm}var pm={},ym={},mm={},gm={},uu={},ck;function Fo(){if(ck)return uu;ck=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.Aggregator=uu.AggregatorComponent=void 0;const t=tr,e=oc(),n=ei(),r=rS();class a{static emptyValue(){}constructor(u,l){this.sharedContext=l,this.separator=u.separator||" ",this.termTransformer=new e.TermTransformer(l.superTypeProvider)}termToNumericOrError(u){if(u.termType!=="Literal")throw new Error(`Term with value ${u.value} has type ${u.termType} and is not a numeric literal`);if(!(0,r.isSubTypeOf)(u.datatype.value,n.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${u.datatype.value} with value ${u.value} has type ${u.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(u)}}uu.AggregatorComponent=a;let s=class{constructor(u,l){this.aggregatorComponent=l,this.variableValues=new Map,this.distinct=u.distinct}static emptyValue(u){return u.emptyValue()}result(){return this.aggregatorComponent.result()}put(u,l=""){this.canSkip(u,l)||(this.aggregatorComponent.put(u),this.addSeen(u,l))}canSkip(u,l){const c=this.variableValues.get(l);return this.distinct&&c!==void 0&&c.has(t.termToString(u))}addSeen(u,l){this.distinct&&(this.variableValues.has(l)||this.variableValues.set(l,new Set),this.variableValues.get(l).add(t.termToString(u)))}};return uu.Aggregator=s,uu}var lk;function gIe(){if(lk)return gm;lk=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.Average=void 0;const t=Ai(),e=td(),n=Ga(),r=ei(),a=Fo();let s=class GX extends a.AggregatorComponent{constructor(){super(...arguments),this.summer=e.regularFunctions[r.RegularOperator.ADDITION],this.divider=e.regularFunctions[r.RegularOperator.DIVISION],this.state=void 0}static emptyValue(){return(0,n.integer)(0).toRDF()}put(u){if(this.state===void 0){const l=this.termToNumericOrError(u);this.state={sum:l,count:1}}else{const l=this.termToNumericOrError(u);this.state.sum=this.summer.apply([this.state.sum,l],this.sharedContext),this.state.count++}}result(){if(this.state===void 0)return GX.emptyValue();const u=new t.IntegerLiteral(this.state.count);return this.divider.apply([this.state.sum,u],this.sharedContext).toRDF()}};return gm.Average=s,gm}var _m={},dk;function _Ie(){if(dk)return _m;dk=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.Count=void 0;const t=Ga(),e=Fo();let n=class WX extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}static emptyValue(){return(0,t.integer)(0).toRDF()}put(){this.state===void 0&&(this.state=0),this.state++}result(){return this.state===void 0?WX.emptyValue():(0,t.integer)(this.state).toRDF()}};return _m.Count=n,_m}var bm={},fk;function bIe(){if(fk)return bm;fk=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.GroupConcat=void 0;const t=Ga(),e=Fo();let n=class KX extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0}static emptyValue(){return(0,t.string)("").toRDF()}put(a){this.state===void 0?(this.state=a.value,a.termType==="Literal"&&(this.lastLanguage=a.language)):(this.state+=this.separator+a.value,this.lastLanguageValid&&a.termType==="Literal"&&this.lastLanguage!==a.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}result(){return this.state===void 0?KX.emptyValue():this.lastLanguageValid&&this.lastLanguage?(0,t.langString)(this.state,this.lastLanguage).toRDF():(0,t.string)(this.state).toRDF()}};return bm.GroupConcat=n,bm}var vm={},hk;function vIe(){if(hk)return vm;hk=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.Max=void 0;const t=aS(),e=Fo();let n=class JX extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(a){if(a.termType!=="Literal")throw new Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);this.state===void 0?this.state=a:(0,t.orderTypes)(this.state,a)===-1&&(this.state=a)}result(){return this.state===void 0?JX.emptyValue():this.state}};return vm.Max=n,vm}var wm={},pk;function wIe(){if(pk)return wm;pk=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.Min=void 0;const t=aS(),e=Fo();let n=class XX extends e.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(a){if(a.termType!=="Literal")throw new Error(`Term with value ${a.value} has type ${a.termType} and is not a literal`);this.state===void 0?this.state=a:(0,t.orderTypes)(this.state,a)===1&&(this.state=a)}result(){return this.state===void 0?XX.emptyValue():this.state}};return wm.Min=n,wm}var Sm={},yk;function SIe(){if(yk)return Sm;yk=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.Sample=void 0;const t=Fo();let e=class YX extends t.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(r){this.state===void 0&&(this.state=r)}result(){return this.state===void 0?YX.emptyValue():this.state}};return Sm.Sample=e,Sm}var Tm={},mk;function TIe(){if(mk)return Tm;mk=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.Sum=void 0;const t=td(),e=Ga(),n=ei(),r=Fo();let a=class ZX extends r.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.summer=t.regularFunctions[n.RegularOperator.ADDITION]}static emptyValue(){return(0,e.integer)(0).toRDF()}put(o){if(this.state===void 0)this.state=this.termToNumericOrError(o);else{const u=this.termToNumericOrError(o);this.state=this.summer.apply([this.state,u],this.sharedContext)}}result(){return this.state===void 0?ZX.emptyValue():this.state.toRDF()}};return Tm.Sum=a,Tm}var gk;function EIe(){if(gk)return mm;gk=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.aggregators=void 0;const t=gIe(),e=_Ie(),n=bIe(),r=vIe(),a=wIe(),s=SIe(),o=TIe();return mm.aggregators={count:e.Count,sum:o.Sum,min:a.Min,max:r.Max,avg:t.Average,group_concat:n.GroupConcat,sample:s.Sample},mm}var Em={},_k;function AIe(){if(_k)return Em;_k=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.WildcardCountAggregator=void 0;const t=tr,e=Ga();let n=class{constructor(a){this.bindingValues=new Map,this.counter=0,this.distinct=a.distinct}putBindings(a){this.handleDistinct(a)||(this.counter+=1)}static emptyValue(){return(0,e.integer)(0).toRDF()}result(){return(0,e.integer)(this.counter).toRDF()}handleDistinct(a){if(this.distinct){const s=[...a];s.sort((d,f)=>d[0].value.localeCompare(f[0].value));const o=s.map(([d])=>d.value).join(","),u=s.map(([,d])=>t.termToString(d)).join(","),l=this.bindingValues.get(o),c=l!==void 0&&l.has(u);return l||this.bindingValues.set(o,new Set),this.bindingValues.get(o).add(u),c}return!1}};return Em.WildcardCountAggregator=n,Em}var bk;function eY(){if(bk)return ym;bk=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.BaseAggregateEvaluator=void 0;const t=Pt(),e=EIe(),n=Fo(),r=AIe(),a=_n();let s=class{constructor(u,l,c){this.throwError=!1,this.isWildcard=!1,this.errorOccurred=!1,this.expression=u,this.aggregator=new n.Aggregator(u,new e.aggregators[u.aggregator](u,l)),this.throwError=c??!1,this.isWildcard=u.expression.expressionType===t.Algebra.expressionTypes.WILDCARD,this.isWildcard&&(this.wildcardAggregator=new r.WildcardCountAggregator(u))}static emptyValue(u,l=!1){let c;if(u.expression.expressionType===t.Algebra.expressionTypes.WILDCARD?c=r.WildcardCountAggregator.emptyValue():c=n.Aggregator.emptyValue(e.aggregators[u.aggregator]),c===void 0&&l)throw new a.EmptyAggregateError;return c}result(){if(!this.errorOccurred)return this.isWildcard?this.wildcardAggregator.result():this.aggregator.result()}};return ym.BaseAggregateEvaluator=s,ym}var vk;function OIe(){if(vk)return pm;vk=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.AggregateEvaluator=void 0;const t=eY(),e=zX();let n=class extends t.BaseAggregateEvaluator{constructor(a,s,o){super(a,e.SyncEvaluator.completeContext(s??{}),o),this.evaluator=new e.SyncEvaluator(a.expression,s)}put(a){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(a);else try{const s=this.evaluator.evaluate(a);this.aggregator.put(s)}catch(s){this.safeThrow(s)}}safeThrow(a){if(this.throwError)throw a;this.errorOccurred=!0}};return pm.AggregateEvaluator=n,pm}var Am={},wk;function RIe(){if(wk)return Am;wk=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.AsyncAggregateEvaluator=void 0;const t=HX(),e=eY();let n=class extends e.BaseAggregateEvaluator{constructor(a,s,o){super(a,t.AsyncEvaluator.completeContext(s??{}),o),this.evaluator=new t.AsyncEvaluator(a.expression,s),this.errorOccurred=!1}async put(a){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(a);else try{const s=await this.evaluator.evaluate(a);if(!s||this.errorOccurred)return;this.aggregator.put(s)}catch(s){this.safeThrow(s)}}safeThrow(a){if(this.throwError)throw a;this.errorOccurred=!0}};return Am.AsyncAggregateEvaluator=n,Am}var Sk;function rd(){return Sk||(Sk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAggregateEvaluator=t.orderTypes=t.isExpressionError=t.ExpressionError=t.AggregateEvaluator=t.SyncEvaluator=t.AsyncEvaluator=void 0;var e=HX();Object.defineProperty(t,"AsyncEvaluator",{enumerable:!0,get:function(){return e.AsyncEvaluator}});var n=zX();Object.defineProperty(t,"SyncEvaluator",{enumerable:!0,get:function(){return n.SyncEvaluator}});var r=OIe();Object.defineProperty(t,"AggregateEvaluator",{enumerable:!0,get:function(){return r.AggregateEvaluator}});var a=_n();Object.defineProperty(t,"ExpressionError",{enumerable:!0,get:function(){return a.ExpressionError}}),Object.defineProperty(t,"isExpressionError",{enumerable:!0,get:function(){return a.isExpressionError}});var s=aS();Object.defineProperty(t,"orderTypes",{enumerable:!0,get:function(){return s.orderTypes}});var o=RIe();Object.defineProperty(t,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return o.AsyncAggregateEvaluator}})}(SO)),SO}var Tk;function xIe(){if(Tk)return jy;Tk=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.ActorQueryOperationExtend=void 0;const t=Mr(),e=Ot(),n=rd();let r=class extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"extend")}async testOperation(s,o){const u=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o);return new n.AsyncEvaluator(s.expression,e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,u)),!0}async runOperation(s,o){const{expression:u,input:l,variable:c}=s,d=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:l,context:o}));if((await d.metadata()).variables.some(g=>g.equals(c)))throw new Error(`Illegal binding to variable '${c.value}' that has already been bound`);const f=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o),h={...e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,f)},p=new n.AsyncEvaluator(u,h),m=async(g,_,v)=>{try{const b=await p.evaluate(g),w=g.set(c,b);v(w)}catch(b){(0,n.isExpressionError)(b)?(v(g),this.logWarn(o,`Expression error for extend operation (${b.message})with bindings '${(0,t.bindingsToString)(g)}'`)):y.emit("error",b)}_()},y=d.bindingsStream.transform({autoStart:!1,transform:m});return{type:"bindings",bindingsStream:y,async metadata(){const g=await d.metadata();return{...g,variables:[...g.variables,c]}}}}};return jy.ActorQueryOperationExtend=r,jy}var Ek;function IIe(){return Ek||(Ek=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(xIe(),t)}(wO)),wO}var PO={},Om={},Ak;function PIe(){if(Ak)return Om;Ak=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.ActorQueryOperationFilter=void 0;const t=Mr(),e=Ot(),n=rd();let r=class extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"filter")}async testOperation(s,o){const u=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o),l={...e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,u)};return new n.AsyncEvaluator(s.expression,l),!0}async runOperation(s,o){const u=await this.mediatorQueryOperation.mediate({operation:s.input,context:o}),l=e.ActorQueryOperation.getSafeBindings(u);e.ActorQueryOperation.validateQueryOutput(l,"bindings");const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o),d={...e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,c)},f=new n.AsyncEvaluator(s.expression,d),h=async(m,y,g)=>{try{await f.evaluateAsEBV(m)&&g(m)}catch(_){(0,n.isExpressionError)(_)?this.logWarn(o,"Error occurred while filtering.",()=>({error:_,bindings:(0,t.bindingsToString)(m)})):p.emit("error",_)}y()},p=l.bindingsStream.transform({transform:h,autoStart:!1});return{type:"bindings",bindingsStream:p,metadata:l.metadata}}};return Om.ActorQueryOperationFilter=r,Om}var Ok;function NIe(){return Ok||(Ok=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(PIe(),t)}(PO)),PO}var NO={},Rm={},xm={},Rk;function DIe(){if(Rk)return xm;Rk=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.GroupsState=void 0;const t=rd(),e=Rt,n=new e.DataFactory;let r=class{constructor(s,o,u,l){this.hashFunction=s,this.pattern=o,this.sparqleeConfig=u,this.bindingsFactory=l,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(c=>c.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(s){const o=this.resultCheck();if(o)return o;this.waitCounter++;const u=s.filter((f,h)=>this.groupVariables.has(h.value)),l=this.hashBindings(u);let c=this.groupsInitializer.get(l),d;if(c){const f=c;d=(async()=>{const h=await f;await Promise.all(this.pattern.aggregates.map(async p=>{const m=p.variable.value;await h.aggregators[m].put(s)}))})().then(async()=>{this.subtractWaitCounterAndCollect()})}else c=(async()=>{const f={};await Promise.all(this.pattern.aggregates.map(async p=>{const m=p.variable.value;f[m]=new t.AsyncAggregateEvaluator(p,this.sparqleeConfig),await f[m].put(s)}));const h={aggregators:f,bindings:u};return this.groups.set(l,h),this.subtractWaitCounterAndCollect(),h})(),this.groupsInitializer.set(l,c),d=c;return d}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let s=[...this.groups].map(([o,u])=>{const{bindings:l,aggregators:c}=u;let d=l;for(const f in c){const h=c[f].result();h&&(d=d.set(n.variable(f),h))}return d});if(s.length===0&&this.groupVariables.size===0){const o=[];for(const u of this.pattern.aggregates){const l=u.variable,c=t.AsyncAggregateEvaluator.emptyValue(u);c!==void 0&&o.push([l,c])}s=[this.bindingsFactory.bindings(o)]}this.waitResolver(s)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){const s=this.resultCheck();if(s)return s;this.resultHasBeenCalled=!0;const o=new Promise(u=>{this.waitResolver=u});return this.subtractWaitCounterAndCollect(),o}hashBindings(s){return this.hashFunction(s)}};return xm.GroupsState=r,xm}var xk;function CIe(){if(xk)return Rm;xk=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.ActorQueryOperationGroup=void 0;const t=Mr(),e=Ot(),n=rd(),r=Bt(),a=DIe();let s=class extends e.ActorQueryOperationTypedMediated{constructor(u){super(u,"group")}async testOperation(u,l){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l);for(const d of u.aggregates)new n.AsyncEvaluator(d.expression,e.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,c));return!0}async runOperation(u,l){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l),{hashFunction:d}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:l}),{input:f,aggregates:h}=u,p=await this.mediatorQueryOperation.mediate({operation:f,context:l}),m=e.ActorQueryOperation.getSafeBindings(p),y=[...u.variables,...h.map(v=>v.variable)],g=e.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,c);return{type:"bindings",bindingsStream:new r.TransformIterator(()=>new Promise((v,b)=>{const w=new a.GroupsState(d,u,g,c);m.bindingsStream.on("end",async()=>{try{const S=new r.ArrayIterator(await w.collectResults(),{autoStart:!1});v(S)}catch(S){b(S)}}),m.bindingsStream.on("error",b),m.bindingsStream.on("data",S=>{w.consumeBindings(S).catch(b)})}),{autoStart:!1}),metadata:async()=>({...await m.metadata(),variables:y})}}};return Rm.ActorQueryOperationGroup=s,Rm}var Ik;function LIe(){return Ik||(Ik=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(CIe(),t)}(NO)),NO}var DO={},Im={},Pk;function jIe(){if(Pk)return Im;Pk=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.ActorQueryOperationLeftJoin=void 0;const t=Mr(),e=Ot(),n=rd();let r=class extends e.ActorQueryOperationTypedMediated{constructor(s){super(s,"leftjoin")}async testOperation(s,o){return!0}async runOperation(s,o){const u=(await Promise.all(s.input.map(async c=>({output:await this.mediatorQueryOperation.mediate({operation:c,context:o}),operation:c})))).map(({output:c,operation:d})=>({output:e.ActorQueryOperation.getSafeBindings(c),operation:d})),l=await this.mediatorJoin.mediate({type:"optional",entries:u,context:o});if(s.expression){const d=(await u[1].output.metadata()).variables,f=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o),h={...e.ActorQueryOperation.getAsyncExpressionContext(o,this.mediatorQueryOperation,f)},p=new n.AsyncEvaluator(s.expression,h),m=l.bindingsStream.transform({autoStart:!1,transform:async(y,g,_)=>{if(!d.every(v=>y.has(v.value)))return _(y),g();try{await p.evaluateAsEBV(y)&&_(y)}catch(v){(0,n.isExpressionError)(v)?this.logWarn(o,"Error occurred while filtering.",()=>({error:v,bindings:y})):m.emit("error",v)}g()}});l.bindingsStream=m}return l}};return Im.ActorQueryOperationLeftJoin=r,Im}var Nk;function MIe(){return Nk||(Nk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(jIe(),t)}(DO)),DO}var CO={},Pm={},Dk;function FIe(){if(Dk)return Pm;Dk=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.ActorQueryOperationNop=void 0;const t=Mr(),e=Ot(),n=ri(),r=Bt();let a=class extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"nop")}async testOperation(o,u){return!0}async runOperation(o,u){const l=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u);return{bindingsStream:new r.SingletonIterator(l.bindings()),metadata:()=>Promise.resolve({state:new n.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}};return Pm.ActorQueryOperationNop=a,Pm}var Ck;function qIe(){return Ck||(Ck=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(FIe(),t)}(CO)),CO}var LO={},Nm={},Dm={},Lk;function BIe(){if(Lk)return Dm;Lk=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.SortIterator=void 0;const t=Bt();let e=class extends t.TransformIterator{constructor(r,a,s){super(r,s);const o=s&&s.window;this.windowLength=Number.isFinite(o)&&o>0?o:Number.POSITIVE_INFINITY,this.sort=a,this.sorted=[]}_read(r,a){let s,{length:o}=this.sorted;for(;o!==this.windowLength&&(s=this.source.read(),s!==null);){let u=0,l=o-1,c,d;for(;u<=l;)c=Math.trunc((u+l)/2),d=this.sort(s,this.sorted[c]),d<0?u=c+1:d>0?l=c-1:(u=c,l=-1);this.sorted.splice(u,0,s),o++}o===this.windowLength&&this._push(this.sorted.pop()),a()}_flush(r){let{length:a}=this.sorted;for(;a--;)this._push(this.sorted.pop());r()}};return Dm.SortIterator=e,Dm}var jk;function $Ie(){if(jk)return Nm;jk=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.ActorQueryOperationOrderBy=void 0;const t=Mr(),e=Ot(),n=rd(),r=Pt(),a=BIe();let s=class extends e.ActorQueryOperationTypedMediated{constructor(u){super(u,"orderby"),this.window=u.window??Number.POSITIVE_INFINITY}async testOperation(u,l){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l);for(let d of u.expressions)d=this.extractSortExpression(d),new n.AsyncEvaluator(d,e.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,c));return!0}async runOperation(u,l){const c=await this.mediatorQueryOperation.mediate({operation:u.input,context:l}),d=e.ActorQueryOperation.getSafeBindings(c),f={window:this.window},h=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l),p={...e.ActorQueryOperation.getAsyncExpressionContext(l,this.mediatorQueryOperation,h)};let{bindingsStream:m}=d;for(let y=u.expressions.length-1;y>=0;y--){let g=u.expressions[y];const _=this.isAscending(g);g=this.extractSortExpression(g);const v=new n.AsyncEvaluator(g,p),b=async(A,x,M)=>{try{const I=await v.evaluate(A);M({bindings:A,result:I})}catch(I){(0,n.isExpressionError)(I)||m.emit("error",I),M({bindings:A,result:void 0})}x()},w=m.transform({transform:b});m=new a.SortIterator(w,(A,x)=>{let M=(0,n.orderTypes)(A.result,x.result);return _||(M*=-1),M},f).map(({bindings:A})=>A)}return{type:"bindings",bindingsStream:m,metadata:d.metadata}}extractSortExpression(u){const{expressionType:l,operator:c}=u;return l!==r.Algebra.expressionTypes.OPERATOR?u:c==="desc"?u.args[0]:u}isAscending(u){const{expressionType:l,operator:c}=u;return l!==r.Algebra.expressionTypes.OPERATOR?!0:c!=="desc"}};return Nm.ActorQueryOperationOrderBy=s,Nm}var Mk;function UIe(){return Mk||(Mk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n($Ie(),t)}(LO)),LO}var jO={},Cm={},Fk;function kIe(){if(Fk)return Cm;Fk=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.ActorQueryOperationService=void 0;const t=Mr(),e=Ot(),n=ri(),r=Bt();let a=class extends e.ActorQueryOperationTypedMediated{constructor(o){super(o,"service")}async testOperation(o,u){if(o.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${o.name.termType} was given.`);return!0}async runOperation(o,u){const{querySource:l}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:o.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:u});let c;try{c=e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.ActorQueryOperation.assignOperationSource(o.input,l),context:u}))}catch(d){if(o.silent){const f=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u);c={bindingsStream:new r.SingletonIterator(f.bindings()),type:"bindings",metadata:async()=>({state:new n.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})},this.logWarn(u,`An error occurred when executing a SERVICE clause: ${d.message}`)}else throw d}return c}};return Cm.ActorQueryOperationService=a,Cm}var qk;function VIe(){return qk||(qk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(kIe(),t)}(jO)),jO}var MO={},Lm={},Bk;function HIe(){if(Bk)return Lm;Bk=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.ActorQueryOperationValues=void 0;const t=Mr(),e=Ot(),n=ri(),r=Bt(),a=Rt,s=new a.DataFactory;let o=class extends e.ActorQueryOperationTyped{constructor(l){super(l,"values")}async testOperation(l,c){return!0}async runOperation(l,c){const d=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,c),f=new r.ArrayIterator(l.bindings.map(m=>d.bindings(Object.entries(m).map(([y,g])=>[s.variable(y.slice(1)),g])))),h=l.variables;return{type:"bindings",bindingsStream:f,metadata:()=>Promise.resolve({state:new n.MetadataValidationState,cardinality:{type:"exact",value:l.bindings.length},canContainUndefs:l.bindings.some(m=>h.some(y=>!(`?${y.value}`in m))),variables:h})}}};return Lm.ActorQueryOperationValues=o,Lm}var $k;function QIe(){return $k||($k=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(HIe(),t)}(MO)),MO}var FO={},jm={},Uk;function zIe(){if(Uk)return jm;Uk=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.ActorQueryOperationPathOneOrMore=void 0;const t=Mo(),e=Mr(),n=Ot(),r=Bt(),a=Pt();let s=class extends t.ActorAbstractPath{constructor(u){super(u,a.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(u,l){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l),d=await this.isPathArbitraryLengthDistinct(l,u);if(d.operation)return d.operation;l=d.context;const f=u.predicate;if(u.subject.termType!=="Variable"&&u.object.termType==="Variable"){const y=u.object,g=await this.getObjectsPredicateStarEval(u.subject,f.path,y,u.graph,l,!1,c),_=u.graph.termType==="Variable"?[y,u.graph]:[y];return{type:"bindings",bindingsStream:g.bindingsStream,metadata:async()=>({...await g.metadata(),variables:_})}}if(u.subject.termType==="Variable"&&u.object.termType==="Variable"){const y=t.ActorAbstractPath.FACTORY.createDistinct(t.ActorAbstractPath.FACTORY.createPath(u.subject,u.predicate.path,u.object,u.graph)),g=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:y})),_=u.subject,v=u.object,b={},w=new r.MultiTransformIterator(g.bindingsStream,{multiTransform:A=>{const x=A.get(_),M=A.get(v),I=u.graph.termType==="Variable"?A.get(u.graph):u.graph;return new r.TransformIterator(async()=>{const N=new r.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(_,v,x,M,f.path,I,l,b,{},N,{count:0},c),N.transform({transform(F,D,V){u.graph.termType==="Variable"&&(F=F.set(u.graph,I)),V(F),D()}})},{maxBufferSize:128})},autoStart:!1}),S=u.graph.termType==="Variable"?[_,v,u.graph]:[_,v];return{type:"bindings",bindingsStream:w,metadata:async()=>({...await g.metadata(),variables:S})}}if(u.subject.termType==="Variable"&&u.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:l,operation:t.ActorAbstractPath.FACTORY.createPath(u.object,t.ActorAbstractPath.FACTORY.createOneOrMorePath(t.ActorAbstractPath.FACTORY.createInv(f.path)),u.subject,u.graph)});const h=this.generateVariable(),p=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:l,operation:t.ActorAbstractPath.FACTORY.createPath(u.subject,f,h,u.graph)}));return{type:"bindings",bindingsStream:p.bindingsStream.transform({filter:y=>u.object.equals(y.get(h)),transform(y,g,_){const v=u.graph.termType==="Variable"?c.bindings([[u.graph,y.get(u.graph)]]):c.bindings();_(v),g()}}),metadata:async()=>({...await p.metadata(),variables:u.graph.termType==="Variable"?[u.graph]:[]})}}};return jm.ActorQueryOperationPathOneOrMore=s,jm}var kk;function GIe(){return kk||(kk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(zIe(),t)}(FO)),FO}var qO={},Mm={},Vk;function WIe(){if(Vk)return Mm;Vk=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.ActorQueryOperationPathZeroOrMore=void 0;const t=Mo(),e=Mr(),n=Ot(),r=Bt(),a=tr,s=Pt();let o=class extends t.ActorAbstractPath{constructor(l){super(l,s.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(l,c){const d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,c),f=await this.isPathArbitraryLengthDistinct(c,l);if(f.operation)return f.operation;c=f.context;const h=l.predicate,p=this.getPathSources(h),m=l.subject.termType==="Variable",y=l.object.termType==="Variable";if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const S=this.generateVariable(l),A=this.assignPatternSources(t.ActorAbstractPath.FACTORY.createPattern(l.subject,S,l.object,l.graph),p),x=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:c,operation:A})),M=l.subject,I=l.object,N=new Set,F={},D=new r.MultiTransformIterator(x.bindingsStream,{multiTransform:k=>{const U=k.get(M),H=k.get(I),X=l.graph.termType==="Variable"?k.get(l.graph):l.graph,ee=(0,a.termToString)(U)+(0,a.termToString)(X),fe=(0,a.termToString)(H)+(0,a.termToString)(X);return new r.TransformIterator(async()=>{if(N.has(ee)&&N.has(fe))return new r.EmptyIterator;const Te=new r.BufferedIterator,De={count:0};return N.has(ee)||(N.add(ee),await this.getSubjectAndObjectBindingsPredicateStar(M,I,U,U,h.path,X,c,F,{},Te,De,d)),N.has(fe)||(N.add(fe),await this.getSubjectAndObjectBindingsPredicateStar(M,I,H,H,h.path,X,c,F,{},Te,De,d)),Te.transform({transform(Ve,le,ue){l.graph.termType==="Variable"&&(Ve=Ve.set(l.graph,X)),ue(Ve),le()}})})}}),V=l.graph.termType==="Variable"?[M,l.object,l.graph]:[M,l.object];return{type:"bindings",bindingsStream:D,metadata:async()=>({...await x.metadata(),variables:V})}}if(!m&&!y){const S=this.generateVariable(),A=await this.getObjectsPredicateStarEval(l.subject,h.path,S,l.graph,c,!0,d);return{type:"bindings",bindingsStream:A.bindingsStream.transform({filter:M=>l.object.equals(M.get(S)),transform(M,I,N){const F=l.graph.termType==="Variable"?d.bindings([[l.graph,M.get(l.graph)]]):d.bindings();N(F),I()}}),metadata:async()=>({...await A.metadata(),variables:l.graph.termType==="Variable"?[l.graph]:[]})}}const g=m?l.object:l.subject,_=m?l.subject:l.object,v=m?t.ActorAbstractPath.FACTORY.createInv(h.path):h.path,b=await this.getObjectsPredicateStarEval(g,v,_,l.graph,c,!0,d),w=l.graph.termType==="Variable"?[_,l.graph]:[_];return{type:"bindings",bindingsStream:b.bindingsStream,metadata:async()=>({...await b.metadata(),variables:w})}}};return Mm.ActorQueryOperationPathZeroOrMore=o,Mm}var Hk;function KIe(){return Hk||(Hk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(WIe(),t)}(qO)),qO}var BO={},Fm={},Qk;function JIe(){if(Qk)return Fm;Qk=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.ActorQueryOperationPathZeroOrOne=void 0;const t=Mo(),e=Mr(),n=Ot(),r=ri(),a=Bt(),s=Pt();let o=class extends t.ActorAbstractPath{constructor(l){super(l,s.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(l,c){const d=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,c),f=l.predicate,h=this.getPathSources(f),p=[];if(l.subject.termType!=="Variable"&&l.object.termType!=="Variable"&&l.subject.equals(l.object))return{type:"bindings",bindingsStream:new a.SingletonIterator(d.bindings()),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};const m=await this.isPathArbitraryLengthDistinct(c,l);if(m.operation)return m.operation;c=m.context;const y=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:c,operation:t.ActorAbstractPath.FACTORY.createPath(l.subject,f.path,l.object,l.graph)}));let g;if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const _=this.generateVariable(l),v=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:c,operation:t.ActorAbstractPath.FACTORY.createFilter(this.assignPatternSources(t.ActorAbstractPath.FACTORY.createPattern(l.subject,_,l.object,l.graph),h),t.ActorAbstractPath.FACTORY.createOperatorExpression("=",[t.ActorAbstractPath.FACTORY.createTermExpression(l.subject),t.ActorAbstractPath.FACTORY.createTermExpression(l.object)]))})).bindingsStream.map(b=>b.delete(_));g=new a.UnionIterator([v,y.bindingsStream],{autoStart:!1})}else l.subject.termType==="Variable"&&p.push(d.bindings([[l.subject,l.object]])),l.object.termType==="Variable"&&p.push(d.bindings([[l.object,l.subject]])),g=y.bindingsStream.prepend(p);return{type:"bindings",bindingsStream:g,metadata:y.metadata}}};return Fm.ActorQueryOperationPathZeroOrOne=o,Fm}var zk;function XIe(){return zk||(zk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(JIe(),t)}(BO)),BO}var $O={},qm={},Gk;function YIe(){if(Gk)return qm;Gk=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.ActorQueryOperationUpdateDeleteInsert=void 0;const t=fX(),e=Mr(),n=Ot(),r=Bt();let a=class extends n.ActorQueryOperationTypedMediated{constructor(o){super(o,"deleteinsert"),this.blankNodeCounter=0}async testOperation(o,u){return n.ActorQueryOperation.throwOnReadOnly(u),!0}async runOperation(o,u){const l=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,u),c=o.where?n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o.where,context:u})).bindingsStream:new r.ArrayIterator([l.bindings()],{autoStart:!1});let d,f;o.insert&&(d=new t.BindingsToQuadsIterator(o.insert.map(t.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),c.clone()),this.blankNodeCounter++),o.delete&&(f=new t.BindingsToQuadsIterator(o.delete.map(t.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),c.clone()),this.blankNodeCounter++);const{execute:h}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:d,quadStreamDelete:f,context:u});return{type:"void",execute:h}}};return qm.ActorQueryOperationUpdateDeleteInsert=a,qm}var Wk;function ZIe(){return Wk||(Wk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(YIe(),t)}($O)),$O}var UO={},Bm={},kO={},$m={},Kk;function ePe(){if(Kk)return $m;Kk=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.ActorQueryProcess=void 0;const t=lt;let e=class extends t.Actor{constructor(r){super(r)}};return $m.ActorQueryProcess=e,$m}var Jk;function sS(){return Jk||(Jk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ePe(),t)}(kO)),kO}var Xk;function tPe(){if(Xk)return Bm;Xk=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.ActorQueryProcessSequential=void 0;const t=Mr(),e=Ot(),n=sS(),r=Ut,a=lt;let s=class extends n.ActorQueryProcess{constructor(u){super(u)}async test(u){if(u.context.get(r.KeysInitQuery.explain)||u.context.get(new a.ActionContextKey("explain")))throw new Error(`${this.name} is not able to explain queries.`);return!0}async run(u){let{operation:l,context:c}=await this.parse(u.query,u.context);return{operation:l,context:c}=await this.optimize(l,c),{result:await this.evaluate(l,c)}}async parse(u,l){l=(await this.mediatorContextPreprocess.mediate({context:l,initialize:!0})).context;let c;if(typeof u=="string"){l=l.set(r.KeysInitQuery.queryString,u);const d=l.get(r.KeysInitQuery.baseIRI),f=l.get(r.KeysInitQuery.queryFormat),h=await this.mediatorQueryParse.mediate({context:l,query:u,queryFormat:f,baseIRI:d});c=h.operation,h.baseIRI&&(l=l.set(r.KeysInitQuery.baseIRI,h.baseIRI))}else c=u;if(l.has(r.KeysInitQuery.initialBindings)){const d=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l);c=(0,e.materializeOperation)(c,l.get(r.KeysInitQuery.initialBindings),d),l=l.delete(r.KeysInitQuery.queryString)}return{operation:c,context:l}}async optimize(u,l){return l=l.set(r.KeysInitQuery.query,u),{operation:u,context:l}=await this.mediatorOptimizeQueryOperation.mediate({context:l,operation:u}),l=l.set(r.KeysInitQuery.query,u),{operation:u,context:l}}async evaluate(u,l){const c=await this.mediatorQueryOperation.mediate({context:l,operation:u});return c.context=l,c}};return Bm.ActorQueryProcessSequential=s,Bm}var Yk;function rPe(){return Yk||(Yk=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(tPe(),t)}(UO)),UO}var VO={},Um={},km={},Vm={},Hm={},Zk;function nPe(){if(Zk)return Hm;Zk=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.LinkedRdfSourcesAsyncRdfIterator=void 0;const t=ri(),e=Bt();let n=class extends e.BufferedIterator{constructor(a,s,o,u,l,c,d,f){if(super({autoStart:!1,...f}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=a,this.operation=s,this.queryBindingsOptions=o,this.context=u,this.firstUrl=l,this.maxIterators=c,this.sourceStateGetter=d,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(a,s){return a==="metadata"&&!this.started&&(this.preflightMetadata||(this.preflightMetadata=new Promise((o,u)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(l=>{const c=l.source.queryBindings(this.operation,this.context);c.getProperty("metadata",d=>{d.state=new t.MetadataValidationState,c.destroy(),this.accumulateMetadata(l.metadata,d).then(f=>{const h={...l.metadata,...d,...f};o(h)}).catch(()=>{o({...l.metadata,state:new t.MetadataValidationState})})})}).catch(u)})),this.preflightMetadata.then(o=>this.setProperty("metadata",o)).catch(()=>{})),super.getProperty(a,s)}_end(a){for(const s of this.currentIterators)s.destroy();super._end(a)}_read(a,s){if(this.started){for(const o of this.currentIterators){for(;a>0;){const u=o.read();if(u===null)break;a--,this._push(u)}if(a<=0)break}a>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIteratorsForNextUrls(o.handledDatasets,!1),s()}):s()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIterator(o),s()}).catch(o=>setTimeout(()=>this.destroy(o)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(a){try{const s=a.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(s);let o=!1,u=!1;s._destination=this,s.on("error",l=>this.destroy(l)),s.on("readable",()=>this._fillBuffer()),s.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(s),1),o=!0,u||this.iteratorsPendingTermination++,u&&this.startIteratorsForNextUrls(a.handledDatasets,!0)}),s.getProperty("metadata",l=>{this.accumulatedMetadata=this.accumulatedMetadata.then(c=>(async()=>(c||(c=a.metadata),this.accumulateMetadata(c,l)))().then(d=>{const f={...a.metadata,...l,...d};return f.state=new t.MetadataValidationState,this.updateMetadata(f),this.preflightMetadata&&this.preflightMetadata.then(h=>h.state.invalidate()).catch(()=>{}),this.getSourceLinks(f).then(h=>Promise.all(h)).then(async h=>{const p=await this.getLinkQueue();for(const m of h)p.push(m,a.link);u=!0,o&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(a.handledDatasets,!0)}).catch(h=>this.destroy(h)),f})).catch(c=>(this.destroy(c),{}))})}catch(s){this.destroy(s)}}updateMetadata(a){const s=this.getProperty("metadata");this.setProperty("metadata",a),s==null||s.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(a,s){this.getLinkQueue().then(o=>{for(;this.canStartNewIterator()&&this.isRunning();){const u=o.pop();if(u)this.iteratorsPendingCreation++,this.sourceStateGetter(u,a).then(l=>{this.iteratorsPendingCreation--,this.startIterator(l)}).catch(l=>this.emit("error",l));else break}s&&this.isCloseable(o,!0)&&this.close()}).catch(o=>this.destroy(o))}isCloseable(a,s){return a.isEmpty()&&!this.areIteratorsRunning()}};return Hm.LinkedRdfSourcesAsyncRdfIterator=n,Hm}var eV;function iPe(){if(eV)return Vm;eV=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const t=Ut,e=Rt,n=Pt(),r=nPe(),a=new e.DataFactory,s=new n.Factory;let o=class extends r.LinkedRdfSourcesAsyncRdfIterator{constructor(l,c,d,f,h,p,m,y,g,_,v,b){super(l,c,d,f,p,m,y,g?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=h,this.mediatorMetadataAccumulate=_,this.mediatorRdfResolveHypermediaLinks=v,this.mediatorRdfResolveHypermediaLinksQueue=b,this.handledUrls={[p]:!0},this.aggregatedStore=g}close(){if(!this.aggregatedStore){super.close();return}this.getLinkQueue().then(l=>{this.isCloseable(l,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(l=>super.destroy(l))}destroy(l){if(!this.aggregatedStore){super.destroy(l);return}this.getLinkQueue().then(c=>{l??this.isCloseable(c,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.destroy(l)):this.wasForcefullyClosed=!0}).catch(c=>super.destroy(c))}isCloseable(l,c){return(c?l.isEmpty():this.wasForcefullyClosed||l.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(l=>l.linkQueue)),this.linkQueue}async getSourceLinks(l){try{const{links:c}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:l});return c.filter(d=>this.handledUrls[d.url]?!1:(this.handledUrls[d.url]=!0,!0))}catch{return[]}}startIterator(l){var c;if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(l.link.url)){(c=this.aggregatedStore)==null||c.containedSources.add(l.link.url);const d=l.source.queryBindings(s.createPattern(a.variable("s"),a.variable("p"),a.variable("o"),a.variable("g")),this.context.set(t.KeysQueryOperation.unionDefaultGraph,!0)).map(f=>a.quad(f.get("s"),f.get("p"),f.get("o"),f.get("g")));this.aggregatedStore.import(d).on("end",()=>{super.startIterator(l)})}else super.startIterator(l)}async accumulateMetadata(l,c){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:l,appendingMetadata:c,context:this.context})).metadata}updateMetadata(l){var c;super.updateMetadata(l),(c=this.aggregatedStore)==null||c.setBaseMetadata(l,!0)}};return Vm.MediatedLinkedRdfSourcesAsyncRdfIterator=o,Vm}var Qm={},HO={},zm={},tV;function tY(){if(tV)return zm;tV=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.PendingStreamsIndex=void 0;const t=tr,e=vn();let n=class gu{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(a){return a&&a.termType!=="Variable"?(0,t.termToString)(a):gu.ID_VARIABLE}addPatternListener(a,s,o,u,l){this.allStreams.push(a);const c=`${this.termToString(s)}${gu.ID_SEPARATOR}${this.termToString(o)}${gu.ID_SEPARATOR}${this.termToString(u)}${gu.ID_SEPARATOR}${this.termToString(l)}`;let d=this.indexedStreams.get(c);d||(d=[],this.indexedStreams.set(c,d)),d.push(a)}getPendingStreamsForQuad(a){let s=[(0,e.getTerms)(a).map(u=>(0,t.termToString)(u))];for(let u=0;u<e.QUAD_TERM_NAMES.length;u++){const l=s;s=[];for(const c of l){s.push(c);const d=[...c];d[u]=gu.ID_VARIABLE,s.push(d)}}const o=[];for(const u of s){const l=this.indexedStreams.get(u.join(gu.ID_SEPARATOR));l&&o.push(...l)}return o}};return n.ID_VARIABLE="?",n.ID_SEPARATOR=":",zm.PendingStreamsIndex=n,zm}var Gm={},rV;function aPe(){if(rV)return Gm;rV=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.StreamingStore=void 0;const t=Do,e=Dt,n=tY();let r=class{constructor(s=new t.Store){this.pendingStreams=new n.PendingStreamsIndex,this.ended=!1,this.store=s}end(){this.ended=!0;for(const s of this.pendingStreams.allStreams)s.push(null),s._pipeSource.unpipe()}importToListeners(s){s.on("data",o=>{if(!this.ended&&!this.store.countQuads(o.subject,o.predicate,o.object,o.graph))for(const u of this.pendingStreams.getPendingStreamsForQuad(o))u.isInitialized&&(u.push(o),u.emit("quad",o))})}import(s){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(s),this.store.import(s)}match(s,o,u,l){const c=this.store.match(s,o,u,l);let d=c;if(!this.ended){const f=new e.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(f,s,o,u,l),d=c.pipe(f,{end:!1}),d._pipeSource=c;const h=c._read;c._read=p=>{f.isInitialized=!0,h.call(c,p)}}return d}getStore(){return this.store}};return Gm.StreamingStore=r,Gm}var nV;function sPe(){return nV||(nV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(tY(),t),n(aPe(),t)}(HO)),HO}var iV;function oPe(){if(iV)return Qm;iV=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.StreamingStoreMetadata=void 0;const t=Ot(),e=ri(),n=sPe();let r=class extends n.StreamingStore{constructor(s,o){super(s),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new e.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:[]},this.metadataAccumulator=o}import(s){return this.ended||super.import(s),s}hasRunningIterators(){return this.runningIterators.size>0}match(s,o,u,l){const c=super.match(s,o,u,l),d=new t.ClosableTransformIterator(c,{autoStart:!1,onClose:()=>{this.runningIterators.delete(d)}});let f=this.getStore().countQuads(s,o,u,l);const h={state:new e.MetadataValidationState,cardinality:{type:"estimate",value:f},canContainUndefs:!1};d.setProperty("metadata",h),d.setProperty("lastCount",f),c.on("quad",()=>{d.setProperty("lastCount",++f),this.updateMetadataState(d,f)}),this.runningIterators.add(d);for(const p of this.iteratorCreatedListeners)p();return d}setBaseMetadata(s,o){if(this.baseMetadata={...s},this.baseMetadata.cardinality={type:"exact",value:0},o)for(const u of this.runningIterators){const l=u.getProperty("lastCount");this.updateMetadataState(u,l)}}updateMetadataState(s,o){const u={state:new e.MetadataValidationState,cardinality:{type:"estimate",value:o},canContainUndefs:!1,variables:[]};this.metadataAccumulator(this.baseMetadata,u).then(l=>{l.state=new e.MetadataValidationState;const c=s.getProperty("metadata");s.setProperty("metadata",l),c==null||c.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(s){this.iteratorCreatedListeners.add(s)}removeIteratorCreatedListener(s){this.iteratorCreatedListeners.delete(s)}};return Qm.StreamingStoreMetadata=r,Qm}var aV;function rY(){if(aV)return km;aV=1,Object.defineProperty(km,"__esModule",{value:!0}),km.QuerySourceHypermedia=void 0;const t=xN(),e=Ut,n=Bt(),r=jo(),a=Dt,s=iPe(),o=oPe();let u=class{constructor(c,d,f,h,p,m,y,g){this.referenceValue=d,this.cacheSize=c,this.firstUrl=d,this.forceSourceType=f,this.maxIterators=h,this.mediators=m,this.aggregateStore=p,this.logWarning=y,this.bindingsFactory=g,this.sourcesState=new r.LRUCache({max:this.cacheSize})}async getSelectorShape(c){return(await this.getSourceCached({url:this.firstUrl},{},c,this.getAggregateStore(c))).source.getSelectorShape(c)}queryBindings(c,d,f){const h=this.getAggregateStore(d);if(h&&c.type==="pattern"&&h.started)return new t.QuerySourceRdfJs(h,this.bindingsFactory).queryBindings(c,d);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},d,h).catch(m=>p.destroy(m));const p=new s.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,c,f,d,this.forceSourceType,this.firstUrl,this.maxIterators,(m,y)=>this.getSourceCached(m,y,d,h),h,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue);if(h){h.started=!0;const m=()=>p.kickstart();h.addIteratorCreatedListener(m),p.on("end",()=>h.removeIteratorCreatedListener(m))}return p}queryQuads(c,d){return new n.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryQuads(c,d))}async queryBoolean(c,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryBoolean(c,d)}async queryVoid(c,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryVoid(c,d)}async getSource(c,d,f,h){var v;c.context&&(f=f.merge(c.context));let p=c.url,m,y;try{const b=await this.mediators.mediatorDereferenceRdf.mediate({context:f,url:p});p=b.url;const w=await this.mediators.mediatorMetadata.mediate({context:f,url:p,quads:b.data,triples:(v=b.metadata)==null?void 0:v.triples});w.data.on("error",()=>{}),y=(await this.mediators.mediatorMetadataExtract.mediate({context:f,url:p,metadata:w.metadata,headers:b.headers,requestTime:b.requestTime})).metadata,m=w.data,c.transform&&(m=await c.transform(m))}catch(b){m=new a.Readable,m.read=()=>(setTimeout(()=>m.emit("error",b)),null),{metadata:y}=await this.mediators.mediatorMetadataAccumulate.mediate({context:f,mode:"initialize"}),this.logWarning(`Metadata extraction for ${p} failed: ${b.message}`)}h==null||h.setBaseMetadata(y,!1),h==null||h.containedSources.add(c.url),h==null||h.import(m);const{source:g,dataset:_}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:f,forceSourceType:c.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:d,metadata:y,quads:m,url:p});return _&&(d[_]=!0),{link:c,source:g,metadata:y,handledDatasets:d}}getSourceCached(c,d,f,h){let p=this.sourcesState.get(c.url);return p||(p=this.getSource(c,d,f,h),(c.url===this.firstUrl||h===void 0)&&this.sourcesState.set(c.url,p),p)}getAggregateStore(c){let d;if(this.aggregateStore){const f=c.get(e.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(f)return d=f.get(this.firstUrl),d||(d=new o.StreamingStoreMetadata(void 0,async(h,p)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:h,appendingMetadata:p,context:c})).metadata),f.set(this.firstUrl,d)),d}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}};return km.QuerySourceHypermedia=u,km}var sV;function uPe(){if(sV)return Um;sV=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.ActorQuerySourceIdentifyHypermedia=void 0;const t=Mr(),e=sb(),n=Ut,r=lt,a=rY();let s=class extends e.ActorQuerySourceIdentify{constructor(u){super(u)}async test(u){if(typeof u.querySourceUnidentified.value!="string")throw new TypeError(`${this.name} requires a single query source with a URL value to be present in the context.`);return!0}async run(u){var l;return{querySource:{source:new a.QuerySourceHypermedia(this.cacheSize,u.querySourceUnidentified.value,u.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!((l=u.querySourceUnidentified.context)!=null&&l.get(n.KeysQuerySourceIdentify.traverse)),{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},c=>this.logWarn(u.context,c),await t.BindingsFactory.create(this.mediatorMergeBindingsContext,u.context)),context:u.querySourceUnidentified.context??new r.ActionContext}}}};return Um.ActorQuerySourceIdentifyHypermedia=s,Um}var oV;function cPe(){return oV||(oV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(uPe(),t),n(rY(),t)}(VO)),VO}var QO={},Wm={},uV;function lPe(){if(uV)return Wm;uV=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.ActorRdfJoinNone=void 0;const t=Mr(),e=ni(),n=ri(),r=Bt();let a=class extends e.ActorRdfJoin{constructor(o){super(o,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(o){if(o.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(o){const u=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context);return{result:{bindingsStream:new r.ArrayIterator([u.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new n.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};return Wm.ActorRdfJoinNone=a,Wm}var cV;function dPe(){return cV||(cV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(lPe(),t)}(QO)),QO}var zO={},Km={},lV;function fPe(){if(lV)return Km;lV=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.ActorRdfJoinMultiBind=void 0;const t=Mr(),e=Ot(),n=ni(),r=Ut,a=Bt(),s=Pt();let o=class Fx extends n.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(l,c,d,f,h,p){const m=l==="depth-first",y=g=>{const _=d.map(b=>(0,e.materializeOperation)(b,g,p,{bindFilter:!0})),v=b=>b.merge(g);return new a.TransformIterator(async()=>(await f(_,g)).transform({map:v}),{maxBufferSize:128,autoStart:m})};switch(l){case"depth-first":return new a.MultiTransformIterator(c,{autoStart:!1,multiTransform:y,optional:h});case"breadth-first":return new a.UnionIterator(c.transform({map:y,optional:h}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${l}`)}}async getOutput(l){const c=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context),d=await n.ActorRdfJoin.getEntriesWithMetadatas(l.entries),f=await n.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,d,l.context);this.logDebug(l.context,"First entry for Bind Join: ",()=>({entry:f[0].operation,metadata:f[0].metadata}));for(const[g,_]of f.entries())g!==0&&_.output.bindingsStream.close();const h=f[0].output,p=[...f];p.splice(0,1);const m=l.context.set(r.KeysQueryOperation.joinLeftMetadata,f[0].metadata).set(r.KeysQueryOperation.joinRightMetadatas,p.map(g=>g.metadata));return{result:{type:"bindings",bindingsStream:Fx.createBindStream(this.bindOrder,h.bindingsStream,p.map(g=>g.operation),async(g,_)=>{const v=g.length===1?g[0]:Fx.FACTORY.createJoin(g);return e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:v,context:m==null?void 0:m.set(r.KeysQueryOperation.joinBindings,_)})).bindingsStream},!1,c),metadata:()=>this.constructResultMetadata(f,f.map(g=>g.metadata),l.context)},physicalPlanMetadata:{bindIndex:d.indexOf(f[0]),bindOperation:f[0].operation,bindOperationCardinality:f[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(l){let c=!0;return s.Util.recurseOperation(l,{[s.Algebra.types.EXTEND](){return c=!1,!1},[s.Algebra.types.GROUP](){return c=!1,!1}}),c}async getJoinCoefficients(l,c){const d=await n.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,l.entries.map((w,S)=>({...w,metadata:c[S]})),l.context);c=d.map(w=>w.metadata);const f=n.ActorRdfJoin.getRequestInitialTimes(c),h=n.ActorRdfJoin.getRequestItemTimes(c),p=[...d],m=[...f],y=[...h];if(p.splice(0,1),m.splice(0,1),y.splice(0,1),p.some(w=>!this.canBindWithOperation(w.operation)))throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);if(p.some(w=>w.operationModified))throw new Error(`Actor ${this.name} can not be used over remaining entries with modified operations`);const g=await Promise.all(p.map(async w=>(await this.mediatorJoinSelectivity.mediate({entries:[d[0],w],context:l.context})).selectivity*this.selectivityModifier)),_=p.map((w,S)=>w.metadata.cardinality.value*g[S]).reduce((w,S)=>w+S,0),v=m.reduce((w,S)=>w+S,0),b=y.reduce((w,S)=>w+S,0);return{iterations:c[0].cardinality.value*_,persistedItems:0,blockingItems:0,requestTime:f[0]+c[0].cardinality.value*(h[0]+v+_*b)}}};return Km.ActorRdfJoinMultiBind=o,o.FACTORY=new s.Factory,Km}var dV;function nY(){return dV||(dV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(fPe(),t)}(zO)),zO}var GO={},Jm={},fV;function hPe(){if(fV)return Jm;fV=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.ActorRdfJoinOptionalBind=void 0;const t=nY(),e=Mr(),n=Ot(),r=ni(),a=Ut,s=Pt();let o=class extends r.ActorRdfJoin{constructor(l){super(l,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1})}async getOutput(l){const c=await e.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context);l.entries[1].output.bindingsStream.close();const d=l.context.set(a.KeysQueryOperation.joinLeftMetadata,await l.entries[0].output.metadata()).set(a.KeysQueryOperation.joinRightMetadatas,[await l.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:t.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,l.entries[0].output.bindingsStream,[l.entries[1].operation],async(h,p)=>{const m=h[0];return n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:m,context:d==null?void 0:d.set(a.KeysQueryOperation.joinBindings,p)})).bindingsStream},!0,c),metadata:async()=>await this.constructResultMetadata(l.entries,await r.ActorRdfJoin.getMetadatas(l.entries),l.context,{canContainUndefs:!0})}}}async getJoinCoefficients(l,c){if(r.ActorRdfJoin.overlappingVariables(c).length===0)throw new Error(`Actor ${this.name} only join entries with at least one common variable`);const d=r.ActorRdfJoin.getRequestInitialTimes(c),f=r.ActorRdfJoin.getRequestItemTimes(c);if(l.entries[1].operation.type===s.Algebra.types.EXTEND||l.entries[1].operation.type===s.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const h=(await this.mediatorJoinSelectivity.mediate({entries:l.entries,context:l.context})).selectivity*this.selectivityModifier;return{iterations:c[0].cardinality.value*c[1].cardinality.value*h,persistedItems:0,blockingItems:0,requestTime:d[0]+c[0].cardinality.value*(f[0]+d[1]+h*c[1].cardinality.value*f[1])}}};return Jm.ActorRdfJoinOptionalBind=o,Jm}var hV;function pPe(){return hV||(hV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(hPe(),t)}(GO)),GO}var WO={},Xm={},pV;function yPe(){if(pV)return Xm;pV=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.ActorQueryProcessExplainParsed=void 0;const t=sS(),e=Ut,n=lt;let r=class extends t.ActorQueryProcess{constructor(s){super(s)}async test(s){if((s.context.get(e.KeysInitQuery.explain)||s.context.get(new n.ActionContextKey("explain")))!=="parsed")throw new Error(`${this.name} can only explain in 'parsed' mode.`);return!0}async run(s){const{operation:o}=await this.queryProcessor.parse(s.query,s.context);return{result:{explain:!0,type:"parsed",data:o}}}};return Xm.ActorQueryProcessExplainParsed=r,Xm}var yV;function mPe(){return yV||(yV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(yPe(),t)}(WO)),WO}var KO={},Ym={},mV;function gPe(){if(mV)return Ym;mV=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.ActorQueryProcessExplainLogical=void 0;const t=sS(),e=Ut,n=lt;let r=class extends t.ActorQueryProcess{constructor(s){super(s)}async test(s){if((s.context.get(e.KeysInitQuery.explain)||s.context.get(new n.ActionContextKey("explain")))!=="logical")throw new Error(`${this.name} can only explain in 'logical' mode.`);return!0}async run(s){let{operation:o,context:u}=await this.queryProcessor.parse(s.query,s.context);return{operation:o,context:u}=await this.queryProcessor.optimize(o,u),{result:{explain:!0,type:"logical",data:o}}}};return Ym.ActorQueryProcessExplainLogical=r,Ym}var gV;function _Pe(){return gV||(gV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(gPe(),t)}(KO)),KO}var JO={},Zm={},cu={},_V;function iY(){if(_V)return cu;_V=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.numberToString=cu.MemoryPhysicalQueryPlanLogger=void 0;const t=tr;let e=class{constructor(){this.planNodes=new Map}logOperation(a,s,o,u,l,c){const d={actor:l,logicalOperator:a,physicalOperator:s,rawNode:o,children:[],metadata:c};if(this.planNodes.set(o,d),this.rootNode){if(!u)throw new Error("Detected more than one parent-less node");const f=this.planNodes.get(u);if(!f)throw new Error("Could not find parent node");f.children.push(d)}else{if(u)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=d}}stashChildren(a,s){const o=this.planNodes.get(a);if(!o)throw new Error("Could not find plan node");o.children=s?o.children.filter(s):[]}unstashChild(a,s){const o=this.planNodes.get(a);if(o){const u=this.planNodes.get(s);if(!u)throw new Error("Could not find plan parent node");u.children.push(o)}}appendMetadata(a,s){const o=this.planNodes.get(a);o&&(o.metadata={...o.metadata,...s})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(a){var o;const s={logical:a.logicalOperator,physical:a.physicalOperator,...this.getLogicalMetadata(a.rawNode),...this.compactMetadata(a.metadata)};if(a.children.length>0&&(s.children=a.children.map(u=>this.planNodeToJson(u))),s.physical==="bind"&&s.children){const u={};for(const c of s.children){const d=((o=c.children)==null?void 0:o.at(-1))??c,f=this.getPlanHash(d).join(",");u[f]||(u[f]=[]),u[f].push(c)}const l=[];for(const c of Object.values(u))l.push({occurrences:c.length,firstOccurrence:c[0]});s.childrenCompact=l,delete s.children}return s}getPlanHash(a){let s=[`${a.logical}-${a.physical}`];return a.children?s=[...s,...a.children.flatMap(o=>this.getPlanHash(o))]:a.childrenCompact&&(s=[...s,...a.childrenCompact.flatMap(o=>this.getPlanHash(o.firstOccurrence))]),s}compactMetadata(a){return Object.fromEntries(Object.entries(a).map(([s,o])=>[s,this.compactMetadataValue(o)]))}compactMetadataValue(a){return a&&typeof a=="object"&&"termType"in a?this.getLogicalMetadata(a):a}getLogicalMetadata(a){var o;const s={};if("type"in a){const u=a;switch((o=u.metadata)!=null&&o.scopedSource&&(s.source=u.metadata.scopedSource.source.toString()),u.type){case"pattern":s.pattern=this.quadToString(u);break;case"project":s.variables=u.variables.map(l=>l.value);break}}return s}quadToString(a){return`${(0,t.termToString)(a.subject)} ${(0,t.termToString)(a.predicate)} ${(0,t.termToString)(a.object)}${a.graph.termType==="DefaultGraph"?"":` ${(0,t.termToString)(a.graph)}`}`}toCompactString(){const a=this.toJson(),s=[],o=new Map;if("logical"in a?this.nodeToCompactString(s,o,"",a):s.push("Empty"),o.size>0){s.push(""),s.push("sources:");for(const[u,l]of o.entries())s.push(`  ${l}: ${u}`)}return s.join(`
`)}nodeToCompactString(a,s,o,u,l){let c;u.source&&(c=s.get(u.source),c===void 0&&(c=s.size,s.set(u.source,c))),a.push(`${o}${u.logical}${u.physical?`(${u.physical})`:""}${u.pattern?` (${u.pattern})`:""}${u.variables?` (${u.variables.join(",")})`:""}${u.bindOperation?` bindOperation:(${u.bindOperation.pattern}) bindCardEst:${u.bindOperationCardinality.type==="estimate"?"~":""}${n(u.bindOperationCardinality.value)}`:""}${u.cardinality?` cardEst:${u.cardinality.type==="estimate"?"~":""}${n(u.cardinality.value)}`:""}${u.source?` src:${c}`:""}${u.cardinalityReal?` cardReal:${u.cardinalityReal}`:""}${u.timeSelf?` timeSelf:${n(u.timeSelf)}ms`:""}${u.timeLife?` timeLife:${n(u.timeLife)}ms`:""}${l?` ${l}`:""}`);for(const d of u.children??[])this.nodeToCompactString(a,s,`${o}  `,d);for(const d of u.childrenCompact??[])this.nodeToCompactString(a,s,`${o}  `,d.firstOccurrence,`compacted-occurrences:${d.occurrences}`)}};cu.MemoryPhysicalQueryPlanLogger=e;function n(r){return r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return cu.numberToString=n,cu}var bV;function bPe(){if(bV)return Zm;bV=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.ActorQueryProcessExplainPhysical=void 0;const t=sS(),e=Ut,n=lt,r=iY();let a=class extends t.ActorQueryProcess{constructor(o){super(o)}async test(o){const u=o.context.get(e.KeysInitQuery.explain)||o.context.get(new n.ActionContextKey("explain"));if(u!=="physical"&&u!=="physical-json")throw new Error(`${this.name} can only explain in 'physical' or 'physical-json' mode.`);return!0}async run(o){let{operation:u,context:l}=await this.queryProcessor.parse(o.query,o.context);({operation:u,context:l}=await this.queryProcessor.optimize(u,l));const c=new r.MemoryPhysicalQueryPlanLogger;l=l.set(e.KeysInitQuery.physicalQueryPlanLogger,c);const d=await this.queryProcessor.evaluate(u,l);switch(d.type){case"bindings":await d.bindingsStream.toArray();break;case"quads":await d.quadStream.toArray();break;case"boolean":await d.execute();break;case"void":await d.execute();break}const f=o.context.get(e.KeysInitQuery.explain)??o.context.getSafe(new n.ActionContextKey("explain"));return{result:{explain:!0,type:f,data:f==="physical"?c.toCompactString():c.toJson()}}}};return Zm.ActorQueryProcessExplainPhysical=a,Zm}var vV;function vPe(){return vV||(vV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(bPe(),t),n(iY(),t)}(JO)),JO}var XO={},eg={},wV;function wPe(){if(wV)return eg;wV=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const t=ca(),e=Ot(),n=Ut,r=Rt,a=Pt(),s=new a.Factory,o=new r.DataFactory;let u=class extends t.ActorOptimizeQueryOperation{constructor(c){super(c)}async test(c){if(e.ActorQueryOperation.getOperationSource(c.operation))throw new Error(`Actor ${this.name} does not work with top-level operation sources.`);return!0}async run(c){let d=c.operation;const f=[],h=this;a.Util.recurseOperation(d,{[a.Algebra.types.UNION](m){return h.collectMultiOperationInputs(m.input,f,a.Algebra.types.PATTERN),!0},[a.Algebra.types.ALT](m){return h.collectMultiOperationInputs(m.input,f,a.Algebra.types.LINK),!1},[a.Algebra.types.SERVICE](){return!1}});const p=new Set;return await Promise.all(f.map(async m=>{const y=m.type==="link"?s.createPattern(o.variable("?s"),m.iri,o.variable("?o")):m;await this.hasSourceResults(e.ActorQueryOperation.getOperationSource(m),y,c.context)||p.add(m)})),p.size>0&&(this.logDebug(c.context,`Pruning ${p.size} source-specific operations`),d=a.Util.mapOperation(d,{[a.Algebra.types.UNION](m,y){return h.mapMultiOperation(m,p,g=>y.createUnion(g))},[a.Algebra.types.ALT](m,y){return h.mapMultiOperation(m,p,g=>y.createAlt(g))}}),d=a.Util.mapOperation(d,{[a.Algebra.types.PROJECT](m,y){let g=!1;return a.Util.recurseOperation(m,{[a.Algebra.types.UNION](_){return _.input.length===0&&(g=!0),!0},[a.Algebra.types.ALT](_){return _.input.length===0&&(g=!0),!0}}),g?{recurse:!1,result:y.createUnion([])}:{recurse:!0,result:m}}})),{operation:d,context:c.context}}collectMultiOperationInputs(c,d,f){for(const h of c)e.ActorQueryOperation.getOperationSource(h)&&h.type===f&&d.push(h)}mapMultiOperation(c,d,f){const h=c.input.filter(p=>!d.has(p));return h.length===c.input.length?{result:c,recurse:!0}:h.length===0?{result:f([]),recurse:!1}:h.length===1?{result:h[0],recurse:!0}:{result:f(h),recurse:!0}}async hasSourceResults(c,d,f){var p;if((p=c.context)!=null&&p.get(n.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const m=s.createAsk(d);if(e.ActorQueryOperation.doesShapeAcceptOperation(await c.source.getSelectorShape(f),m))return c.source.queryBoolean(m,f)}const h=c.source.queryBindings(d,f);return new Promise((m,y)=>{h.on("error",y),h.getProperty("metadata",g=>{h.destroy(),m(g.cardinality.value>0)})})}};return eg.ActorOptimizeQueryOperationPruneEmptySourceOperations=u,eg}var SV;function SPe(){return SV||(SV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(wPe(),t)}(XO)),XO}var YO={},tg={},TV;function TPe(){if(TV)return tg;TV=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.ActorQuerySourceIdentifySerialized=void 0;const t=sb(),e=LX(),n=Dt;let r=class extends t.ActorQuerySourceIdentify{constructor(s){super(s)}async test(s){if(!this.isStringSource(s.querySourceUnidentified))throw new Error(`${this.name} requires a single query source with serialized type to be present in the context.`);return!0}async run(s){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(s.context,s.querySourceUnidentified),context:s.querySourceUnidentified.context},context:s.context})}async getRdfSource(s,o){const u=new n.Readable({objectMode:!0});u._read=()=>{},u.push(o.value),u.push(null);const l={context:s,handle:{metadata:{baseIRI:o.baseIRI},data:u,context:s},handleMediaType:o.mediaType},c=await this.mediatorRdfParse.mediate(l);return await(0,e.storeStream)(c.handle.data)}isStringSource(s){return"type"in s?s.type==="serialized":typeof s.value!="string"?!1:"mediaType"in s}};return tg.ActorQuerySourceIdentifySerialized=r,tg}var EV;function EPe(){return EV||(EV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(TPe(),t)}(YO)),YO}var ZO={},rg={},AV;function APe(){if(AV)return rg;AV=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.ActorOptimizeQueryOperationJoinConnected=void 0;const t=ca(),e=Pt();let n=class X1 extends t.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{join(o,u){return{recurse:!1,result:X1.cluster(o,u)}}}),context:a.context}}static cluster(a,s){const o=a.input.map(d=>({inScopeVariables:Object.fromEntries(e.Util.inScopeVariables(d).map(f=>[f.value,!0])),entries:[d]}));let u,l=o;do u=l,l=X1.clusterIteration(u);while(u.length!==l.length);const c=l.map(d=>s.createJoin(d.entries));return c.length===1?c[0]:s.createJoin(c,!1)}static clusterIteration(a){const s=[];for(const o of a){let u=!1;for(const l of s)if(X1.haveOverlappingVariables(o.inScopeVariables,l.inScopeVariables)){l.entries=[...l.entries,...o.entries],l.inScopeVariables={...l.inScopeVariables,...o.inScopeVariables},u=!0;break}u||s.push({inScopeVariables:o.inScopeVariables,entries:o.entries})}return s}static haveOverlappingVariables(a,s){for(const o of Object.keys(a))if(s[o])return!0;return!1}};return rg.ActorOptimizeQueryOperationJoinConnected=n,rg}var OV;function OPe(){return OV||(OV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(APe(),t)}(ZO)),ZO}var eR={},ng={},RV;function RPe(){if(RV)return ng;RV=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.ActorOptimizeQueryOperationBgpToJoin=void 0;const t=ca(),e=Pt();let n=class extends t.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{bgp(o,u){return{recurse:!1,result:u.createJoin(o.patterns)}}}),context:a.context}}};return ng.ActorOptimizeQueryOperationBgpToJoin=n,ng}var xV;function xPe(){return xV||(xV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(RPe(),t)}(eR)),eR}var tR={},ig={},IV;function IPe(){if(IV)return ig;IV=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.ActorOptimizeQueryOperationJoinBgp=void 0;const t=ca(),e=Pt();let n=class extends t.ActorOptimizeQueryOperation{async test(a){return!0}async run(a){return{operation:e.Util.mapOperation(a.operation,{join(o,u){return o.input.every(l=>l.type==="bgp")?{recurse:!1,result:u.createBgp(o.input.flatMap(l=>l.patterns))}:{recurse:!1,result:o}}}),context:a.context}}};return ig.ActorOptimizeQueryOperationJoinBgp=n,ig}var PV;function PPe(){return PV||(PV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(IPe(),t)}(tR)),tR}var rR={},ag={},NV;function NPe(){if(NV)return ag;NV=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const t=ca(),e=Ot(),n=TN(),r=Ut,a=Pt();let s=class extends t.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){return!0}async run(u){const l=u.context.get(r.KeysQueryOperation.querySources)??[];if(l.length===0)return{operation:u.operation,context:u.context};if(l.length===1){const c=l[0],d=u.context.get(r.KeysRdfUpdateQuads.destination);if(!d||c.source.referenceValue===(0,n.getDataDestinationValue)(d))try{const f=await c.source.getSelectorShape(u.context);if(e.ActorQueryOperation.doesShapeAcceptOperation(f,u.operation))return{operation:e.ActorQueryOperation.assignOperationSource(u.operation,c),context:u.context}}catch{}}return{operation:this.assignExhaustive(u.operation,l),context:u.context.delete(r.KeysInitQuery.queryString)}}assignExhaustive(u,l){const c=this;return a.Util.mapOperation(u,{[a.Algebra.types.PATTERN](d,f){return l.length===1?{result:e.ActorQueryOperation.assignOperationSource(d,l[0]),recurse:!1}:{result:f.createUnion(l.map(h=>e.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.LINK](d,f){return l.length===1?{result:e.ActorQueryOperation.assignOperationSource(d,l[0]),recurse:!1}:{result:f.createAlt(l.map(h=>e.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.NPS](d,f){return l.length===1?{result:e.ActorQueryOperation.assignOperationSource(d,l[0]),recurse:!1}:{result:f.createAlt(l.map(h=>e.ActorQueryOperation.assignOperationSource(d,h))),recurse:!1}},[a.Algebra.types.SERVICE](d){return{result:d,recurse:!1}},[a.Algebra.types.CONSTRUCT](d,f){return{result:f.createConstruct(c.assignExhaustive(d.input,l),d.template),recurse:!1}},[a.Algebra.types.DELETE_INSERT](d,f){return{result:f.createDeleteInsert(d.delete,d.insert,d.where?c.assignExhaustive(d.where,l):void 0),recurse:!1}}})}};return ag.ActorOptimizeQueryOperationAssignSourcesExhaustive=s,ag}var DV;function DPe(){return DV||(DV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(NPe(),t)}(rR)),rR}var nR={},sg={},CV;function CPe(){if(CV)return sg;CV=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const t=ca(),e=Rt,n=Pt(),r=new e.DataFactory,a=new n.Factory;let s=class extends t.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){if(u.operation.type!==n.Algebra.types.DESCRIBE)throw new Error(`Actor ${this.name} only supports describe operations, but got ${u.operation.type}`);return!0}async run(u){const l=u.operation,c=l.terms.filter(f=>f.termType!=="Variable").map(f=>{const h=[r.quad(f,r.variable("__predicate"),r.variable("__object"))];return h.forEach(m=>m.type="pattern"),{input:{type:n.Algebra.types.BGP,patterns:h},template:h,type:"construct"}});if(c.length!==l.terms.length){let f=[];l.terms.filter(h=>h.termType==="Variable").forEach((h,p)=>{const m=[r.quad(h,r.variable(`__predicate${p}`),r.variable(`__object${p}`))];m.forEach(y=>y.type="pattern"),f=[...f,...m]}),c.push({input:{type:n.Algebra.types.JOIN,input:[l.input,{type:n.Algebra.types.BGP,patterns:f}]},template:f,type:n.Algebra.types.CONSTRUCT})}return{operation:a.createUnion(c,!1),context:u.context}}};return sg.ActorOptimizeQueryOperationDescribeToConstructsSubject=s,sg}var LV;function LPe(){return LV||(LV=1,function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(CPe(),t)}(nR)),nR}var jPe=function(t){const e=new(Nwe()).LoggerVoid,n=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^3.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),r=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^3.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),a=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^3.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),s=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^3.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),o=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^3.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),u=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^3.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),l=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^3.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),c=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^3.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),d=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^3.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),f=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^3.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),h=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^3.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),p=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^3.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),m=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^3.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),y=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^3.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),g=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^3.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),_=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^3.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),v=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^3.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),b=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^3.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),w=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^3.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),S=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^3.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),A=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^3.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),x=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),M=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^3.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),I=new(Ot()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^3.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),N=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^3.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),F=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^3.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),D=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^3.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),V=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^3.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),k=new lt.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^3.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(aSe()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",noCache:"@comunica/actor-init-query:noCache",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:r}),new(oSe()).ActorContextPreprocessSetDefaults({logger:e,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:r}),new(cSe()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:r});const U=new(BK()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:r}),H=new(mj()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:r});new(mSe()).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:a});const X=new(Bn()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:a});new(vSe()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:s}),new(SSe()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:s}),new(ESe()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:s});const ee=new(OSe()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:s}),fe=new(mj()).MediatorCombinePipeline({filterErrors:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:s});new(ISe()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:o}),new(eTe()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:o});const Te=new(Bn()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:o});new(aTe()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:u}),new(oTe()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:u}),new(cTe()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:u}),new(fTe()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:u}),new(yTe()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:u}),new(gTe()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:u}),new(xTe()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:u});const De=new(Bn()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:u}),Ve=new(Vs()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:u}),le=new(Vs()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:u}),ue=new(Wf()).MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:l}),Ie=new(LTe()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:c}),Ne=new(Bn()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:c}),we=new(Bn()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:d});new(qTe()).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:f});const Ae=new(Bn()).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:f});new(kTe()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:h});const Se=new(Wf()).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:h});new(QTe()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:p}),new(GTe()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:p});const z=new(Bn()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:p});new(JTe()).ActorRdfMetadataAccumulateCanContainUndefs({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cancontainundefs",bus:m}),new(YTe()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:m}),new(eEe()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:m}),new(rEe()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:m});const L=new(Vs()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:m});new(sEe()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:y}),new(uEe()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:y}),new(lEe()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:y}),new(fEe()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:y}),new(pEe()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:y}),new(mEe()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:y}),new(_Ee()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:y}),new(vEe()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:y});const B=new(Vs()).MediatorCombineUnion({filterErrors:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:y});new(WEe()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:g}),new(iAe()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:g}),new(SAe()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:g}),new(xAe()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:g});const T=new(Bn()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:g}),O=new(Vs()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:g});new(NAe()).ActorRdfParseHtml({busRdfParseHtml:_,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:g}),new(UAe()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:_}),new(VAe()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:_}),new(KAe()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:v});const $=new(Bn()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:v});new(ZAe()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:b});const G=new(Bn()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:b});new(n3e()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:w}),new(u3e()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:w}),new(A3e()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:w});const Q=new(Bn()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:w}),Y=new(Vs()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:w}),ie=new(Vs()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:w}),te=new(Bn()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:S});new(D3e()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:A});const he=new(Bn()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:A}),ce=new($3e()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:x}),ve=new(Wf()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:x}),Ce=new(Wf()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:M});new(k3e()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:I});const Ee=new(Wf()).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:I}),Ue=new(Bn()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:N}),Fe=new(Bn()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:F}),Qe=new(H3e()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:D}),ke=new(p1()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^3.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:V}),K=new(G3e()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:V}),C=new(p1()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^3.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:V}),q=new(p1()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:V}),W=new(p1()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:V}),re=new(Vs()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:k});new(Y3e()).ActorRdfJoinSingle({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:D}),new(eOe()).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:D}),new(rOe()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:Ae,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:D}),new(cOe()).ActorRdfJoinHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:D}),new(dOe()).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:D}),new(hOe()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:D}),new(yOe()).ActorRdfJoinMinusHash({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:D}),new(_Oe()).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:D}),new(y1()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:D}),new(y1()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:D}),new(y1()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:D}),new(y1()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:D}),new(TOe()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:D}),new(ROe()).ActorDereferenceRdfParse({mediatorDereference:Ne,mediatorParse:T,mediatorParseMediatypes:O,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:d}),new(POe()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:O,mediatorRdfParseHandle:T,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:_}),new(DOe()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:Q,mediatorMediaTypeCombiner:Y,mediatorMediaTypeFormatCombiner:ie,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:u}),new(LOe()).ActorHttpWayback({mediatorHttp:ve,name:"urn:comunica:default:http/actors#wayback",bus:M}),new(tRe()).ActorRdfParseJsonLd({mediatorHttp:Ce,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:g}),new(iRe()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Ce,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:S}),new(sRe()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Ce,mediatorRdfSerializeMediatypes:Y,mediatorRdfSerialize:Q,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:S}),new(fRe()).ActorRdfUpdateHypermediaSparql({mediatorHttp:Ce,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:S}),new(pRe()).ActorQueryOperationAsk({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#ask",bus:I}),new(mRe()).ActorQueryOperationBgpJoin({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#bgp",bus:I}),new(_Re()).ActorQueryOperationDistinctHash({mediatorHashBindings:X,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#distinct",bus:I}),new(fX()).ActorQueryOperationConstruct({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#construct",bus:I}),new(wRe()).ActorQueryOperationFromQuad({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#from",bus:I}),new(TRe()).ActorQueryOperationProject({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#project",bus:I}),new(ARe()).ActorQueryOperationReducedHash({mediatorHashBindings:X,cacheSize:100,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#reduced",bus:I}),new(RRe()).ActorQueryOperationSlice({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#slice",bus:I}),new(pX()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:L,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#union",bus:I}),new(NRe()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:L,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-alt",bus:I}),new(CRe()).ActorQueryOperationPathInv({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-inv",bus:I}),new(jRe()).ActorQueryOperationPathLink({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-link",bus:I}),new(FRe()).ActorQueryOperationPathNps({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-nps",bus:I}),new(BRe()).ActorQueryOperationClear({mediatorUpdateQuads:he,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-clear",bus:I}),new(URe()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-composite",bus:I}),new(VRe()).ActorQueryOperationCreate({mediatorUpdateQuads:he,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-create",bus:I}),new(QRe()).ActorQueryOperationDrop({mediatorUpdateQuads:he,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-drop",bus:I}),new(GRe()).ActorQueryOperationLoad({mediatorUpdateQuads:he,mediatorQuerySourceIdentify:Fe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-load",bus:I}),new(KRe()).ActorQueryOperationJoin({mediatorJoin:Qe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#join",bus:I}),new(XRe()).ActorQueryOperationMinus({mediatorJoin:Qe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#minus",bus:I}),new(ZRe()).ActorQueryOperationPathSeq({mediatorJoin:Qe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-seq",bus:I}),new(txe()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:Ae,mediatorJoin:Qe,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:D}),new(ixe()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:Ae,mediatorJoin:Qe,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:D});const pe=new(sxe()).ActorOptimizeQueryOperationFilterPushdown({name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:s,beforeActors:[ee]});new(uxe()).ActorDereferenceHttp({mediatorHttp:Ce,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:c,beforeActors:[Ie]}),new(dxe()).ActorHttpProxy({mediatorHttp:Ce,name:"urn:comunica:default:http/actors#proxy",bus:x,beforeActors:[ce]}),new(hxe()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:ke,mediatorQuerySourceIdentify:Fe,mediatorContextPreprocess:H,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:r,beforeActors:[U]});const ge=new bP.ActorInitQuery({mediatorQueryProcess:Ue,mediatorQueryResultSerialize:De,mediatorQueryResultSerializeMediaTypeCombiner:Ve,mediatorQueryResultSerializeMediaTypeFormatCombiner:le,mediatorHttpInvalidate:K,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:n});new(yxe()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:C,mediatorDereferenceRdf:we,mediatorMetadata:z,mediatorMetadataExtract:B,mediatorRdfUpdateHypermedia:te,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:A});const qe=new(w$()).ActionObserverHttp({httpInvalidator:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^3.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:x}),Z=new(A$()).ActionObserverHttp({httpInvalidator:W,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^3.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:x});new(Exe()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:z,mediatorMetadataExtract:B,mediatorDereferenceRdf:we,mediatorMergeBindingsContext:re,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:l}),new(Oxe()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Ce,mediatorMergeBindingsContext:re,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:l}),new(kxe()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:l}),new(IIe()).ActorQueryOperationExtend({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#extend",bus:I}),new(NIe()).ActorQueryOperationFilter({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#filter",bus:I}),new(LIe()).ActorQueryOperationGroup({mediatorHashBindings:X,mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#group",bus:I}),new(MIe()).ActorQueryOperationLeftJoin({mediatorJoin:Qe,mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:I}),new(qIe()).ActorQueryOperationNop({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#nop",bus:I}),new(UIe()).ActorQueryOperationOrderBy({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#orderby",bus:I}),new(VIe()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:re,mediatorQuerySourceIdentify:Fe,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#service",bus:I}),new(QIe()).ActorQueryOperationValues({mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-operation/actors#values",bus:I}),new(GIe()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:I}),new(KIe()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:I}),new(XIe()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:I}),new(ZIe()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:he,mediatorMergeBindingsContext:re,mediatorQueryOperation:Ee,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:I});const Oe=new(rPe()).ActorQueryProcessSequential({mediatorContextPreprocess:H,mediatorQueryParse:Te,mediatorOptimizeQueryOperation:fe,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-process/actors#sequential",bus:N}),je=new(cPe()).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:we,mediatorMetadata:z,mediatorMetadataExtract:B,mediatorMetadataAccumulate:L,mediatorQuerySourceIdentifyHypermedia:ue,mediatorRdfResolveHypermediaLinks:G,mediatorRdfResolveHypermediaLinksQueue:$,mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:F});new(dPe()).ActorRdfJoinNone({mediatorMergeBindingsContext:re,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:D}),new(nY()).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:Ae,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:re,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:D}),new(pPe()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Ee,mediatorMergeBindingsContext:re,mediatorJoinSelectivity:Se,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:D}),new(w$()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:qe,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:u}),new(A$()).ActorQueryResultSerializeStats({httpObserver:Z,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:u}),new(mPe()).ActorQueryProcessExplainParsed({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:N}),new(_Pe()).ActorQueryProcessExplainLogical({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-logical",bus:N}),new(vPe()).ActorQueryProcessExplainPhysical({queryProcessor:Oe,name:"urn:comunica:default:query-process/actors#explain-physical",bus:N});const Be=new(SPe()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:s,beforeActors:[pe]});new(xN()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:re,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:F,beforeActors:[je]}),new(EPe()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:T,mediatorQuerySourceIdentify:Fe,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:F,beforeActors:[je]});const Ye=new(OPe()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:s,beforeActors:[Be]}),ct=new(xPe()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:s,beforeActors:[Ye]}),ft=new(PPe()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:s,beforeActors:[ct]}),st=new(DPe()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:s,beforeActors:[ft]});return new(LPe()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:s,beforeActors:[st]}),ge};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.QueryEngine=void 0;const MPe=bP,FPe=jPe;class qPe extends MPe.QueryEngineBase{constructor(e=FPe()){super(e)}}Ow.QueryEngine=qPe;(function(t){var e=P&&P.__createBinding||(Object.create?function(r,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(r,o,u)}:function(r,a,s,o){o===void 0&&(o=s),r[o]=a[s]}),n=P&&P.__exportStar||function(r,a){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ow,t)})(_P);const og="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ug="http://www.w3.org/2001/XMLSchema#",iR="http://www.w3.org/2000/10/swap/",An={xsd:{decimal:`${ug}decimal`,boolean:`${ug}boolean`,double:`${ug}double`,integer:`${ug}integer`,string:`${ug}string`},rdf:{type:`${og}type`,nil:`${og}nil`,first:`${og}first`,rest:`${og}rest`,langString:`${og}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${iR}reify#forSome`,forAll:`${iR}reify#forAll`},log:{implies:`${iR}log#implies`}},{xsd:_1}=An,BPe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,jV={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},$Pe=/[\x00-\x20<>\\"\{\}\|\^\`]/,UPe={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},kPe=/$0^/;class VPe{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in UPe)&&this[n]instanceof RegExp&&(this[n]=kPe)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,a=r.length;for(;;){let u,l;for(;u=this._newline.exec(r);)this._comments&&(l=this._comment.exec(u[0]))&&s("comment",l[1],"",this._line,u[0].length),r=r.substr(u[0].length,r.length),a=r.length,this._line++;if(!u&&(u=this._whitespace.exec(r))&&(r=r.substr(u[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&s("comment",l[1],"",this._line,r.length),r=null,s("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let f="",h="",p="",m=null,y=0,g=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){g=!0;break}}else{this._n3Mode&&(y=1,f="^");break}case"<":if(m=this._unescapedIri.exec(r))f="IRI",h=m[1];else if(m=this._iri.exec(r)){if(h=this._unescape(m[1]),h===null||$Pe.test(h))return o(this);f="IRI"}else r.length>1&&r[1]==="<"?(f="<<",y=2):this._n3Mode&&r.length>1&&r[1]==="="&&(f="inverse",y=2,h=">");break;case">":r.length>1&&r[1]===">"&&(f=">>",y=2);break;case"_":((m=this._blank.exec(r))||n&&(m=this._blank.exec(`${r} `)))&&(f="blank",p="_",h=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(r))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(r),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(r))h=m[1];else if({value:h,matchLength:y}=this._parseLiteral(r),h===null)return o(this);(m!==null||y!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(r))&&(f="var",h=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(r))?(f="langcode",h=m[1]):(m=this._keyword.exec(r))&&(f=m[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){f=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(r)||n&&(m=this._number.exec(`${r} `)))&&(f="literal",h=m[0],p=typeof m[1]=="string"?_1.double:typeof m[2]=="string"?_1.decimal:_1.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(r))?f=m[0].toUpperCase():g=!0;break;case"f":case"t":(m=this._boolean.exec(r))?(f="literal",h=m[0],p=_1.boolean):g=!0;break;case"a":(m=this._shortPredicates.exec(r))?(f="abbreviation",h="a"):g=!0;break;case"=":this._n3Mode&&r.length>1&&(f="abbreviation",r[1]!==">"?(y=1,h="="):(y=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,f=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(f="{|",y=2):(f=d,y=1));break;case"|":r.length>=2&&r[1]==="}"&&(f="|}",y=2);break;default:g=!0}if(g&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(r))?(f="prefix",h=m[1]||""):((m=this._prefixed.exec(r))||n&&(m=this._prefixed.exec(`${r} `)))&&(f="prefixed",p=m[1]||"",h=this._unescape(m[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const _=y||m[0].length,v=s(f,h,p,c,_);this.previousToken=v,this._previousMarker=f,r=r.substr(_,r.length)}function s(u,l,c,d,f){const h=r?a-r.length:a,p=h+f,m={type:u,value:l,prefix:c,line:d,start:h,end:p};return e(null,m),m}function o(u){e(u._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(BPe,(a,s,o,u)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return u in jV?jV[u]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let a=Math.max(this._literalClosingPos,r);for(;(a=e.indexOf(n,a))>0;){let s=0;for(;e[a-s-1]==="\\";)s++;if(s%2===0){const o=e.substring(r,a),u=o.split(/\r\n|\r|\n/).length-1,l=a+r;if(r===1&&u!==0||r===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(o),matchLength:l}}a++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")_J(()=>this._tokenizeToEnd(n,!0));else{const r=[];let a;if(this._tokenizeToEnd((s,o)=>s?a=s:r.push(o),!0),a)throw a;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Di.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}}const{rdf:HPe,xsd:Eu}=An;let ob,QPe=0;const d_={namedNode:JPe,blankNode:XPe,variable:ZPe,literal:YPe,defaultGraph:eNe,quad:MV,triple:MV};class Wa{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Wa?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class aY extends Wa{get termType(){return"NamedNode"}}class Zc extends Wa{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new aY(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?Eu.string:HPe.langString}equals(e){return e instanceof Zc?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class zPe extends Wa{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class GPe extends Wa{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class WPe extends Wa{constructor(){return super(""),ob||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}ob=new WPe;function Og(t,e,n){if(e=e||d_,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===d_)return new Zc(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Og(t[0],e,!0),Og(t[1],e,!0),Og(t[2],e,!0),t[3]&&Og(t[3],e,!0))}function gi(t,e){if(typeof t=="string")return t;if(t instanceof Wa&&t.termType!=="Quad")return t.id;if(!t)return ob.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Eu.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[gi(t.subject,!0),gi(t.predicate,!0),gi(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&n.push(gi(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}class KPe extends Wa{constructor(e,n,r,a){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=a||ob}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function JPe(t){return new aY(t)}function XPe(t){return new zPe(t||`n3-${QPe++}`)}function YPe(t,e){if(typeof e=="string")return new Zc(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=Eu.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?Eu.integer:Eu.double:(n=Eu.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===Eu.string?new Zc(`"${t}"`):new Zc(`"${t}"^^${n}`)}function ZPe(t){return new GPe(t)}function eNe(){return ob}function MV(t,e,n,r){return new KPe(t,e,n,r)}let FV=0;class sY{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&oY(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),a=/trig/.test(n),s=/triple/.test(n),o=/quad/.test(n),u=this._n3Mode=/n3/.test(n),l=s||o;(this._supportsNamedGraphs=!(r||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||a||s||u),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new VPe({lineMode:l,n3:u}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){FV=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,a,s){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:a,object:s,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const a=this._resolveIRI(e.value);if(a===null)return this._error("Invalid IRI",e);r=this._namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(s+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,a=this._readListItem;const s=this._subject,o=this._contextStack,u=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),s===null?u.predicate===null?u.subject=r:u.object=r:this._emit(s,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const a=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,u=this._object;this._subject=this._quad(a,o,u,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(a!==null){const o=this._predicate,u=this._object;s?this._emit(u,o,a,r):this._emit(a,o,u,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const a=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const a=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=a):(n=this._object,this._object=a),this._emit(n,r,a,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,a;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(a=this._subject,this._subject=n):(a=this._object,this._object=n),this._emit(n,r,a,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,a){this._callback(null,this._quad(e,n,r,a||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=aR}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",a=-1,s=-1,o=0,u="/";for(;a<n;){switch(u){case":":if(s<0&&e[++a]==="/"&&e[++a]==="/")for(;(s=a+1)<n&&e[s]!=="/";)a=s;break;case"?":case"#":a=n;break;case"/":if(e[a+1]===".")switch(u=e[++a+1],u){case"/":r+=e.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return r+e.substring(o,a)+e.substr(a+1);case".":if(u=e[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(r+=e.substring(o,a-2),(o=r.lastIndexOf("/"))>=s&&(r=r.substr(0,o)),u!=="/")return`${r}/${e.substr(a+1)}`;o=a+1}}}u=e[++a]}return r+e.substring(o)}parse(e,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${FV++}_`,this._prefixCallback=r||aR,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const a=[];let s;if(this._callback=(o,u)=>{o?s=o:u&&a.push(u)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return a}this._callback=n,this._lexer.tokenize(e,(a,s)=>{a!==null?(this._callback(a),this._callback=aR):this._readCallback&&(this._readCallback=this._readCallback(s))})}}function aR(){}function oY(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(An.rdf.first),t.RDF_REST=n(An.rdf.rest),t.RDF_NIL=n(An.rdf.nil),t.N3_FORALL=n(An.r.forAll),t.N3_FORSOME=n(An.r.forSome),t.ABBREVIATIONS={a:n(An.rdf.type),"=":n(An.owl.sameAs),">":n(An.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}oY(sY.prototype,d_);function qx(t){return!!t&&t.termType==="DefaultGraph"}const cg=d_.defaultGraph(),{rdf:tNe,xsd:Oc}=An,qV=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,BV=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,rNe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class lg extends Wa{equals(e){return e===this}}class nNe{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(a,s,o){r+=a,o&&o()},end:a=>{a&&a(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=cg,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${UV(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return cg.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,a,s){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(cg.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,n,r,a,s){delete this._prefixMatch,this._write(this.quadToString(e,n,r,a),s)}quadToString(e,n,r,a){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(e){return e.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),qV.test(n)&&(n=n.replace(BV,$V));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(qV.test(n)&&(n=n.replace(BV,$V)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Oc.string)return`"${n}"`}else switch(e.datatype.value){case Oc.string:return`"${n}"`;case Oc.boolean:if(n==="true"||n==="false")return n;break;case Oc.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Oc.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Oc.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===tNe.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:a}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${qx(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,a,s){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof a=="function"?this._writeQuad(e,n,r,cg,a):this._writeQuad(e,n,r,a||cg,s)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const a={};a[e]=n,this.addPrefixes(a,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let a in e){let s=e[a];typeof s!="string"&&(s=s.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=a+=":",this._write(`@prefix ${a} <${s}>.
`)}if(r){let a="",s="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];a=UV(a),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${a})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,a,s;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),s=r.length){case 0:return new lg("[]");case 1:if(a=r[0],!(a.object instanceof lg))return new lg(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let u=0;u<s;u++)a=r[u],a.predicate.equals(e)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,e=a.predicate);return new lg(`${o}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let a=0;a<n;a++)r[a]=this._encodeObject(e[a]);return new lg(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,a)=>{n=null,e(r,a)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function $V(t){let e=rNe[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function UV(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}class PN{constructor(e,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||d_,e&&this.addQuads(e)}_termFromId(e,n){if(e[0]==="."){const r=this._entities,a=e.split(".");return this._factory.quad(this._termFromId(r[a[1]]),this._termFromId(r[a[2]]),this._termFromId(r[a[3]]),a[4]&&this._termFromId(r[a[4]]))}return Og(e,n)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),a=this._termToNumericId(e.object);let s;return n&&r&&a&&(qx(e.graph)||(s=this._termToNumericId(e.graph)))&&this._ids[s?`.${n}.${r}.${a}.${s}`:`.${n}.${r}.${a}`]}return this._ids[gi(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${qx(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:gi(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,a;for(const s in n)for(const o in r=n[s].subjects)for(const u in a=r[o])e+=Object.keys(a[u]).length;return this._size=e}_addToIndex(e,n,r,a){const s=e[n]||(e[n]={}),o=s[r]||(s[r]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(e,n,r,a){const s=e[n],o=s[r];delete o[a];for(const u in o)return;delete s[r];for(const u in s)return;delete e[n]}*_findInIndex(e,n,r,a,s,o,u,l){let c,d,f;const h=this._entities,p=this._termFromId(l,this._factory),m={subject:null,predicate:null,object:null};n&&((c=e,e={})[n]=c[n]);for(const y in e)if(d=e[y]){m[s]=this._termFromId(h[y],this._factory),r&&((c=d,d={})[r]=c[r]);for(const g in d)if(f=d[g]){m[o]=this._termFromId(h[g],this._factory);const _=a?a in f?[a]:[]:Object.keys(f);for(let v=0;v<_.length;v++)m[u]=this._termFromId(h[_[v]],this._factory),yield this._factory.quad(m.subject,m.predicate,m.object,p)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let a,s;if(a=e[n])for(s in a)r(s)}_loopByKey1(e,n,r){let a,s;for(a in e)s=e[a],s[n]&&r(a)}_loopBy2Keys(e,n,r,a){let s,o,u;if((s=e[n])&&(o=s[r]))for(u in o)a(u)}_countInIndex(e,n,r,a){let s=0,o,u,l;n&&((o=e,e={})[n]=o[n]);for(const c in e)if(u=e[c]){r&&((o=u,u={})[r]=o[r]);for(const d in u)(l=u[d])&&(a?a in l&&s++:s+=Object.keys(l).length)}return s}_getGraphs(e){if(!iNe(e))return this._graphs;const n={};return n[e]=this._graphs[e],n}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,a){n||(a=e.graph,r=e.object,n=e.predicate,e=e.subject),a=gi(a);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const o=this._addToIndex(s.subjects,e,n,r);return this._addToIndex(s.predicates,n,r,e),this._addToIndex(s.objects,r,e,n),this._size=null,o}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,a){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:a}=e),!this.readQuads(e,n,r,a).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,a){n||(a=e.graph,r=e.object,n=e.predicate,e=e.subject),a=gi(a);const s=this._graphs;let o,u,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=s[a])||!(u=o.subjects[e])||!(l=u[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,e,n,r),this._removeFromIndex(o.predicates,n,r,e),this._removeFromIndex(o.objects,r,e,n),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete s[a],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,a){const s=new Dt.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(e,n,r,a))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,a){return[...this.readQuads(e,n,r,a)]}*readQuads(e,n,r,a){a=a&&gi(a);const s=this._getGraphs(a);let o,u,l,c;if(!(e&&!(u=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in s)(o=s[d])&&(u?c?yield*this._findInIndex(o.objects,c,u,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,u,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(e,n,r,a){return new NN(this,e,n,r,a)}countQuads(e,n,r,a){a=a&&gi(a);const s=this._getGraphs(a);let o=0,u,l,c,d;if(e&&!(l=this._termToNumericId(e))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const f in s)(u=s[f])&&(e?r?o+=this._countInIndex(u.objects,d,l,c):o+=this._countInIndex(u.subjects,l,c,d):n?o+=this._countInIndex(u.predicates,c,d,l):o+=this._countInIndex(u.objects,d,l,c));return o}forEach(e,n,r,a,s){this.some(o=>(e(o),!1),n,r,a,s)}every(e,n,r,a,s){let o=!1;const u=!this.some(l=>(o=!0,!e(l)),n,r,a,s);return o&&u}some(e,n,r,a,s){for(const o of this.readQuads(n,r,a,s))if(e(o))return!0;return!1}getSubjects(e,n,r){const a=[];return this.forSubjects(s=>{a.push(s)},e,n,r),a}forSubjects(e,n,r,a){a=a&&gi(a);const s=this._getGraphs(a);let o,u,l;if(e=this._uniqueEntities(e),!(n&&!(u=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.predicates,u,l,e):this._loopByKey1(o.subjects,u,e):l?this._loopByKey0(o.objects,l,e):this._loop(o.subjects,e))}getPredicates(e,n,r){const a=[];return this.forPredicates(s=>{a.push(s)},e,n,r),a}forPredicates(e,n,r,a){a=a&&gi(a);const s=this._getGraphs(a);let o,u,l;if(e=this._uniqueEntities(e),!(n&&!(u=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.objects,l,u,e):this._loopByKey0(o.subjects,u,e):l?this._loopByKey1(o.predicates,l,e):this._loop(o.predicates,e))}getObjects(e,n,r){const a=[];return this.forObjects(s=>{a.push(s)},e,n,r),a}forObjects(e,n,r,a){a=a&&gi(a);const s=this._getGraphs(a);let o,u,l;if(e=this._uniqueEntities(e),!(n&&!(u=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(a in s)(o=s[a])&&(u?l?this._loopBy2Keys(o.subjects,u,l,e):this._loopByKey1(o.objects,u,e):l?this._loopByKey0(o.predicates,l,e):this._loop(o.objects,e))}getGraphs(e,n,r){const a=[];return this.forGraphs(s=>{a.push(s)},e,n,r),a}forGraphs(e,n,r,a){for(const s in this._graphs)this.some(o=>(e(o.graph),!0),n,r,a,s)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},a=n?()=>!0:(u,l)=>{throw new Error(`${u.value} ${l}`)},s=this.getQuads(null,An.rdf.rest,An.rdf.nil,null),o=e?[...s]:[];return s.forEach(u=>{const l=[];let c=!1,d,f;const h=u.graph;let p=u.subject;for(;p&&!c;){const m=this.getQuads(null,null,p,null),y=this.getQuads(p,null,null,null);let g,_=null,v=null,b=null;for(let w=0;w<y.length&&!c;w++)g=y[w],g.graph.equals(h)?d?c=a(p,"has non-list arcs out"):g.predicate.value===An.rdf.first?_?c=a(p,"has multiple rdf:first arcs"):o.push(_=g):g.predicate.value===An.rdf.rest?v?c=a(p,"has multiple rdf:rest arcs"):o.push(v=g):m.length?c=a(p,"can't be subject and object"):(d=g,f="subject"):c=a(p,"not confined to single graph");for(let w=0;w<m.length&&!c;++w)g=m[w],d?c=a(p,"can't have coreferences"):g.predicate.value===An.rdf.rest?b?c=a(p,"has incoming rdf:rest arcs"):b=g:(d=g,f="object");_?l.unshift(_.object):c=a(p,"has no list head"),p=b&&b.subject}c?e=!1:d&&(r[d[f].value]=l)}),e&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}}function iNe(t){return typeof t=="string"||t instanceof String}class NN extends Dt.Readable{constructor(e,n,r,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:a,graph:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:a,subject:s}=this,o=this._filtered=new PN({factory:e._factory});for(const u of e.readQuads(s,a,r,n))o.addQuad(u)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,a){return new NN(this.filtered,e,n,r,a)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class aNe extends Dt.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new sY(e);let r,a;n.parse({on:(s,o)=>{switch(s){case"data":r=o;break;case"end":a=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,u)=>{r(s),u()},this._flush=s=>{a(),s()}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),this}}class sNe extends Dt.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new nNe({write:(r,a,s)=>{this.push(r),s&&s()},end:r=>{this.push(null),r&&r()}},e);this._transform=(r,a,s)=>{n.addQuad(r,s)},this._flush=r=>{n.end(r)}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),e.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}async function oNe(t,e){const n=new aNe(e);Dt.Readable.from([t]).pipe(n);const r=new PN;return EN(r.import(n),r)}async function I8e(t,e){const n=new sNe(e);n.import(t);const r=[];for await(const a of n)r.push(Di.from(a));return Di.concat(r).toString()}function P8e(t){const e={store:new PN,prefixes:{}};return t.on("prefix",(n,r)=>{e.prefixes[n]=typeof r=="string"?r:r.value}),EN(e.store.import(t),e)}class uY{constructor(){this.type="query_only",this.capability={query:!0,update:!1,quit:!1}}async initialize(){}query_bindings(e){return console.log(`Send bindings query (${e}) via comunica to ${this.sources}`),this.queryEngine.queryBindings(e,{sources:this.sources})}query_quads(e){return console.log(`Send quads query (${e}) via comunica to ${this.sources}`),this.queryEngine.queryQuads(e,{sources:this.sources})}query(e){return console.log(`Send any query (${e}) via comunica to ${this.sources}`),this.queryEngine.query(e,{sources:this.sources})}update(e){return console.log(`Send update query (${e}) via comunica to ${this.sources}`),this.queryEngine.queryVoid(e,{sources:this.destination})}get quitUrl(){return this.sources[0].value}get updateUrl(){return this.destination[0].value}}class cY extends uY{constructor(e,n){super(),this.queryEndpoint=e,this.updateEndpoint=n,this.type="query_only",this.capability={query:!0,update:!1,quit:!1},n&&(this.type="query_update",this.capability.update=!0)}async initialize(){this.queryEngine=new _P.QueryEngine,this.sources=[{type:"sparql",value:this.queryEndpoint}],this.updateEndpoint&&(this.destination=[{type:"sparql",value:this.updateEndpoint}])}}class uNe extends cY{constructor(e){super(e+"/sparql",e+"/sparql"),this.type="quit",this.HTTPGit=Jr.create({baseURL:e}),this.capability.quit=!0}push(){return this.HTTPGit.post("/push",new URLSearchParams({dst:"master",refspec:"master:master",remote:"origin",src:"master"}),{headers:{"content-type":"application/x-www-form-urlencoded",Accept:"text/plain"}})}pull(){return this.HTTPGit.post("/pull",new URLSearchParams({dst:"master",refspec:"master:master",remote:"origin",src:"master"}),{headers:{"content-type":"application/x-www-form-urlencoded",Accept:"text/plain"}})}get quitUrl(){return this.HTTPGit.defaults.baseURL}}class cNe extends uY{constructor(e){super(),this.data=e,this.type="query_update",this.capability={query:!0,update:!0,quit:!1}}async initialize(){this.queryEngine=new _P.QueryEngine;const e=this.data;return new Promise(n=>{oNe(e).then(r=>{this.sources=[r],this.destination=[r],console.log("Set source and destination"),n()})})}}const lNe={async create(t){const e=[];for(let n=0;n<t.sources.length;n++){let r,a=t.sources[n];a.data?r=new cNe(a.data):a.quit_url?r=new uNe(a.quit_url):a.query_url&&(r=new cY(a.query_url,a.update_url)),await r.initialize(),e.push(r)}return console.log("initialized"),e}},DN=Symbol.for("yaml.alias"),Bx=Symbol.for("yaml.document"),co=Symbol.for("yaml.map"),lY=Symbol.for("yaml.pair"),Ps=Symbol.for("yaml.scalar"),nd=Symbol.for("yaml.seq"),Vi=Symbol.for("yaml.node.type"),id=t=>!!t&&typeof t=="object"&&t[Vi]===DN,oS=t=>!!t&&typeof t=="object"&&t[Vi]===Bx,ub=t=>!!t&&typeof t=="object"&&t[Vi]===co,kr=t=>!!t&&typeof t=="object"&&t[Vi]===lY,Rr=t=>!!t&&typeof t=="object"&&t[Vi]===Ps,cb=t=>!!t&&typeof t=="object"&&t[Vi]===nd;function Ur(t){if(t&&typeof t=="object")switch(t[Vi]){case co:case nd:return!0}return!1}function Wr(t){if(t&&typeof t=="object")switch(t[Vi]){case DN:case co:case Ps:case nd:return!0}return!1}const dNe=t=>(Rr(t)||Ur(t))&&!!t.anchor,_u=Symbol("break visit"),fNe=Symbol("skip children"),Vg=Symbol("remove node");function zu(t,e){const n=hNe(e);oS(t)?Bc(null,t.contents,n,Object.freeze([t]))===Vg&&(t.contents=null):Bc(null,t,n,Object.freeze([]))}zu.BREAK=_u;zu.SKIP=fNe;zu.REMOVE=Vg;function Bc(t,e,n,r){const a=pNe(t,e,n,r);if(Wr(a)||kr(a))return yNe(t,r,a),Bc(t,a,n,r);if(typeof a!="symbol"){if(Ur(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const o=Bc(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===_u)return _u;o===Vg&&(e.items.splice(s,1),s-=1)}}}else if(kr(e)){r=Object.freeze(r.concat(e));const s=Bc("key",e.key,n,r);if(s===_u)return _u;s===Vg&&(e.key=null);const o=Bc("value",e.value,n,r);if(o===_u)return _u;o===Vg&&(e.value=null)}}return a}function hNe(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function pNe(t,e,n,r){var a,s,o,u,l;if(typeof n=="function")return n(t,e,r);if(ub(e))return(a=n.Map)==null?void 0:a.call(n,t,e,r);if(cb(e))return(s=n.Seq)==null?void 0:s.call(n,t,e,r);if(kr(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,r);if(Rr(e))return(u=n.Scalar)==null?void 0:u.call(n,t,e,r);if(id(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,r)}function yNe(t,e,n){const r=e[e.length-1];if(Ur(r))r.items[t]=n;else if(kr(r))t==="key"?r.key=n:r.value=n;else if(oS(r))r.contents=n;else{const a=id(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${a} parent`)}}const mNe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},gNe=t=>t.replace(/[!,[\]{}]/g,e=>mNe[e]);class zn{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},zn.defaultYaml,e),this.tags=Object.assign({},zn.defaultTags,n)}clone(){const e=new zn(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new zn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:zn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},zn.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:zn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},zn.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),a=r.shift();switch(a){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${a}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,a]=e.match(/^(.*!)([^!]*)$/s);a||n(`The ${e} tag has no suffix`);const s=this.tags[r];if(s)try{return s+decodeURIComponent(a)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+gNe(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let a;if(e&&r.length>0&&Wr(e.contents)){const s={};zu(e.contents,(o,u)=>{Wr(u)&&u.tag&&(s[u.tag]=!0)}),a=Object.keys(s)}else a=[];for(const[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||a.some(u=>u.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}}zn.defaultYaml={explicit:!1,version:"1.2"};zn.defaultTags={"!!":"tag:yaml.org,2002:"};function dY(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function fY(t){const e=new Set;return zu(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function hY(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function _Ne(t,e){const n=[],r=new Map;let a=null;return{onAnchor:s=>{n.push(s),a||(a=fY(t));const o=hY(e,a);return a.add(o),o},setAnchors:()=>{for(const s of n){const o=r.get(s);if(typeof o=="object"&&o.anchor&&(Rr(o.node)||Ur(o.node)))o.node.anchor=o.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=s,u}}},sourceObjects:r}}function $c(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let a=0,s=r.length;a<s;++a){const o=r[a],u=$c(t,r,String(a),o);u===void 0?delete r[a]:u!==o&&(r[a]=u)}else if(r instanceof Map)for(const a of Array.from(r.keys())){const s=r.get(a),o=$c(t,r,a,s);o===void 0?r.delete(a):o!==s&&r.set(a,o)}else if(r instanceof Set)for(const a of Array.from(r)){const s=$c(t,r,a,a);s===void 0?r.delete(a):s!==a&&(r.delete(a),r.add(s))}else for(const[a,s]of Object.entries(r)){const o=$c(t,r,a,s);o===void 0?delete r[a]:o!==s&&(r[a]=o)}return t.call(e,n,r)}function Bi(t,e,n){if(Array.isArray(t))return t.map((r,a)=>Bi(r,String(a),n));if(t&&typeof t.toJSON=="function"){if(!n||!dNe(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const a=t.toJSON(e,n);return n.onCreate&&n.onCreate(a),a}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class CN{constructor(e){Object.defineProperty(this,Vi,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:a,reviver:s}={}){if(!oS(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},u=Bi(this,"",o);if(typeof a=="function")for(const{count:l,res:c}of o.anchors.values())a(c,l);return typeof s=="function"?$c(s,{"":u},"",u):u}}class LN extends CN{constructor(e){super(DN),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return zu(e,{Node:(r,a)=>{if(a===this)return zu.BREAK;a.anchor===this.source&&(n=a)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:a,maxAliasCount:s}=n,o=this.resolve(a);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let u=r.get(o);if(u||(Bi(o,null,n),u=r.get(o)),!u||u.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=Y1(a,o,r)),u.count*u.aliasCount>s)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return u.res}toString(e,n,r){const a=`*${this.source}`;if(e){if(dY(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${a} `}return a}}function Y1(t,e,n){if(id(e)){const r=e.resolve(t),a=n&&r&&n.get(r);return a?a.count*a.aliasCount:0}else if(Ur(e)){let r=0;for(const a of e.items){const s=Y1(t,a,n);s>r&&(r=s)}return r}else if(kr(e)){const r=Y1(t,e.key,n),a=Y1(t,e.value,n);return Math.max(r,a)}return 1}const pY=t=>!t||typeof t!="function"&&typeof t!="object";class Ft extends CN{constructor(e){super(Ps),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Bi(this.value,e,n)}toString(){return String(this.value)}}Ft.BLOCK_FOLDED="BLOCK_FOLDED";Ft.BLOCK_LITERAL="BLOCK_LITERAL";Ft.PLAIN="PLAIN";Ft.QUOTE_DOUBLE="QUOTE_DOUBLE";Ft.QUOTE_SINGLE="QUOTE_SINGLE";const bNe="tag:yaml.org,2002:";function vNe(t,e,n){if(e){const r=n.filter(s=>s.tag===e),a=r.find(s=>!s.format)??r[0];if(!a)throw new Error(`Tag ${e} not found`);return a}return n.find(r=>{var a;return((a=r.identify)==null?void 0:a.call(r,t))&&!r.format})}function f_(t,e,n){var f,h,p;if(oS(t)&&(t=t.contents),Wr(t))return t;if(kr(t)){const m=(h=(f=n.schema[co]).createNode)==null?void 0:h.call(f,n.schema,null,n);return m.items.push(t),m}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:a,onTagObj:s,schema:o,sourceObjects:u}=n;let l;if(r&&t&&typeof t=="object"){if(l=u.get(t),l)return l.anchor||(l.anchor=a(t)),new LN(l.anchor);l={anchor:null,node:null},u.set(t,l)}e!=null&&e.startsWith("!!")&&(e=bNe+e.slice(2));let c=vNe(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const m=new Ft(t);return l&&(l.node=m),m}c=t instanceof Map?o[co]:Symbol.iterator in Object(t)?o[nd]:o[co]}s&&(s(c),delete n.onTagObj);const d=c!=null&&c.createNode?c.createNode(n.schema,t,n):typeof((p=c==null?void 0:c.nodeClass)==null?void 0:p.from)=="function"?c.nodeClass.from(n.schema,t,n):new Ft(t);return e?d.tag=e:c.default||(d.tag=c.tag),l&&(l.node=d),d}function Rv(t,e,n){let r=n;for(let a=e.length-1;a>=0;--a){const s=e[a];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return f_(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Rg=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class yY extends CN{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>Wr(r)||kr(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Rg(e))this.add(n);else{const[r,...a]=e,s=this.get(r,!0);if(Ur(s))s.addIn(a,n);else if(s===void 0&&this.schema)this.set(r,Rv(this.schema,a,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${a}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const a=this.get(n,!0);if(Ur(a))return a.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...a]=e,s=this.get(r,!0);return a.length===0?!n&&Rr(s)?s.value:s:Ur(s)?s.getIn(a,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!kr(n))return!1;const r=n.value;return r==null||e&&Rr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const a=this.get(n,!0);return Ur(a)?a.hasIn(r):!1}setIn(e,n){const[r,...a]=e;if(a.length===0)this.set(r,n);else{const s=this.get(r,!0);if(Ur(s))s.setIn(a,n);else if(s===void 0&&this.schema)this.set(r,Rv(this.schema,a,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${a}`)}}}const wNe=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function bs(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Du=(t,e,n)=>t.endsWith(`
`)?bs(n,e):n.includes(`
`)?`
`+bs(n,e):(t.endsWith(" ")?"":" ")+n,mY="flow",$x="block",Z1="quoted";function uS(t,e,n="flow",{indentAtStart:r,lineWidth:a=80,minContentWidth:s=20,onFold:o,onOverflow:u}={}){if(!a||a<0)return t;a<s&&(s=0);const l=Math.max(1+s,1+a-e.length);if(t.length<=l)return t;const c=[],d={};let f=a-e.length;typeof r=="number"&&(r>a-Math.max(2,s)?c.push(0):f=a-r);let h,p,m=!1,y=-1,g=-1,_=-1;n===$x&&(y=kV(t,y,e.length),y!==-1&&(f=y+l));for(let b;b=t[y+=1];){if(n===Z1&&b==="\\"){switch(g=y,t[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}_=y}if(b===`
`)n===$x&&(y=kV(t,y,e.length)),f=y+e.length+l,h=void 0;else{if(b===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){const w=t[y+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(h=y)}if(y>=f)if(h)c.push(h),f=h+l,h=void 0;else if(n===Z1){for(;p===" "||p==="	";)p=b,b=t[y+=1],m=!0;const w=y>_+1?y-2:g-1;if(d[w])return t;c.push(w),d[w]=!0,f=w+l,h=void 0}else m=!0}p=b}if(m&&u&&u(),c.length===0)return t;o&&o();let v=t.slice(0,c[0]);for(let b=0;b<c.length;++b){const w=c[b],S=c[b+1]||t.length;w===0?v=`
${e}${t.slice(0,S)}`:(n===Z1&&d[w]&&(v+=`${t[w]}\\`),v+=`
${e}${t.slice(w+1,S)}`)}return v}function kV(t,e,n){let r=e,a=e+1,s=t[a];for(;s===" "||s==="	";)if(e<a+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);r=e,a=e+1,s=t[a]}return r}const cS=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),lS=t=>/^(%|---|\.\.\.)/m.test(t);function SNe(t,e,n){if(!e||e<0)return!1;const r=e-n,a=t.length;if(a<=r)return!1;for(let s=0,o=0;s<a;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,a-o<=r)return!1}return!0}function Hg(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,a=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(lS(t)?"  ":"");let o="",u=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(u,l)+"\\ ",l+=1,u=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(u,l);const d=n.substr(l+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=n.substr(l,6)}l+=5,u=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<a)l+=1;else{for(o+=n.slice(u,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=s,n[l+2]===" "&&(o+="\\"),l+=1,u=l+1}break;default:l+=1}return o=u?o+n.slice(u):n,r?o:uS(o,s,Z1,cS(e,!1))}function Ux(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Hg(t,e);const n=e.indent||(lS(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:uS(r,n,mY,cS(e,!1))}function Uc(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=Hg;else{const a=t.includes('"'),s=t.includes("'");a&&!s?r=Ux:s&&!a?r=Hg:r=n?Ux:Hg}return r(t,e)}let kx;try{kx=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{kx=/\n+(?!\n|$)/g}function ev({comment:t,type:e,value:n},r,a,s){const{blockQuote:o,commentString:u,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Uc(n,r);const c=r.indent||(r.forceBlockIndent||lS(n)?"  ":""),d=o==="literal"?!0:o==="folded"||e===Ft.BLOCK_FOLDED?!1:e===Ft.BLOCK_LITERAL?!0:!SNe(n,l,c.length);if(!n)return d?`|
`:`>
`;let f,h;for(h=n.length;h>0;--h){const A=n[h-1];if(A!==`
`&&A!=="	"&&A!==" ")break}let p=n.substring(h);const m=p.indexOf(`
`);m===-1?f="-":n===p||m!==p.length-1?(f="+",s&&s()):f="",p&&(n=n.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(kx,`$&${c}`));let y=!1,g,_=-1;for(g=0;g<n.length;++g){const A=n[g];if(A===" ")y=!0;else if(A===`
`)_=g;else break}let v=n.substring(0,_<g?_+1:g);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let w=(d?"|":">")+(y?c?"2":"1":"")+f;if(t&&(w+=" "+u(t.replace(/ ?[\r\n]+/g," ")),a&&a()),d)return n=n.replace(/\n+/g,`$&${c}`),`${w}
${c}${v}${n}${p}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const S=uS(`${v}${n}${p}`,c,$x,cS(r,!0));return`${w}
${c}${S}`}function TNe(t,e,n,r){const{type:a,value:s}=t,{actualString:o,implicitKey:u,indent:l,indentStep:c,inFlow:d}=e;if(u&&s.includes(`
`)||d&&/[[\]{},]/.test(s))return Uc(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return u||d||!s.includes(`
`)?Uc(s,e):ev(t,e,n,r);if(!u&&!d&&a!==Ft.PLAIN&&s.includes(`
`))return ev(t,e,n,r);if(lS(s)){if(l==="")return e.forceBlockIndent=!0,ev(t,e,n,r);if(u&&l===c)return Uc(s,e)}const f=s.replace(/\n+/g,`$&
${l}`);if(o){const h=y=>{var g;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((g=y.test)==null?void 0:g.test(f))},{compat:p,tags:m}=e.doc.schema;if(m.some(h)||p!=null&&p.some(h))return Uc(s,e)}return u?f:uS(f,l,mY,cS(e,!1))}function jN(t,e,n,r){const{implicitKey:a,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:u}=t;u!==Ft.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(u=Ft.QUOTE_DOUBLE);const l=d=>{switch(d){case Ft.BLOCK_FOLDED:case Ft.BLOCK_LITERAL:return a||s?Uc(o.value,e):ev(o,e,n,r);case Ft.QUOTE_DOUBLE:return Hg(o.value,e);case Ft.QUOTE_SINGLE:return Ux(o.value,e);case Ft.PLAIN:return TNe(o,e,n,r);default:return null}};let c=l(u);if(c===null){const{defaultKeyType:d,defaultStringType:f}=e.options,h=a&&d||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function gY(t,e){const n=Object.assign({blockQuote:!0,commentString:wNe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function ENe(t,e){var a;if(e.tag){const s=t.filter(o=>o.tag===e.tag);if(s.length>0)return s.find(o=>o.format===e.format)??s[0]}let n,r;if(Rr(e)){r=e.value;const s=t.filter(o=>{var u;return(u=o.identify)==null?void 0:u.call(o,r)});n=s.find(o=>o.format===e.format)??s.find(o=>!o.format)}else r=e,n=t.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=((a=r==null?void 0:r.constructor)==null?void 0:a.name)??typeof r;throw new Error(`Tag not resolved for ${s} value`)}return n}function ANe(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const a=[],s=(Rr(t)||Ur(t))&&t.anchor;s&&dY(s)&&(n.add(s),a.push(`&${s}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&a.push(r.directives.tagString(o)),a.join(" ")}function El(t,e,n,r){var l;if(kr(t))return t.toString(e,n,r);if(id(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let a;const s=Wr(t)?t:e.doc.createNode(t,{onTagObj:c=>a=c});a||(a=ENe(e.doc.schema.tags,s));const o=ANe(s,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const u=typeof a.stringify=="function"?a.stringify(s,e,n,r):Rr(s)?jN(s,e,n,r):s.toString(e,n,r);return o?Rr(s)||u[0]==="{"||u[0]==="["?`${o} ${u}`:`${o}
${e.indent}${u}`:u}function ONe({key:t,value:e},n,r,a){const{allNullValues:s,doc:o,indent:u,indentStep:l,options:{commentString:c,indentSeq:d,simpleKeys:f}}=n;let h=Wr(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Ur(t)||!Wr(t)&&typeof t=="object"){const x="With simple keys, collection cannot be used as a key value";throw new Error(x)}}let p=!f&&(!t||h&&e==null&&!n.inFlow||Ur(t)||(Rr(t)?t.type===Ft.BLOCK_FOLDED||t.type===Ft.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(f||!s),indent:u+l});let m=!1,y=!1,g=El(t,n,()=>m=!0,()=>y=!0);if(!p&&!n.inFlow&&g.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(s||e==null)return m&&r&&r(),g===""?"?":p?`? ${g}`:g}else if(s&&!f||e==null&&p)return g=`? ${g}`,h&&!m?g+=Du(g,n.indent,c(h)):y&&a&&a(),g;m&&(h=null),p?(h&&(g+=Du(g,n.indent,c(h))),g=`? ${g}
${u}:`):(g=`${g}:`,h&&(g+=Du(g,n.indent,c(h))));let _,v,b;Wr(e)?(_=!!e.spaceBefore,v=e.commentBefore,b=e.comment):(_=!1,v=null,b=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!p&&!h&&Rr(e)&&(n.indentAtStart=g.length+1),y=!1,!d&&l.length>=2&&!n.inFlow&&!p&&cb(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let w=!1;const S=El(e,n,()=>w=!0,()=>y=!0);let A=" ";if(h||_||v){if(A=_?`
`:"",v){const x=c(v);A+=`
${bs(x,n.indent)}`}S===""&&!n.inFlow?A===`
`&&(A=`

`):A+=`
${n.indent}`}else if(!p&&Ur(e)){const x=S[0],M=S.indexOf(`
`),I=M!==-1,N=n.inFlow??e.flow??e.items.length===0;if(I||!N){let F=!1;if(I&&(x==="&"||x==="!")){let D=S.indexOf(" ");x==="&"&&D!==-1&&D<M&&S[D+1]==="!"&&(D=S.indexOf(" ",D+1)),(D===-1||M<D)&&(F=!0)}F||(A=`
${n.indent}`)}}else(S===""||S[0]===`
`)&&(A="");return g+=A+S,n.inFlow?w&&r&&r():b&&!w?g+=Du(g,n.indent,c(b)):y&&a&&a(),g}function _Y(t,e){(t==="debug"||t==="warn")&&(typeof Es<"u"&&Es.emitWarning?Es.emitWarning(e):console.warn(e))}const VV="<<";function bY(t,e,{key:n,value:r}){if(t!=null&&t.doc.schema.merge&&RNe(n))if(r=id(r)?r.resolve(t.doc):r,cb(r))for(const a of r.items)sR(t,e,a);else if(Array.isArray(r))for(const a of r)sR(t,e,a);else sR(t,e,r);else{const a=Bi(n,"",t);if(e instanceof Map)e.set(a,Bi(r,a,t));else if(e instanceof Set)e.add(a);else{const s=xNe(n,a,t),o=Bi(r,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}const RNe=t=>t===VV||Rr(t)&&t.value===VV&&(!t.type||t.type===Ft.PLAIN);function sR(t,e,n){const r=t&&id(n)?n.resolve(t.doc):n;if(!ub(r))throw new Error("Merge sources must be maps or map aliases");const a=r.toJSON(null,t,Map);for(const[s,o]of a)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function xNe(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Wr(t)&&(n!=null&&n.doc)){const r=gY(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const a=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(a);s.length>40&&(s=s.substring(0,36)+'..."'),_Y(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return a}return JSON.stringify(e)}function MN(t,e,n){const r=f_(t,void 0,n),a=f_(e,void 0,n);return new Xn(r,a)}class Xn{constructor(e,n=null){Object.defineProperty(this,Vi,{value:lY}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return Wr(n)&&(n=n.clone(e)),Wr(r)&&(r=r.clone(e)),new Xn(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return bY(n,r,this)}toString(e,n,r){return e!=null&&e.doc?ONe(this,e,n,r):JSON.stringify(this)}}function vY(t,e,n){return(e.inFlow??t.flow?PNe:INe)(t,e,n)}function INe({comment:t,items:e},n,{blockItemPrefix:r,flowChars:a,itemIndent:s,onChompKeep:o,onComment:u}){const{indent:l,options:{commentString:c}}=n,d=Object.assign({},n,{indent:s,type:null});let f=!1;const h=[];for(let m=0;m<e.length;++m){const y=e[m];let g=null;if(Wr(y))!f&&y.spaceBefore&&h.push(""),xv(n,h,y.commentBefore,f),y.comment&&(g=y.comment);else if(kr(y)){const v=Wr(y.key)?y.key:null;v&&(!f&&v.spaceBefore&&h.push(""),xv(n,h,v.commentBefore,f))}f=!1;let _=El(y,d,()=>g=null,()=>f=!0);g&&(_+=Du(_,s,c(g))),f&&g&&(f=!1),h.push(r+_)}let p;if(h.length===0)p=a.start+a.end;else{p=h[0];for(let m=1;m<h.length;++m){const y=h[m];p+=y?`
${l}${y}`:`
`}}return t?(p+=`
`+bs(c(t),l),u&&u()):f&&o&&o(),p}function PNe({items:t},e,{flowChars:n,itemIndent:r}){const{indent:a,indentStep:s,flowCollectionPadding:o,options:{commentString:u}}=e;r+=s;const l=Object.assign({},e,{indent:r,inFlow:!0,type:null});let c=!1,d=0;const f=[];for(let m=0;m<t.length;++m){const y=t[m];let g=null;if(Wr(y))y.spaceBefore&&f.push(""),xv(e,f,y.commentBefore,!1),y.comment&&(g=y.comment);else if(kr(y)){const v=Wr(y.key)?y.key:null;v&&(v.spaceBefore&&f.push(""),xv(e,f,v.commentBefore,!1),v.comment&&(c=!0));const b=Wr(y.value)?y.value:null;b?(b.comment&&(g=b.comment),b.commentBefore&&(c=!0)):y.value==null&&(v!=null&&v.comment)&&(g=v.comment)}g&&(c=!0);let _=El(y,l,()=>g=null);m<t.length-1&&(_+=","),g&&(_+=Du(_,r,u(g))),!c&&(f.length>d||_.includes(`
`))&&(c=!0),f.push(_),d=f.length}const{start:h,end:p}=n;if(f.length===0)return h+p;if(!c){const m=f.reduce((y,g)=>y+g.length+2,2);c=e.options.lineWidth>0&&m>e.options.lineWidth}if(c){let m=h;for(const y of f)m+=y?`
${s}${a}${y}`:`
`;return`${m}
${a}${p}`}else return`${h}${o}${f.join(" ")}${o}${p}`}function xv({indent:t,options:{commentString:e}},n,r,a){if(r&&a&&(r=r.replace(/^\n+/,"")),r){const s=bs(e(r),t);n.push(s.trimStart())}}function Cu(t,e){const n=Rr(e)?e.value:e;for(const r of t)if(kr(r)&&(r.key===e||r.key===n||Rr(r.key)&&r.key.value===n))return r}class Ci extends yY{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(co,e),this.items=[]}static from(e,n,r){const{keepUndefined:a,replacer:s}=r,o=new this(e),u=(l,c)=>{if(typeof s=="function")c=s.call(n,l,c);else if(Array.isArray(s)&&!s.includes(l))return;(c!==void 0||a)&&o.items.push(MN(l,c,r))};if(n instanceof Map)for(const[l,c]of n)u(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))u(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let r;kr(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Xn(e,e==null?void 0:e.value):r=new Xn(e.key,e.value);const a=Cu(this.items,r.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(a){if(!n)throw new Error(`Key ${r.key} already set`);Rr(a.value)&&pY(r.value)?a.value.value=r.value:a.value=r.value}else if(s){const u=this.items.findIndex(l=>s(r,l)<0);u===-1?this.items.push(r):this.items.splice(u,0,r)}else this.items.push(r)}delete(e){const n=Cu(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=Cu(this.items,e),a=r==null?void 0:r.value;return(!n&&Rr(a)?a.value:a)??void 0}has(e){return!!Cu(this.items,e)}set(e,n){this.add(new Xn(e,n),!0)}toJSON(e,n,r){const a=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(a);for(const s of this.items)bY(n,a,s);return a}toString(e,n,r){if(!e)return JSON.stringify(this);for(const a of this.items)if(!kr(a))throw new Error(`Map items must all be pairs; found ${JSON.stringify(a)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),vY(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const ad={collection:"map",default:!0,nodeClass:Ci,tag:"tag:yaml.org,2002:map",resolve(t,e){return ub(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Ci.from(t,e,n)};class Gu extends yY{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(nd,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=b1(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=b1(e);if(typeof r!="number")return;const a=this.items[r];return!n&&Rr(a)?a.value:a}has(e){const n=b1(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=b1(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const a=this.items[r];Rr(a)&&pY(n)?a.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let a=0;for(const s of this.items)r.push(Bi(s,String(a++),n));return r}toString(e,n,r){return e?vY(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:a}=r,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let u of n){if(typeof a=="function"){const l=n instanceof Set?u:String(o++);u=a.call(n,l,u)}s.items.push(f_(u,void 0,r))}}return s}}function b1(t){let e=Rr(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const sd={collection:"seq",default:!0,nodeClass:Gu,tag:"tag:yaml.org,2002:seq",resolve(t,e){return cb(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Gu.from(t,e,n)},dS={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),jN(t,e,n,r)}},fS={identify:t=>t==null,createNode:()=>new Ft(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Ft(null),stringify:({source:t},e)=>typeof t=="string"&&fS.test.test(t)?t:e.options.nullStr},FN={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Ft(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&FN.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function da({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const a=typeof r=="number"?r:Number(r);if(!isFinite(a))return isNaN(a)?".nan":a<0?"-.inf":".inf";let s=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let u=e-(s.length-o-1);for(;u-- >0;)s+="0"}return s}const wY={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:da},SY={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():da(t)}},TY={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Ft(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:da},hS=t=>typeof t=="bigint"||Number.isInteger(t),qN=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function EY(t,e,n){const{value:r}=t;return hS(r)&&r>=0?n+r.toString(e):da(t)}const AY={identify:t=>hS(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>qN(t,2,8,n),stringify:t=>EY(t,8,"0o")},OY={identify:hS,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>qN(t,0,10,n),stringify:da},RY={identify:t=>hS(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>qN(t,2,16,n),stringify:t=>EY(t,16,"0x")},NNe=[ad,sd,dS,fS,FN,AY,OY,RY,wY,SY,TY];function HV(t){return typeof t=="bigint"||Number.isInteger(t)}const v1=({value:t})=>JSON.stringify(t),DNe=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:v1},{identify:t=>t==null,createNode:()=>new Ft(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:v1},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:v1},{identify:HV,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>HV(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:v1}],CNe={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},LNe=[ad,sd].concat(DNe,CNe),BN={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Di=="function")return Di.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,a,s){const o=n;let u;if(typeof Di=="function")u=o instanceof Di?o.toString("base64"):Di.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);u=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ft.BLOCK_LITERAL),e!==Ft.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),c=Math.ceil(u.length/l),d=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)d[f]=u.substr(h,l);u=d.join(e===Ft.BLOCK_LITERAL?`
`:" ")}return jN({comment:t,type:e,value:u},r,a,s)}};function xY(t,e){if(cb(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!kr(r)){if(ub(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const a=r.items[0]||new Xn(new Ft(null));if(r.commentBefore&&(a.key.commentBefore=a.key.commentBefore?`${r.commentBefore}
${a.key.commentBefore}`:r.commentBefore),r.comment){const s=a.value??a.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=a}t.items[n]=kr(r)?r:new Xn(r)}}else e("Expected a sequence for this tag");return t}function IY(t,e,n){const{replacer:r}=n,a=new Gu(t);a.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(s++),o));let u,l;if(Array.isArray(o))if(o.length===2)u=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)u=c[0],l=o[u];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else u=o;a.items.push(MN(u,l,n))}return a}const $N={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:xY,createNode:IY};class el extends Gu{constructor(){super(),this.add=Ci.prototype.add.bind(this),this.delete=Ci.prototype.delete.bind(this),this.get=Ci.prototype.get.bind(this),this.has=Ci.prototype.has.bind(this),this.set=Ci.prototype.set.bind(this),this.tag=el.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const a of this.items){let s,o;if(kr(a)?(s=Bi(a.key,"",n),o=Bi(a.value,s,n)):s=Bi(a,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(e,n,r){const a=IY(e,n,r),s=new this;return s.items=a.items,s}}el.tag="tag:yaml.org,2002:omap";const UN={collection:"seq",identify:t=>t instanceof Map,nodeClass:el,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=xY(t,e),r=[];for(const{key:a}of n.items)Rr(a)&&(r.includes(a.value)?e(`Ordered maps must not include duplicate keys: ${a.value}`):r.push(a.value));return Object.assign(new el,n)},createNode:(t,e,n)=>el.from(t,e,n)};function PY({value:t,source:e},n){return e&&(t?NY:DY).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const NY={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ft(!0),stringify:PY},DY={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Ft(!1),stringify:PY},jNe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:da},MNe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():da(t)}},FNe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Ft(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:da},lb=t=>typeof t=="bigint"||Number.isInteger(t);function pS(t,e,n,{intAsBigInt:r}){const a=t[0];if((a==="-"||a==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return a==="-"?BigInt(-1)*o:o}const s=parseInt(t,n);return a==="-"?-1*s:s}function kN(t,e,n){const{value:r}=t;if(lb(r)){const a=r.toString(e);return r<0?"-"+n+a.substr(1):n+a}return da(t)}const qNe={identify:lb,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>pS(t,2,2,n),stringify:t=>kN(t,2,"0b")},BNe={identify:lb,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>pS(t,1,8,n),stringify:t=>kN(t,8,"0")},$Ne={identify:lb,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>pS(t,0,10,n),stringify:da},UNe={identify:lb,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>pS(t,2,16,n),stringify:t=>kN(t,16,"0x")};class tl extends Ci{constructor(e){super(e),this.tag=tl.tag}add(e){let n;kr(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Xn(e.key,null):n=new Xn(e,null),Cu(this.items,n.key)||this.items.push(n)}get(e,n){const r=Cu(this.items,e);return!n&&kr(r)?Rr(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Cu(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Xn(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:a}=r,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof a=="function"&&(o=a.call(n,o,o)),s.items.push(MN(o,null,r));return s}}tl.tag="tag:yaml.org,2002:set";const VN={collection:"map",identify:t=>t instanceof Set,nodeClass:tl,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>tl.from(t,e,n),resolve(t,e){if(ub(t)){if(t.hasAllNullValues(!0))return Object.assign(new tl,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function HN(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,a=o=>e?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,u)=>o*a(60)+a(u),a(0));return n==="-"?a(-1)*s:s}function CY(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return da(t);let r="";e<0&&(r="-",e*=n(-1));const a=n(60),s=[e%a];return e<60?s.unshift(0):(e=(e-s[0])/a,s.unshift(e%a),e>=60&&(e=(e-s[0])/a,s.unshift(e))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const LY={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>HN(t,n),stringify:CY},jY={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>HN(t,!1),stringify:CY},yS={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(yS.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,a,s,o,u]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,a,s||0,o||0,u||0,l);const d=e[8];if(d&&d!=="Z"){let f=HN(d,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},QV=[ad,sd,dS,fS,NY,DY,qNe,BNe,$Ne,UNe,jNe,MNe,FNe,BN,UN,$N,VN,LY,jY,yS],zV=new Map([["core",NNe],["failsafe",[ad,sd,dS]],["json",LNe],["yaml11",QV],["yaml-1.1",QV]]),GV={binary:BN,bool:FN,float:TY,floatExp:SY,floatNaN:wY,floatTime:jY,int:OY,intHex:RY,intOct:AY,intTime:LY,map:ad,null:fS,omap:UN,pairs:$N,seq:sd,set:VN,timestamp:yS},kNe={"tag:yaml.org,2002:binary":BN,"tag:yaml.org,2002:omap":UN,"tag:yaml.org,2002:pairs":$N,"tag:yaml.org,2002:set":VN,"tag:yaml.org,2002:timestamp":yS};function oR(t,e){let n=zV.get(e);if(!n)if(Array.isArray(t))n=[];else{const r=Array.from(zV.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(t))for(const r of t)n=n.concat(r);else typeof t=="function"&&(n=t(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const a=GV[r];if(a)return a;const s=Object.keys(GV).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${s}`)})}const VNe=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class QN{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:a,schema:s,sortMapEntries:o,toStringDefaults:u}){this.compat=Array.isArray(e)?oR(e,"compat"):e?oR(null,e):null,this.merge=!!r,this.name=typeof s=="string"&&s||"core",this.knownTags=a?kNe:{},this.tags=oR(n,this.name),this.toStringOptions=u??null,Object.defineProperty(this,co,{value:ad}),Object.defineProperty(this,Ps,{value:dS}),Object.defineProperty(this,nd,{value:sd}),this.sortMapEntries=typeof o=="function"?o:o===!0?VNe:null}clone(){const e=Object.create(QN.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function HNe(t,e){var l;const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const c=t.directives.toString(t);c?(n.push(c),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const a=gY(t,e),{commentString:s}=a.options;if(t.commentBefore){n.length!==1&&n.unshift("");const c=s(t.commentBefore);n.unshift(bs(c,""))}let o=!1,u=null;if(t.contents){if(Wr(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const f=s(t.contents.commentBefore);n.push(bs(f,""))}a.forceBlockIndent=!!t.comment,u=t.contents.comment}const c=u?void 0:()=>o=!0;let d=El(t.contents,a,()=>u=null,c);u&&(d+=Du(d,"",s(u))),(d[0]==="|"||d[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${d}`:n.push(d)}else n.push(El(t.contents,a));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const c=s(t.comment);c.includes(`
`)?(n.push("..."),n.push(bs(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||u)&&n[n.length-1]!==""&&n.push(""),n.push(bs(s(c),"")))}return n.join(`
`)+`
`}class mS{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Vi,{value:Bx});let a=null;typeof n=="function"||Array.isArray(n)?a=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new zn({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,a,r)}clone(){const e=Object.create(mS.prototype,{[Vi]:{value:Bx}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Wr(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Rc(this.contents)&&this.contents.add(e)}addIn(e,n){Rc(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=fY(this);e.anchor=!n||r.has(n)?hY(n||"a",r):n}return new LN(e.anchor)}createNode(e,n,r){let a;if(typeof n=="function")e=n.call({"":e},"",e),a=n;else if(Array.isArray(n)){const g=v=>typeof v=="number"||v instanceof String||v instanceof Number,_=n.filter(g).map(String);_.length>0&&(n=n.concat(_)),a=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:u,keepUndefined:l,onTagObj:c,tag:d}=r??{},{onAnchor:f,setAnchors:h,sourceObjects:p}=_Ne(this,o||"a"),m={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:a,schema:this.schema,sourceObjects:p},y=f_(e,d,m);return u&&Ur(y)&&(y.flow=!0),h(),y}createPair(e,n,r={}){const a=this.createNode(e,null,r),s=this.createNode(n,null,r);return new Xn(a,s)}delete(e){return Rc(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Rg(e)?this.contents==null?!1:(this.contents=null,!0):Rc(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Ur(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Rg(e)?!n&&Rr(this.contents)?this.contents.value:this.contents:Ur(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Ur(this.contents)?this.contents.has(e):!1}hasIn(e){return Rg(e)?this.contents!==void 0:Ur(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Rv(this.schema,[e],n):Rc(this.contents)&&this.contents.set(e,n)}setIn(e,n){Rg(e)?this.contents=n:this.contents==null?this.contents=Rv(this.schema,Array.from(e),n):Rc(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new zn({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new zn({version:e}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const a=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${a}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new QN(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:a,onAnchor:s,reviver:o}={}){const u={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof a=="number"?a:100},l=Bi(this.contents,n??"",u);if(typeof s=="function")for(const{count:c,res:d}of u.anchors.values())s(d,c);return typeof o=="function"?$c(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return HNe(this,e)}}function Rc(t){if(Ur(t))return!0;throw new Error("Expected a YAML collection as document contents")}class MY extends Error{constructor(e,n,r,a){super(),this.name=e,this.code=r,this.message=a,this.pos=n}}class xg extends MY{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class QNe extends MY{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const WV=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(u=>e.linePos(u));const{line:r,col:a}=n.linePos[0];n.message+=` at line ${r}, column ${a}`;let s=a-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const u=Math.min(s-39,o.length-79);o=""+o.substring(u),s-=u-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,s))){let u=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);u.length>80&&(u=u.substring(0,79)+`
`),o=u+o}if(/[^ ]/.test(o)){let u=1;const l=n.linePos[1];l&&l.line===r&&l.col>a&&(u=Math.max(1,Math.min(l.col-a,80-s)));const c=" ".repeat(s)+"^".repeat(u);n.message+=`:

${o}
${c}
`}};function Al(t,{flow:e,indicator:n,next:r,offset:a,onError:s,parentIndent:o,startOnNewline:u}){let l=!1,c=u,d=u,f="",h="",p=!1,m=!1,y=null,g=null,_=null,v=null,b=null,w=null,S=null;for(const M of t)switch(m&&(M.type!=="space"&&M.type!=="newline"&&M.type!=="comma"&&s(M.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),y&&(c&&M.type!=="comment"&&M.type!=="newline"&&s(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),M.type){case"space":!e&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&M.source.includes("	")&&(y=M),d=!0;break;case"comment":{d||s(M,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const I=M.source.substring(1)||" ";f?f+=h+I:f=I,h="",c=!1;break}case"newline":c?f?f+=M.source:l=!0:h+=M.source,c=!0,p=!0,(g||_)&&(v=M),d=!0;break;case"anchor":g&&s(M,"MULTIPLE_ANCHORS","A node can have at most one anchor"),M.source.endsWith(":")&&s(M.offset+M.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=M,S===null&&(S=M.offset),c=!1,d=!1,m=!0;break;case"tag":{_&&s(M,"MULTIPLE_TAGS","A node can have at most one tag"),_=M,S===null&&(S=M.offset),c=!1,d=!1,m=!0;break}case n:(g||_)&&s(M,"BAD_PROP_ORDER",`Anchors and tags must be after the ${M.source} indicator`),w&&s(M,"UNEXPECTED_TOKEN",`Unexpected ${M.source} in ${e??"collection"}`),w=M,c=n==="seq-item-ind"||n==="explicit-key-ind",d=!1;break;case"comma":if(e){b&&s(M,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),b=M,c=!1,d=!1;break}default:s(M,"UNEXPECTED_TOKEN",`Unexpected ${M.type} token`),c=!1,d=!1}const A=t[t.length-1],x=A?A.offset+A.source.length:a;return m&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(c&&y.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&s(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:b,found:w,spaceBefore:l,comment:f,hasNewline:p,anchor:g,tag:_,newlineAfterProp:v,end:x,start:S??x}}function h_(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(h_(e.key)||h_(e.value))return!0}return!1;default:return!0}}function Vx(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&h_(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function FY(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const a=typeof r=="function"?r:(s,o)=>s===o||Rr(s)&&Rr(o)&&s.value===o.value&&!(s.value==="<<"&&t.schema.merge);return e.some(s=>a(s.key,n))}const KV="All mapping items must start at the same column";function zNe({composeNode:t,composeEmptyNode:e},n,r,a,s){var d;const o=(s==null?void 0:s.nodeClass)??Ci,u=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const f of r.items){const{start:h,key:p,sep:m,value:y}=f,g=Al(h,{indicator:"explicit-key-ind",next:p??(m==null?void 0:m[0]),offset:l,onError:a,parentIndent:r.indent,startOnNewline:!0}),_=!g.found;if(_){if(p&&(p.type==="block-seq"?a(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&a(l,"BAD_INDENT",KV)),!g.anchor&&!g.tag&&!m){c=g.end,g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment);continue}(g.newlineAfterProp||h_(p))&&a(p??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((d=g.found)==null?void 0:d.indent)!==r.indent&&a(l,"BAD_INDENT",KV);const v=g.end,b=p?t(n,p,g,a):e(n,v,h,null,g,a);n.schema.compat&&Vx(r.indent,p,a),FY(n,u.items,b)&&a(v,"DUPLICATE_KEY","Map keys must be unique");const w=Al(m??[],{indicator:"map-value-ind",next:y,offset:b.range[2],onError:a,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(l=w.end,w.found){_&&((y==null?void 0:y.type)==="block-map"&&!w.hasNewline&&a(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&g.start<w.found.offset-1024&&a(b.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const S=y?t(n,y,w,a):e(n,l,m,null,w,a);n.schema.compat&&Vx(r.indent,y,a),l=S.range[2];const A=new Xn(b,S);n.options.keepSourceTokens&&(A.srcToken=f),u.items.push(A)}else{_&&a(b.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(b.comment?b.comment+=`
`+w.comment:b.comment=w.comment);const S=new Xn(b);n.options.keepSourceTokens&&(S.srcToken=f),u.items.push(S)}}return c&&c<l&&a(c,"IMPOSSIBLE","Map comment with trailing content"),u.range=[r.offset,l,c??l],u}function GNe({composeNode:t,composeEmptyNode:e},n,r,a,s){const o=(s==null?void 0:s.nodeClass)??Gu,u=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const{start:d,value:f}of r.items){const h=Al(d,{indicator:"seq-item-ind",next:f,offset:l,onError:a,parentIndent:r.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?a(h.end,"BAD_INDENT","All sequence items must start at the same column"):a(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(u.comment=h.comment);continue}const p=f?t(n,f,h,a):e(n,h.end,d,null,h,a);n.schema.compat&&Vx(r.indent,f,a),l=p.range[2],u.items.push(p)}return u.range=[r.offset,l,c??l],u}function db(t,e,n,r){let a="";if(t){let s=!1,o="";for(const u of t){const{source:l,type:c}=u;switch(c){case"space":s=!0;break;case"comment":{n&&!s&&r(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=l.substring(1)||" ";a?a+=o+d:a=d,o="";break}case"newline":a&&(o+=l),s=!0;break;default:r(u,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:a,offset:e}}const uR="Block collections are not allowed within flow collections",cR=t=>t&&(t.type==="block-map"||t.type==="block-seq");function WNe({composeNode:t,composeEmptyNode:e},n,r,a,s){const o=r.start.source==="{",u=o?"flow map":"flow sequence",l=(s==null?void 0:s.nodeClass)??(o?Ci:Gu),c=new l(n.schema);c.flow=!0;const d=n.atRoot;d&&(n.atRoot=!1);let f=r.offset+r.start.source.length;for(let g=0;g<r.items.length;++g){const _=r.items[g],{start:v,key:b,sep:w,value:S}=_,A=Al(v,{flow:u,indicator:"explicit-key-ind",next:b??(w==null?void 0:w[0]),offset:f,onError:a,parentIndent:r.indent,startOnNewline:!1});if(!A.found){if(!A.anchor&&!A.tag&&!w&&!S){g===0&&A.comma?a(A.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`):g<r.items.length-1&&a(A.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${u}`),A.comment&&(c.comment?c.comment+=`
`+A.comment:c.comment=A.comment),f=A.end;continue}!o&&n.options.strict&&h_(b)&&a(b,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)A.comma&&a(A.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`);else if(A.comma||a(A.start,"MISSING_CHAR",`Missing , between ${u} items`),A.comment){let x="";e:for(const M of v)switch(M.type){case"comma":case"space":break;case"comment":x=M.source.substring(1);break e;default:break e}if(x){let M=c.items[c.items.length-1];kr(M)&&(M=M.value??M.key),M.comment?M.comment+=`
`+x:M.comment=x,A.comment=A.comment.substring(x.length+1)}}if(!o&&!w&&!A.found){const x=S?t(n,S,A,a):e(n,A.end,w,null,A,a);c.items.push(x),f=x.range[2],cR(S)&&a(x.range,"BLOCK_IN_FLOW",uR)}else{const x=A.end,M=b?t(n,b,A,a):e(n,x,v,null,A,a);cR(b)&&a(M.range,"BLOCK_IN_FLOW",uR);const I=Al(w??[],{flow:u,indicator:"map-value-ind",next:S,offset:M.range[2],onError:a,parentIndent:r.indent,startOnNewline:!1});if(I.found){if(!o&&!A.found&&n.options.strict){if(w)for(const D of w){if(D===I.found)break;if(D.type==="newline"){a(D,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}A.start<I.found.offset-1024&&a(I.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else S&&("source"in S&&S.source&&S.source[0]===":"?a(S,"MISSING_CHAR",`Missing space after : in ${u}`):a(I.start,"MISSING_CHAR",`Missing , or : between ${u} items`));const N=S?t(n,S,I,a):I.found?e(n,I.end,w,null,I,a):null;N?cR(S)&&a(N.range,"BLOCK_IN_FLOW",uR):I.comment&&(M.comment?M.comment+=`
`+I.comment:M.comment=I.comment);const F=new Xn(M,N);if(n.options.keepSourceTokens&&(F.srcToken=_),o){const D=c;FY(n,D.items,M)&&a(x,"DUPLICATE_KEY","Map keys must be unique"),D.items.push(F)}else{const D=new Ci(n.schema);D.flow=!0,D.items.push(F),c.items.push(D)}f=N?N.range[2]:I.end}}const h=o?"}":"]",[p,...m]=r.end;let y=f;if(p&&p.source===h)y=p.offset+p.source.length;else{const g=u[0].toUpperCase()+u.substring(1),_=d?`${g} must end with a ${h}`:`${g} in block collection must be sufficiently indented and end with a ${h}`;a(f,d?"MISSING_CHAR":"BAD_INDENT",_),p&&p.source.length!==1&&m.unshift(p)}if(m.length>0){const g=db(m,y,n.options.strict,a);g.comment&&(c.comment?c.comment+=`
`+g.comment:c.comment=g.comment),c.range=[r.offset,y,g.offset]}else c.range=[r.offset,y,y];return c}function lR(t,e,n,r,a,s){const o=n.type==="block-map"?zNe(t,e,n,r,s):n.type==="block-seq"?GNe(t,e,n,r,s):WNe(t,e,n,r,s),u=o.constructor;return a==="!"||a===u.tagName?(o.tag=u.tagName,o):(a&&(o.tag=a),o)}function KNe(t,e,n,r,a){var h;const s=r.tag,o=s?e.directives.tagName(s.source,p=>a(s,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){const{anchor:p,newlineAfterProp:m}=r,y=p&&s?p.offset>s.offset?p:s:p??s;y&&(!m||m.offset<y.offset)&&a(y,"MISSING_CHAR","Missing newline after block sequence props")}const u=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===Ci.tagName&&u==="map"||o===Gu.tagName&&u==="seq")return lR(t,e,n,a,o);let l=e.schema.tags.find(p=>p.tag===o&&p.collection===u);if(!l){const p=e.schema.knownTags[o];if(p&&p.collection===u)e.schema.tags.push(Object.assign({},p,{default:!1})),l=p;else return p!=null&&p.collection?a(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${u} collection, but expects ${p.collection}`,!0):a(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),lR(t,e,n,a,o)}const c=lR(t,e,n,a,o,l),d=((h=l.resolve)==null?void 0:h.call(l,c,p=>a(s,"TAG_RESOLVE_FAILED",p),e.options))??c,f=Wr(d)?d:new Ft(d);return f.range=c.range,f.tag=o,l!=null&&l.format&&(f.format=l.format),f}function JNe(t,e,n){const r=e.offset,a=XNe(e,t.options.strict,n);if(!a)return{value:"",type:null,comment:"",range:[r,r,r]};const s=a.mode===">"?Ft.BLOCK_FOLDED:Ft.BLOCK_LITERAL,o=e.source?YNe(e.source):[];let u=o.length;for(let y=o.length-1;y>=0;--y){const g=o[y][1];if(g===""||g==="\r")u=y;else break}if(u===0){const y=a.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let g=r+a.length;return e.source&&(g+=e.source.length),{value:y,type:s,comment:a.comment,range:[r,g,g]}}let l=e.indent+a.indent,c=e.offset+a.length,d=0;for(let y=0;y<u;++y){const[g,_]=o[y];if(_===""||_==="\r")a.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&n(c+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),a.indent===0&&(l=g.length),d=y,l===0&&!t.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=g.length+_.length+1}for(let y=o.length-1;y>=u;--y)o[y][0].length>l&&(u=y+1);let f="",h="",p=!1;for(let y=0;y<d;++y)f+=o[y][0].slice(l)+`
`;for(let y=d;y<u;++y){let[g,_]=o[y];c+=g.length+_.length+1;const v=_[_.length-1]==="\r";if(v&&(_=_.slice(0,-1)),_&&g.length<l){const w=`Block scalar lines must not be less indented than their ${a.indent?"explicit indentation indicator":"first line"}`;n(c-_.length-(v?2:1),"BAD_INDENT",w),g=""}s===Ft.BLOCK_LITERAL?(f+=h+g.slice(l)+_,h=`
`):g.length>l||_[0]==="	"?(h===" "?h=`
`:!p&&h===`
`&&(h=`

`),f+=h+g.slice(l)+_,h=`
`,p=!0):_===""?h===`
`?f+=`
`:h=`
`:(f+=h+_,h=" ",p=!1)}switch(a.chomp){case"-":break;case"+":for(let y=u;y<o.length;++y)f+=`
`+o[y][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const m=r+a.length+e.source.length;return{value:f,type:s,comment:a.comment,range:[r,m,m]}}function XNe({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:a}=e[0],s=a[0];let o=0,u="",l=-1;for(let h=1;h<a.length;++h){const p=a[h];if(!u&&(p==="-"||p==="+"))u=p;else{const m=Number(p);!o&&m?o=m:l===-1&&(l=t+h)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${a}`);let c=!1,d="",f=a.length;for(let h=1;h<e.length;++h){const p=e[h];switch(p.type){case"space":c=!0;case"newline":f+=p.source.length;break;case"comment":n&&!c&&r(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=p.source.length,d=p.source.substring(1);break;case"error":r(p,"UNEXPECTED_TOKEN",p.message),f+=p.source.length;break;default:{const m=`Unexpected token in block scalar header: ${p.type}`;r(p,"UNEXPECTED_TOKEN",m);const y=p.source;y&&typeof y=="string"&&(f+=y.length)}}}return{mode:s,indent:o,chomp:u,comment:d,length:f}}function YNe(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),s=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}function ZNe(t,e,n){const{offset:r,type:a,source:s,end:o}=t;let u,l;const c=(h,p,m)=>n(r+h,p,m);switch(a){case"scalar":u=Ft.PLAIN,l=eDe(s,c);break;case"single-quoted-scalar":u=Ft.QUOTE_SINGLE,l=tDe(s,c);break;case"double-quoted-scalar":u=Ft.QUOTE_DOUBLE,l=rDe(s,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${a}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const d=r+s.length,f=db(o,d,e,n);return{value:l,type:u,comment:f.comment,range:[r,d,f.offset]}}function eDe(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),qY(t)}function tDe(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),qY(t.slice(1,-1)).replace(/''/g,"'")}function qY(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let a=r[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?s===`
`?a+=s:s=`
`:(a+=s+r[1],s=" "),o=n.lastIndex;const u=/[ \t]*(.*)/sy;return u.lastIndex=o,r=u.exec(t),a+s+((r==null?void 0:r[1])??"")}function rDe(t,e){let n="";for(let r=1;r<t.length-1;++r){const a=t[r];if(!(a==="\r"&&t[r+1]===`
`))if(a===`
`){const{fold:s,offset:o}=nDe(t,r);n+=s,r=o}else if(a==="\\"){let s=t[++r];const o=iDe[s];if(o)n+=o;else if(s===`
`)for(s=t[r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="\r"&&t[r+1]===`
`)for(s=t[++r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="x"||s==="u"||s==="U"){const u={x:2,u:4,U:8}[s];n+=aDe(t,r+1,u,e),r+=u}else{const u=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),n+=u}}else if(a===" "||a==="	"){const s=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>s?t.slice(s,r+1):a)}else n+=a}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function nDe(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const iDe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function aDe(t,e,n,r){const a=t.substr(e,n),o=a.length===n&&/^[0-9a-fA-F]+$/.test(a)?parseInt(a,16):NaN;if(isNaN(o)){const u=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),u}return String.fromCodePoint(o)}function BY(t,e,n,r){const{value:a,type:s,comment:o,range:u}=e.type==="block-scalar"?JNe(t,e,r):ZNe(e,t.options.strict,r),l=n?t.directives.tagName(n.source,f=>r(n,"TAG_RESOLVE_FAILED",f)):null,c=n&&l?sDe(t.schema,a,l,n,r):e.type==="scalar"?oDe(t,a,e,r):t.schema[Ps];let d;try{const f=c.resolve(a,h=>r(n??e,"TAG_RESOLVE_FAILED",h),t.options);d=Rr(f)?f:new Ft(f)}catch(f){const h=f instanceof Error?f.message:String(f);r(n??e,"TAG_RESOLVE_FAILED",h),d=new Ft(a)}return d.range=u,d.source=a,s&&(d.type=s),l&&(d.tag=l),c.format&&(d.format=c.format),o&&(d.comment=o),d}function sDe(t,e,n,r,a){var u;if(n==="!")return t[Ps];const s=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)s.push(l);else return l;for(const l of s)if((u=l.test)!=null&&u.test(e))return l;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(a(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Ps])}function oDe({directives:t,schema:e},n,r,a){const s=e.tags.find(o=>{var u;return o.default&&((u=o.test)==null?void 0:u.test(n))})||e[Ps];if(e.compat){const o=e.compat.find(u=>{var l;return u.default&&((l=u.test)==null?void 0:l.test(n))})??e[Ps];if(s.tag!==o.tag){const u=t.tagString(s.tag),l=t.tagString(o.tag),c=`Value may be parsed as either ${u} or ${l}`;a(r,"TAG_RESOLVE_FAILED",c,!0)}}return s}function uDe(t,e,n){if(e){n===null&&(n=e.length);for(let r=n-1;r>=0;--r){let a=e[r];switch(a.type){case"space":case"comment":case"newline":t-=a.source.length;continue}for(a=e[++r];(a==null?void 0:a.type)==="space";)t+=a.source.length,a=e[++r];break}}return t}const cDe={composeNode:$Y,composeEmptyNode:zN};function $Y(t,e,n,r){const{spaceBefore:a,comment:s,anchor:o,tag:u}=n;let l,c=!0;switch(e.type){case"alias":l=lDe(t,e,r),(o||u)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=BY(t,e,u,r),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=KNe(cDe,t,e,n,r),o&&(l.anchor=o.source.substring(1));break;default:{const d=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",d),l=zN(t,e.offset,void 0,null,n,r),c=!1}}return o&&l.anchor===""&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),a&&(l.spaceBefore=!0),s&&(e.type==="scalar"&&e.source===""?l.comment=s:l.commentBefore=s),t.options.keepSourceTokens&&c&&(l.srcToken=e),l}function zN(t,e,n,r,{spaceBefore:a,comment:s,anchor:o,tag:u,end:l},c){const d={type:"scalar",offset:uDe(e,n,r),indent:-1,source:""},f=BY(t,d,u,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),a&&(f.spaceBefore=!0),s&&(f.comment=s,f.range[2]=l),f}function lDe({options:t},{offset:e,source:n,end:r},a){const s=new LN(n.substring(1));s.source===""&&a(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&a(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,u=db(r,o,t.strict,a);return s.range=[e,o,u.offset],u.comment&&(s.comment=u.comment),s}function dDe(t,e,{offset:n,start:r,value:a,end:s},o){const u=Object.assign({_directives:e},t),l=new mS(void 0,u),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},d=Al(r,{indicator:"doc-start",next:a??(s==null?void 0:s[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});d.found&&(l.directives.docStart=!0,a&&(a.type==="block-map"||a.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=a?$Y(c,a,d,o):zN(c,d.end,r,null,d,o);const f=l.contents.range[2],h=db(s,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,f,h.offset],l}function dg(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function JV(t){var a;let e="",n=!1,r=!1;for(let s=0;s<t.length;++s){const o=t[s];switch(o[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((a=t[s+1])==null?void 0:a[0])!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class fDe{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,a,s)=>{const o=dg(n);s?this.warnings.push(new QNe(o,r,a)):this.errors.push(new xg(o,r,a))},this.directives=new zn({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:a}=JV(this.prelude);if(r){const s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(a||e.directives.docStart||!s)e.commentBefore=r;else if(Ur(s)&&!s.flow&&s.items.length>0){let o=s.items[0];kr(o)&&(o=o.key);const u=o.commentBefore;o.commentBefore=u?`${r}
${u}`:r}else{const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:JV(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const a of e)yield*this.next(a);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,a)=>{const s=dg(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,a)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=dDe(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new xg(dg(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new xg(dg(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=db(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new xg(dg(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),a=new mS(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),a.range=[0,n,n],this.decorate(a,!1),yield a}}}const UY="\uFEFF",kY="",VY="",Hx="";function hDe(t){switch(t){case UY:return"byte-order-mark";case kY:return"doc-mode";case VY:return"flow-error-end";case Hx:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function ea(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const XV=new Set("0123456789ABCDEFabcdef"),pDe=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),w1=new Set(",[]{}"),yDe=new Set(` ,[]{}
\r	`),dR=t=>!t||yDe.has(t);class mDe{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const a=this.buffer[r+e+1];if(a===`
`||!a&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&ea(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===UY&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const s=e[r-1];if(s===" "||s==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const s=e[n-1];if(s===" "||s==="	")n-=1;else break}const a=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-a),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield kY,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&ea(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ea(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ea(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(dR),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const a=this.getLine();if(a===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&a[0]!=="#"||r===0&&(a.startsWith("---")||a.startsWith("..."))&&ea(a[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(a[0]==="]"||a[0]==="}")))return this.flowLevel=0,yield VY,yield*this.parseLineStart();let s=0;for(;a[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),a[s]){case void 0:return"flow";case"#":return yield*this.pushCount(a.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(dR),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||ea(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let a=r.indexOf(`
`,this.pos);if(a!==-1){for(;a!==-1;){const s=this.continueScalar(a+1);if(s===-1)break;a=r.indexOf(`
`,s)}a!==-1&&(n=a-(r[a-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ea(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{const o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let a=e+1;for(r=this.buffer[a];r===" ";)r=this.buffer[++a];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++a];e=a-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);const u=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>u)e=s;else break}while(!0);return yield Hx,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,a;for(;a=this.buffer[++r];)if(a===":"){const s=this.buffer[r+1];if(ea(s)||e&&w1.has(s))break;n=r}else if(ea(a)){let s=this.buffer[r+1];if(a==="\r"&&(s===`
`?(r+=1,a=`
`,s=this.buffer[r+1]):n=r),s==="#"||e&&w1.has(s))break;if(a===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&w1.has(a))break;n=r}return!a&&!this.atEnd?this.setNext("plain-scalar"):(yield Hx,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(dR))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(ea(n)||e&&w1.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!ea(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(pDe.has(n))n=this.buffer[++e];else if(n==="%"&&XV.has(this.buffer[e+1])&&XV.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const a=n-this.pos;return a>0&&(yield this.buffer.substr(this.pos,a),this.pos=n),a}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class gDe{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<e?n=s+1:r=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const a=this.lineStarts[n-1];return{line:n,col:e-a+1}}}}function Au(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function YV(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function HY(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function S1(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function xc(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function ZV(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Au(e.start,"explicit-key-ind")&&!Au(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,HY(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class _De{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new mDe,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=hDe(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&ZV(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const a=r.items[r.items.length-1];if(a.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(a.sep)a.value=n;else{Object.assign(a,{key:n,sep:[]}),this.onKeyLine=!a.explicitKey;return}break}case"block-seq":{const a=r.items[r.items.length-1];a.value?r.items.push({start:[],value:n}):a.value=n;break}case"flow-collection":{const a=r.items[r.items.length-1];!a||a.value?r.items.push({start:[],key:n,sep:[]}):a.sep?a.value=n:Object.assign(a,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const a=n.items[n.items.length-1];a&&!a.sep&&!a.value&&a.start.length>0&&YV(a.start)===-1&&(n.indent===0||a.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=a.start:r.items.push({start:a.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{YV(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=S1(this.peek(2)),r=xc(n);let a;e.end?(a=e.end,a.push(this.sourceToken),delete e.end):a=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const a="end"in n.value?n.value.end:void 0,s=Array.isArray(a)?a[a.length-1]:void 0;(s==null?void 0:s.type)==="comment"?a==null||a.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const a=e.items[e.items.length-2],s=(r=a==null?void 0:a.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const a=!this.onKeyLine&&this.indent===e.indent,s=a&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(s&&n.sep&&!n.value){const u=[];for(let l=0;l<n.sep.length;++l){const c=n.sep[l];switch(c.type){case"newline":u.push(l);break;case"space":break;case"comment":c.indent>e.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(o=n.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Au(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(HY(n.key)&&!Au(n.sep,"newline")){const u=xc(n.start),l=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:l,sep:c}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Au(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const u=xc(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Au(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const u=this.flowScalar(this.type);s||n.value?(e.items.push({start:o,key:u,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(u):(Object.assign(n,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{const u=this.startBlockValue(e);if(u){a&&u.type!=="block-seq"&&e.items.push({start:o}),this.stack.push(u);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const a="end"in n.value?n.value.end:void 0,s=Array.isArray(a)?a[a.length-1]:void 0;(s==null?void 0:s.type)==="comment"?a==null||a.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const a=e.items[e.items.length-2],s=(r=a==null?void 0:a.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Au(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const a=this.startBlockValue(e);if(a){this.stack.push(a);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:a,sep:[]}):n.sep?this.stack.push(a):Object.assign(n,{key:a,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const a=S1(r),s=xc(a);ZV(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const u={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=S1(e),r=xc(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=S1(e),r=xc(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function bDe(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new gDe||null,prettyErrors:e}}function vDe(t,e={}){const{lineCounter:n,prettyErrors:r}=bDe(e),a=new _De(n==null?void 0:n.addNewLine),s=new fDe(e);let o=null;for(const u of s.compose(a.parse(t),!0,t.length))if(!o)o=u;else if(o.options.logLevel!=="silent"){o.errors.push(new xg(u.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(WV(t,n)),o.warnings.forEach(WV(t,n))),o}function wDe(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const a=vDe(t,n);if(!a)return null;if(a.warnings.forEach(s=>_Y(a.options.logLevel,s)),a.errors.length>0){if(a.options.logLevel!=="silent")throw a.errors[0];a.errors=[]}return a.toJS(Object.assign({reviver:r},n))}let Iv=wDe(document.querySelector("#ontopad_configuration").text);const lo=PI("selection",{state:()=>({graph_iri:Iv.graph_iri,resource_iri:Iv.resource_iri}),actions:{changeGraphIri(t){console.log("Change graph Iri to "+t),this.graph_iri=t},changeResourceIri(t){console.log("Change resource Iri to "+t),this.resource_iri=t}}});function N8e(t){return`
  PREFIX sh: <http://www.w3.org/ns/shacl#>
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  CONSTRUCT {
    ?node_s ?node_p ?node_o .
    ?prop_s ?prop_p ?prop_o .
    ?s sh:in ?list .
    ?elt rdf:rest ?rest .
    ?elt rdf:first ?val .
  } WHERE {
    GRAPH ?g {
      {
        ?node_s sh:targetClass <${t}> .
        ?node_s ?node_p ?node_o .
        ?prop_s ?prop_p ?prop_o .
        FILTER(?prop_p != sh:in)
        FILTER(?node_o = ?prop_s)
      }
      UNION
      {
        ?node_s sh:targetClass <${t}> .
        ?node_s ?node_p ?node_o .
        ?prop_s ?prop_p ?prop_o .
        ?prop_s sh:in ?list .
        ?list rdf:rest* ?elt .
        ?elt rdf:rest ?rest .
        ?elt rdf:first ?val .
        FILTER(?node_o = ?prop_s)
      }
    }
  }`}function D8e(t){return`
  PREFIX sh: <http://www.w3.org/ns/shacl#>
  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
  CONSTRUCT {
    ?node_s ?node_p ?node_o .
    ?prop_s ?prop_p ?prop_o .
    ?node_s ?p ?o .
    ?s sh:in ?list .
    ?elt rdf:rest ?rest .
    ?elt rdf:first ?val .
  } WHERE {
    GRAPH ?g {
      <${t}> rdf:type ?class .
        ?node_s ?p ?o .
      {
        ?node_s sh:targetClass ?class .
        ?node_s ?node_p ?node_o .
        ?prop_s ?prop_p ?prop_o .
        FILTER(?prop_p != sh:in)
        FILTER(?node_o = ?prop_s)
      }
      UNION
      {
        ?node_s rdf:type ?class .
        ?node_s ?node_p ?node_o .
        ?prop_s ?prop_p ?prop_o .
        ?prop_s sh:in ?list .
        ?list rdf:rest* ?elt .
        ?elt rdf:rest ?rest .
        ?elt rdf:first ?val .
        FILTER(?node_o = ?prop_s)
      }
    }
  }`}function SDe(t,e){console.log(t);let n="select distinct ?instance from <http://default.com/> { ?instance a <http://example.org/Resource> } order by ?instance";if(typeof t=="string"){const r=new Xu.Parser;t=r.parse(t);const a=r.parse(n);console.log(a)}return console.log(t),t.type==="query"?t.from={default:[Cr.namedNode(e)],named:[]}:t.type==="update"&&(t.with=Cr.namedNode(e)),t}const Wu=PI("rdf",()=>{const t=Wg(!1),e=Wg(null);async function n(l){let c,d="";console.log(`send query: ${l}`),typeof l=="string"?(d=l,c=[lo().graph_iri]):typeof l=="object"?(d=l.query,l.defaultGraph==="quads"?c=void 0:l.defaultGraph!==void 0?c=l.defaultGraph:c=[lo().graph_iri]):(console.error("can't process query"),console.error(l)),c!==void 0&&(console.log(`inject graph: ${c}`),d=SDe(d,c));const f=new Xu.Generator;let h;return typeof d!="string"?h=f.stringify(d):h=d,e.value.query(h)}async function r(l,c){c===void 0&&(c=[lo().graph_iri]);let d="";for(const m of c)d+=`from <${m}>`;const f=`construct {<${l}> ?p ?o} ${d} where {<${l}> ?p ?o}`,h=await e.value.query_quads(f),p=Cr.namedNode(c[0]);return Dt.Readable.from(h).pipe(new A2(p))}function a(){e.value.push!==void 0&&e.value.push().then(function(l){console.log(l)})}function s(){e.value.pull!==void 0&&e.value.pull().then(function(l){console.log(l)})}async function o(l){let c=l.deleteArray,d=l.insertArray;const f=[];if(l.graphIri!==void 0){const p=Cr.namedNode(l.graphIri);c&&c.length>0&&(c=await Dt.Readable.from(c).pipe(new A2(p)).toArray()),d&&d.length>0&&(d=await Dt.Readable.from(d).pipe(new A2(p)).toArray())}c&&c.length>0&&f.push(Lbe(c).toString()),d&&d.length>0&&f.push(jbe(d).toString());const h=f.join(";");return e.value.update(h)}async function u(l){console.log("Loading "),console.log("Change SPARQL Endpoint configuration."),console.log(l);const c=await lNe.create(l);e.value=c[0],t.value=!0}return console.log("configuration is"),console.log(Iv),u(Iv),{ready:t,sparqlEndpoint:e,sendQuery:n,getResource:r,push:a,pull:s,deleteInsertData:o,updateEndpointConfiguration:u}}),fb=(t,e)=>{const n=t.__vccOpts||t;for(const[r,a]of e)n[r]=a;return n},TDe={name:"SparqlConnection",setup(){const t=Wu(),e=lo();return{store:t,selection:e}},data(){return{configure_endpoint_modal:null,endpoint_type:"quit",query_url:"",update_url:"",quit_url:""}},mounted(){this.configure_endpoint_modal=new po(this.$refs.configure_endpoint),this.$refs.configure_endpoint.addEventListener("show.bs.modal",t=>{this.get_endpoint_configuration()})},computed:{...Xv(Wu,{store_ready:t=>t.ready}),store_capability:{get(){return this.store.sparqlEndpoint.capability}},graph_iri:{get(){return this.selection.graph_iri},set(t){this.store.changeGraphIri(t)}},resource_iri:{get(){return this.selection.resource_iri},set(t){this.selection.changeResourceIri(t)}}},methods:{push(){this.store.push()},pull(){this.store.pull()},get_endpoint_configuration(){const t=this.store.sparqlEndpoint;this.quit_url="",this.query_url="",this.update_url="",this.endpoint_type=t.type,t.type==="quit"?this.quit_url=t.quitUrl:t.type==="query_only"?this.query_url=t.queryUrl:t.type==="query_update"&&(this.query_url=t.queryUrl,this.update_url=t.updateUrl)},configure_endpoint(){const t={};if(this.endpoint_type==="quit"&&this.quit_url)t.quit_url=this.quit_url;else{if(!this.query_url){console.error("Not even a query_url is given. Not chaning the endpoint configuration.");return}t.query_url=this.query_url,this.update_url&&(t.update_url=this.update_url)}this.store.updateEndpointConfiguration(t)}}},EDe={key:0,inline:"",class:"col-12"},ADe={class:"btn-group col-1 mb-2 mr-sm-2 mb-sm-0",role:"group"},ODe=ot("i",{class:"bi bi-gear"},null,-1),RDe=[ODe],xDe=ot("i",{class:"bi bi-cloud-upload"},null,-1),IDe=[xDe],PDe=ot("i",{class:"bi bi-cloud-download"},null,-1),NDe=[PDe],DDe=ot("label",{for:"select_url",class:"col-1 mr-sm-2"},"Graph IRI",-1),CDe=ot("label",{for:"select_url",class:"col-1 mr-sm-2"},"Resource IRI",-1),LDe={class:"modal fade",ref:"configure_endpoint",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static",size:"lg"},jDe={class:"modal-dialog modal-lg"},MDe={class:"modal-content"},FDe={class:"modal-header"},qDe=ot("h5",{class:"modal-title"},"Configure Endpoint",-1),BDe={class:"modal-body"},$De={class:"form-group",label:"Endpoint Type"},UDe=ot("label",{class:"form-check-label",for:"query_only"},"Query only",-1),kDe=ot("label",{class:"form-check-label",for:"query_update"},"Query & Update",-1),VDe=ot("label",{class:"form-check-label",for:"quit"},"Quit Store",-1),HDe={key:0,class:"form-group"},QDe=ot("label",{for:"quit_url"},"Quit URL",-1),zDe={key:1,class:"form-group"},GDe=ot("label",{for:"query_url"},"Query URL",-1),WDe={key:2,class:"form-group"},KDe=ot("label",{for:"update_url"},"Update URL",-1),JDe={class:"modal-footer"};function XDe(t,e,n,r,a,s){return ar(),hr(Rn,null,[t.store_ready?(ar(),hr("form",EDe,[ot("div",ADe,[ot("button",{type:"button",class:"btn btn-outline-secondary mb-0",onClick:e[0]||(e[0]=o=>a.configure_endpoint_modal.show()),title:"Configure Endpoint","aria-label":"Configure Endpoint"},RDe),s.store_capability.quit?(ar(),hr("button",{key:0,type:"button",class:"btn btn-outline-secondary mb-0",onClick:e[1]||(e[1]=o=>s.push()),title:"Push To Remote Repository","aria-label":"Push To Remote Repository"},IDe)):ta("",!0),s.store_capability.quit?(ar(),hr("button",{key:1,type:"button",class:"btn btn-outline-secondary mb-0",onClick:e[2]||(e[2]=o=>s.pull()),title:"Pull From Remote Repository","aria-label":"Pull From Remote Repository"},NDe)):ta("",!0)]),DDe,Pi(ot("input",{type:"text",class:"form-control col-2",id:"graph_iri","onUpdate:modelValue":e[3]||(e[3]=o=>s.graph_iri=o)},null,512),[[ps,s.graph_iri]]),CDe,Pi(ot("input",{type:"text",class:"form-control col-6",id:"resource_iri","onUpdate:modelValue":e[4]||(e[4]=o=>s.resource_iri=o)},null,512),[[ps,s.resource_iri]])])):ta("",!0),ot("div",LDe,[ot("div",jDe,[ot("div",MDe,[ot("div",FDe,[qDe,ot("button",{type:"button",class:"btn-close",onClick:e[5]||(e[5]=o=>a.configure_endpoint_modal.hide()),"aria-label":"Close"})]),ot("div",BDe,[ot("form",null,[ot("div",$De,[Pi(ot("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":e[6]||(e[6]=o=>a.endpoint_type=o),id:"query_only",value:"query_only"},null,512),[[r2,a.endpoint_type]]),UDe,Pi(ot("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":e[7]||(e[7]=o=>a.endpoint_type=o),id:"query_update",value:"query_update"},null,512),[[r2,a.endpoint_type]]),kDe,Pi(ot("input",{class:"form-check-input",type:"radio",name:"endpoint_type","onUpdate:modelValue":e[8]||(e[8]=o=>a.endpoint_type=o),id:"quit",value:"quit"},null,512),[[r2,a.endpoint_type]]),VDe]),a.endpoint_type=="quit"?(ar(),hr("div",HDe,[QDe,ot("div",null,[Pi(ot("input",{type:"text",class:"form-control",id:"quit_url","onUpdate:modelValue":e[9]||(e[9]=o=>a.quit_url=o),placeholder:"http://your.quit.store.org/"},null,512),[[ps,a.quit_url]])])])):ta("",!0),a.endpoint_type=="query_only"||a.endpoint_type=="query_update"?(ar(),hr("div",zDe,[GDe,ot("div",null,[Pi(ot("input",{type:"text",class:"form-control",id:"query_url","onUpdate:modelValue":e[10]||(e[10]=o=>a.query_url=o),placeholder:"http://your.sparql.store.org/query"},null,512),[[ps,a.query_url]])])])):ta("",!0),a.endpoint_type=="query_update"?(ar(),hr("div",WDe,[KDe,ot("div",null,[Pi(ot("input",{type:"text",class:"form-control",id:"update_url","onUpdate:modelValue":e[11]||(e[11]=o=>a.update_url=o),placeholder:"http://your.sparql.store.org/update"},null,512),[[ps,a.update_url]])])])):ta("",!0)])]),ot("div",JDe,[ot("button",{type:"button",class:"btn btn-secondary",onClick:e[12]||(e[12]=o=>a.configure_endpoint_modal.hide())},"Close"),ot("button",{type:"button",class:"btn btn-primary",onClick:e[13]||(e[13]=o=>{s.configure_endpoint(),a.configure_endpoint_modal.hide()})},"Save changes")])])])],512)],64)}const YDe=fb(TDe,[["render",XDe]]),ZDe=PI("prefixes",{state:()=>({prefixes:{ex:Cr.namedNode("http://example.org/"),exc:Cr.namedNode("http://example.org/classes#"),exp:Cr.namedNode("http://example.org/properties#"),rdf:Cr.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),rdfs:Cr.namedNode("http://www.w3.org/2000/01/rdf-schema#"),xsd:Cr.namedNode("http://www.w3.org/2001/XMLSchema#"),foaf:Cr.namedNode("http://xmlns.com/foaf/0.1/"),sh:Cr.namedNode("http://www.w3.org/ns/shacl#")}}),getters:{namespace_prefix_map:t=>{const e={};return Object.keys(t.prefixes).forEach(n=>{e[t.prefixes[n].value]=n}),e},prefixes_flat:t=>{const e={};return Object.keys(t.prefixes).forEach(n=>{e[n]=t.prefixes[n].value}),e}},actions:{setPrefix(t,e){this.prefixes[t]=Cr.namedNode(e)},resolvePrefix(t){return this.prefixes[t]},getPrefix(t){return this.namespace_prefix_map[t]},shortenIri(t){const e=new URL(t);let n=e.toString(),r="";if(e.hash){const a=n.lastIndexOf("#");r=n.substr(0,a+1),n=e.hash.substr(1)}else if(e.pathname){const a=n.lastIndexOf("/");r=n.substr(0,a+1),n=n.substr(a+1)}return this.namespace_prefix_map[r]&&n.indexOf("#")<0&&n.indexOf(":")<0&&n.indexOf("/")<0?`${this.namespace_prefix_map[r]}:${n}`:e.toString()}}}),eCe={name:"QueryResultList",setup(){const t=Wu(),e=lo();return{store:t,selection:e}},mounted(){this.updateList()},props:{title:String,query:String,queryQuads:{type:Boolean,default:!1},search:{type:Boolean,default:!1},selectVariable:{type:String,default:"resourceIri"},itemClass:String,add:Function,selectResource:Function,addTitle:String,activeResource:String},watch:{query(t){this.updateList()}},data(){return{resources:[],filter:""}},computed:{resourcesFiltered(){return this.filter?this.resources.filter(t=>t.toLowerCase().includes(this.filter.toLowerCase())):this.resources}},methods:{select(t){this.selectResource?this.selectResource(t):this.selection.changeResourceIri(t)},async updateList(){let t;this.queryQuads&&(t="quads");const e=await this.store.sendQuery({query:this.query,defaultGraph:t});if(e.resultType==="bindings"){const n=await e.execute();this.resources=[];for await(const r of n)this.resources.push(r.get(this.selectVariable).value)}},shortenIri(t){return ZDe().shortenIri(t)}}},QY=t=>(tae("data-v-1bcf102c"),t=t(),rae(),t),tCe={class:"card"},rCe={class:"card-header d-flex justify-content-between align-items-center"},nCe={class:"row row-cols-lg-auto g-3 align-items-center"},iCe={class:"col-12"},aCe={class:"mb-0"},sCe={class:"col-12"},oCe={class:"input-group mb-3"},uCe=QY(()=>ot("i",{class:"bi bi-arrow-repeat"},null,-1)),cCe=[uCe],lCe=["title","aria-label"],dCe=QY(()=>ot("i",{class:"bi bi-plus-square"},null,-1)),fCe=[dCe],hCe={class:"list-group list-group-flush"},pCe=["for","title","onClick"];function yCe(t,e,n,r,a,s){return ar(),hr("div",tCe,[ot("div",rCe,[ot("div",nCe,[ot("div",iCe,[ot("h6",aCe,ZD(n.title),1)]),ot("div",sCe,[ot("div",oCe,[n.search?Pi((ar(),hr("input",{key:0,type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>a.filter=o),placeholder:"Search "},null,512)),[[ps,a.filter]]):ta("",!0),ot("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=(...o)=>s.updateList&&s.updateList(...o)),title:"Reload","aria-label":"Reload"},cCe),n.add?(ar(),hr("button",{key:1,type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=(...o)=>n.add&&n.add(...o)),title:n.addTitle,"aria-label":n.addTitle},fCe,8,lCe)):ta("",!0)])])])]),ot("ul",hCe,[(ar(!0),hr(Rn,null,Eae(s.resourcesFiltered,(o,u)=>(ar(),hr("li",{class:ul(["list-group-item",[{active:o==n.activeResource},n.itemClass]]),key:u,href:"#",for:"form-control"+u,title:o,onClick:l=>s.select(o)},ZD(s.shortenIri(o)),11,pCe))),128))])])}const GN=fb(eCe,[["render",yCe],["__scopeId","data-v-1bcf102c"]]),mCe={name:"TermInput",mounted(){this.updateNode()},watch:{term(t){this.updateNode()}},data(){return{dynamicNodetype:"iri",literalType:"language",idValue:"",language:"de",datatype:"http://www.w3.org/2001/XMLSchema#string",node:{}}},props:{type:String,id:String,term:Object},computed:{nodeType:{get:function(){return this.type?this.type:this.dynamicNodetype},set:function(t){this.dynamicNodetype=t}}},methods:{setType(t){this.nodeType=t,this.notify()},setLiteralType(t){this.literalType=t,this.notify()},notify(){this.updateTerm()},updateTerm(){this.dynamicNodetype==="iri"?this.node=Cr.namedNode(this.idValue):this.literalType==="language"?this.node=Cr.literal(this.idValue,this.language):this.node=Cr.literal(this.idValue,Cr.namedNode(this.datatype)),this.$emit("update:term",this.node)},updateNode(){this.term!=null&&(this.node=this.term,this.term.termType==="NamedNode"?this.dynamicNodetype="iri":this.term.termType==="Literal"&&(this.dynamicNodetype="literal",this.term.language?(this.language=this.term.language,this.literalType="language"):(this.datatype=this.term.datatype.value,this.literalType="datatype")),this.idValue=this.term.value)}}},gCe={class:"input-group"},_Ce={key:1,class:"input-group-text"},bCe={key:2,class:"input-group-text"},vCe=["id"],wCe={key:3,class:"input-group-text"},SCe=["id"],TCe=["id"],ECe=ot("span",{class:"input-group-text"},">",-1);function ACe(t,e,n,r,a,s){return ar(),hr("div",gCe,[n.type===void 0?(ar(),hr(Rn,{key:0},[ot("button",{onClick:e[0]||(e[0]=o=>s.setType("iri")),class:ul(["btn btn-outline-secondary",{active:s.nodeType=="iri"}]),type:"button"},"IRI",2),ot("button",{onClick:e[1]||(e[1]=o=>s.setType("literal")),class:ul(["btn btn-outline-secondary",{active:s.nodeType=="literal"}]),type:"button"},"Lit",2)],64)):ta("",!0),s.nodeType==="iri"?(ar(),hr("span",_Ce,"<")):s.nodeType==="literal"?(ar(),hr("span",bCe,'"')):ta("",!0),Pi(ot("input",{id:"value-"+this.id,"onUpdate:modelValue":e[2]||(e[2]=o=>a.idValue=o),onInput:e[3]||(e[3]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,vCe),[[ps,a.idValue]]),s.nodeType==="iri"?(ar(),hr("span",wCe,">")):s.nodeType==="literal"&&a.literalType==="language"?(ar(),hr(Rn,{key:4},[ot("span",{onClick:e[4]||(e[4]=o=>s.setLiteralType("datatype")),class:"input-group-text btn btn-outline-secondary"},'"@'),Pi(ot("input",{id:"language-"+this.id,"onUpdate:modelValue":e[5]||(e[5]=o=>a.language=o),onInput:e[6]||(e[6]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,SCe),[[ps,a.language]])],64)):s.nodeType==="literal"&&a.literalType==="datatype"?(ar(),hr(Rn,{key:5},[ot("span",{onClick:e[7]||(e[7]=o=>s.setLiteralType("language")),class:"input-group-text btn btn-outline-secondary"},'"^^<'),Pi(ot("input",{id:"datatype-"+this.id,"onUpdate:modelValue":e[8]||(e[8]=o=>a.datatype=o),onInput:e[9]||(e[9]=(...o)=>s.notify&&s.notify(...o)),type:"text",class:"form-control"},null,40,TCe),[[ps,a.datatype]]),ECe],64)):ta("",!0)])}const OCe=fb(mCe,[["render",ACe]]),RCe={name:"GraphList",setup(){const t=Wu(),e=lo();return{store:t,selection:e}},components:{TermInput:OCe,QueryResultList:GN},data(){return{graphs:[],new_graph_iri:Cr.namedNode(""),add_graph_modal:null}},mounted(){this.add_graph_modal=new po(this.$refs.add_graph)},computed:{...Xv(lo,["graph_iri"])},methods:{select(t){this.selection.changeGraphIri(t),this.selection.changeResourceIri(t)},async add_graph(){const t=[Cr.quad(this.new_graph_iri,Cr.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),Cr.namedNode("http://www.w3.org/2000/01/rdf-schema#Graph"))];console.log(this.new_graph_iri);try{await this.store.deleteInsertData({insertArray:t,graphIri:this.new_graph_iri.value}),this.add_graph_modal.hide()}catch(e){console.error(e)}}}},xCe={class:"modal fade",ref:"add_graph",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static",size:"lg"},ICe={class:"modal-dialog modal-lg"},PCe={class:"modal-content"},NCe={class:"modal-header"},DCe=ot("h5",{class:"modal-title"},"Create New Graph",-1),CCe={class:"modal-body"},LCe={class:"form-group"},jCe=ot("label",{for:"new_graph_iri"},"IRI",-1),MCe={class:"modal-footer"};function FCe(t,e,n,r,a,s){const o=cC("QueryResultList"),u=cC("TermInput");return ar(),hr("div",null,[Wt(o,{title:"Graph List",search:"",query:"select distinct ?graph { graph ?graph {?s ?p ?o}} order by ?graph","query-quads":"","select-variable":"graph",ref:"classList",add:()=>{a.add_graph_modal.show()},selectResource:l=>{s.select(l)},activeResource:t.graph_iri},null,8,["add","selectResource","activeResource"]),ot("div",xCe,[ot("div",ICe,[ot("div",PCe,[ot("div",NCe,[DCe,ot("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=l=>a.add_graph_modal.hide()),"aria-label":"Close"})]),ot("div",CCe,[ot("form",null,[ot("div",LCe,[jCe,ot("div",null,[Wt(u,{type:"iri",id:"new_graph_iri",term:a.new_graph_iri,"onUpdate:term":e[1]||(e[1]=l=>a.new_graph_iri=l)},null,8,["term"])])])])]),ot("div",MCe,[ot("button",{type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=l=>a.add_graph_modal.hide())},"Close"),ot("button",{type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=l=>s.add_graph())},"Save changes")])])])],512)])}const qCe=fb(RCe,[["render",FCe]]),BCe={name:"ClassList",components:{QueryResultList:GN},watch:{graph_iri(t){console.log("graph_iri changed"+t),this.$refs.classList.updateList()}},computed:{...Xv(lo,["graph_iri","resource_iri"])}},$Ce=Object.assign(BCe,{setup(t){return(e,n)=>(ar(),RI(GN,{title:"Class List",search:"",query:"select distinct ?class { {?s a ?class} union {?class a <http://www.w3.org/2000/01/rdf-schema#Class>} union {?class a <http://www.w3.org/2002/07/owl#Class>} } order by ?class","select-variable":"class",ref:"classList",activeResource:e.resource_iri},null,8,["activeResource"]))}}),eH={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((t,e)=>(t[e.id]=e)&&t,{})}},methods:{updatePaneComponents(){this.panes.forEach(t=>{t.update&&t.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[t.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(t,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(t){this.touch.mouseDown&&(t.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(t)),this.$emit("resize",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(t=>({min:t.min,max:t.max,size:t.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(t,e){"ontouchstart"in window&&(t.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(t,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(t,e){let n=0;this.panes=this.panes.map((r,a)=>(r.size=a===e?r.max:r.min,a!==e&&(n+=r.min),r)),this.panes[e].size-=n,this.$emit("pane-maximize",this.panes[e]),this.$emit("resized",this.panes.map(r=>({min:r.min,max:r.max,size:r.size})))},onPaneClick(t,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(t){const e=this.container.getBoundingClientRect(),{clientX:n,clientY:r}="ontouchstart"in window&&t.touches?t.touches[0]:t;return{x:n-e.left,y:r-e.top}},getCurrentDragPercentage(t){t=t[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(t=e-t),t*100/e},calculatePanesSize(t){const e=this.touch.activeSplitter;let n={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const r=0+(this.pushOtherPanes?0:n.prevPanesSize),a=100-(this.pushOtherPanes?0:n.nextPanesSize),s=Math.max(Math.min(this.getCurrentDragPercentage(t),a),r);let o=[e,e+1],u=this.panes[o[0]]||null,l=this.panes[o[1]]||null;const c=u.max<100&&s>=u.max+n.prevPanesSize,d=l.max<100&&s<=100-(l.max+this.sumNextPanesSize(e+1));if(c||d){c?(u.size=u.max,l.size=Math.max(100-u.max-n.prevPanesSize-n.nextPanesSize,0)):(u.size=Math.max(100-l.max-n.prevPanesSize-this.sumNextPanesSize(e+1),0),l.size=l.max);return}if(this.pushOtherPanes){const f=this.doPushOtherPanes(n,s);if(!f)return;({sums:n,panesToResize:o}=f),u=this.panes[o[0]]||null,l=this.panes[o[1]]||null}u!==null&&(u.size=Math.min(Math.max(s-n.prevPanesSize-n.prevReachedMinPanes,u.min),u.max)),l!==null&&(l.size=Math.min(Math.max(100-s-n.nextPanesSize-n.nextReachedMinPanes,l.min),l.max))},doPushOtherPanes(t,e){const n=this.touch.activeSplitter,r=[n,n+1];return e<t.prevPanesSize+this.panes[r[0]].min&&(r[0]=this.findPrevExpandedPane(n).index,t.prevReachedMinPanes=0,r[0]<n&&this.panes.forEach((a,s)=>{s>r[0]&&s<=n&&(a.size=a.min,t.prevReachedMinPanes+=a.min)}),t.prevPanesSize=this.sumPrevPanesSize(r[0]),r[0]===void 0)?(t.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((a,s)=>{s>0&&s<=n&&(a.size=a.min,t.prevReachedMinPanes+=a.min)}),this.panes[r[1]].size=100-t.prevReachedMinPanes-this.panes[0].min-t.prevPanesSize-t.nextPanesSize,null):e>100-t.nextPanesSize-this.panes[r[1]].min&&(r[1]=this.findNextExpandedPane(n).index,t.nextReachedMinPanes=0,r[1]>n+1&&this.panes.forEach((a,s)=>{s>n&&s<r[1]&&(a.size=a.min,t.nextReachedMinPanes+=a.min)}),t.nextPanesSize=this.sumNextPanesSize(r[1]-1),r[1]===void 0)?(t.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((a,s)=>{s<this.panesCount-1&&s>=n+1&&(a.size=a.min,t.nextReachedMinPanes+=a.min)}),this.panes[r[0]].size=100-t.prevPanesSize-t.nextReachedMinPanes-this.panes[this.panesCount-1].min-t.nextPanesSize,null):{sums:t,panesToResize:r}},sumPrevPanesSize(t){return this.panes.reduce((e,n,r)=>e+(r<t?n.size:0),0)},sumNextPanesSize(t){return this.panes.reduce((e,n,r)=>e+(r>t+1?n.size:0),0)},findPrevExpandedPane(t){return[...this.panes].reverse().find(e=>e.index<t&&e.size>e.min)||{}},findNextExpandedPane(t){return this.panes.find(e=>e.index>t+1&&e.size>e.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(t=>{const e=t.classList.contains("splitpanes__pane"),n=t.classList.contains("splitpanes__splitter");!e&&!n&&(t.parentNode.removeChild(t),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(t,e,n=!1){const r=t-1,a=document.createElement("div");a.classList.add("splitpanes__splitter"),n||(a.onmousedown=s=>this.onMouseDown(s,r),typeof window<"u"&&"ontouchstart"in window&&(a.ontouchstart=s=>this.onMouseDown(s,r)),a.onclick=s=>this.onSplitterClick(s,r+1)),this.dblClickSplitter&&(a.ondblclick=s=>this.onSplitterDblClick(s,r+1)),e.parentNode.insertBefore(a,e)},removeSplitter(t){t.onmousedown=void 0,t.onclick=void 0,t.ondblclick=void 0,t.parentNode.removeChild(t)},redoSplitters(){const t=Array.from(this.container.children);t.forEach(n=>{n.className.includes("splitpanes__splitter")&&this.removeSplitter(n)});let e=0;t.forEach(n=>{n.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,n,!0):e&&this.addSplitter(e,n),e++)})},requestUpdate({target:t,...e}){const n=this.indexedPanes[t._.uid];Object.entries(e).forEach(([r,a])=>n[r]=a)},onPaneAdd(t){let e=-1;Array.from(t.$el.parentNode.children).some(a=>(a.className.includes("splitpanes__pane")&&e++,a===t.$el));const n=parseFloat(t.minSize),r=parseFloat(t.maxSize);this.panes.splice(e,0,{id:t._.uid,index:e,min:isNaN(n)?0:n,max:isNaN(r)?100:r,size:t.size===null?null:parseFloat(t.size),givenSize:t.size,update:t.update}),this.panes.forEach((a,s)=>a.index=s),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map(a=>({min:a.min,max:a.max,size:a.size}))})})},onPaneRemove(t){const e=this.panes.findIndex(r=>r.id===t._.uid),n=this.panes.splice(e,1)[0];this.panes.forEach((r,a)=>r.index=a),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...n,index:e}}),this.$emit("pane-remove",{removed:n,panes:this.panes.map(r=>({min:r.min,max:r.max,size:r.size}))})})},resetPaneSizes(t={}){!t.addedPane&&!t.removedPane?this.initialPanesSizing():this.panes.some(e=>e.givenSize!==null||e.min||e.max<100)?this.equalizeAfterAddOrRemove(t):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size})))},equalize(){const t=100/this.panesCount;let e=0;const n=[],r=[];this.panes.forEach(a=>{a.size=Math.max(Math.min(t,a.max),a.min),e-=a.size,a.size>=a.max&&n.push(a.id),a.size<=a.min&&r.push(a.id)}),e>.1&&this.readjustSizes(e,n,r)},initialPanesSizing(){let t=100;const e=[],n=[];let r=0;this.panes.forEach(s=>{t-=s.size,s.size!==null&&r++,s.size>=s.max&&e.push(s.id),s.size<=s.min&&n.push(s.id)});let a=100;t>.1&&(this.panes.forEach(s=>{s.size===null&&(s.size=Math.max(Math.min(t/(this.panesCount-r),s.max),s.min)),a-=s.size}),a>.1&&this.readjustSizes(t,e,n))},equalizeAfterAddOrRemove({addedPane:t,removedPane:e}={}){let n=100/this.panesCount,r=0;const a=[],s=[];t&&t.givenSize!==null&&(n=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach(o=>{r-=o.size,o.size>=o.max&&a.push(o.id),o.size<=o.min&&s.push(o.id)}),!(Math.abs(r)<.1)&&(this.panes.forEach(o=>{t&&t.givenSize!==null&&t.id===o.id||(o.size=Math.max(Math.min(n,o.max),o.min)),r-=o.size,o.size>=o.max&&a.push(o.id),o.size<=o.min&&s.push(o.id)}),r>.1&&this.readjustSizes(r,a,s))},readjustSizes(t,e,n){let r;t>0?r=t/(this.panesCount-e.length):r=t/(this.panesCount-n.length),this.panes.forEach((a,s)=>{if(t>0&&!e.includes(a.id)){const o=Math.max(Math.min(a.size+r,a.max),a.min),u=o-a.size;t-=u,a.size=o}else if(!n.includes(a.id)){const o=Math.max(Math.min(a.size+r,a.max),a.min),u=o-a.size;t-=u,a.size=o}a.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[a.id].size}%`})}),Math.abs(t)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(t){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((e,n)=>{e.ondblclick=t?r=>this.onSplitterDblClick(r,n):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return II("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},UCe=(t,e)=>{const n=t.__vccOpts||t;for(const[r,a]of e)n[r]=a;return n},kCe={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(t){this.style=t}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(t){this.requestUpdate({target:this,size:t})},minSizeNumber(t){this.requestUpdate({target:this,min:t})},maxSizeNumber(t){this.requestUpdate({target:this,max:t})}}};function VCe(t,e,n,r,a,s){return ar(),hr("div",{class:"splitpanes__pane",onClick:e[0]||(e[0]=o=>s.onPaneClick(o,t._.uid)),style:Uv(t.style)},[Aae(t.$slots,"default")],4)}const T1=UCe(kCe,[["render",VCe]]),HCe={id:"app",class:"container-fluid"},QCe={class:"row connection"},zCe={key:0},GCe={key:1},WCe={key:0,class:"row"},KCe={class:"nav nav-tabs"},JCe={class:"nav-item"},XCe={class:"nav-item"},YCe={class:"nav-item"},ZCe={class:"nav-item"},e4e={class:"nav-item"},t4e={class:"nav-item"},r4e={class:"nav-item"},n4e={key:1},i4e={name:"App",setup(){return{store:Wu()}},computed:{...Xv(Wu,{store_ready:t=>t.ready})}},a4e=Object.assign(i4e,{setup(t){return(e,n)=>(ar(),hr("div",HCe,[ot("div",QCe,[e.store_ready?(ar(),hr("div",zCe," Store is ready")):(ar(),hr("div",GCe," Loading")),Wt(YDe)]),e.store_ready?(ar(),hr("div",WCe,[Wt(zr(eH),{class:"default-theme"},{default:ai(()=>[Wt(zr(T1),{size:"30"},{default:ai(()=>[Wt(zr(eH),{horizontal:"",style:{height:"80vh"}},{default:ai(()=>[Wt(zr(T1),{size:"30"},{default:ai(()=>[Wt(qCe)]),_:1}),Wt(zr(T1),{size:"70"},{default:ai(()=>[Wt($Ce)]),_:1})]),_:1})]),_:1}),Wt(zr(T1),{size:"90"},{default:ai(()=>[ot("ul",KCe,[ot("li",JCe,[Wt(zr(Ws),{class:"nav-link","active-class":"active",to:"/dashboard"},{default:ai(()=>[zs("Home")]),_:1})]),ot("li",XCe,[Wt(zr(Ws),{class:"nav-link","active-class":"active",to:"/instances"},{default:ai(()=>[zs("Instances")]),_:1})]),ot("li",YCe,[Wt(zr(Ws),{class:"nav-link","active-class":"active",to:"/voc"},{default:ai(()=>[zs("Vocabulary")]),_:1})]),ot("li",ZCe,[Wt(zr(Ws),{class:"nav-link","active-class":"active",to:"/edit"},{default:ai(()=>[zs("Edit")]),_:1})]),ot("li",e4e,[Wt(zr(Ws),{class:"nav-link","active-class":"active",to:"/form"},{default:ai(()=>[zs("Form")]),_:1})]),ot("li",t4e,[Wt(zr(Ws),{class:"nav-link","active-class":"active",to:"/add"},{default:ai(()=>[zs("Add")]),_:1})]),ot("li",r4e,[Wt(zr(Ws),{class:"nav-link","active-class":"active",to:"/source"},{default:ai(()=>[zs("Source")]),_:1})])]),Wt(zr(Sz))]),_:1})]),_:1})])):(ar(),hr("div",n4e," Waiting for Store to be configured  "))]))}}),s4e=fb(a4e,[["__scopeId","data-v-d302792b"]]),o4e="modulepreload",u4e=function(t){return"/ontopad/pad/"+t},tH={},Qs=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.all(n.map(l=>{if(l=u4e(l),l in tH)return;tH[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const m=s[p];if(m.href===l&&(!c||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":o4e,c||(h.as="script",h.crossOrigin=""),h.href=l,u&&h.setAttribute("nonce",u),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}return a.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},zY=koe({history:boe("/ontopad/pad/"),routes:[{path:"/",redirect:{path:"/dashboard"}},{path:"/about",name:"about",component:()=>Qs(()=>import("./AboutView-DjVXPLLc.js"),[])},{path:"/dashboard",name:"DashboardView",component:()=>Qs(()=>import("./DashboardView-CJW-aeYY.js"),__vite__mapDeps([0,1,2,3]))},{path:"/instances",name:"InstanceList",component:()=>Qs(()=>import("./InstanceList-CsnhUEI9.js"),[])},{path:"/voc",name:"VocPad",component:()=>Qs(()=>import("./VocPad-Dte0gVtT.js"),__vite__mapDeps([4,5]))},{path:"/edit",name:"EditForm",component:()=>Qs(()=>import("./EditForm-C0dprQlF.js"),__vite__mapDeps([6,5]))},{path:"/form",name:"FormDemo",component:()=>Qs(()=>import("./FormDemo-DkbrQF2A.js"),__vite__mapDeps([7,1]))},{path:"/add",name:"InputForm",component:()=>Qs(()=>import("./InputForm-DLm6Rsms.js"),[])},{path:"/source",name:"Source",component:()=>Qs(()=>import("./Source-CQ-HaVhT.js"),__vite__mapDeps([8,5]))}]});zY.beforeEach(t=>{Wu()});const WN=Cse(s4e);WN.use(Fse());WN.use(zY);WN.mount("#app");export{Aae as A,ul as B,zs as C,Pi as D,ps as E,Rn as F,l4e as G,po as H,ZDe as I,h4e as J,d_ as K,Tz as L,eH as M,Es as N,Di as O,N8e as P,GN as Q,D8e as R,nNe as S,OCe as T,I8e as U,oNe as V,P as W,tr as X,fb as _,ot as a,lo as b,hr as c,Wt as d,Eae as e,Cr as f,ta as g,zr as h,T1 as i,rae as j,RI as k,bR as l,Xv as m,$Q as n,ar as o,tae as p,P8e as q,cC as r,d4e as s,ZD as t,Wu as u,Uv as v,ai as w,Wg as x,f4e as y,mae as z};
